var Y5=Object.create;var yh=Object.defineProperty,J5=Object.defineProperties,Q5=Object.getOwnPropertyDescriptor,Z5=Object.getOwnPropertyDescriptors,X5=Object.getOwnPropertyNames,vh=Object.getOwnPropertySymbols,eP=Object.getPrototypeOf,Nv=Object.prototype.hasOwnProperty,Ax=Object.prototype.propertyIsEnumerable;var Dx=(t,e,n)=>e in t?yh(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Ne=(t,e)=>{for(var n in e||={})Nv.call(e,n)&&Dx(t,n,e[n]);if(vh)for(var n of vh(e))Ax.call(e,n)&&Dx(t,n,e[n]);return t},kt=(t,e)=>J5(t,Z5(e));var Mx=(t=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(t,{get:(e,n)=>(typeof require<"u"?require:e)[n]}):t)(function(t){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+t+'" is not supported')});var Hl=(t,e)=>{var n={};for(var r in t)Nv.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&vh)for(var r of vh(t))e.indexOf(r)<0&&Ax.call(t,r)&&(n[r]=t[r]);return n};var Wa=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),tP=(t,e)=>{for(var n in e)yh(t,n,{get:e[n],enumerable:!0})},nP=(t,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of X5(e))!Nv.call(t,i)&&i!==n&&yh(t,i,{get:()=>e[i],enumerable:!(r=Q5(e,i))||r.enumerable});return t};var Wl=(t,e,n)=>(n=t!=null?Y5(eP(t)):{},nP(e||!t||!t.__esModule?yh(n,"default",{value:t,enumerable:!0}):n,t));var Wt=(t,e,n)=>new Promise((r,i)=>{var o=l=>{try{a(n.next(l))}catch(c){i(c)}},s=l=>{try{a(n.throw(l))}catch(c){i(c)}},a=l=>l.done?r(l.value):Promise.resolve(l.value).then(o,s);a((n=n.apply(t,e)).next())});var uM=Wa((cM,Q0)=>{"use strict";(function(t,e){"use strict";typeof Q0<"u"&&Q0.exports?Q0.exports=e():(t.nacl||(t.nacl={}),t.nacl.util=e())})(cM,function(){"use strict";var t={};function e(n){if(!/^(?:[A-Za-z0-9+\/]{2}[A-Za-z0-9+\/]{2})*(?:[A-Za-z0-9+\/]{2}==|[A-Za-z0-9+\/]{3}=)?$/.test(n))throw new TypeError("invalid encoding")}return t.decodeUTF8=function(n){if(typeof n!="string")throw new TypeError("expected string");var r,i=unescape(encodeURIComponent(n)),o=new Uint8Array(i.length);for(r=0;r<i.length;r++)o[r]=i.charCodeAt(r);return o},t.encodeUTF8=function(n){var r,i=[];for(r=0;r<n.length;r++)i.push(String.fromCharCode(n[r]));return decodeURIComponent(escape(i.join("")))},typeof atob>"u"?typeof Buffer.from<"u"?(t.encodeBase64=function(n){return Buffer.from(n).toString("base64")},t.decodeBase64=function(n){return e(n),new Uint8Array(Array.prototype.slice.call(Buffer.from(n,"base64"),0))}):(t.encodeBase64=function(n){return new Buffer(n).toString("base64")},t.decodeBase64=function(n){return e(n),new Uint8Array(Array.prototype.slice.call(new Buffer(n,"base64"),0))}):(t.encodeBase64=function(n){var r,i=[],o=n.length;for(r=0;r<o;r++)i.push(String.fromCharCode(n[r]));return btoa(i.join(""))},t.decodeBase64=function(n){e(n);var r,i=atob(n),o=new Uint8Array(i.length);for(r=0;r<i.length;r++)o[r]=i.charCodeAt(r);return o}),t})});var fM=Wa(()=>{"use strict"});var dM=Wa((k3e,Z0)=>{"use strict";(function(t){"use strict";var e=function(M){var U,j=new Float64Array(16);if(M)for(U=0;U<M.length;U++)j[U]=M[U];return j},n=function(){throw new Error("no PRNG")},r=new Uint8Array(16),i=new Uint8Array(32);i[0]=9;var o=e(),s=e([1]),a=e([56129,1]),l=e([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),c=e([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),u=e([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),f=e([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),d=e([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function h(M,U,j,w){M[U]=j>>24&255,M[U+1]=j>>16&255,M[U+2]=j>>8&255,M[U+3]=j&255,M[U+4]=w>>24&255,M[U+5]=w>>16&255,M[U+6]=w>>8&255,M[U+7]=w&255}function m(M,U,j,w,W){var le,pe=0;for(le=0;le<W;le++)pe|=M[U+le]^j[w+le];return(1&pe-1>>>8)-1}function v(M,U,j,w){return m(M,U,j,w,16)}function P(M,U,j,w){return m(M,U,j,w,32)}function b(M,U,j,w){for(var W=w[0]&255|(w[1]&255)<<8|(w[2]&255)<<16|(w[3]&255)<<24,le=j[0]&255|(j[1]&255)<<8|(j[2]&255)<<16|(j[3]&255)<<24,pe=j[4]&255|(j[5]&255)<<8|(j[6]&255)<<16|(j[7]&255)<<24,Pe=j[8]&255|(j[9]&255)<<8|(j[10]&255)<<16|(j[11]&255)<<24,Ke=j[12]&255|(j[13]&255)<<8|(j[14]&255)<<16|(j[15]&255)<<24,ft=w[4]&255|(w[5]&255)<<8|(w[6]&255)<<16|(w[7]&255)<<24,at=U[0]&255|(U[1]&255)<<8|(U[2]&255)<<16|(U[3]&255)<<24,On=U[4]&255|(U[5]&255)<<8|(U[6]&255)<<16|(U[7]&255)<<24,ht=U[8]&255|(U[9]&255)<<8|(U[10]&255)<<16|(U[11]&255)<<24,jt=U[12]&255|(U[13]&255)<<8|(U[14]&255)<<16|(U[15]&255)<<24,Gt=w[8]&255|(w[9]&255)<<8|(w[10]&255)<<16|(w[11]&255)<<24,Xt=j[16]&255|(j[17]&255)<<8|(j[18]&255)<<16|(j[19]&255)<<24,Kt=j[20]&255|(j[21]&255)<<8|(j[22]&255)<<16|(j[23]&255)<<24,Ht=j[24]&255|(j[25]&255)<<8|(j[26]&255)<<16|(j[27]&255)<<24,qt=j[28]&255|(j[29]&255)<<8|(j[30]&255)<<16|(j[31]&255)<<24,Ut=w[12]&255|(w[13]&255)<<8|(w[14]&255)<<16|(w[15]&255)<<24,me=W,vt=le,it=pe,et=Pe,Ge=Ke,Xe=ft,we=at,Ce=On,je=ht,Re=jt,Fe=Gt,We=Xt,Rt=Kt,rn=Ht,cn=qt,on=Ut,Z,bn=0;bn<20;bn+=2)Z=me+Rt|0,Ge^=Z<<7|Z>>>25,Z=Ge+me|0,je^=Z<<9|Z>>>23,Z=je+Ge|0,Rt^=Z<<13|Z>>>19,Z=Rt+je|0,me^=Z<<18|Z>>>14,Z=Xe+vt|0,Re^=Z<<7|Z>>>25,Z=Re+Xe|0,rn^=Z<<9|Z>>>23,Z=rn+Re|0,vt^=Z<<13|Z>>>19,Z=vt+rn|0,Xe^=Z<<18|Z>>>14,Z=Fe+we|0,cn^=Z<<7|Z>>>25,Z=cn+Fe|0,it^=Z<<9|Z>>>23,Z=it+cn|0,we^=Z<<13|Z>>>19,Z=we+it|0,Fe^=Z<<18|Z>>>14,Z=on+We|0,et^=Z<<7|Z>>>25,Z=et+on|0,Ce^=Z<<9|Z>>>23,Z=Ce+et|0,We^=Z<<13|Z>>>19,Z=We+Ce|0,on^=Z<<18|Z>>>14,Z=me+et|0,vt^=Z<<7|Z>>>25,Z=vt+me|0,it^=Z<<9|Z>>>23,Z=it+vt|0,et^=Z<<13|Z>>>19,Z=et+it|0,me^=Z<<18|Z>>>14,Z=Xe+Ge|0,we^=Z<<7|Z>>>25,Z=we+Xe|0,Ce^=Z<<9|Z>>>23,Z=Ce+we|0,Ge^=Z<<13|Z>>>19,Z=Ge+Ce|0,Xe^=Z<<18|Z>>>14,Z=Fe+Re|0,We^=Z<<7|Z>>>25,Z=We+Fe|0,je^=Z<<9|Z>>>23,Z=je+We|0,Re^=Z<<13|Z>>>19,Z=Re+je|0,Fe^=Z<<18|Z>>>14,Z=on+cn|0,Rt^=Z<<7|Z>>>25,Z=Rt+on|0,rn^=Z<<9|Z>>>23,Z=rn+Rt|0,cn^=Z<<13|Z>>>19,Z=cn+rn|0,on^=Z<<18|Z>>>14;me=me+W|0,vt=vt+le|0,it=it+pe|0,et=et+Pe|0,Ge=Ge+Ke|0,Xe=Xe+ft|0,we=we+at|0,Ce=Ce+On|0,je=je+ht|0,Re=Re+jt|0,Fe=Fe+Gt|0,We=We+Xt|0,Rt=Rt+Kt|0,rn=rn+Ht|0,cn=cn+qt|0,on=on+Ut|0,M[0]=me>>>0&255,M[1]=me>>>8&255,M[2]=me>>>16&255,M[3]=me>>>24&255,M[4]=vt>>>0&255,M[5]=vt>>>8&255,M[6]=vt>>>16&255,M[7]=vt>>>24&255,M[8]=it>>>0&255,M[9]=it>>>8&255,M[10]=it>>>16&255,M[11]=it>>>24&255,M[12]=et>>>0&255,M[13]=et>>>8&255,M[14]=et>>>16&255,M[15]=et>>>24&255,M[16]=Ge>>>0&255,M[17]=Ge>>>8&255,M[18]=Ge>>>16&255,M[19]=Ge>>>24&255,M[20]=Xe>>>0&255,M[21]=Xe>>>8&255,M[22]=Xe>>>16&255,M[23]=Xe>>>24&255,M[24]=we>>>0&255,M[25]=we>>>8&255,M[26]=we>>>16&255,M[27]=we>>>24&255,M[28]=Ce>>>0&255,M[29]=Ce>>>8&255,M[30]=Ce>>>16&255,M[31]=Ce>>>24&255,M[32]=je>>>0&255,M[33]=je>>>8&255,M[34]=je>>>16&255,M[35]=je>>>24&255,M[36]=Re>>>0&255,M[37]=Re>>>8&255,M[38]=Re>>>16&255,M[39]=Re>>>24&255,M[40]=Fe>>>0&255,M[41]=Fe>>>8&255,M[42]=Fe>>>16&255,M[43]=Fe>>>24&255,M[44]=We>>>0&255,M[45]=We>>>8&255,M[46]=We>>>16&255,M[47]=We>>>24&255,M[48]=Rt>>>0&255,M[49]=Rt>>>8&255,M[50]=Rt>>>16&255,M[51]=Rt>>>24&255,M[52]=rn>>>0&255,M[53]=rn>>>8&255,M[54]=rn>>>16&255,M[55]=rn>>>24&255,M[56]=cn>>>0&255,M[57]=cn>>>8&255,M[58]=cn>>>16&255,M[59]=cn>>>24&255,M[60]=on>>>0&255,M[61]=on>>>8&255,M[62]=on>>>16&255,M[63]=on>>>24&255}function x(M,U,j,w){for(var W=w[0]&255|(w[1]&255)<<8|(w[2]&255)<<16|(w[3]&255)<<24,le=j[0]&255|(j[1]&255)<<8|(j[2]&255)<<16|(j[3]&255)<<24,pe=j[4]&255|(j[5]&255)<<8|(j[6]&255)<<16|(j[7]&255)<<24,Pe=j[8]&255|(j[9]&255)<<8|(j[10]&255)<<16|(j[11]&255)<<24,Ke=j[12]&255|(j[13]&255)<<8|(j[14]&255)<<16|(j[15]&255)<<24,ft=w[4]&255|(w[5]&255)<<8|(w[6]&255)<<16|(w[7]&255)<<24,at=U[0]&255|(U[1]&255)<<8|(U[2]&255)<<16|(U[3]&255)<<24,On=U[4]&255|(U[5]&255)<<8|(U[6]&255)<<16|(U[7]&255)<<24,ht=U[8]&255|(U[9]&255)<<8|(U[10]&255)<<16|(U[11]&255)<<24,jt=U[12]&255|(U[13]&255)<<8|(U[14]&255)<<16|(U[15]&255)<<24,Gt=w[8]&255|(w[9]&255)<<8|(w[10]&255)<<16|(w[11]&255)<<24,Xt=j[16]&255|(j[17]&255)<<8|(j[18]&255)<<16|(j[19]&255)<<24,Kt=j[20]&255|(j[21]&255)<<8|(j[22]&255)<<16|(j[23]&255)<<24,Ht=j[24]&255|(j[25]&255)<<8|(j[26]&255)<<16|(j[27]&255)<<24,qt=j[28]&255|(j[29]&255)<<8|(j[30]&255)<<16|(j[31]&255)<<24,Ut=w[12]&255|(w[13]&255)<<8|(w[14]&255)<<16|(w[15]&255)<<24,me=W,vt=le,it=pe,et=Pe,Ge=Ke,Xe=ft,we=at,Ce=On,je=ht,Re=jt,Fe=Gt,We=Xt,Rt=Kt,rn=Ht,cn=qt,on=Ut,Z,bn=0;bn<20;bn+=2)Z=me+Rt|0,Ge^=Z<<7|Z>>>25,Z=Ge+me|0,je^=Z<<9|Z>>>23,Z=je+Ge|0,Rt^=Z<<13|Z>>>19,Z=Rt+je|0,me^=Z<<18|Z>>>14,Z=Xe+vt|0,Re^=Z<<7|Z>>>25,Z=Re+Xe|0,rn^=Z<<9|Z>>>23,Z=rn+Re|0,vt^=Z<<13|Z>>>19,Z=vt+rn|0,Xe^=Z<<18|Z>>>14,Z=Fe+we|0,cn^=Z<<7|Z>>>25,Z=cn+Fe|0,it^=Z<<9|Z>>>23,Z=it+cn|0,we^=Z<<13|Z>>>19,Z=we+it|0,Fe^=Z<<18|Z>>>14,Z=on+We|0,et^=Z<<7|Z>>>25,Z=et+on|0,Ce^=Z<<9|Z>>>23,Z=Ce+et|0,We^=Z<<13|Z>>>19,Z=We+Ce|0,on^=Z<<18|Z>>>14,Z=me+et|0,vt^=Z<<7|Z>>>25,Z=vt+me|0,it^=Z<<9|Z>>>23,Z=it+vt|0,et^=Z<<13|Z>>>19,Z=et+it|0,me^=Z<<18|Z>>>14,Z=Xe+Ge|0,we^=Z<<7|Z>>>25,Z=we+Xe|0,Ce^=Z<<9|Z>>>23,Z=Ce+we|0,Ge^=Z<<13|Z>>>19,Z=Ge+Ce|0,Xe^=Z<<18|Z>>>14,Z=Fe+Re|0,We^=Z<<7|Z>>>25,Z=We+Fe|0,je^=Z<<9|Z>>>23,Z=je+We|0,Re^=Z<<13|Z>>>19,Z=Re+je|0,Fe^=Z<<18|Z>>>14,Z=on+cn|0,Rt^=Z<<7|Z>>>25,Z=Rt+on|0,rn^=Z<<9|Z>>>23,Z=rn+Rt|0,cn^=Z<<13|Z>>>19,Z=cn+rn|0,on^=Z<<18|Z>>>14;M[0]=me>>>0&255,M[1]=me>>>8&255,M[2]=me>>>16&255,M[3]=me>>>24&255,M[4]=Xe>>>0&255,M[5]=Xe>>>8&255,M[6]=Xe>>>16&255,M[7]=Xe>>>24&255,M[8]=Fe>>>0&255,M[9]=Fe>>>8&255,M[10]=Fe>>>16&255,M[11]=Fe>>>24&255,M[12]=on>>>0&255,M[13]=on>>>8&255,M[14]=on>>>16&255,M[15]=on>>>24&255,M[16]=we>>>0&255,M[17]=we>>>8&255,M[18]=we>>>16&255,M[19]=we>>>24&255,M[20]=Ce>>>0&255,M[21]=Ce>>>8&255,M[22]=Ce>>>16&255,M[23]=Ce>>>24&255,M[24]=je>>>0&255,M[25]=je>>>8&255,M[26]=je>>>16&255,M[27]=je>>>24&255,M[28]=Re>>>0&255,M[29]=Re>>>8&255,M[30]=Re>>>16&255,M[31]=Re>>>24&255}function _(M,U,j,w){b(M,U,j,w)}function T(M,U,j,w){x(M,U,j,w)}var k=new Uint8Array([101,120,112,97,110,100,32,51,50,45,98,121,116,101,32,107]);function $(M,U,j,w,W,le,pe){var Pe=new Uint8Array(16),Ke=new Uint8Array(64),ft,at;for(at=0;at<16;at++)Pe[at]=0;for(at=0;at<8;at++)Pe[at]=le[at];for(;W>=64;){for(_(Ke,Pe,pe,k),at=0;at<64;at++)M[U+at]=j[w+at]^Ke[at];for(ft=1,at=8;at<16;at++)ft=ft+(Pe[at]&255)|0,Pe[at]=ft&255,ft>>>=8;W-=64,U+=64,w+=64}if(W>0)for(_(Ke,Pe,pe,k),at=0;at<W;at++)M[U+at]=j[w+at]^Ke[at];return 0}function V(M,U,j,w,W){var le=new Uint8Array(16),pe=new Uint8Array(64),Pe,Ke;for(Ke=0;Ke<16;Ke++)le[Ke]=0;for(Ke=0;Ke<8;Ke++)le[Ke]=w[Ke];for(;j>=64;){for(_(pe,le,W,k),Ke=0;Ke<64;Ke++)M[U+Ke]=pe[Ke];for(Pe=1,Ke=8;Ke<16;Ke++)Pe=Pe+(le[Ke]&255)|0,le[Ke]=Pe&255,Pe>>>=8;j-=64,U+=64}if(j>0)for(_(pe,le,W,k),Ke=0;Ke<j;Ke++)M[U+Ke]=pe[Ke];return 0}function B(M,U,j,w,W){var le=new Uint8Array(32);T(le,w,W,k);for(var pe=new Uint8Array(8),Pe=0;Pe<8;Pe++)pe[Pe]=w[Pe+16];return V(M,U,j,pe,le)}function z(M,U,j,w,W,le,pe){var Pe=new Uint8Array(32);T(Pe,le,pe,k);for(var Ke=new Uint8Array(8),ft=0;ft<8;ft++)Ke[ft]=le[ft+16];return $(M,U,j,w,W,Ke,Pe)}var ie=function(M){this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.leftover=0,this.fin=0;var U,j,w,W,le,pe,Pe,Ke;U=M[0]&255|(M[1]&255)<<8,this.r[0]=U&8191,j=M[2]&255|(M[3]&255)<<8,this.r[1]=(U>>>13|j<<3)&8191,w=M[4]&255|(M[5]&255)<<8,this.r[2]=(j>>>10|w<<6)&7939,W=M[6]&255|(M[7]&255)<<8,this.r[3]=(w>>>7|W<<9)&8191,le=M[8]&255|(M[9]&255)<<8,this.r[4]=(W>>>4|le<<12)&255,this.r[5]=le>>>1&8190,pe=M[10]&255|(M[11]&255)<<8,this.r[6]=(le>>>14|pe<<2)&8191,Pe=M[12]&255|(M[13]&255)<<8,this.r[7]=(pe>>>11|Pe<<5)&8065,Ke=M[14]&255|(M[15]&255)<<8,this.r[8]=(Pe>>>8|Ke<<8)&8191,this.r[9]=Ke>>>5&127,this.pad[0]=M[16]&255|(M[17]&255)<<8,this.pad[1]=M[18]&255|(M[19]&255)<<8,this.pad[2]=M[20]&255|(M[21]&255)<<8,this.pad[3]=M[22]&255|(M[23]&255)<<8,this.pad[4]=M[24]&255|(M[25]&255)<<8,this.pad[5]=M[26]&255|(M[27]&255)<<8,this.pad[6]=M[28]&255|(M[29]&255)<<8,this.pad[7]=M[30]&255|(M[31]&255)<<8};ie.prototype.blocks=function(M,U,j){for(var w=this.fin?0:2048,W,le,pe,Pe,Ke,ft,at,On,ht,jt,Gt,Xt,Kt,Ht,qt,Ut,me,vt,it,et=this.h[0],Ge=this.h[1],Xe=this.h[2],we=this.h[3],Ce=this.h[4],je=this.h[5],Re=this.h[6],Fe=this.h[7],We=this.h[8],Rt=this.h[9],rn=this.r[0],cn=this.r[1],on=this.r[2],Z=this.r[3],bn=this.r[4],Bn=this.r[5],jn=this.r[6],gn=this.r[7],Ln=this.r[8],Vn=this.r[9];j>=16;)W=M[U+0]&255|(M[U+1]&255)<<8,et+=W&8191,le=M[U+2]&255|(M[U+3]&255)<<8,Ge+=(W>>>13|le<<3)&8191,pe=M[U+4]&255|(M[U+5]&255)<<8,Xe+=(le>>>10|pe<<6)&8191,Pe=M[U+6]&255|(M[U+7]&255)<<8,we+=(pe>>>7|Pe<<9)&8191,Ke=M[U+8]&255|(M[U+9]&255)<<8,Ce+=(Pe>>>4|Ke<<12)&8191,je+=Ke>>>1&8191,ft=M[U+10]&255|(M[U+11]&255)<<8,Re+=(Ke>>>14|ft<<2)&8191,at=M[U+12]&255|(M[U+13]&255)<<8,Fe+=(ft>>>11|at<<5)&8191,On=M[U+14]&255|(M[U+15]&255)<<8,We+=(at>>>8|On<<8)&8191,Rt+=On>>>5|w,ht=0,jt=ht,jt+=et*rn,jt+=Ge*(5*Vn),jt+=Xe*(5*Ln),jt+=we*(5*gn),jt+=Ce*(5*jn),ht=jt>>>13,jt&=8191,jt+=je*(5*Bn),jt+=Re*(5*bn),jt+=Fe*(5*Z),jt+=We*(5*on),jt+=Rt*(5*cn),ht+=jt>>>13,jt&=8191,Gt=ht,Gt+=et*cn,Gt+=Ge*rn,Gt+=Xe*(5*Vn),Gt+=we*(5*Ln),Gt+=Ce*(5*gn),ht=Gt>>>13,Gt&=8191,Gt+=je*(5*jn),Gt+=Re*(5*Bn),Gt+=Fe*(5*bn),Gt+=We*(5*Z),Gt+=Rt*(5*on),ht+=Gt>>>13,Gt&=8191,Xt=ht,Xt+=et*on,Xt+=Ge*cn,Xt+=Xe*rn,Xt+=we*(5*Vn),Xt+=Ce*(5*Ln),ht=Xt>>>13,Xt&=8191,Xt+=je*(5*gn),Xt+=Re*(5*jn),Xt+=Fe*(5*Bn),Xt+=We*(5*bn),Xt+=Rt*(5*Z),ht+=Xt>>>13,Xt&=8191,Kt=ht,Kt+=et*Z,Kt+=Ge*on,Kt+=Xe*cn,Kt+=we*rn,Kt+=Ce*(5*Vn),ht=Kt>>>13,Kt&=8191,Kt+=je*(5*Ln),Kt+=Re*(5*gn),Kt+=Fe*(5*jn),Kt+=We*(5*Bn),Kt+=Rt*(5*bn),ht+=Kt>>>13,Kt&=8191,Ht=ht,Ht+=et*bn,Ht+=Ge*Z,Ht+=Xe*on,Ht+=we*cn,Ht+=Ce*rn,ht=Ht>>>13,Ht&=8191,Ht+=je*(5*Vn),Ht+=Re*(5*Ln),Ht+=Fe*(5*gn),Ht+=We*(5*jn),Ht+=Rt*(5*Bn),ht+=Ht>>>13,Ht&=8191,qt=ht,qt+=et*Bn,qt+=Ge*bn,qt+=Xe*Z,qt+=we*on,qt+=Ce*cn,ht=qt>>>13,qt&=8191,qt+=je*rn,qt+=Re*(5*Vn),qt+=Fe*(5*Ln),qt+=We*(5*gn),qt+=Rt*(5*jn),ht+=qt>>>13,qt&=8191,Ut=ht,Ut+=et*jn,Ut+=Ge*Bn,Ut+=Xe*bn,Ut+=we*Z,Ut+=Ce*on,ht=Ut>>>13,Ut&=8191,Ut+=je*cn,Ut+=Re*rn,Ut+=Fe*(5*Vn),Ut+=We*(5*Ln),Ut+=Rt*(5*gn),ht+=Ut>>>13,Ut&=8191,me=ht,me+=et*gn,me+=Ge*jn,me+=Xe*Bn,me+=we*bn,me+=Ce*Z,ht=me>>>13,me&=8191,me+=je*on,me+=Re*cn,me+=Fe*rn,me+=We*(5*Vn),me+=Rt*(5*Ln),ht+=me>>>13,me&=8191,vt=ht,vt+=et*Ln,vt+=Ge*gn,vt+=Xe*jn,vt+=we*Bn,vt+=Ce*bn,ht=vt>>>13,vt&=8191,vt+=je*Z,vt+=Re*on,vt+=Fe*cn,vt+=We*rn,vt+=Rt*(5*Vn),ht+=vt>>>13,vt&=8191,it=ht,it+=et*Vn,it+=Ge*Ln,it+=Xe*gn,it+=we*jn,it+=Ce*Bn,ht=it>>>13,it&=8191,it+=je*bn,it+=Re*Z,it+=Fe*on,it+=We*cn,it+=Rt*rn,ht+=it>>>13,it&=8191,ht=(ht<<2)+ht|0,ht=ht+jt|0,jt=ht&8191,ht=ht>>>13,Gt+=ht,et=jt,Ge=Gt,Xe=Xt,we=Kt,Ce=Ht,je=qt,Re=Ut,Fe=me,We=vt,Rt=it,U+=16,j-=16;this.h[0]=et,this.h[1]=Ge,this.h[2]=Xe,this.h[3]=we,this.h[4]=Ce,this.h[5]=je,this.h[6]=Re,this.h[7]=Fe,this.h[8]=We,this.h[9]=Rt},ie.prototype.finish=function(M,U){var j=new Uint16Array(10),w,W,le,pe;if(this.leftover){for(pe=this.leftover,this.buffer[pe++]=1;pe<16;pe++)this.buffer[pe]=0;this.fin=1,this.blocks(this.buffer,0,16)}for(w=this.h[1]>>>13,this.h[1]&=8191,pe=2;pe<10;pe++)this.h[pe]+=w,w=this.h[pe]>>>13,this.h[pe]&=8191;for(this.h[0]+=w*5,w=this.h[0]>>>13,this.h[0]&=8191,this.h[1]+=w,w=this.h[1]>>>13,this.h[1]&=8191,this.h[2]+=w,j[0]=this.h[0]+5,w=j[0]>>>13,j[0]&=8191,pe=1;pe<10;pe++)j[pe]=this.h[pe]+w,w=j[pe]>>>13,j[pe]&=8191;for(j[9]-=8192,W=(w^1)-1,pe=0;pe<10;pe++)j[pe]&=W;for(W=~W,pe=0;pe<10;pe++)this.h[pe]=this.h[pe]&W|j[pe];for(this.h[0]=(this.h[0]|this.h[1]<<13)&65535,this.h[1]=(this.h[1]>>>3|this.h[2]<<10)&65535,this.h[2]=(this.h[2]>>>6|this.h[3]<<7)&65535,this.h[3]=(this.h[3]>>>9|this.h[4]<<4)&65535,this.h[4]=(this.h[4]>>>12|this.h[5]<<1|this.h[6]<<14)&65535,this.h[5]=(this.h[6]>>>2|this.h[7]<<11)&65535,this.h[6]=(this.h[7]>>>5|this.h[8]<<8)&65535,this.h[7]=(this.h[8]>>>8|this.h[9]<<5)&65535,le=this.h[0]+this.pad[0],this.h[0]=le&65535,pe=1;pe<8;pe++)le=(this.h[pe]+this.pad[pe]|0)+(le>>>16)|0,this.h[pe]=le&65535;M[U+0]=this.h[0]>>>0&255,M[U+1]=this.h[0]>>>8&255,M[U+2]=this.h[1]>>>0&255,M[U+3]=this.h[1]>>>8&255,M[U+4]=this.h[2]>>>0&255,M[U+5]=this.h[2]>>>8&255,M[U+6]=this.h[3]>>>0&255,M[U+7]=this.h[3]>>>8&255,M[U+8]=this.h[4]>>>0&255,M[U+9]=this.h[4]>>>8&255,M[U+10]=this.h[5]>>>0&255,M[U+11]=this.h[5]>>>8&255,M[U+12]=this.h[6]>>>0&255,M[U+13]=this.h[6]>>>8&255,M[U+14]=this.h[7]>>>0&255,M[U+15]=this.h[7]>>>8&255},ie.prototype.update=function(M,U,j){var w,W;if(this.leftover){for(W=16-this.leftover,W>j&&(W=j),w=0;w<W;w++)this.buffer[this.leftover+w]=M[U+w];if(j-=W,U+=W,this.leftover+=W,this.leftover<16)return;this.blocks(this.buffer,0,16),this.leftover=0}if(j>=16&&(W=j-j%16,this.blocks(M,U,W),U+=W,j-=W),j){for(w=0;w<j;w++)this.buffer[this.leftover+w]=M[U+w];this.leftover+=j}};function J(M,U,j,w,W,le){var pe=new ie(le);return pe.update(j,w,W),pe.finish(M,U),0}function H(M,U,j,w,W,le){var pe=new Uint8Array(16);return J(pe,0,j,w,W,le),v(M,U,pe,0)}function ce(M,U,j,w,W){var le;if(j<32)return-1;for(z(M,0,U,0,j,w,W),J(M,16,M,32,j-32,M),le=0;le<16;le++)M[le]=0;return 0}function ae(M,U,j,w,W){var le,pe=new Uint8Array(32);if(j<32||(B(pe,0,32,w,W),H(U,16,U,32,j-32,pe)!==0))return-1;for(z(M,0,U,0,j,w,W),le=0;le<32;le++)M[le]=0;return 0}function ee(M,U){var j;for(j=0;j<16;j++)M[j]=U[j]|0}function F(M){var U,j,w=1;for(U=0;U<16;U++)j=M[U]+w+65535,w=Math.floor(j/65536),M[U]=j-w*65536;M[0]+=w-1+37*(w-1)}function G(M,U,j){for(var w,W=~(j-1),le=0;le<16;le++)w=W&(M[le]^U[le]),M[le]^=w,U[le]^=w}function D(M,U){var j,w,W,le=e(),pe=e();for(j=0;j<16;j++)pe[j]=U[j];for(F(pe),F(pe),F(pe),w=0;w<2;w++){for(le[0]=pe[0]-65517,j=1;j<15;j++)le[j]=pe[j]-65535-(le[j-1]>>16&1),le[j-1]&=65535;le[15]=pe[15]-32767-(le[14]>>16&1),W=le[15]>>16&1,le[14]&=65535,G(pe,le,1-W)}for(j=0;j<16;j++)M[2*j]=pe[j]&255,M[2*j+1]=pe[j]>>8}function N(M,U){var j=new Uint8Array(32),w=new Uint8Array(32);return D(j,M),D(w,U),P(j,0,w,0)}function te(M){var U=new Uint8Array(32);return D(U,M),U[0]&1}function X(M,U){var j;for(j=0;j<16;j++)M[j]=U[2*j]+(U[2*j+1]<<8);M[15]&=32767}function Oe(M,U,j){for(var w=0;w<16;w++)M[w]=U[w]+j[w]}function Ye(M,U,j){for(var w=0;w<16;w++)M[w]=U[w]-j[w]}function De(M,U,j){var w,W,le=0,pe=0,Pe=0,Ke=0,ft=0,at=0,On=0,ht=0,jt=0,Gt=0,Xt=0,Kt=0,Ht=0,qt=0,Ut=0,me=0,vt=0,it=0,et=0,Ge=0,Xe=0,we=0,Ce=0,je=0,Re=0,Fe=0,We=0,Rt=0,rn=0,cn=0,on=0,Z=j[0],bn=j[1],Bn=j[2],jn=j[3],gn=j[4],Ln=j[5],Vn=j[6],Ur=j[7],tr=j[8],Fr=j[9],Or=j[10],Lr=j[11],Xr=j[12],bi=j[13],wi=j[14],Ci=j[15];w=U[0],le+=w*Z,pe+=w*bn,Pe+=w*Bn,Ke+=w*jn,ft+=w*gn,at+=w*Ln,On+=w*Vn,ht+=w*Ur,jt+=w*tr,Gt+=w*Fr,Xt+=w*Or,Kt+=w*Lr,Ht+=w*Xr,qt+=w*bi,Ut+=w*wi,me+=w*Ci,w=U[1],pe+=w*Z,Pe+=w*bn,Ke+=w*Bn,ft+=w*jn,at+=w*gn,On+=w*Ln,ht+=w*Vn,jt+=w*Ur,Gt+=w*tr,Xt+=w*Fr,Kt+=w*Or,Ht+=w*Lr,qt+=w*Xr,Ut+=w*bi,me+=w*wi,vt+=w*Ci,w=U[2],Pe+=w*Z,Ke+=w*bn,ft+=w*Bn,at+=w*jn,On+=w*gn,ht+=w*Ln,jt+=w*Vn,Gt+=w*Ur,Xt+=w*tr,Kt+=w*Fr,Ht+=w*Or,qt+=w*Lr,Ut+=w*Xr,me+=w*bi,vt+=w*wi,it+=w*Ci,w=U[3],Ke+=w*Z,ft+=w*bn,at+=w*Bn,On+=w*jn,ht+=w*gn,jt+=w*Ln,Gt+=w*Vn,Xt+=w*Ur,Kt+=w*tr,Ht+=w*Fr,qt+=w*Or,Ut+=w*Lr,me+=w*Xr,vt+=w*bi,it+=w*wi,et+=w*Ci,w=U[4],ft+=w*Z,at+=w*bn,On+=w*Bn,ht+=w*jn,jt+=w*gn,Gt+=w*Ln,Xt+=w*Vn,Kt+=w*Ur,Ht+=w*tr,qt+=w*Fr,Ut+=w*Or,me+=w*Lr,vt+=w*Xr,it+=w*bi,et+=w*wi,Ge+=w*Ci,w=U[5],at+=w*Z,On+=w*bn,ht+=w*Bn,jt+=w*jn,Gt+=w*gn,Xt+=w*Ln,Kt+=w*Vn,Ht+=w*Ur,qt+=w*tr,Ut+=w*Fr,me+=w*Or,vt+=w*Lr,it+=w*Xr,et+=w*bi,Ge+=w*wi,Xe+=w*Ci,w=U[6],On+=w*Z,ht+=w*bn,jt+=w*Bn,Gt+=w*jn,Xt+=w*gn,Kt+=w*Ln,Ht+=w*Vn,qt+=w*Ur,Ut+=w*tr,me+=w*Fr,vt+=w*Or,it+=w*Lr,et+=w*Xr,Ge+=w*bi,Xe+=w*wi,we+=w*Ci,w=U[7],ht+=w*Z,jt+=w*bn,Gt+=w*Bn,Xt+=w*jn,Kt+=w*gn,Ht+=w*Ln,qt+=w*Vn,Ut+=w*Ur,me+=w*tr,vt+=w*Fr,it+=w*Or,et+=w*Lr,Ge+=w*Xr,Xe+=w*bi,we+=w*wi,Ce+=w*Ci,w=U[8],jt+=w*Z,Gt+=w*bn,Xt+=w*Bn,Kt+=w*jn,Ht+=w*gn,qt+=w*Ln,Ut+=w*Vn,me+=w*Ur,vt+=w*tr,it+=w*Fr,et+=w*Or,Ge+=w*Lr,Xe+=w*Xr,we+=w*bi,Ce+=w*wi,je+=w*Ci,w=U[9],Gt+=w*Z,Xt+=w*bn,Kt+=w*Bn,Ht+=w*jn,qt+=w*gn,Ut+=w*Ln,me+=w*Vn,vt+=w*Ur,it+=w*tr,et+=w*Fr,Ge+=w*Or,Xe+=w*Lr,we+=w*Xr,Ce+=w*bi,je+=w*wi,Re+=w*Ci,w=U[10],Xt+=w*Z,Kt+=w*bn,Ht+=w*Bn,qt+=w*jn,Ut+=w*gn,me+=w*Ln,vt+=w*Vn,it+=w*Ur,et+=w*tr,Ge+=w*Fr,Xe+=w*Or,we+=w*Lr,Ce+=w*Xr,je+=w*bi,Re+=w*wi,Fe+=w*Ci,w=U[11],Kt+=w*Z,Ht+=w*bn,qt+=w*Bn,Ut+=w*jn,me+=w*gn,vt+=w*Ln,it+=w*Vn,et+=w*Ur,Ge+=w*tr,Xe+=w*Fr,we+=w*Or,Ce+=w*Lr,je+=w*Xr,Re+=w*bi,Fe+=w*wi,We+=w*Ci,w=U[12],Ht+=w*Z,qt+=w*bn,Ut+=w*Bn,me+=w*jn,vt+=w*gn,it+=w*Ln,et+=w*Vn,Ge+=w*Ur,Xe+=w*tr,we+=w*Fr,Ce+=w*Or,je+=w*Lr,Re+=w*Xr,Fe+=w*bi,We+=w*wi,Rt+=w*Ci,w=U[13],qt+=w*Z,Ut+=w*bn,me+=w*Bn,vt+=w*jn,it+=w*gn,et+=w*Ln,Ge+=w*Vn,Xe+=w*Ur,we+=w*tr,Ce+=w*Fr,je+=w*Or,Re+=w*Lr,Fe+=w*Xr,We+=w*bi,Rt+=w*wi,rn+=w*Ci,w=U[14],Ut+=w*Z,me+=w*bn,vt+=w*Bn,it+=w*jn,et+=w*gn,Ge+=w*Ln,Xe+=w*Vn,we+=w*Ur,Ce+=w*tr,je+=w*Fr,Re+=w*Or,Fe+=w*Lr,We+=w*Xr,Rt+=w*bi,rn+=w*wi,cn+=w*Ci,w=U[15],me+=w*Z,vt+=w*bn,it+=w*Bn,et+=w*jn,Ge+=w*gn,Xe+=w*Ln,we+=w*Vn,Ce+=w*Ur,je+=w*tr,Re+=w*Fr,Fe+=w*Or,We+=w*Lr,Rt+=w*Xr,rn+=w*bi,cn+=w*wi,on+=w*Ci,le+=38*vt,pe+=38*it,Pe+=38*et,Ke+=38*Ge,ft+=38*Xe,at+=38*we,On+=38*Ce,ht+=38*je,jt+=38*Re,Gt+=38*Fe,Xt+=38*We,Kt+=38*Rt,Ht+=38*rn,qt+=38*cn,Ut+=38*on,W=1,w=le+W+65535,W=Math.floor(w/65536),le=w-W*65536,w=pe+W+65535,W=Math.floor(w/65536),pe=w-W*65536,w=Pe+W+65535,W=Math.floor(w/65536),Pe=w-W*65536,w=Ke+W+65535,W=Math.floor(w/65536),Ke=w-W*65536,w=ft+W+65535,W=Math.floor(w/65536),ft=w-W*65536,w=at+W+65535,W=Math.floor(w/65536),at=w-W*65536,w=On+W+65535,W=Math.floor(w/65536),On=w-W*65536,w=ht+W+65535,W=Math.floor(w/65536),ht=w-W*65536,w=jt+W+65535,W=Math.floor(w/65536),jt=w-W*65536,w=Gt+W+65535,W=Math.floor(w/65536),Gt=w-W*65536,w=Xt+W+65535,W=Math.floor(w/65536),Xt=w-W*65536,w=Kt+W+65535,W=Math.floor(w/65536),Kt=w-W*65536,w=Ht+W+65535,W=Math.floor(w/65536),Ht=w-W*65536,w=qt+W+65535,W=Math.floor(w/65536),qt=w-W*65536,w=Ut+W+65535,W=Math.floor(w/65536),Ut=w-W*65536,w=me+W+65535,W=Math.floor(w/65536),me=w-W*65536,le+=W-1+37*(W-1),W=1,w=le+W+65535,W=Math.floor(w/65536),le=w-W*65536,w=pe+W+65535,W=Math.floor(w/65536),pe=w-W*65536,w=Pe+W+65535,W=Math.floor(w/65536),Pe=w-W*65536,w=Ke+W+65535,W=Math.floor(w/65536),Ke=w-W*65536,w=ft+W+65535,W=Math.floor(w/65536),ft=w-W*65536,w=at+W+65535,W=Math.floor(w/65536),at=w-W*65536,w=On+W+65535,W=Math.floor(w/65536),On=w-W*65536,w=ht+W+65535,W=Math.floor(w/65536),ht=w-W*65536,w=jt+W+65535,W=Math.floor(w/65536),jt=w-W*65536,w=Gt+W+65535,W=Math.floor(w/65536),Gt=w-W*65536,w=Xt+W+65535,W=Math.floor(w/65536),Xt=w-W*65536,w=Kt+W+65535,W=Math.floor(w/65536),Kt=w-W*65536,w=Ht+W+65535,W=Math.floor(w/65536),Ht=w-W*65536,w=qt+W+65535,W=Math.floor(w/65536),qt=w-W*65536,w=Ut+W+65535,W=Math.floor(w/65536),Ut=w-W*65536,w=me+W+65535,W=Math.floor(w/65536),me=w-W*65536,le+=W-1+37*(W-1),M[0]=le,M[1]=pe,M[2]=Pe,M[3]=Ke,M[4]=ft,M[5]=at,M[6]=On,M[7]=ht,M[8]=jt,M[9]=Gt,M[10]=Xt,M[11]=Kt,M[12]=Ht,M[13]=qt,M[14]=Ut,M[15]=me}function It(M,U){De(M,U,U)}function Bt(M,U){var j=e(),w;for(w=0;w<16;w++)j[w]=U[w];for(w=253;w>=0;w--)It(j,j),w!==2&&w!==4&&De(j,j,U);for(w=0;w<16;w++)M[w]=j[w]}function zt(M,U){var j=e(),w;for(w=0;w<16;w++)j[w]=U[w];for(w=250;w>=0;w--)It(j,j),w!==1&&De(j,j,U);for(w=0;w<16;w++)M[w]=j[w]}function ve(M,U,j){var w=new Uint8Array(32),W=new Float64Array(80),le,pe,Pe=e(),Ke=e(),ft=e(),at=e(),On=e(),ht=e();for(pe=0;pe<31;pe++)w[pe]=U[pe];for(w[31]=U[31]&127|64,w[0]&=248,X(W,j),pe=0;pe<16;pe++)Ke[pe]=W[pe],at[pe]=Pe[pe]=ft[pe]=0;for(Pe[0]=at[0]=1,pe=254;pe>=0;--pe)le=w[pe>>>3]>>>(pe&7)&1,G(Pe,Ke,le),G(ft,at,le),Oe(On,Pe,ft),Ye(Pe,Pe,ft),Oe(ft,Ke,at),Ye(Ke,Ke,at),It(at,On),It(ht,Pe),De(Pe,ft,Pe),De(ft,Ke,On),Oe(On,Pe,ft),Ye(Pe,Pe,ft),It(Ke,Pe),Ye(ft,at,ht),De(Pe,ft,a),Oe(Pe,Pe,at),De(ft,ft,Pe),De(Pe,at,ht),De(at,Ke,W),It(Ke,On),G(Pe,Ke,le),G(ft,at,le);for(pe=0;pe<16;pe++)W[pe+16]=Pe[pe],W[pe+32]=ft[pe],W[pe+48]=Ke[pe],W[pe+64]=at[pe];var jt=W.subarray(32),Gt=W.subarray(16);return Bt(jt,jt),De(Gt,Gt,jt),D(M,Gt),0}function be(M,U){return ve(M,U,i)}function ge(M,U){return n(U,32),be(M,U)}function _e(M,U,j){var w=new Uint8Array(32);return ve(w,j,U),T(M,r,w,k)}var Ae=ce,$e=ae;function ke(M,U,j,w,W,le){var pe=new Uint8Array(32);return _e(pe,W,le),Ae(M,U,j,w,pe)}function pt(M,U,j,w,W,le){var pe=new Uint8Array(32);return _e(pe,W,le),$e(M,U,j,w,pe)}var Zt=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function hn(M,U,j,w){for(var W=new Int32Array(16),le=new Int32Array(16),pe,Pe,Ke,ft,at,On,ht,jt,Gt,Xt,Kt,Ht,qt,Ut,me,vt,it,et,Ge,Xe,we,Ce,je,Re,Fe,We,Rt=M[0],rn=M[1],cn=M[2],on=M[3],Z=M[4],bn=M[5],Bn=M[6],jn=M[7],gn=U[0],Ln=U[1],Vn=U[2],Ur=U[3],tr=U[4],Fr=U[5],Or=U[6],Lr=U[7],Xr=0;w>=128;){for(Ge=0;Ge<16;Ge++)Xe=8*Ge+Xr,W[Ge]=j[Xe+0]<<24|j[Xe+1]<<16|j[Xe+2]<<8|j[Xe+3],le[Ge]=j[Xe+4]<<24|j[Xe+5]<<16|j[Xe+6]<<8|j[Xe+7];for(Ge=0;Ge<80;Ge++)if(pe=Rt,Pe=rn,Ke=cn,ft=on,at=Z,On=bn,ht=Bn,jt=jn,Gt=gn,Xt=Ln,Kt=Vn,Ht=Ur,qt=tr,Ut=Fr,me=Or,vt=Lr,we=jn,Ce=Lr,je=Ce&65535,Re=Ce>>>16,Fe=we&65535,We=we>>>16,we=(Z>>>14|tr<<18)^(Z>>>18|tr<<14)^(tr>>>9|Z<<23),Ce=(tr>>>14|Z<<18)^(tr>>>18|Z<<14)^(Z>>>9|tr<<23),je+=Ce&65535,Re+=Ce>>>16,Fe+=we&65535,We+=we>>>16,we=Z&bn^~Z&Bn,Ce=tr&Fr^~tr&Or,je+=Ce&65535,Re+=Ce>>>16,Fe+=we&65535,We+=we>>>16,we=Zt[Ge*2],Ce=Zt[Ge*2+1],je+=Ce&65535,Re+=Ce>>>16,Fe+=we&65535,We+=we>>>16,we=W[Ge%16],Ce=le[Ge%16],je+=Ce&65535,Re+=Ce>>>16,Fe+=we&65535,We+=we>>>16,Re+=je>>>16,Fe+=Re>>>16,We+=Fe>>>16,it=Fe&65535|We<<16,et=je&65535|Re<<16,we=it,Ce=et,je=Ce&65535,Re=Ce>>>16,Fe=we&65535,We=we>>>16,we=(Rt>>>28|gn<<4)^(gn>>>2|Rt<<30)^(gn>>>7|Rt<<25),Ce=(gn>>>28|Rt<<4)^(Rt>>>2|gn<<30)^(Rt>>>7|gn<<25),je+=Ce&65535,Re+=Ce>>>16,Fe+=we&65535,We+=we>>>16,we=Rt&rn^Rt&cn^rn&cn,Ce=gn&Ln^gn&Vn^Ln&Vn,je+=Ce&65535,Re+=Ce>>>16,Fe+=we&65535,We+=we>>>16,Re+=je>>>16,Fe+=Re>>>16,We+=Fe>>>16,jt=Fe&65535|We<<16,vt=je&65535|Re<<16,we=ft,Ce=Ht,je=Ce&65535,Re=Ce>>>16,Fe=we&65535,We=we>>>16,we=it,Ce=et,je+=Ce&65535,Re+=Ce>>>16,Fe+=we&65535,We+=we>>>16,Re+=je>>>16,Fe+=Re>>>16,We+=Fe>>>16,ft=Fe&65535|We<<16,Ht=je&65535|Re<<16,rn=pe,cn=Pe,on=Ke,Z=ft,bn=at,Bn=On,jn=ht,Rt=jt,Ln=Gt,Vn=Xt,Ur=Kt,tr=Ht,Fr=qt,Or=Ut,Lr=me,gn=vt,Ge%16===15)for(Xe=0;Xe<16;Xe++)we=W[Xe],Ce=le[Xe],je=Ce&65535,Re=Ce>>>16,Fe=we&65535,We=we>>>16,we=W[(Xe+9)%16],Ce=le[(Xe+9)%16],je+=Ce&65535,Re+=Ce>>>16,Fe+=we&65535,We+=we>>>16,it=W[(Xe+1)%16],et=le[(Xe+1)%16],we=(it>>>1|et<<31)^(it>>>8|et<<24)^it>>>7,Ce=(et>>>1|it<<31)^(et>>>8|it<<24)^(et>>>7|it<<25),je+=Ce&65535,Re+=Ce>>>16,Fe+=we&65535,We+=we>>>16,it=W[(Xe+14)%16],et=le[(Xe+14)%16],we=(it>>>19|et<<13)^(et>>>29|it<<3)^it>>>6,Ce=(et>>>19|it<<13)^(it>>>29|et<<3)^(et>>>6|it<<26),je+=Ce&65535,Re+=Ce>>>16,Fe+=we&65535,We+=we>>>16,Re+=je>>>16,Fe+=Re>>>16,We+=Fe>>>16,W[Xe]=Fe&65535|We<<16,le[Xe]=je&65535|Re<<16;we=Rt,Ce=gn,je=Ce&65535,Re=Ce>>>16,Fe=we&65535,We=we>>>16,we=M[0],Ce=U[0],je+=Ce&65535,Re+=Ce>>>16,Fe+=we&65535,We+=we>>>16,Re+=je>>>16,Fe+=Re>>>16,We+=Fe>>>16,M[0]=Rt=Fe&65535|We<<16,U[0]=gn=je&65535|Re<<16,we=rn,Ce=Ln,je=Ce&65535,Re=Ce>>>16,Fe=we&65535,We=we>>>16,we=M[1],Ce=U[1],je+=Ce&65535,Re+=Ce>>>16,Fe+=we&65535,We+=we>>>16,Re+=je>>>16,Fe+=Re>>>16,We+=Fe>>>16,M[1]=rn=Fe&65535|We<<16,U[1]=Ln=je&65535|Re<<16,we=cn,Ce=Vn,je=Ce&65535,Re=Ce>>>16,Fe=we&65535,We=we>>>16,we=M[2],Ce=U[2],je+=Ce&65535,Re+=Ce>>>16,Fe+=we&65535,We+=we>>>16,Re+=je>>>16,Fe+=Re>>>16,We+=Fe>>>16,M[2]=cn=Fe&65535|We<<16,U[2]=Vn=je&65535|Re<<16,we=on,Ce=Ur,je=Ce&65535,Re=Ce>>>16,Fe=we&65535,We=we>>>16,we=M[3],Ce=U[3],je+=Ce&65535,Re+=Ce>>>16,Fe+=we&65535,We+=we>>>16,Re+=je>>>16,Fe+=Re>>>16,We+=Fe>>>16,M[3]=on=Fe&65535|We<<16,U[3]=Ur=je&65535|Re<<16,we=Z,Ce=tr,je=Ce&65535,Re=Ce>>>16,Fe=we&65535,We=we>>>16,we=M[4],Ce=U[4],je+=Ce&65535,Re+=Ce>>>16,Fe+=we&65535,We+=we>>>16,Re+=je>>>16,Fe+=Re>>>16,We+=Fe>>>16,M[4]=Z=Fe&65535|We<<16,U[4]=tr=je&65535|Re<<16,we=bn,Ce=Fr,je=Ce&65535,Re=Ce>>>16,Fe=we&65535,We=we>>>16,we=M[5],Ce=U[5],je+=Ce&65535,Re+=Ce>>>16,Fe+=we&65535,We+=we>>>16,Re+=je>>>16,Fe+=Re>>>16,We+=Fe>>>16,M[5]=bn=Fe&65535|We<<16,U[5]=Fr=je&65535|Re<<16,we=Bn,Ce=Or,je=Ce&65535,Re=Ce>>>16,Fe=we&65535,We=we>>>16,we=M[6],Ce=U[6],je+=Ce&65535,Re+=Ce>>>16,Fe+=we&65535,We+=we>>>16,Re+=je>>>16,Fe+=Re>>>16,We+=Fe>>>16,M[6]=Bn=Fe&65535|We<<16,U[6]=Or=je&65535|Re<<16,we=jn,Ce=Lr,je=Ce&65535,Re=Ce>>>16,Fe=we&65535,We=we>>>16,we=M[7],Ce=U[7],je+=Ce&65535,Re+=Ce>>>16,Fe+=we&65535,We+=we>>>16,Re+=je>>>16,Fe+=Re>>>16,We+=Fe>>>16,M[7]=jn=Fe&65535|We<<16,U[7]=Lr=je&65535|Re<<16,Xr+=128,w-=128}return w}function gt(M,U,j){var w=new Int32Array(8),W=new Int32Array(8),le=new Uint8Array(256),pe,Pe=j;for(w[0]=1779033703,w[1]=3144134277,w[2]=1013904242,w[3]=2773480762,w[4]=1359893119,w[5]=2600822924,w[6]=528734635,w[7]=1541459225,W[0]=4089235720,W[1]=2227873595,W[2]=4271175723,W[3]=1595750129,W[4]=2917565137,W[5]=725511199,W[6]=4215389547,W[7]=327033209,hn(w,W,U,j),j%=128,pe=0;pe<j;pe++)le[pe]=U[Pe-j+pe];for(le[j]=128,j=256-128*(j<112?1:0),le[j-9]=0,h(le,j-8,Pe/536870912|0,Pe<<3),hn(w,W,le,j),pe=0;pe<8;pe++)h(M,8*pe,w[pe],W[pe]);return 0}function Yn(M,U){var j=e(),w=e(),W=e(),le=e(),pe=e(),Pe=e(),Ke=e(),ft=e(),at=e();Ye(j,M[1],M[0]),Ye(at,U[1],U[0]),De(j,j,at),Oe(w,M[0],M[1]),Oe(at,U[0],U[1]),De(w,w,at),De(W,M[3],U[3]),De(W,W,c),De(le,M[2],U[2]),Oe(le,le,le),Ye(pe,w,j),Ye(Pe,le,W),Oe(Ke,le,W),Oe(ft,w,j),De(M[0],pe,Pe),De(M[1],ft,Ke),De(M[2],Ke,Pe),De(M[3],pe,ft)}function Zn(M,U,j){var w;for(w=0;w<4;w++)G(M[w],U[w],j)}function kn(M,U){var j=e(),w=e(),W=e();Bt(W,U[2]),De(j,U[0],W),De(w,U[1],W),D(M,w),M[31]^=te(j)<<7}function Ir(M,U,j){var w,W;for(ee(M[0],o),ee(M[1],s),ee(M[2],s),ee(M[3],o),W=255;W>=0;--W)w=j[W/8|0]>>(W&7)&1,Zn(M,U,w),Yn(U,M),Yn(M,M),Zn(M,U,w)}function Cr(M,U){var j=[e(),e(),e(),e()];ee(j[0],u),ee(j[1],f),ee(j[2],s),De(j[3],u,f),Ir(M,j,U)}function Et(M,U,j){var w=new Uint8Array(64),W=[e(),e(),e(),e()],le;for(j||n(U,32),gt(w,U,32),w[0]&=248,w[31]&=127,w[31]|=64,Cr(W,w),kn(M,W),le=0;le<32;le++)U[le+32]=M[le];return 0}var Dt=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function _t(M,U){var j,w,W,le;for(w=63;w>=32;--w){for(j=0,W=w-32,le=w-12;W<le;++W)U[W]+=j-16*U[w]*Dt[W-(w-32)],j=Math.floor((U[W]+128)/256),U[W]-=j*256;U[W]+=j,U[w]=0}for(j=0,W=0;W<32;W++)U[W]+=j-(U[31]>>4)*Dt[W],j=U[W]>>8,U[W]&=255;for(W=0;W<32;W++)U[W]-=j*Dt[W];for(w=0;w<32;w++)U[w+1]+=U[w]>>8,M[w]=U[w]&255}function mn(M){var U=new Float64Array(64),j;for(j=0;j<64;j++)U[j]=M[j];for(j=0;j<64;j++)M[j]=0;_t(M,U)}function ai(M,U,j,w){var W=new Uint8Array(64),le=new Uint8Array(64),pe=new Uint8Array(64),Pe,Ke,ft=new Float64Array(64),at=[e(),e(),e(),e()];gt(W,w,32),W[0]&=248,W[31]&=127,W[31]|=64;var On=j+64;for(Pe=0;Pe<j;Pe++)M[64+Pe]=U[Pe];for(Pe=0;Pe<32;Pe++)M[32+Pe]=W[32+Pe];for(gt(pe,M.subarray(32),j+32),mn(pe),Cr(at,pe),kn(M,at),Pe=32;Pe<64;Pe++)M[Pe]=w[Pe];for(gt(le,M,j+64),mn(le),Pe=0;Pe<64;Pe++)ft[Pe]=0;for(Pe=0;Pe<32;Pe++)ft[Pe]=pe[Pe];for(Pe=0;Pe<32;Pe++)for(Ke=0;Ke<32;Ke++)ft[Pe+Ke]+=le[Pe]*W[Ke];return _t(M.subarray(32),ft),On}function Zr(M,U){var j=e(),w=e(),W=e(),le=e(),pe=e(),Pe=e(),Ke=e();return ee(M[2],s),X(M[1],U),It(W,M[1]),De(le,W,l),Ye(W,W,M[2]),Oe(le,M[2],le),It(pe,le),It(Pe,pe),De(Ke,Pe,pe),De(j,Ke,W),De(j,j,le),zt(j,j),De(j,j,W),De(j,j,le),De(j,j,le),De(M[0],j,le),It(w,M[0]),De(w,w,le),N(w,W)&&De(M[0],M[0],d),It(w,M[0]),De(w,w,le),N(w,W)?-1:(te(M[0])===U[31]>>7&&Ye(M[0],o,M[0]),De(M[3],M[0],M[1]),0)}function ln(M,U,j,w){var W,le=new Uint8Array(32),pe=new Uint8Array(64),Pe=[e(),e(),e(),e()],Ke=[e(),e(),e(),e()];if(j<64||Zr(Ke,w))return-1;for(W=0;W<j;W++)M[W]=U[W];for(W=0;W<32;W++)M[W+32]=w[W];if(gt(pe,M,j),mn(pe),Ir(Pe,Ke,pe),Cr(Ke,U.subarray(32)),Yn(Pe,Ke),kn(le,Pe),j-=64,P(U,0,le,0)){for(W=0;W<j;W++)M[W]=0;return-1}for(W=0;W<j;W++)M[W]=U[W+64];return j}var Mt=32,li=24,zo=32,qo=16,Ua=32,Rr=32,Vl=32,$l=32,Zs=32,uh=li,Mv=zo,kv=qo,Ko=64,Xs=32,Ga=64,Jf=32,Qf=64;t.lowlevel={crypto_core_hsalsa20:T,crypto_stream_xor:z,crypto_stream:B,crypto_stream_salsa20_xor:$,crypto_stream_salsa20:V,crypto_onetimeauth:J,crypto_onetimeauth_verify:H,crypto_verify_16:v,crypto_verify_32:P,crypto_secretbox:ce,crypto_secretbox_open:ae,crypto_scalarmult:ve,crypto_scalarmult_base:be,crypto_box_beforenm:_e,crypto_box_afternm:Ae,crypto_box:ke,crypto_box_open:pt,crypto_box_keypair:ge,crypto_hash:gt,crypto_sign:ai,crypto_sign_keypair:Et,crypto_sign_open:ln,crypto_secretbox_KEYBYTES:Mt,crypto_secretbox_NONCEBYTES:li,crypto_secretbox_ZEROBYTES:zo,crypto_secretbox_BOXZEROBYTES:qo,crypto_scalarmult_BYTES:Ua,crypto_scalarmult_SCALARBYTES:Rr,crypto_box_PUBLICKEYBYTES:Vl,crypto_box_SECRETKEYBYTES:$l,crypto_box_BEFORENMBYTES:Zs,crypto_box_NONCEBYTES:uh,crypto_box_ZEROBYTES:Mv,crypto_box_BOXZEROBYTES:kv,crypto_sign_BYTES:Ko,crypto_sign_PUBLICKEYBYTES:Xs,crypto_sign_SECRETKEYBYTES:Ga,crypto_sign_SEEDBYTES:Jf,crypto_hash_BYTES:Qf,gf:e,D:l,L:Dt,pack25519:D,unpack25519:X,M:De,A:Oe,S:It,Z:Ye,pow2523:zt,add:Yn,set25519:ee,modL:_t,scalarmult:Ir,scalarbase:Cr};function qc(M,U){if(M.length!==Mt)throw new Error("bad key size");if(U.length!==li)throw new Error("bad nonce size")}function Kc(M,U){if(M.length!==Vl)throw new Error("bad public key size");if(U.length!==$l)throw new Error("bad secret key size")}function Li(){for(var M=0;M<arguments.length;M++)if(!(arguments[M]instanceof Uint8Array))throw new TypeError("unexpected type, use Uint8Array")}function fh(M){for(var U=0;U<M.length;U++)M[U]=0}t.randomBytes=function(M){var U=new Uint8Array(M);return n(U,M),U},t.secretbox=function(M,U,j){Li(M,U,j),qc(j,U);for(var w=new Uint8Array(zo+M.length),W=new Uint8Array(w.length),le=0;le<M.length;le++)w[le+zo]=M[le];return ce(W,w,w.length,U,j),W.subarray(qo)},t.secretbox.open=function(M,U,j){Li(M,U,j),qc(j,U);for(var w=new Uint8Array(qo+M.length),W=new Uint8Array(w.length),le=0;le<M.length;le++)w[le+qo]=M[le];return w.length<32||ae(W,w,w.length,U,j)!==0?null:W.subarray(zo)},t.secretbox.keyLength=Mt,t.secretbox.nonceLength=li,t.secretbox.overheadLength=qo,t.scalarMult=function(M,U){if(Li(M,U),M.length!==Rr)throw new Error("bad n size");if(U.length!==Ua)throw new Error("bad p size");var j=new Uint8Array(Ua);return ve(j,M,U),j},t.scalarMult.base=function(M){if(Li(M),M.length!==Rr)throw new Error("bad n size");var U=new Uint8Array(Ua);return be(U,M),U},t.scalarMult.scalarLength=Rr,t.scalarMult.groupElementLength=Ua,t.box=function(M,U,j,w){var W=t.box.before(j,w);return t.secretbox(M,U,W)},t.box.before=function(M,U){Li(M,U),Kc(M,U);var j=new Uint8Array(Zs);return _e(j,M,U),j},t.box.after=t.secretbox,t.box.open=function(M,U,j,w){var W=t.box.before(j,w);return t.secretbox.open(M,U,W)},t.box.open.after=t.secretbox.open,t.box.keyPair=function(){var M=new Uint8Array(Vl),U=new Uint8Array($l);return ge(M,U),{publicKey:M,secretKey:U}},t.box.keyPair.fromSecretKey=function(M){if(Li(M),M.length!==$l)throw new Error("bad secret key size");var U=new Uint8Array(Vl);return be(U,M),{publicKey:U,secretKey:new Uint8Array(M)}},t.box.publicKeyLength=Vl,t.box.secretKeyLength=$l,t.box.sharedKeyLength=Zs,t.box.nonceLength=uh,t.box.overheadLength=t.secretbox.overheadLength,t.sign=function(M,U){if(Li(M,U),U.length!==Ga)throw new Error("bad secret key size");var j=new Uint8Array(Ko+M.length);return ai(j,M,M.length,U),j},t.sign.open=function(M,U){if(Li(M,U),U.length!==Xs)throw new Error("bad public key size");var j=new Uint8Array(M.length),w=ln(j,M,M.length,U);if(w<0)return null;for(var W=new Uint8Array(w),le=0;le<W.length;le++)W[le]=j[le];return W},t.sign.detached=function(M,U){for(var j=t.sign(M,U),w=new Uint8Array(Ko),W=0;W<w.length;W++)w[W]=j[W];return w},t.sign.detached.verify=function(M,U,j){if(Li(M,U,j),U.length!==Ko)throw new Error("bad signature size");if(j.length!==Xs)throw new Error("bad public key size");var w=new Uint8Array(Ko+M.length),W=new Uint8Array(Ko+M.length),le;for(le=0;le<Ko;le++)w[le]=U[le];for(le=0;le<M.length;le++)w[le+Ko]=M[le];return ln(W,w,w.length,j)>=0},t.sign.keyPair=function(){var M=new Uint8Array(Xs),U=new Uint8Array(Ga);return Et(M,U),{publicKey:M,secretKey:U}},t.sign.keyPair.fromSecretKey=function(M){if(Li(M),M.length!==Ga)throw new Error("bad secret key size");for(var U=new Uint8Array(Xs),j=0;j<U.length;j++)U[j]=M[32+j];return{publicKey:U,secretKey:new Uint8Array(M)}},t.sign.keyPair.fromSeed=function(M){if(Li(M),M.length!==Jf)throw new Error("bad seed size");for(var U=new Uint8Array(Xs),j=new Uint8Array(Ga),w=0;w<32;w++)j[w]=M[w];return Et(U,j,!0),{publicKey:U,secretKey:j}},t.sign.publicKeyLength=Xs,t.sign.secretKeyLength=Ga,t.sign.seedLength=Jf,t.sign.signatureLength=Ko,t.hash=function(M){Li(M);var U=new Uint8Array(Qf);return gt(U,M,M.length),U},t.hash.hashLength=Qf,t.verify=function(M,U){return Li(M,U),M.length===0||U.length===0||M.length!==U.length?!1:m(M,0,U,0,M.length)===0},t.setPRNG=function(M){n=M},function(){var M=typeof self<"u"?self.crypto||self.msCrypto:null;if(M&&M.getRandomValues){var U=65536;t.setPRNG(function(j,w){var W,le=new Uint8Array(w);for(W=0;W<w;W+=U)M.getRandomValues(le.subarray(W,W+Math.min(w-W,U)));for(W=0;W<w;W++)j[W]=le[W];fh(le)})}else typeof Mx<"u"&&(M=fM(),M&&M.randomBytes&&t.setPRNG(function(j,w){var W,le=M.randomBytes(w);for(W=0;W<w;W++)j[W]=le[W];fh(le)}))}()})(typeof Z0<"u"&&Z0.exports?Z0.exports:self.nacl=self.nacl||{})});var _M=Wa((Up,f1)=>{"use strict";(function(t,e){"use strict";var n="1.0.40",r="",i="?",o="function",s="undefined",a="object",l="string",c="major",u="model",f="name",d="type",h="vendor",m="version",v="architecture",P="console",b="mobile",x="tablet",_="smarttv",T="wearable",k="embedded",$=500,V="Amazon",B="Apple",z="ASUS",ie="BlackBerry",J="Browser",H="Chrome",ce="Edge",ae="Firefox",ee="Google",F="Huawei",G="LG",D="Microsoft",N="Motorola",te="Opera",X="Samsung",Oe="Sharp",Ye="Sony",De="Xiaomi",It="Zebra",Bt="Facebook",zt="Chromium OS",ve="Mac OS",be=" Browser",ge=function(Et,Dt){var _t={};for(var mn in Et)Dt[mn]&&Dt[mn].length%2===0?_t[mn]=Dt[mn].concat(Et[mn]):_t[mn]=Et[mn];return _t},_e=function(Et){for(var Dt={},_t=0;_t<Et.length;_t++)Dt[Et[_t].toUpperCase()]=Et[_t];return Dt},Ae=function(Et,Dt){return typeof Et===l?$e(Dt).indexOf($e(Et))!==-1:!1},$e=function(Et){return Et.toLowerCase()},ke=function(Et){return typeof Et===l?Et.replace(/[^\d\.]/g,r).split(".")[0]:e},pt=function(Et,Dt){if(typeof Et===l)return Et=Et.replace(/^\s\s*/,r),typeof Dt===s?Et:Et.substring(0,$)},Zt=function(Et,Dt){for(var _t=0,mn,ai,Zr,ln,Mt,li;_t<Dt.length&&!Mt;){var zo=Dt[_t],qo=Dt[_t+1];for(mn=ai=0;mn<zo.length&&!Mt&&zo[mn];)if(Mt=zo[mn++].exec(Et),Mt)for(Zr=0;Zr<qo.length;Zr++)li=Mt[++ai],ln=qo[Zr],typeof ln===a&&ln.length>0?ln.length===2?typeof ln[1]==o?this[ln[0]]=ln[1].call(this,li):this[ln[0]]=ln[1]:ln.length===3?typeof ln[1]===o&&!(ln[1].exec&&ln[1].test)?this[ln[0]]=li?ln[1].call(this,li,ln[2]):e:this[ln[0]]=li?li.replace(ln[1],ln[2]):e:ln.length===4&&(this[ln[0]]=li?ln[3].call(this,li.replace(ln[1],ln[2])):e):this[ln]=li||e;_t+=2}},hn=function(Et,Dt){for(var _t in Dt)if(typeof Dt[_t]===a&&Dt[_t].length>0){for(var mn=0;mn<Dt[_t].length;mn++)if(Ae(Dt[_t][mn],Et))return _t===i?e:_t}else if(Ae(Dt[_t],Et))return _t===i?e:_t;return Dt.hasOwnProperty("*")?Dt["*"]:Et},gt={"1.0":"/8","1.2":"/1","1.3":"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"},Yn={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2","8.1":"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},Zn={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[m,[f,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[m,[f,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[f,m],[/opios[\/ ]+([\w\.]+)/i],[m,[f,te+" Mini"]],[/\bop(?:rg)?x\/([\w\.]+)/i],[m,[f,te+" GX"]],[/\bopr\/([\w\.]+)/i],[m,[f,te]],[/\bb[ai]*d(?:uhd|[ub]*[aekoprswx]{5,6})[\/ ]?([\w\.]+)/i],[m,[f,"Baidu"]],[/\b(?:mxbrowser|mxios|myie2)\/?([-\w\.]*)\b/i],[m,[f,"Maxthon"]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer|sleipnir)[\/ ]?([\w\.]*)/i,/(avant|iemobile|slim(?:browser|boat|jet))[\/ ]?([\d\.]*)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|duckduckgo|klar|helio|(?=comodo_)?dragon)\/([-\w\.]+)/i,/(heytap|ovi|115)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[f,m],[/quark(?:pc)?\/([-\w\.]+)/i],[m,[f,"Quark"]],[/\bddg\/([\w\.]+)/i],[m,[f,"DuckDuckGo"]],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[m,[f,"UC"+J]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i,/micromessenger\/([\w\.]+)/i],[m,[f,"WeChat"]],[/konqueror\/([\w\.]+)/i],[m,[f,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[m,[f,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[m,[f,"Yandex"]],[/slbrowser\/([\w\.]+)/i],[m,[f,"Smart Lenovo "+J]],[/(avast|avg)\/([\w\.]+)/i],[[f,/(.+)/,"$1 Secure "+J],m],[/\bfocus\/([\w\.]+)/i],[m,[f,ae+" Focus"]],[/\bopt\/([\w\.]+)/i],[m,[f,te+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[m,[f,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[m,[f,"Dolphin"]],[/coast\/([\w\.]+)/i],[m,[f,te+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[m,[f,"MIUI"+be]],[/fxios\/([\w\.-]+)/i],[m,[f,ae]],[/\bqihoobrowser\/?([\w\.]*)/i],[m,[f,"360"]],[/\b(qq)\/([\w\.]+)/i],[[f,/(.+)/,"$1Browser"],m],[/(oculus|sailfish|huawei|vivo|pico)browser\/([\w\.]+)/i],[[f,/(.+)/,"$1"+be],m],[/samsungbrowser\/([\w\.]+)/i],[m,[f,X+" Internet"]],[/metasr[\/ ]?([\d\.]+)/i],[m,[f,"Sogou Explorer"]],[/(sogou)mo\w+\/([\d\.]+)/i],[[f,"Sogou Mobile"],m],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|2345(?=browser|chrome|explorer))\w*[\/ ]?v?([\w\.]+)/i],[f,m],[/(lbbrowser|rekonq)/i,/\[(linkedin)app\]/i],[f],[/ome\/([\w\.]+) \w* ?(iron) saf/i,/ome\/([\w\.]+).+qihu (360)[es]e/i],[m,f],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[f,Bt],m],[/(Klarna)\/([\w\.]+)/i,/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(alipay)client\/([\w\.]+)/i,/(twitter)(?:and| f.+e\/([\w\.]+))/i,/(chromium|instagram|snapchat)[\/ ]([-\w\.]+)/i],[f,m],[/\bgsa\/([\w\.]+) .*safari\//i],[m,[f,"GSA"]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[m,[f,"TikTok"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[m,[f,H+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[f,H+" WebView"],m],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[m,[f,"Android "+J]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[f,m],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[m,[f,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[m,f],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[f,[m,hn,gt]],[/(webkit|khtml)\/([\w\.]+)/i],[f,m],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[f,"Netscape"],m],[/(wolvic|librewolf)\/([\w\.]+)/i],[f,m],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[m,[f,ae+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i],[f,[m,/_/g,"."]],[/(cobalt)\/([\w\.]+)/i],[f,[m,/master.|lts./,""]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[v,"amd64"]],[/(ia32(?=;))/i],[[v,$e]],[/((?:i[346]|x)86)[;\)]/i],[[v,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[v,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[v,"armhf"]],[/windows (ce|mobile); ppc;/i],[[v,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[v,/ower/,r,$e]],[/(sun4\w)[;\)]/i],[[v,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[v,$e]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[u,[h,X],[d,x]],[/\b((?:s[cgp]h|gt|sm)-(?![lr])\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]((?!sm-[lr])[-\w]+)/i,/sec-(sgh\w+)/i],[u,[h,X],[d,b]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[u,[h,B],[d,b]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[u,[h,B],[d,x]],[/(macintosh);/i],[u,[h,B]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[u,[h,Oe],[d,b]],[/(?:honor)([-\w ]+)[;\)]/i],[u,[h,"Honor"],[d,b]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[u,[h,F],[d,x]],[/(?:huawei)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[u,[h,F],[d,b]],[/\b(poco[\w ]+|m2\d{3}j\d\d[a-z]{2})(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/oid[^\)]+; (m?[12][0-389][01]\w{3,6}[c-y])( bui|; wv|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite|pro)?)(?: bui|\))/i],[[u,/_/g," "],[h,De],[d,b]],[/oid[^\)]+; (2\d{4}(283|rpbf)[cgl])( bui|\))/i,/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[u,/_/g," "],[h,De],[d,x]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[u,[h,"OPPO"],[d,b]],[/\b(opd2\d{3}a?) bui/i],[u,[h,"OPPO"],[d,x]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[u,[h,"Vivo"],[d,b]],[/\b(rmx[1-3]\d{3})(?: bui|;|\))/i],[u,[h,"Realme"],[d,b]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[u,[h,N],[d,b]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[u,[h,N],[d,x]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[u,[h,G],[d,x]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[u,[h,G],[d,b]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[u,[h,"Lenovo"],[d,x]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[u,/_/g," "],[h,"Nokia"],[d,b]],[/(pixel c)\b/i],[u,[h,ee],[d,x]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[u,[h,ee],[d,b]],[/droid.+; (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[u,[h,Ye],[d,b]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[u,"Xperia Tablet"],[h,Ye],[d,x]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[u,[h,"OnePlus"],[d,b]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo(?!bc)\w\w)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[u,[h,V],[d,x]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[u,/(.+)/g,"Fire Phone $1"],[h,V],[d,b]],[/(playbook);[-\w\),; ]+(rim)/i],[u,h,[d,x]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[u,[h,ie],[d,b]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[u,[h,z],[d,x]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[u,[h,z],[d,b]],[/(nexus 9)/i],[u,[h,"HTC"],[d,x]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[h,[u,/_/g," "],[d,b]],[/droid [\w\.]+; ((?:8[14]9[16]|9(?:0(?:48|60|8[01])|1(?:3[27]|66)|2(?:6[69]|9[56])|466))[gqswx])\w*(\)| bui)/i],[u,[h,"TCL"],[d,x]],[/(itel) ((\w+))/i],[[h,$e],u,[d,hn,{tablet:["p10001l","w7001"],"*":"mobile"}]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[u,[h,"Acer"],[d,x]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[u,[h,"Meizu"],[d,b]],[/; ((?:power )?armor(?:[\w ]{0,8}))(?: bui|\))/i],[u,[h,"Ulefone"],[d,b]],[/; (energy ?\w+)(?: bui|\))/i,/; energizer ([\w ]+)(?: bui|\))/i],[u,[h,"Energizer"],[d,b]],[/; cat (b35);/i,/; (b15q?|s22 flip|s48c|s62 pro)(?: bui|\))/i],[u,[h,"Cat"],[d,b]],[/((?:new )?andromax[\w- ]+)(?: bui|\))/i],[u,[h,"Smartfren"],[d,b]],[/droid.+; (a(?:015|06[35]|142p?))/i],[u,[h,"Nothing"],[d,b]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron|infinix|tecno|micromax|advan)[-_ ]?([-\w]*)/i,/; (imo) ((?!tab)[\w ]+?)(?: bui|\))/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[h,u,[d,b]],[/(imo) (tab \w+)/i,/(kobo)\s(ereader|touch)/i,/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[h,u,[d,x]],[/(surface duo)/i],[u,[h,D],[d,x]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[u,[h,"Fairphone"],[d,b]],[/(u304aa)/i],[u,[h,"AT&T"],[d,b]],[/\bsie-(\w*)/i],[u,[h,"Siemens"],[d,b]],[/\b(rct\w+) b/i],[u,[h,"RCA"],[d,x]],[/\b(venue[\d ]{2,7}) b/i],[u,[h,"Dell"],[d,x]],[/\b(q(?:mv|ta)\w+) b/i],[u,[h,"Verizon"],[d,x]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[u,[h,"Barnes & Noble"],[d,x]],[/\b(tm\d{3}\w+) b/i],[u,[h,"NuVision"],[d,x]],[/\b(k88) b/i],[u,[h,"ZTE"],[d,x]],[/\b(nx\d{3}j) b/i],[u,[h,"ZTE"],[d,b]],[/\b(gen\d{3}) b.+49h/i],[u,[h,"Swiss"],[d,b]],[/\b(zur\d{3}) b/i],[u,[h,"Swiss"],[d,x]],[/\b((zeki)?tb.*\b) b/i],[u,[h,"Zeki"],[d,x]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[h,"Dragon Touch"],u,[d,x]],[/\b(ns-?\w{0,9}) b/i],[u,[h,"Insignia"],[d,x]],[/\b((nxa|next)-?\w{0,9}) b/i],[u,[h,"NextBook"],[d,x]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[h,"Voice"],u,[d,b]],[/\b(lvtel\-)?(v1[12]) b/i],[[h,"LvTel"],u,[d,b]],[/\b(ph-1) /i],[u,[h,"Essential"],[d,b]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[u,[h,"Envizen"],[d,x]],[/\b(trio[-\w\. ]+) b/i],[u,[h,"MachSpeed"],[d,x]],[/\btu_(1491) b/i],[u,[h,"Rotor"],[d,x]],[/(shield[\w ]+) b/i],[u,[h,"Nvidia"],[d,x]],[/(sprint) (\w+)/i],[h,u,[d,b]],[/(kin\.[onetw]{3})/i],[[u,/\./g," "],[h,D],[d,b]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[u,[h,It],[d,x]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[u,[h,It],[d,b]],[/smart-tv.+(samsung)/i],[h,[d,_]],[/hbbtv.+maple;(\d+)/i],[[u,/^/,"SmartTV"],[h,X],[d,_]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[h,G],[d,_]],[/(apple) ?tv/i],[h,[u,B+" TV"],[d,_]],[/crkey/i],[[u,H+"cast"],[h,ee],[d,_]],[/droid.+aft(\w+)( bui|\))/i],[u,[h,V],[d,_]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[u,[h,Oe],[d,_]],[/(bravia[\w ]+)( bui|\))/i],[u,[h,Ye],[d,_]],[/(mitv-\w{5}) bui/i],[u,[h,De],[d,_]],[/Hbbtv.*(technisat) (.*);/i],[h,u,[d,_]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[h,pt],[u,pt],[d,_]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[d,_]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[h,u,[d,P]],[/droid.+; (shield) bui/i],[u,[h,"Nvidia"],[d,P]],[/(playstation [345portablevi]+)/i],[u,[h,Ye],[d,P]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[u,[h,D],[d,P]],[/\b(sm-[lr]\d\d[05][fnuw]?s?)\b/i],[u,[h,X],[d,T]],[/((pebble))app/i],[h,u,[d,T]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[u,[h,B],[d,T]],[/droid.+; (glass) \d/i],[u,[h,ee],[d,T]],[/droid.+; (wt63?0{2,3})\)/i],[u,[h,It],[d,T]],[/droid.+; (glass) \d/i],[u,[h,ee],[d,T]],[/(pico) (4|neo3(?: link|pro)?)/i],[h,u,[d,T]],[/; (quest( \d| pro)?)/i],[u,[h,Bt],[d,T]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[h,[d,k]],[/(aeobc)\b/i],[u,[h,V],[d,k]],[/droid .+?; ([^;]+?)(?: bui|; wv\)|\) applew).+? mobile safari/i],[u,[d,b]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[u,[d,x]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[d,x]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[d,b]],[/(android[-\w\. ]{0,9});.+buil/i],[u,[h,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[m,[f,ce+"HTML"]],[/(arkweb)\/([\w\.]+)/i],[f,m],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[m,[f,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna|servo)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[f,m],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[m,f]],os:[[/microsoft (windows) (vista|xp)/i],[f,m],[/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i],[f,[m,hn,Yn]],[/windows nt 6\.2; (arm)/i,/windows[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i,/(?:win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[m,hn,Yn],[f,"Windows"]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/(?:ios;fbsv\/|iphone.+ios[\/ ])([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[m,/_/g,"."],[f,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[f,ve],[m,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[m,f],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish|openharmony)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[f,m],[/\(bb(10);/i],[m,[f,ie]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[m,[f,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[m,[f,ae+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[m,[f,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[m,[f,"watchOS"]],[/crkey\/([\d\.]+)/i],[m,[f,H+"cast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[f,zt],m],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[f,m],[/(sunos) ?([\w\.\d]*)/i],[[f,"Solaris"],m],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[f,m]]},kn=function(Et,Dt){if(typeof Et===a&&(Dt=Et,Et=e),!(this instanceof kn))return new kn(Et,Dt).getResult();var _t=typeof t!==s&&t.navigator?t.navigator:e,mn=Et||(_t&&_t.userAgent?_t.userAgent:r),ai=_t&&_t.userAgentData?_t.userAgentData:e,Zr=Dt?ge(Zn,Dt):Zn,ln=_t&&_t.userAgent==mn;return this.getBrowser=function(){var Mt={};return Mt[f]=e,Mt[m]=e,Zt.call(Mt,mn,Zr.browser),Mt[c]=ke(Mt[m]),ln&&_t&&_t.brave&&typeof _t.brave.isBrave==o&&(Mt[f]="Brave"),Mt},this.getCPU=function(){var Mt={};return Mt[v]=e,Zt.call(Mt,mn,Zr.cpu),Mt},this.getDevice=function(){var Mt={};return Mt[h]=e,Mt[u]=e,Mt[d]=e,Zt.call(Mt,mn,Zr.device),ln&&!Mt[d]&&ai&&ai.mobile&&(Mt[d]=b),ln&&Mt[u]=="Macintosh"&&_t&&typeof _t.standalone!==s&&_t.maxTouchPoints&&_t.maxTouchPoints>2&&(Mt[u]="iPad",Mt[d]=x),Mt},this.getEngine=function(){var Mt={};return Mt[f]=e,Mt[m]=e,Zt.call(Mt,mn,Zr.engine),Mt},this.getOS=function(){var Mt={};return Mt[f]=e,Mt[m]=e,Zt.call(Mt,mn,Zr.os),ln&&!Mt[f]&&ai&&ai.platform&&ai.platform!="Unknown"&&(Mt[f]=ai.platform.replace(/chrome os/i,zt).replace(/macos/i,ve)),Mt},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return mn},this.setUA=function(Mt){return mn=typeof Mt===l&&Mt.length>$?pt(Mt,$):Mt,this},this.setUA(mn),this};kn.VERSION=n,kn.BROWSER=_e([f,m,c]),kn.CPU=_e([v]),kn.DEVICE=_e([u,h,d,P,b,_,x,T,k]),kn.ENGINE=kn.OS=_e([f,m]),typeof Up!==s?(typeof f1!==s&&f1.exports&&(Up=f1.exports=kn),Up.UAParser=kn):typeof define===o&&define.amd?define(function(){return kn}):typeof t!==s&&(t.UAParser=kn);var Ir=typeof t!==s&&(t.jQuery||t.Zepto);if(Ir&&!Ir.ua){var Cr=new kn;Ir.ua=Cr.getResult(),Ir.ua.get=function(){return Cr.getUA()},Ir.ua.set=function(Et){Cr.setUA(Et);var Dt=Cr.getResult();for(var _t in Dt)Ir.ua[_t]=Dt[_t]}}})(typeof window=="object"?window:Up)});var TM=Wa((V3e,EM)=>{"use strict";var iH=function(e){return oH(e)&&!sH(e)};function oH(t){return!!t&&typeof t=="object"}function sH(t){var e=Object.prototype.toString.call(t);return e==="[object RegExp]"||e==="[object Date]"||cH(t)}var aH=typeof Symbol=="function"&&Symbol.for,lH=aH?Symbol.for("react.element"):60103;function cH(t){return t.$$typeof===lH}function uH(t){return Array.isArray(t)?[]:{}}function Gp(t,e){return e.clone!==!1&&e.isMergeableObject(t)?If(uH(t),t,e):t}function fH(t,e,n){return t.concat(e).map(function(r){return Gp(r,n)})}function dH(t,e){if(!e.customMerge)return If;var n=e.customMerge(t);return typeof n=="function"?n:If}function pH(t){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(t).filter(function(e){return Object.propertyIsEnumerable.call(t,e)}):[]}function xM(t){return Object.keys(t).concat(pH(t))}function SM(t,e){try{return e in t}catch{return!1}}function hH(t,e){return SM(t,e)&&!(Object.hasOwnProperty.call(t,e)&&Object.propertyIsEnumerable.call(t,e))}function mH(t,e,n){var r={};return n.isMergeableObject(t)&&xM(t).forEach(function(i){r[i]=Gp(t[i],n)}),xM(e).forEach(function(i){hH(t,i)||(SM(t,i)&&n.isMergeableObject(e[i])?r[i]=dH(i,n)(t[i],e[i],n):r[i]=Gp(e[i],n))}),r}function If(t,e,n){n=n||{},n.arrayMerge=n.arrayMerge||fH,n.isMergeableObject=n.isMergeableObject||iH,n.cloneUnlessOtherwiseSpecified=Gp;var r=Array.isArray(e),i=Array.isArray(t),o=r===i;return o?r?n.arrayMerge(t,e,n):mH(t,e,n):Gp(e,n)}If.all=function(e,n){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce(function(r,i){return If(r,i,n)},{})};var gH=If;EM.exports=gH});var IM=Wa(($3e,d1)=>{"use strict";(function(){"use strict";var t={}.hasOwnProperty;function e(){for(var i="",o=0;o<arguments.length;o++){var s=arguments[o];s&&(i=r(i,n(s)))}return i}function n(i){if(typeof i=="string"||typeof i=="number")return i;if(typeof i!="object")return"";if(Array.isArray(i))return e.apply(null,i);if(i.toString!==Object.prototype.toString&&!i.toString.toString().includes("[native code]"))return i.toString();var o="";for(var s in i)t.call(i,s)&&i[s]&&(o=r(o,s));return o}function r(i,o){return o?i?i+" "+o:i+o:i}typeof d1<"u"&&d1.exports?(e.default=e,d1.exports=e):typeof define=="function"&&typeof define.amd=="object"&&define.amd?define("classnames",[],function(){return e}):window.classNames=e})()});var O5=Wa((exports,module)=>{"use strict";typeof navigator<"u"&&function(t,e){typeof exports=="object"&&typeof module<"u"?module.exports=e():typeof define=="function"&&define.amd?define(e):(t=typeof globalThis<"u"?globalThis:t||self,t.lottie=e())}(exports,function(){"use strict";var svgNS="http://www.w3.org/2000/svg",locationHref="",_useWebWorker=!1,initialDefaultFrame=-999999,setWebWorker=function(e){_useWebWorker=!!e},getWebWorker=function(){return _useWebWorker},setLocationHref=function(e){locationHref=e},getLocationHref=function(){return locationHref};function createTag(t){return document.createElement(t)}function extendPrototype(t,e){var n,r=t.length,i;for(n=0;n<r;n+=1){i=t[n].prototype;for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e.prototype[o]=i[o])}}function getDescriptor(t,e){return Object.getOwnPropertyDescriptor(t,e)}function createProxyFunction(t){function e(){}return e.prototype=t,e}var audioControllerFactory=function(){function t(e){this.audios=[],this.audioFactory=e,this._volume=1,this._isMuted=!1}return t.prototype={addAudio:function(n){this.audios.push(n)},pause:function(){var n,r=this.audios.length;for(n=0;n<r;n+=1)this.audios[n].pause()},resume:function(){var n,r=this.audios.length;for(n=0;n<r;n+=1)this.audios[n].resume()},setRate:function(n){var r,i=this.audios.length;for(r=0;r<i;r+=1)this.audios[r].setRate(n)},createAudio:function(n){return this.audioFactory?this.audioFactory(n):window.Howl?new window.Howl({src:[n]}):{isPlaying:!1,play:function(){this.isPlaying=!0},seek:function(){this.isPlaying=!1},playing:function(){},rate:function(){},setVolume:function(){}}},setAudioFactory:function(n){this.audioFactory=n},setVolume:function(n){this._volume=n,this._updateVolume()},mute:function(){this._isMuted=!0,this._updateVolume()},unmute:function(){this._isMuted=!1,this._updateVolume()},getVolume:function(){return this._volume},_updateVolume:function(){var n,r=this.audios.length;for(n=0;n<r;n+=1)this.audios[n].volume(this._volume*(this._isMuted?0:1))}},function(){return new t}}(),createTypedArray=function(){function t(n,r){var i=0,o=[],s;switch(n){case"int16":case"uint8c":s=1;break;default:s=1.1;break}for(i=0;i<r;i+=1)o.push(s);return o}function e(n,r){return n==="float32"?new Float32Array(r):n==="int16"?new Int16Array(r):n==="uint8c"?new Uint8ClampedArray(r):t(n,r)}return typeof Uint8ClampedArray=="function"&&typeof Float32Array=="function"?e:t}();function createSizedArray(t){return Array.apply(null,{length:t})}function _typeof$6(t){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$6=function(n){return typeof n}:_typeof$6=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},_typeof$6(t)}var subframeEnabled=!0,expressionsPlugin=null,expressionsInterfaces=null,idPrefix$1="",isSafari=/^((?!chrome|android).)*safari/i.test(navigator.userAgent),_shouldRoundValues=!1,bmPow=Math.pow,bmSqrt=Math.sqrt,bmFloor=Math.floor,bmMax=Math.max,bmMin=Math.min,BMMath={};(function(){var t=["abs","acos","acosh","asin","asinh","atan","atanh","atan2","ceil","cbrt","expm1","clz32","cos","cosh","exp","floor","fround","hypot","imul","log","log1p","log2","log10","max","min","pow","random","round","sign","sin","sinh","sqrt","tan","tanh","trunc","E","LN10","LN2","LOG10E","LOG2E","PI","SQRT1_2","SQRT2"],e,n=t.length;for(e=0;e<n;e+=1)BMMath[t[e]]=Math[t[e]]})();function ProjectInterface$1(){return{}}BMMath.random=Math.random,BMMath.abs=function(t){var e=_typeof$6(t);if(e==="object"&&t.length){var n=createSizedArray(t.length),r,i=t.length;for(r=0;r<i;r+=1)n[r]=Math.abs(t[r]);return n}return Math.abs(t)};var defaultCurveSegments=150,degToRads=Math.PI/180,roundCorner=.5519;function roundValues(t){_shouldRoundValues=!!t}function bmRnd(t){return _shouldRoundValues?Math.round(t):t}function styleDiv(t){t.style.position="absolute",t.style.top=0,t.style.left=0,t.style.display="block",t.style.transformOrigin="0 0",t.style.webkitTransformOrigin="0 0",t.style.backfaceVisibility="visible",t.style.webkitBackfaceVisibility="visible",t.style.transformStyle="preserve-3d",t.style.webkitTransformStyle="preserve-3d",t.style.mozTransformStyle="preserve-3d"}function BMEnterFrameEvent(t,e,n,r){this.type=t,this.currentTime=e,this.totalTime=n,this.direction=r<0?-1:1}function BMCompleteEvent(t,e){this.type=t,this.direction=e<0?-1:1}function BMCompleteLoopEvent(t,e,n,r){this.type=t,this.currentLoop=n,this.totalLoops=e,this.direction=r<0?-1:1}function BMSegmentStartEvent(t,e,n){this.type=t,this.firstFrame=e,this.totalFrames=n}function BMDestroyEvent(t,e){this.type=t,this.target=e}function BMRenderFrameErrorEvent(t,e){this.type="renderFrameError",this.nativeError=t,this.currentTime=e}function BMConfigErrorEvent(t){this.type="configError",this.nativeError=t}function BMAnimationConfigErrorEvent(t,e){this.type=t,this.nativeError=e}var createElementID=function(){var t=0;return function(){return t+=1,idPrefix$1+"__lottie_element_"+t}}();function HSVtoRGB(t,e,n){var r,i,o,s,a,l,c,u;switch(s=Math.floor(t*6),a=t*6-s,l=n*(1-e),c=n*(1-a*e),u=n*(1-(1-a)*e),s%6){case 0:r=n,i=u,o=l;break;case 1:r=c,i=n,o=l;break;case 2:r=l,i=n,o=u;break;case 3:r=l,i=c,o=n;break;case 4:r=u,i=l,o=n;break;case 5:r=n,i=l,o=c;break;default:break}return[r,i,o]}function RGBtoHSV(t,e,n){var r=Math.max(t,e,n),i=Math.min(t,e,n),o=r-i,s,a=r===0?0:o/r,l=r/255;switch(r){case i:s=0;break;case t:s=e-n+o*(e<n?6:0),s/=6*o;break;case e:s=n-t+o*2,s/=6*o;break;case n:s=t-e+o*4,s/=6*o;break;default:break}return[s,a,l]}function addSaturationToRGB(t,e){var n=RGBtoHSV(t[0]*255,t[1]*255,t[2]*255);return n[1]+=e,n[1]>1?n[1]=1:n[1]<=0&&(n[1]=0),HSVtoRGB(n[0],n[1],n[2])}function addBrightnessToRGB(t,e){var n=RGBtoHSV(t[0]*255,t[1]*255,t[2]*255);return n[2]+=e,n[2]>1?n[2]=1:n[2]<0&&(n[2]=0),HSVtoRGB(n[0],n[1],n[2])}function addHueToRGB(t,e){var n=RGBtoHSV(t[0]*255,t[1]*255,t[2]*255);return n[0]+=e/360,n[0]>1?n[0]-=1:n[0]<0&&(n[0]+=1),HSVtoRGB(n[0],n[1],n[2])}var rgbToHex=function(){var t=[],e,n;for(e=0;e<256;e+=1)n=e.toString(16),t[e]=n.length===1?"0"+n:n;return function(r,i,o){return r<0&&(r=0),i<0&&(i=0),o<0&&(o=0),"#"+t[r]+t[i]+t[o]}}(),setSubframeEnabled=function(e){subframeEnabled=!!e},getSubframeEnabled=function(){return subframeEnabled},setExpressionsPlugin=function(e){expressionsPlugin=e},getExpressionsPlugin=function(){return expressionsPlugin},setExpressionInterfaces=function(e){expressionsInterfaces=e},getExpressionInterfaces=function(){return expressionsInterfaces},setDefaultCurveSegments=function(e){defaultCurveSegments=e},getDefaultCurveSegments=function(){return defaultCurveSegments},setIdPrefix=function(e){idPrefix$1=e},getIdPrefix=function(){return idPrefix$1};function createNS(t){return document.createElementNS(svgNS,t)}function _typeof$5(t){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$5=function(n){return typeof n}:_typeof$5=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},_typeof$5(t)}var dataManager=function(){var t=1,e=[],n,r,i={onmessage:function(){},postMessage:function(h){n({data:h})}},o={postMessage:function(h){i.onmessage({data:h})}};function s(d){if(window.Worker&&window.Blob&&getWebWorker()){var h=new Blob(["var _workerSelf = self; self.onmessage = ",d.toString()],{type:"text/javascript"}),m=URL.createObjectURL(h);return new Worker(m)}return n=d,i}function a(){r||(r=s(function(h){function m(){function P(ee,F){var G,D,N=ee.length,te,X,Oe,Ye;for(D=0;D<N;D+=1)if(G=ee[D],"ks"in G&&!G.completed){if(G.completed=!0,G.hasMask){var De=G.masksProperties;for(X=De.length,te=0;te<X;te+=1)if(De[te].pt.k.i)k(De[te].pt.k);else for(Ye=De[te].pt.k.length,Oe=0;Oe<Ye;Oe+=1)De[te].pt.k[Oe].s&&k(De[te].pt.k[Oe].s[0]),De[te].pt.k[Oe].e&&k(De[te].pt.k[Oe].e[0])}G.ty===0?(G.layers=_(G.refId,F),P(G.layers,F)):G.ty===4?T(G.shapes):G.ty===5&&ce(G)}}function b(ee,F){if(ee){var G=0,D=ee.length;for(G=0;G<D;G+=1)ee[G].t===1&&(ee[G].data.layers=_(ee[G].data.refId,F),P(ee[G].data.layers,F))}}function x(ee,F){for(var G=0,D=F.length;G<D;){if(F[G].id===ee)return F[G];G+=1}return null}function _(ee,F){var G=x(ee,F);return G?G.layers.__used?JSON.parse(JSON.stringify(G.layers)):(G.layers.__used=!0,G.layers):null}function T(ee){var F,G=ee.length,D,N;for(F=G-1;F>=0;F-=1)if(ee[F].ty==="sh")if(ee[F].ks.k.i)k(ee[F].ks.k);else for(N=ee[F].ks.k.length,D=0;D<N;D+=1)ee[F].ks.k[D].s&&k(ee[F].ks.k[D].s[0]),ee[F].ks.k[D].e&&k(ee[F].ks.k[D].e[0]);else ee[F].ty==="gr"&&T(ee[F].it)}function k(ee){var F,G=ee.i.length;for(F=0;F<G;F+=1)ee.i[F][0]+=ee.v[F][0],ee.i[F][1]+=ee.v[F][1],ee.o[F][0]+=ee.v[F][0],ee.o[F][1]+=ee.v[F][1]}function $(ee,F){var G=F?F.split("."):[100,100,100];return ee[0]>G[0]?!0:G[0]>ee[0]?!1:ee[1]>G[1]?!0:G[1]>ee[1]?!1:ee[2]>G[2]?!0:G[2]>ee[2]?!1:null}var V=function(){var ee=[4,4,14];function F(D){var N=D.t.d;D.t.d={k:[{s:N,t:0}]}}function G(D){var N,te=D.length;for(N=0;N<te;N+=1)D[N].ty===5&&F(D[N])}return function(D){if($(ee,D.v)&&(G(D.layers),D.assets)){var N,te=D.assets.length;for(N=0;N<te;N+=1)D.assets[N].layers&&G(D.assets[N].layers)}}}(),B=function(){var ee=[4,7,99];return function(F){if(F.chars&&!$(ee,F.v)){var G,D=F.chars.length;for(G=0;G<D;G+=1){var N=F.chars[G];N.data&&N.data.shapes&&(T(N.data.shapes),N.data.ip=0,N.data.op=99999,N.data.st=0,N.data.sr=1,N.data.ks={p:{k:[0,0],a:0},s:{k:[100,100],a:0},a:{k:[0,0],a:0},r:{k:0,a:0},o:{k:100,a:0}},F.chars[G].t||(N.data.shapes.push({ty:"no"}),N.data.shapes[0].it.push({p:{k:[0,0],a:0},s:{k:[100,100],a:0},a:{k:[0,0],a:0},r:{k:0,a:0},o:{k:100,a:0},sk:{k:0,a:0},sa:{k:0,a:0},ty:"tr"})))}}}}(),z=function(){var ee=[5,7,15];function F(D){var N=D.t.p;typeof N.a=="number"&&(N.a={a:0,k:N.a}),typeof N.p=="number"&&(N.p={a:0,k:N.p}),typeof N.r=="number"&&(N.r={a:0,k:N.r})}function G(D){var N,te=D.length;for(N=0;N<te;N+=1)D[N].ty===5&&F(D[N])}return function(D){if($(ee,D.v)&&(G(D.layers),D.assets)){var N,te=D.assets.length;for(N=0;N<te;N+=1)D.assets[N].layers&&G(D.assets[N].layers)}}}(),ie=function(){var ee=[4,1,9];function F(D){var N,te=D.length,X,Oe;for(N=0;N<te;N+=1)if(D[N].ty==="gr")F(D[N].it);else if(D[N].ty==="fl"||D[N].ty==="st")if(D[N].c.k&&D[N].c.k[0].i)for(Oe=D[N].c.k.length,X=0;X<Oe;X+=1)D[N].c.k[X].s&&(D[N].c.k[X].s[0]/=255,D[N].c.k[X].s[1]/=255,D[N].c.k[X].s[2]/=255,D[N].c.k[X].s[3]/=255),D[N].c.k[X].e&&(D[N].c.k[X].e[0]/=255,D[N].c.k[X].e[1]/=255,D[N].c.k[X].e[2]/=255,D[N].c.k[X].e[3]/=255);else D[N].c.k[0]/=255,D[N].c.k[1]/=255,D[N].c.k[2]/=255,D[N].c.k[3]/=255}function G(D){var N,te=D.length;for(N=0;N<te;N+=1)D[N].ty===4&&F(D[N].shapes)}return function(D){if($(ee,D.v)&&(G(D.layers),D.assets)){var N,te=D.assets.length;for(N=0;N<te;N+=1)D.assets[N].layers&&G(D.assets[N].layers)}}}(),J=function(){var ee=[4,4,18];function F(D){var N,te=D.length,X,Oe;for(N=te-1;N>=0;N-=1)if(D[N].ty==="sh")if(D[N].ks.k.i)D[N].ks.k.c=D[N].closed;else for(Oe=D[N].ks.k.length,X=0;X<Oe;X+=1)D[N].ks.k[X].s&&(D[N].ks.k[X].s[0].c=D[N].closed),D[N].ks.k[X].e&&(D[N].ks.k[X].e[0].c=D[N].closed);else D[N].ty==="gr"&&F(D[N].it)}function G(D){var N,te,X=D.length,Oe,Ye,De,It;for(te=0;te<X;te+=1){if(N=D[te],N.hasMask){var Bt=N.masksProperties;for(Ye=Bt.length,Oe=0;Oe<Ye;Oe+=1)if(Bt[Oe].pt.k.i)Bt[Oe].pt.k.c=Bt[Oe].cl;else for(It=Bt[Oe].pt.k.length,De=0;De<It;De+=1)Bt[Oe].pt.k[De].s&&(Bt[Oe].pt.k[De].s[0].c=Bt[Oe].cl),Bt[Oe].pt.k[De].e&&(Bt[Oe].pt.k[De].e[0].c=Bt[Oe].cl)}N.ty===4&&F(N.shapes)}}return function(D){if($(ee,D.v)&&(G(D.layers),D.assets)){var N,te=D.assets.length;for(N=0;N<te;N+=1)D.assets[N].layers&&G(D.assets[N].layers)}}}();function H(ee){ee.__complete||(ie(ee),V(ee),B(ee),z(ee),J(ee),P(ee.layers,ee.assets),b(ee.chars,ee.assets),ee.__complete=!0)}function ce(ee){ee.t.a.length===0&&"m"in ee.t.p}var ae={};return ae.completeData=H,ae.checkColors=ie,ae.checkChars=B,ae.checkPathProperties=z,ae.checkShapes=J,ae.completeLayers=P,ae}if(o.dataManager||(o.dataManager=m()),o.assetLoader||(o.assetLoader=function(){function P(x){var _=x.getResponseHeader("content-type");return _&&x.responseType==="json"&&_.indexOf("json")!==-1||x.response&&_typeof$5(x.response)==="object"?x.response:x.response&&typeof x.response=="string"?JSON.parse(x.response):x.responseText?JSON.parse(x.responseText):null}function b(x,_,T,k){var $,V=new XMLHttpRequest;try{V.responseType="json"}catch{}V.onreadystatechange=function(){if(V.readyState===4)if(V.status===200)$=P(V),T($);else try{$=P(V),T($)}catch(B){k&&k(B)}};try{V.open(["G","E","T"].join(""),x,!0)}catch{V.open(["G","E","T"].join(""),_+"/"+x,!0)}V.send()}return{load:b}}()),h.data.type==="loadAnimation")o.assetLoader.load(h.data.path,h.data.fullPath,function(P){o.dataManager.completeData(P),o.postMessage({id:h.data.id,payload:P,status:"success"})},function(){o.postMessage({id:h.data.id,status:"error"})});else if(h.data.type==="complete"){var v=h.data.animation;o.dataManager.completeData(v),o.postMessage({id:h.data.id,payload:v,status:"success"})}else h.data.type==="loadData"&&o.assetLoader.load(h.data.path,h.data.fullPath,function(P){o.postMessage({id:h.data.id,payload:P,status:"success"})},function(){o.postMessage({id:h.data.id,status:"error"})})}),r.onmessage=function(d){var h=d.data,m=h.id,v=e[m];e[m]=null,h.status==="success"?v.onComplete(h.payload):v.onError&&v.onError()})}function l(d,h){t+=1;var m="processId_"+t;return e[m]={onComplete:d,onError:h},m}function c(d,h,m){a();var v=l(h,m);r.postMessage({type:"loadAnimation",path:d,fullPath:window.location.origin+window.location.pathname,id:v})}function u(d,h,m){a();var v=l(h,m);r.postMessage({type:"loadData",path:d,fullPath:window.location.origin+window.location.pathname,id:v})}function f(d,h,m){a();var v=l(h,m);r.postMessage({type:"complete",animation:d,id:v})}return{loadAnimation:c,loadData:u,completeAnimation:f}}(),ImagePreloader=function(){var t=function(){var b=createTag("canvas");b.width=1,b.height=1;var x=b.getContext("2d");return x.fillStyle="rgba(0,0,0,0)",x.fillRect(0,0,1,1),b}();function e(){this.loadedAssets+=1,this.loadedAssets===this.totalImages&&this.loadedFootagesCount===this.totalFootages&&this.imagesLoadedCb&&this.imagesLoadedCb(null)}function n(){this.loadedFootagesCount+=1,this.loadedAssets===this.totalImages&&this.loadedFootagesCount===this.totalFootages&&this.imagesLoadedCb&&this.imagesLoadedCb(null)}function r(b,x,_){var T="";if(b.e)T=b.p;else if(x){var k=b.p;k.indexOf("images/")!==-1&&(k=k.split("/")[1]),T=x+k}else T=_,T+=b.u?b.u:"",T+=b.p;return T}function i(b){var x=0,_=setInterval(function(){var T=b.getBBox();(T.width||x>500)&&(this._imageLoaded(),clearInterval(_)),x+=1}.bind(this),50)}function o(b){var x=r(b,this.assetsPath,this.path),_=createNS("image");isSafari?this.testImageLoaded(_):_.addEventListener("load",this._imageLoaded,!1),_.addEventListener("error",function(){T.img=t,this._imageLoaded()}.bind(this),!1),_.setAttributeNS("http://www.w3.org/1999/xlink","href",x),this._elementHelper.append?this._elementHelper.append(_):this._elementHelper.appendChild(_);var T={img:_,assetData:b};return T}function s(b){var x=r(b,this.assetsPath,this.path),_=createTag("img");_.crossOrigin="anonymous",_.addEventListener("load",this._imageLoaded,!1),_.addEventListener("error",function(){T.img=t,this._imageLoaded()}.bind(this),!1),_.src=x;var T={img:_,assetData:b};return T}function a(b){var x={assetData:b},_=r(b,this.assetsPath,this.path);return dataManager.loadData(_,function(T){x.img=T,this._footageLoaded()}.bind(this),function(){x.img={},this._footageLoaded()}.bind(this)),x}function l(b,x){this.imagesLoadedCb=x;var _,T=b.length;for(_=0;_<T;_+=1)b[_].layers||(!b[_].t||b[_].t==="seq"?(this.totalImages+=1,this.images.push(this._createImageData(b[_]))):b[_].t===3&&(this.totalFootages+=1,this.images.push(this.createFootageData(b[_]))))}function c(b){this.path=b||""}function u(b){this.assetsPath=b||""}function f(b){for(var x=0,_=this.images.length;x<_;){if(this.images[x].assetData===b)return this.images[x].img;x+=1}return null}function d(){this.imagesLoadedCb=null,this.images.length=0}function h(){return this.totalImages===this.loadedAssets}function m(){return this.totalFootages===this.loadedFootagesCount}function v(b,x){b==="svg"?(this._elementHelper=x,this._createImageData=this.createImageData.bind(this)):this._createImageData=this.createImgData.bind(this)}function P(){this._imageLoaded=e.bind(this),this._footageLoaded=n.bind(this),this.testImageLoaded=i.bind(this),this.createFootageData=a.bind(this),this.assetsPath="",this.path="",this.totalImages=0,this.totalFootages=0,this.loadedAssets=0,this.loadedFootagesCount=0,this.imagesLoadedCb=null,this.images=[]}return P.prototype={loadAssets:l,setAssetsPath:u,setPath:c,loadedImages:h,loadedFootages:m,destroy:d,getAsset:f,createImgData:s,createImageData:o,imageLoaded:e,footageLoaded:n,setCacheType:v},P}();function BaseEvent(){}BaseEvent.prototype={triggerEvent:function(e,n){if(this._cbs[e])for(var r=this._cbs[e],i=0;i<r.length;i+=1)r[i](n)},addEventListener:function(e,n){return this._cbs[e]||(this._cbs[e]=[]),this._cbs[e].push(n),function(){this.removeEventListener(e,n)}.bind(this)},removeEventListener:function(e,n){if(!n)this._cbs[e]=null;else if(this._cbs[e]){for(var r=0,i=this._cbs[e].length;r<i;)this._cbs[e][r]===n&&(this._cbs[e].splice(r,1),r-=1,i-=1),r+=1;this._cbs[e].length||(this._cbs[e]=null)}}};var markerParser=function(){function t(e){for(var n=e.split(`\r
`),r={},i,o=0,s=0;s<n.length;s+=1)i=n[s].split(":"),i.length===2&&(r[i[0]]=i[1].trim(),o+=1);if(o===0)throw new Error;return r}return function(e){for(var n=[],r=0;r<e.length;r+=1){var i=e[r],o={time:i.tm,duration:i.dr};try{o.payload=JSON.parse(e[r].cm)}catch{try{o.payload=t(e[r].cm)}catch{o.payload={name:e[r].cm}}}n.push(o)}return n}}(),ProjectInterface=function(){function t(e){this.compositions.push(e)}return function(){function e(n){for(var r=0,i=this.compositions.length;r<i;){if(this.compositions[r].data&&this.compositions[r].data.nm===n)return this.compositions[r].prepareFrame&&this.compositions[r].data.xt&&this.compositions[r].prepareFrame(this.currentFrame),this.compositions[r].compInterface;r+=1}return null}return e.compositions=[],e.currentFrame=0,e.registerComposition=t,e}}(),renderers={},registerRenderer=function(e,n){renderers[e]=n};function getRenderer(t){return renderers[t]}function getRegisteredRenderer(){if(renderers.canvas)return"canvas";for(var t in renderers)if(renderers[t])return t;return""}function _typeof$4(t){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$4=function(n){return typeof n}:_typeof$4=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},_typeof$4(t)}var AnimationItem=function(){this._cbs=[],this.name="",this.path="",this.isLoaded=!1,this.currentFrame=0,this.currentRawFrame=0,this.firstFrame=0,this.totalFrames=0,this.frameRate=0,this.frameMult=0,this.playSpeed=1,this.playDirection=1,this.playCount=0,this.animationData={},this.assets=[],this.isPaused=!0,this.autoplay=!1,this.loop=!0,this.renderer=null,this.animationID=createElementID(),this.assetsPath="",this.timeCompleted=0,this.segmentPos=0,this.isSubframeEnabled=getSubframeEnabled(),this.segments=[],this._idle=!0,this._completedLoop=!1,this.projectInterface=ProjectInterface(),this.imagePreloader=new ImagePreloader,this.audioController=audioControllerFactory(),this.markers=[],this.configAnimation=this.configAnimation.bind(this),this.onSetupError=this.onSetupError.bind(this),this.onSegmentComplete=this.onSegmentComplete.bind(this),this.drawnFrameEvent=new BMEnterFrameEvent("drawnFrame",0,0,0),this.expressionsPlugin=getExpressionsPlugin()};extendPrototype([BaseEvent],AnimationItem),AnimationItem.prototype.setParams=function(t){(t.wrapper||t.container)&&(this.wrapper=t.wrapper||t.container);var e="svg";t.animType?e=t.animType:t.renderer&&(e=t.renderer);var n=getRenderer(e);this.renderer=new n(this,t.rendererSettings),this.imagePreloader.setCacheType(e,this.renderer.globalData.defs),this.renderer.setProjectInterface(this.projectInterface),this.animType=e,t.loop===""||t.loop===null||t.loop===void 0||t.loop===!0?this.loop=!0:t.loop===!1?this.loop=!1:this.loop=parseInt(t.loop,10),this.autoplay="autoplay"in t?t.autoplay:!0,this.name=t.name?t.name:"",this.autoloadSegments=Object.prototype.hasOwnProperty.call(t,"autoloadSegments")?t.autoloadSegments:!0,this.assetsPath=t.assetsPath,this.initialSegment=t.initialSegment,t.audioFactory&&this.audioController.setAudioFactory(t.audioFactory),t.animationData?this.setupAnimation(t.animationData):t.path&&(t.path.lastIndexOf("\\")!==-1?this.path=t.path.substr(0,t.path.lastIndexOf("\\")+1):this.path=t.path.substr(0,t.path.lastIndexOf("/")+1),this.fileName=t.path.substr(t.path.lastIndexOf("/")+1),this.fileName=this.fileName.substr(0,this.fileName.lastIndexOf(".json")),dataManager.loadAnimation(t.path,this.configAnimation,this.onSetupError))},AnimationItem.prototype.onSetupError=function(){this.trigger("data_failed")},AnimationItem.prototype.setupAnimation=function(t){dataManager.completeAnimation(t,this.configAnimation)},AnimationItem.prototype.setData=function(t,e){e&&_typeof$4(e)!=="object"&&(e=JSON.parse(e));var n={wrapper:t,animationData:e},r=t.attributes;n.path=r.getNamedItem("data-animation-path")?r.getNamedItem("data-animation-path").value:r.getNamedItem("data-bm-path")?r.getNamedItem("data-bm-path").value:r.getNamedItem("bm-path")?r.getNamedItem("bm-path").value:"",n.animType=r.getNamedItem("data-anim-type")?r.getNamedItem("data-anim-type").value:r.getNamedItem("data-bm-type")?r.getNamedItem("data-bm-type").value:r.getNamedItem("bm-type")?r.getNamedItem("bm-type").value:r.getNamedItem("data-bm-renderer")?r.getNamedItem("data-bm-renderer").value:r.getNamedItem("bm-renderer")?r.getNamedItem("bm-renderer").value:getRegisteredRenderer()||"canvas";var i=r.getNamedItem("data-anim-loop")?r.getNamedItem("data-anim-loop").value:r.getNamedItem("data-bm-loop")?r.getNamedItem("data-bm-loop").value:r.getNamedItem("bm-loop")?r.getNamedItem("bm-loop").value:"";i==="false"?n.loop=!1:i==="true"?n.loop=!0:i!==""&&(n.loop=parseInt(i,10));var o=r.getNamedItem("data-anim-autoplay")?r.getNamedItem("data-anim-autoplay").value:r.getNamedItem("data-bm-autoplay")?r.getNamedItem("data-bm-autoplay").value:r.getNamedItem("bm-autoplay")?r.getNamedItem("bm-autoplay").value:!0;n.autoplay=o!=="false",n.name=r.getNamedItem("data-name")?r.getNamedItem("data-name").value:r.getNamedItem("data-bm-name")?r.getNamedItem("data-bm-name").value:r.getNamedItem("bm-name")?r.getNamedItem("bm-name").value:"";var s=r.getNamedItem("data-anim-prerender")?r.getNamedItem("data-anim-prerender").value:r.getNamedItem("data-bm-prerender")?r.getNamedItem("data-bm-prerender").value:r.getNamedItem("bm-prerender")?r.getNamedItem("bm-prerender").value:"";s==="false"&&(n.prerender=!1),n.path?this.setParams(n):this.trigger("destroy")},AnimationItem.prototype.includeLayers=function(t){t.op>this.animationData.op&&(this.animationData.op=t.op,this.totalFrames=Math.floor(t.op-this.animationData.ip));var e=this.animationData.layers,n,r=e.length,i=t.layers,o,s=i.length;for(o=0;o<s;o+=1)for(n=0;n<r;){if(e[n].id===i[o].id){e[n]=i[o];break}n+=1}if((t.chars||t.fonts)&&(this.renderer.globalData.fontManager.addChars(t.chars),this.renderer.globalData.fontManager.addFonts(t.fonts,this.renderer.globalData.defs)),t.assets)for(r=t.assets.length,n=0;n<r;n+=1)this.animationData.assets.push(t.assets[n]);this.animationData.__complete=!1,dataManager.completeAnimation(this.animationData,this.onSegmentComplete)},AnimationItem.prototype.onSegmentComplete=function(t){this.animationData=t;var e=getExpressionsPlugin();e&&e.initExpressions(this),this.loadNextSegment()},AnimationItem.prototype.loadNextSegment=function(){var t=this.animationData.segments;if(!t||t.length===0||!this.autoloadSegments){this.trigger("data_ready"),this.timeCompleted=this.totalFrames;return}var e=t.shift();this.timeCompleted=e.time*this.frameRate;var n=this.path+this.fileName+"_"+this.segmentPos+".json";this.segmentPos+=1,dataManager.loadData(n,this.includeLayers.bind(this),function(){this.trigger("data_failed")}.bind(this))},AnimationItem.prototype.loadSegments=function(){var t=this.animationData.segments;t||(this.timeCompleted=this.totalFrames),this.loadNextSegment()},AnimationItem.prototype.imagesLoaded=function(){this.trigger("loaded_images"),this.checkLoaded()},AnimationItem.prototype.preloadImages=function(){this.imagePreloader.setAssetsPath(this.assetsPath),this.imagePreloader.setPath(this.path),this.imagePreloader.loadAssets(this.animationData.assets,this.imagesLoaded.bind(this))},AnimationItem.prototype.configAnimation=function(t){if(this.renderer)try{this.animationData=t,this.initialSegment?(this.totalFrames=Math.floor(this.initialSegment[1]-this.initialSegment[0]),this.firstFrame=Math.round(this.initialSegment[0])):(this.totalFrames=Math.floor(this.animationData.op-this.animationData.ip),this.firstFrame=Math.round(this.animationData.ip)),this.renderer.configAnimation(t),t.assets||(t.assets=[]),this.assets=this.animationData.assets,this.frameRate=this.animationData.fr,this.frameMult=this.animationData.fr/1e3,this.renderer.searchExtraCompositions(t.assets),this.markers=markerParser(t.markers||[]),this.trigger("config_ready"),this.preloadImages(),this.loadSegments(),this.updaFrameModifier(),this.waitForFontsLoaded(),this.isPaused&&this.audioController.pause()}catch(e){this.triggerConfigError(e)}},AnimationItem.prototype.waitForFontsLoaded=function(){this.renderer&&(this.renderer.globalData.fontManager.isLoaded?this.checkLoaded():setTimeout(this.waitForFontsLoaded.bind(this),20))},AnimationItem.prototype.checkLoaded=function(){if(!this.isLoaded&&this.renderer.globalData.fontManager.isLoaded&&(this.imagePreloader.loadedImages()||this.renderer.rendererType!=="canvas")&&this.imagePreloader.loadedFootages()){this.isLoaded=!0;var t=getExpressionsPlugin();t&&t.initExpressions(this),this.renderer.initItems(),setTimeout(function(){this.trigger("DOMLoaded")}.bind(this),0),this.gotoFrame(),this.autoplay&&this.play()}},AnimationItem.prototype.resize=function(t,e){var n=typeof t=="number"?t:void 0,r=typeof e=="number"?e:void 0;this.renderer.updateContainerSize(n,r)},AnimationItem.prototype.setSubframe=function(t){this.isSubframeEnabled=!!t},AnimationItem.prototype.gotoFrame=function(){this.currentFrame=this.isSubframeEnabled?this.currentRawFrame:~~this.currentRawFrame,this.timeCompleted!==this.totalFrames&&this.currentFrame>this.timeCompleted&&(this.currentFrame=this.timeCompleted),this.trigger("enterFrame"),this.renderFrame(),this.trigger("drawnFrame")},AnimationItem.prototype.renderFrame=function(){if(!(this.isLoaded===!1||!this.renderer))try{this.expressionsPlugin&&this.expressionsPlugin.resetFrame(),this.renderer.renderFrame(this.currentFrame+this.firstFrame)}catch(t){this.triggerRenderFrameError(t)}},AnimationItem.prototype.play=function(t){t&&this.name!==t||this.isPaused===!0&&(this.isPaused=!1,this.trigger("_play"),this.audioController.resume(),this._idle&&(this._idle=!1,this.trigger("_active")))},AnimationItem.prototype.pause=function(t){t&&this.name!==t||this.isPaused===!1&&(this.isPaused=!0,this.trigger("_pause"),this._idle=!0,this.trigger("_idle"),this.audioController.pause())},AnimationItem.prototype.togglePause=function(t){t&&this.name!==t||(this.isPaused===!0?this.play():this.pause())},AnimationItem.prototype.stop=function(t){t&&this.name!==t||(this.pause(),this.playCount=0,this._completedLoop=!1,this.setCurrentRawFrameValue(0))},AnimationItem.prototype.getMarkerData=function(t){for(var e,n=0;n<this.markers.length;n+=1)if(e=this.markers[n],e.payload&&e.payload.name===t)return e;return null},AnimationItem.prototype.goToAndStop=function(t,e,n){if(!(n&&this.name!==n)){var r=Number(t);if(isNaN(r)){var i=this.getMarkerData(t);i&&this.goToAndStop(i.time,!0)}else e?this.setCurrentRawFrameValue(t):this.setCurrentRawFrameValue(t*this.frameModifier);this.pause()}},AnimationItem.prototype.goToAndPlay=function(t,e,n){if(!(n&&this.name!==n)){var r=Number(t);if(isNaN(r)){var i=this.getMarkerData(t);i&&(i.duration?this.playSegments([i.time,i.time+i.duration],!0):this.goToAndStop(i.time,!0))}else this.goToAndStop(r,e,n);this.play()}},AnimationItem.prototype.advanceTime=function(t){if(!(this.isPaused===!0||this.isLoaded===!1)){var e=this.currentRawFrame+t*this.frameModifier,n=!1;e>=this.totalFrames-1&&this.frameModifier>0?!this.loop||this.playCount===this.loop?this.checkSegments(e>this.totalFrames?e%this.totalFrames:0)||(n=!0,e=this.totalFrames-1):e>=this.totalFrames?(this.playCount+=1,this.checkSegments(e%this.totalFrames)||(this.setCurrentRawFrameValue(e%this.totalFrames),this._completedLoop=!0,this.trigger("loopComplete"))):this.setCurrentRawFrameValue(e):e<0?this.checkSegments(e%this.totalFrames)||(this.loop&&!(this.playCount--<=0&&this.loop!==!0)?(this.setCurrentRawFrameValue(this.totalFrames+e%this.totalFrames),this._completedLoop?this.trigger("loopComplete"):this._completedLoop=!0):(n=!0,e=0)):this.setCurrentRawFrameValue(e),n&&(this.setCurrentRawFrameValue(e),this.pause(),this.trigger("complete"))}},AnimationItem.prototype.adjustSegment=function(t,e){this.playCount=0,t[1]<t[0]?(this.frameModifier>0&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(-1)),this.totalFrames=t[0]-t[1],this.timeCompleted=this.totalFrames,this.firstFrame=t[1],this.setCurrentRawFrameValue(this.totalFrames-.001-e)):t[1]>t[0]&&(this.frameModifier<0&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(1)),this.totalFrames=t[1]-t[0],this.timeCompleted=this.totalFrames,this.firstFrame=t[0],this.setCurrentRawFrameValue(.001+e)),this.trigger("segmentStart")},AnimationItem.prototype.setSegment=function(t,e){var n=-1;this.isPaused&&(this.currentRawFrame+this.firstFrame<t?n=t:this.currentRawFrame+this.firstFrame>e&&(n=e-t)),this.firstFrame=t,this.totalFrames=e-t,this.timeCompleted=this.totalFrames,n!==-1&&this.goToAndStop(n,!0)},AnimationItem.prototype.playSegments=function(t,e){if(e&&(this.segments.length=0),_typeof$4(t[0])==="object"){var n,r=t.length;for(n=0;n<r;n+=1)this.segments.push(t[n])}else this.segments.push(t);this.segments.length&&e&&this.adjustSegment(this.segments.shift(),0),this.isPaused&&this.play()},AnimationItem.prototype.resetSegments=function(t){this.segments.length=0,this.segments.push([this.animationData.ip,this.animationData.op]),t&&this.checkSegments(0)},AnimationItem.prototype.checkSegments=function(t){return this.segments.length?(this.adjustSegment(this.segments.shift(),t),!0):!1},AnimationItem.prototype.destroy=function(t){t&&this.name!==t||!this.renderer||(this.renderer.destroy(),this.imagePreloader.destroy(),this.trigger("destroy"),this._cbs=null,this.onEnterFrame=null,this.onLoopComplete=null,this.onComplete=null,this.onSegmentStart=null,this.onDestroy=null,this.renderer=null,this.expressionsPlugin=null,this.imagePreloader=null,this.projectInterface=null)},AnimationItem.prototype.setCurrentRawFrameValue=function(t){this.currentRawFrame=t,this.gotoFrame()},AnimationItem.prototype.setSpeed=function(t){this.playSpeed=t,this.updaFrameModifier()},AnimationItem.prototype.setDirection=function(t){this.playDirection=t<0?-1:1,this.updaFrameModifier()},AnimationItem.prototype.setLoop=function(t){this.loop=t},AnimationItem.prototype.setVolume=function(t,e){e&&this.name!==e||this.audioController.setVolume(t)},AnimationItem.prototype.getVolume=function(){return this.audioController.getVolume()},AnimationItem.prototype.mute=function(t){t&&this.name!==t||this.audioController.mute()},AnimationItem.prototype.unmute=function(t){t&&this.name!==t||this.audioController.unmute()},AnimationItem.prototype.updaFrameModifier=function(){this.frameModifier=this.frameMult*this.playSpeed*this.playDirection,this.audioController.setRate(this.playSpeed*this.playDirection)},AnimationItem.prototype.getPath=function(){return this.path},AnimationItem.prototype.getAssetsPath=function(t){var e="";if(t.e)e=t.p;else if(this.assetsPath){var n=t.p;n.indexOf("images/")!==-1&&(n=n.split("/")[1]),e=this.assetsPath+n}else e=this.path,e+=t.u?t.u:"",e+=t.p;return e},AnimationItem.prototype.getAssetData=function(t){for(var e=0,n=this.assets.length;e<n;){if(t===this.assets[e].id)return this.assets[e];e+=1}return null},AnimationItem.prototype.hide=function(){this.renderer.hide()},AnimationItem.prototype.show=function(){this.renderer.show()},AnimationItem.prototype.getDuration=function(t){return t?this.totalFrames:this.totalFrames/this.frameRate},AnimationItem.prototype.updateDocumentData=function(t,e,n){try{var r=this.renderer.getElementByPath(t);r.updateDocumentData(e,n)}catch{}},AnimationItem.prototype.trigger=function(t){if(this._cbs&&this._cbs[t])switch(t){case"enterFrame":this.triggerEvent(t,new BMEnterFrameEvent(t,this.currentFrame,this.totalFrames,this.frameModifier));break;case"drawnFrame":this.drawnFrameEvent.currentTime=this.currentFrame,this.drawnFrameEvent.totalTime=this.totalFrames,this.drawnFrameEvent.direction=this.frameModifier,this.triggerEvent(t,this.drawnFrameEvent);break;case"loopComplete":this.triggerEvent(t,new BMCompleteLoopEvent(t,this.loop,this.playCount,this.frameMult));break;case"complete":this.triggerEvent(t,new BMCompleteEvent(t,this.frameMult));break;case"segmentStart":this.triggerEvent(t,new BMSegmentStartEvent(t,this.firstFrame,this.totalFrames));break;case"destroy":this.triggerEvent(t,new BMDestroyEvent(t,this));break;default:this.triggerEvent(t)}t==="enterFrame"&&this.onEnterFrame&&this.onEnterFrame.call(this,new BMEnterFrameEvent(t,this.currentFrame,this.totalFrames,this.frameMult)),t==="loopComplete"&&this.onLoopComplete&&this.onLoopComplete.call(this,new BMCompleteLoopEvent(t,this.loop,this.playCount,this.frameMult)),t==="complete"&&this.onComplete&&this.onComplete.call(this,new BMCompleteEvent(t,this.frameMult)),t==="segmentStart"&&this.onSegmentStart&&this.onSegmentStart.call(this,new BMSegmentStartEvent(t,this.firstFrame,this.totalFrames)),t==="destroy"&&this.onDestroy&&this.onDestroy.call(this,new BMDestroyEvent(t,this))},AnimationItem.prototype.triggerRenderFrameError=function(t){var e=new BMRenderFrameErrorEvent(t,this.currentFrame);this.triggerEvent("error",e),this.onError&&this.onError.call(this,e)},AnimationItem.prototype.triggerConfigError=function(t){var e=new BMConfigErrorEvent(t,this.currentFrame);this.triggerEvent("error",e),this.onError&&this.onError.call(this,e)};var animationManager=function(){var t={},e=[],n=0,r=0,i=0,o=!0,s=!1;function a(F){for(var G=0,D=F.target;G<r;)e[G].animation===D&&(e.splice(G,1),G-=1,r-=1,D.isPaused||f()),G+=1}function l(F,G){if(!F)return null;for(var D=0;D<r;){if(e[D].elem===F&&e[D].elem!==null)return e[D].animation;D+=1}var N=new AnimationItem;return d(N,F),N.setData(F,G),N}function c(){var F,G=e.length,D=[];for(F=0;F<G;F+=1)D.push(e[F].animation);return D}function u(){i+=1,ie()}function f(){i-=1}function d(F,G){F.addEventListener("destroy",a),F.addEventListener("_active",u),F.addEventListener("_idle",f),e.push({elem:G,animation:F}),r+=1}function h(F){var G=new AnimationItem;return d(G,null),G.setParams(F),G}function m(F,G){var D;for(D=0;D<r;D+=1)e[D].animation.setSpeed(F,G)}function v(F,G){var D;for(D=0;D<r;D+=1)e[D].animation.setDirection(F,G)}function P(F){var G;for(G=0;G<r;G+=1)e[G].animation.play(F)}function b(F){var G=F-n,D;for(D=0;D<r;D+=1)e[D].animation.advanceTime(G);n=F,i&&!s?window.requestAnimationFrame(b):o=!0}function x(F){n=F,window.requestAnimationFrame(b)}function _(F){var G;for(G=0;G<r;G+=1)e[G].animation.pause(F)}function T(F,G,D){var N;for(N=0;N<r;N+=1)e[N].animation.goToAndStop(F,G,D)}function k(F){var G;for(G=0;G<r;G+=1)e[G].animation.stop(F)}function $(F){var G;for(G=0;G<r;G+=1)e[G].animation.togglePause(F)}function V(F){var G;for(G=r-1;G>=0;G-=1)e[G].animation.destroy(F)}function B(F,G,D){var N=[].concat([].slice.call(document.getElementsByClassName("lottie")),[].slice.call(document.getElementsByClassName("bodymovin"))),te,X=N.length;for(te=0;te<X;te+=1)D&&N[te].setAttribute("data-bm-type",D),l(N[te],F);if(G&&X===0){D||(D="svg");var Oe=document.getElementsByTagName("body")[0];Oe.innerText="";var Ye=createTag("div");Ye.style.width="100%",Ye.style.height="100%",Ye.setAttribute("data-bm-type",D),Oe.appendChild(Ye),l(Ye,F)}}function z(){var F;for(F=0;F<r;F+=1)e[F].animation.resize()}function ie(){!s&&i&&o&&(window.requestAnimationFrame(x),o=!1)}function J(){s=!0}function H(){s=!1,ie()}function ce(F,G){var D;for(D=0;D<r;D+=1)e[D].animation.setVolume(F,G)}function ae(F){var G;for(G=0;G<r;G+=1)e[G].animation.mute(F)}function ee(F){var G;for(G=0;G<r;G+=1)e[G].animation.unmute(F)}return t.registerAnimation=l,t.loadAnimation=h,t.setSpeed=m,t.setDirection=v,t.play=P,t.pause=_,t.stop=k,t.togglePause=$,t.searchAnimations=B,t.resize=z,t.goToAndStop=T,t.destroy=V,t.freeze=J,t.unfreeze=H,t.setVolume=ce,t.mute=ae,t.unmute=ee,t.getRegisteredAnimations=c,t}(),BezierFactory=function(){var t={};t.getBezierEasing=n;var e={};function n(x,_,T,k,$){var V=$||("bez_"+x+"_"+_+"_"+T+"_"+k).replace(/\./g,"p");if(e[V])return e[V];var B=new b([x,_,T,k]);return e[V]=B,B}var r=4,i=.001,o=1e-7,s=10,a=11,l=1/(a-1),c=typeof Float32Array=="function";function u(x,_){return 1-3*_+3*x}function f(x,_){return 3*_-6*x}function d(x){return 3*x}function h(x,_,T){return((u(_,T)*x+f(_,T))*x+d(_))*x}function m(x,_,T){return 3*u(_,T)*x*x+2*f(_,T)*x+d(_)}function v(x,_,T,k,$){var V,B,z=0;do B=_+(T-_)/2,V=h(B,k,$)-x,V>0?T=B:_=B;while(Math.abs(V)>o&&++z<s);return B}function P(x,_,T,k){for(var $=0;$<r;++$){var V=m(_,T,k);if(V===0)return _;var B=h(_,T,k)-x;_-=B/V}return _}function b(x){this._p=x,this._mSampleValues=c?new Float32Array(a):new Array(a),this._precomputed=!1,this.get=this.get.bind(this)}return b.prototype={get:function(_){var T=this._p[0],k=this._p[1],$=this._p[2],V=this._p[3];return this._precomputed||this._precompute(),T===k&&$===V?_:_===0?0:_===1?1:h(this._getTForX(_),k,V)},_precompute:function(){var _=this._p[0],T=this._p[1],k=this._p[2],$=this._p[3];this._precomputed=!0,(_!==T||k!==$)&&this._calcSampleValues()},_calcSampleValues:function(){for(var _=this._p[0],T=this._p[2],k=0;k<a;++k)this._mSampleValues[k]=h(k*l,_,T)},_getTForX:function(_){for(var T=this._p[0],k=this._p[2],$=this._mSampleValues,V=0,B=1,z=a-1;B!==z&&$[B]<=_;++B)V+=l;--B;var ie=(_-$[B])/($[B+1]-$[B]),J=V+ie*l,H=m(J,T,k);return H>=i?P(_,J,T,k):H===0?J:v(_,V,V+l,T,k)}},t}(),pooling=function(){function t(e){return e.concat(createSizedArray(e.length))}return{double:t}}(),poolFactory=function(){return function(t,e,n){var r=0,i=t,o=createSizedArray(i),s={newElement:a,release:l};function a(){var c;return r?(r-=1,c=o[r]):c=e(),c}function l(c){r===i&&(o=pooling.double(o),i*=2),n&&n(c),o[r]=c,r+=1}return s}}(),bezierLengthPool=function(){function t(){return{addedLength:0,percents:createTypedArray("float32",getDefaultCurveSegments()),lengths:createTypedArray("float32",getDefaultCurveSegments())}}return poolFactory(8,t)}(),segmentsLengthPool=function(){function t(){return{lengths:[],totalLength:0}}function e(n){var r,i=n.lengths.length;for(r=0;r<i;r+=1)bezierLengthPool.release(n.lengths[r]);n.lengths.length=0}return poolFactory(8,t,e)}();function bezFunction(){var t=Math;function e(d,h,m,v,P,b){var x=d*v+h*P+m*b-P*v-b*d-m*h;return x>-.001&&x<.001}function n(d,h,m,v,P,b,x,_,T){if(m===0&&b===0&&T===0)return e(d,h,v,P,x,_);var k=t.sqrt(t.pow(v-d,2)+t.pow(P-h,2)+t.pow(b-m,2)),$=t.sqrt(t.pow(x-d,2)+t.pow(_-h,2)+t.pow(T-m,2)),V=t.sqrt(t.pow(x-v,2)+t.pow(_-P,2)+t.pow(T-b,2)),B;return k>$?k>V?B=k-$-V:B=V-$-k:V>$?B=V-$-k:B=$-k-V,B>-1e-4&&B<1e-4}var r=function(){return function(d,h,m,v){var P=getDefaultCurveSegments(),b,x,_,T,k,$=0,V,B=[],z=[],ie=bezierLengthPool.newElement();for(_=m.length,b=0;b<P;b+=1){for(k=b/(P-1),V=0,x=0;x<_;x+=1)T=bmPow(1-k,3)*d[x]+3*bmPow(1-k,2)*k*m[x]+3*(1-k)*bmPow(k,2)*v[x]+bmPow(k,3)*h[x],B[x]=T,z[x]!==null&&(V+=bmPow(B[x]-z[x],2)),z[x]=B[x];V&&(V=bmSqrt(V),$+=V),ie.percents[b]=k,ie.lengths[b]=$}return ie.addedLength=$,ie}}();function i(d){var h=segmentsLengthPool.newElement(),m=d.c,v=d.v,P=d.o,b=d.i,x,_=d._length,T=h.lengths,k=0;for(x=0;x<_-1;x+=1)T[x]=r(v[x],v[x+1],P[x],b[x+1]),k+=T[x].addedLength;return m&&_&&(T[x]=r(v[x],v[0],P[x],b[0]),k+=T[x].addedLength),h.totalLength=k,h}function o(d){this.segmentLength=0,this.points=new Array(d)}function s(d,h){this.partialLength=d,this.point=h}var a=function(){var d={};return function(h,m,v,P){var b=(h[0]+"_"+h[1]+"_"+m[0]+"_"+m[1]+"_"+v[0]+"_"+v[1]+"_"+P[0]+"_"+P[1]).replace(/\./g,"p");if(!d[b]){var x=getDefaultCurveSegments(),_,T,k,$,V,B=0,z,ie,J=null;h.length===2&&(h[0]!==m[0]||h[1]!==m[1])&&e(h[0],h[1],m[0],m[1],h[0]+v[0],h[1]+v[1])&&e(h[0],h[1],m[0],m[1],m[0]+P[0],m[1]+P[1])&&(x=2);var H=new o(x);for(k=v.length,_=0;_<x;_+=1){for(ie=createSizedArray(k),V=_/(x-1),z=0,T=0;T<k;T+=1)$=bmPow(1-V,3)*h[T]+3*bmPow(1-V,2)*V*(h[T]+v[T])+3*(1-V)*bmPow(V,2)*(m[T]+P[T])+bmPow(V,3)*m[T],ie[T]=$,J!==null&&(z+=bmPow(ie[T]-J[T],2));z=bmSqrt(z),B+=z,H.points[_]=new s(z,ie),J=ie}H.segmentLength=B,d[b]=H}return d[b]}}();function l(d,h){var m=h.percents,v=h.lengths,P=m.length,b=bmFloor((P-1)*d),x=d*h.addedLength,_=0;if(b===P-1||b===0||x===v[b])return m[b];for(var T=v[b]>x?-1:1,k=!0;k;)if(v[b]<=x&&v[b+1]>x?(_=(x-v[b])/(v[b+1]-v[b]),k=!1):b+=T,b<0||b>=P-1){if(b===P-1)return m[b];k=!1}return m[b]+(m[b+1]-m[b])*_}function c(d,h,m,v,P,b){var x=l(P,b),_=1-x,T=t.round((_*_*_*d[0]+(x*_*_+_*x*_+_*_*x)*m[0]+(x*x*_+_*x*x+x*_*x)*v[0]+x*x*x*h[0])*1e3)/1e3,k=t.round((_*_*_*d[1]+(x*_*_+_*x*_+_*_*x)*m[1]+(x*x*_+_*x*x+x*_*x)*v[1]+x*x*x*h[1])*1e3)/1e3;return[T,k]}var u=createTypedArray("float32",8);function f(d,h,m,v,P,b,x){P<0?P=0:P>1&&(P=1);var _=l(P,x);b=b>1?1:b;var T=l(b,x),k,$=d.length,V=1-_,B=1-T,z=V*V*V,ie=_*V*V*3,J=_*_*V*3,H=_*_*_,ce=V*V*B,ae=_*V*B+V*_*B+V*V*T,ee=_*_*B+V*_*T+_*V*T,F=_*_*T,G=V*B*B,D=_*B*B+V*T*B+V*B*T,N=_*T*B+V*T*T+_*B*T,te=_*T*T,X=B*B*B,Oe=T*B*B+B*T*B+B*B*T,Ye=T*T*B+B*T*T+T*B*T,De=T*T*T;for(k=0;k<$;k+=1)u[k*4]=t.round((z*d[k]+ie*m[k]+J*v[k]+H*h[k])*1e3)/1e3,u[k*4+1]=t.round((ce*d[k]+ae*m[k]+ee*v[k]+F*h[k])*1e3)/1e3,u[k*4+2]=t.round((G*d[k]+D*m[k]+N*v[k]+te*h[k])*1e3)/1e3,u[k*4+3]=t.round((X*d[k]+Oe*m[k]+Ye*v[k]+De*h[k])*1e3)/1e3;return u}return{getSegmentsLength:i,getNewSegment:f,getPointInSegment:c,buildBezierData:a,pointOnLine2D:e,pointOnLine3D:n}}var bez=bezFunction(),initFrame=initialDefaultFrame,mathAbs=Math.abs;function interpolateValue(t,e){var n=this.offsetTime,r;this.propType==="multidimensional"&&(r=createTypedArray("float32",this.pv.length));for(var i=e.lastIndex,o=i,s=this.keyframes.length-1,a=!0,l,c,u;a;){if(l=this.keyframes[o],c=this.keyframes[o+1],o===s-1&&t>=c.t-n){l.h&&(l=c),i=0;break}if(c.t-n>t){i=o;break}o<s-1?o+=1:(i=0,a=!1)}u=this.keyframesMetadata[o]||{};var f,d,h,m,v,P,b=c.t-n,x=l.t-n,_;if(l.to){u.bezierData||(u.bezierData=bez.buildBezierData(l.s,c.s||l.e,l.to,l.ti));var T=u.bezierData;if(t>=b||t<x){var k=t>=b?T.points.length-1:0;for(d=T.points[k].point.length,f=0;f<d;f+=1)r[f]=T.points[k].point[f]}else{u.__fnct?P=u.__fnct:(P=BezierFactory.getBezierEasing(l.o.x,l.o.y,l.i.x,l.i.y,l.n).get,u.__fnct=P),h=P((t-x)/(b-x));var $=T.segmentLength*h,V,B=e.lastFrame<t&&e._lastKeyframeIndex===o?e._lastAddedLength:0;for(v=e.lastFrame<t&&e._lastKeyframeIndex===o?e._lastPoint:0,a=!0,m=T.points.length;a;){if(B+=T.points[v].partialLength,$===0||h===0||v===T.points.length-1){for(d=T.points[v].point.length,f=0;f<d;f+=1)r[f]=T.points[v].point[f];break}else if($>=B&&$<B+T.points[v+1].partialLength){for(V=($-B)/T.points[v+1].partialLength,d=T.points[v].point.length,f=0;f<d;f+=1)r[f]=T.points[v].point[f]+(T.points[v+1].point[f]-T.points[v].point[f])*V;break}v<m-1?v+=1:a=!1}e._lastPoint=v,e._lastAddedLength=B-T.points[v].partialLength,e._lastKeyframeIndex=o}}else{var z,ie,J,H,ce;if(s=l.s.length,_=c.s||l.e,this.sh&&l.h!==1)if(t>=b)r[0]=_[0],r[1]=_[1],r[2]=_[2];else if(t<=x)r[0]=l.s[0],r[1]=l.s[1],r[2]=l.s[2];else{var ae=createQuaternion(l.s),ee=createQuaternion(_),F=(t-x)/(b-x);quaternionToEuler(r,slerp(ae,ee,F))}else for(o=0;o<s;o+=1)l.h!==1&&(t>=b?h=1:t<x?h=0:(l.o.x.constructor===Array?(u.__fnct||(u.__fnct=[]),u.__fnct[o]?P=u.__fnct[o]:(z=l.o.x[o]===void 0?l.o.x[0]:l.o.x[o],ie=l.o.y[o]===void 0?l.o.y[0]:l.o.y[o],J=l.i.x[o]===void 0?l.i.x[0]:l.i.x[o],H=l.i.y[o]===void 0?l.i.y[0]:l.i.y[o],P=BezierFactory.getBezierEasing(z,ie,J,H).get,u.__fnct[o]=P)):u.__fnct?P=u.__fnct:(z=l.o.x,ie=l.o.y,J=l.i.x,H=l.i.y,P=BezierFactory.getBezierEasing(z,ie,J,H).get,l.keyframeMetadata=P),h=P((t-x)/(b-x)))),_=c.s||l.e,ce=l.h===1?l.s[o]:l.s[o]+(_[o]-l.s[o])*h,this.propType==="multidimensional"?r[o]=ce:r=ce}return e.lastIndex=i,r}function slerp(t,e,n){var r=[],i=t[0],o=t[1],s=t[2],a=t[3],l=e[0],c=e[1],u=e[2],f=e[3],d,h,m,v,P;return h=i*l+o*c+s*u+a*f,h<0&&(h=-h,l=-l,c=-c,u=-u,f=-f),1-h>1e-6?(d=Math.acos(h),m=Math.sin(d),v=Math.sin((1-n)*d)/m,P=Math.sin(n*d)/m):(v=1-n,P=n),r[0]=v*i+P*l,r[1]=v*o+P*c,r[2]=v*s+P*u,r[3]=v*a+P*f,r}function quaternionToEuler(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],s=Math.atan2(2*r*o-2*n*i,1-2*r*r-2*i*i),a=Math.asin(2*n*r+2*i*o),l=Math.atan2(2*n*o-2*r*i,1-2*n*n-2*i*i);t[0]=s/degToRads,t[1]=a/degToRads,t[2]=l/degToRads}function createQuaternion(t){var e=t[0]*degToRads,n=t[1]*degToRads,r=t[2]*degToRads,i=Math.cos(e/2),o=Math.cos(n/2),s=Math.cos(r/2),a=Math.sin(e/2),l=Math.sin(n/2),c=Math.sin(r/2),u=i*o*s-a*l*c,f=a*l*s+i*o*c,d=a*o*s+i*l*c,h=i*l*s-a*o*c;return[f,d,h,u]}function getValueAtCurrentTime(){var t=this.comp.renderedFrame-this.offsetTime,e=this.keyframes[0].t-this.offsetTime,n=this.keyframes[this.keyframes.length-1].t-this.offsetTime;if(!(t===this._caching.lastFrame||this._caching.lastFrame!==initFrame&&(this._caching.lastFrame>=n&&t>=n||this._caching.lastFrame<e&&t<e))){this._caching.lastFrame>=t&&(this._caching._lastKeyframeIndex=-1,this._caching.lastIndex=0);var r=this.interpolateValue(t,this._caching);this.pv=r}return this._caching.lastFrame=t,this.pv}function setVValue(t){var e;if(this.propType==="unidimensional")e=t*this.mult,mathAbs(this.v-e)>1e-5&&(this.v=e,this._mdf=!0);else for(var n=0,r=this.v.length;n<r;)e=t[n]*this.mult,mathAbs(this.v[n]-e)>1e-5&&(this.v[n]=e,this._mdf=!0),n+=1}function processEffectsSequence(){if(!(this.elem.globalData.frameId===this.frameId||!this.effectsSequence.length)){if(this.lock){this.setVValue(this.pv);return}this.lock=!0,this._mdf=this._isFirstFrame;var t,e=this.effectsSequence.length,n=this.kf?this.pv:this.data.k;for(t=0;t<e;t+=1)n=this.effectsSequence[t](n);this.setVValue(n),this._isFirstFrame=!1,this.lock=!1,this.frameId=this.elem.globalData.frameId}}function addEffect(t){this.effectsSequence.push(t),this.container.addDynamicProperty(this)}function ValueProperty(t,e,n,r){this.propType="unidimensional",this.mult=n||1,this.data=e,this.v=n?e.k*n:e.k,this.pv=e.k,this._mdf=!1,this.elem=t,this.container=r,this.comp=t.comp,this.k=!1,this.kf=!1,this.vel=0,this.effectsSequence=[],this._isFirstFrame=!0,this.getValue=processEffectsSequence,this.setVValue=setVValue,this.addEffect=addEffect}function MultiDimensionalProperty(t,e,n,r){this.propType="multidimensional",this.mult=n||1,this.data=e,this._mdf=!1,this.elem=t,this.container=r,this.comp=t.comp,this.k=!1,this.kf=!1,this.frameId=-1;var i,o=e.k.length;for(this.v=createTypedArray("float32",o),this.pv=createTypedArray("float32",o),this.vel=createTypedArray("float32",o),i=0;i<o;i+=1)this.v[i]=e.k[i]*this.mult,this.pv[i]=e.k[i];this._isFirstFrame=!0,this.effectsSequence=[],this.getValue=processEffectsSequence,this.setVValue=setVValue,this.addEffect=addEffect}function KeyframedValueProperty(t,e,n,r){this.propType="unidimensional",this.keyframes=e.k,this.keyframesMetadata=[],this.offsetTime=t.data.st,this.frameId=-1,this._caching={lastFrame:initFrame,lastIndex:0,value:0,_lastKeyframeIndex:-1},this.k=!0,this.kf=!0,this.data=e,this.mult=n||1,this.elem=t,this.container=r,this.comp=t.comp,this.v=initFrame,this.pv=initFrame,this._isFirstFrame=!0,this.getValue=processEffectsSequence,this.setVValue=setVValue,this.interpolateValue=interpolateValue,this.effectsSequence=[getValueAtCurrentTime.bind(this)],this.addEffect=addEffect}function KeyframedMultidimensionalProperty(t,e,n,r){this.propType="multidimensional";var i,o=e.k.length,s,a,l,c;for(i=0;i<o-1;i+=1)e.k[i].to&&e.k[i].s&&e.k[i+1]&&e.k[i+1].s&&(s=e.k[i].s,a=e.k[i+1].s,l=e.k[i].to,c=e.k[i].ti,(s.length===2&&!(s[0]===a[0]&&s[1]===a[1])&&bez.pointOnLine2D(s[0],s[1],a[0],a[1],s[0]+l[0],s[1]+l[1])&&bez.pointOnLine2D(s[0],s[1],a[0],a[1],a[0]+c[0],a[1]+c[1])||s.length===3&&!(s[0]===a[0]&&s[1]===a[1]&&s[2]===a[2])&&bez.pointOnLine3D(s[0],s[1],s[2],a[0],a[1],a[2],s[0]+l[0],s[1]+l[1],s[2]+l[2])&&bez.pointOnLine3D(s[0],s[1],s[2],a[0],a[1],a[2],a[0]+c[0],a[1]+c[1],a[2]+c[2]))&&(e.k[i].to=null,e.k[i].ti=null),s[0]===a[0]&&s[1]===a[1]&&l[0]===0&&l[1]===0&&c[0]===0&&c[1]===0&&(s.length===2||s[2]===a[2]&&l[2]===0&&c[2]===0)&&(e.k[i].to=null,e.k[i].ti=null));this.effectsSequence=[getValueAtCurrentTime.bind(this)],this.data=e,this.keyframes=e.k,this.keyframesMetadata=[],this.offsetTime=t.data.st,this.k=!0,this.kf=!0,this._isFirstFrame=!0,this.mult=n||1,this.elem=t,this.container=r,this.comp=t.comp,this.getValue=processEffectsSequence,this.setVValue=setVValue,this.interpolateValue=interpolateValue,this.frameId=-1;var u=e.k[0].s.length;for(this.v=createTypedArray("float32",u),this.pv=createTypedArray("float32",u),i=0;i<u;i+=1)this.v[i]=initFrame,this.pv[i]=initFrame;this._caching={lastFrame:initFrame,lastIndex:0,value:createTypedArray("float32",u)},this.addEffect=addEffect}var PropertyFactory=function(){function t(n,r,i,o,s){r.sid&&(r=n.globalData.slotManager.getProp(r));var a;if(!r.k.length)a=new ValueProperty(n,r,o,s);else if(typeof r.k[0]=="number")a=new MultiDimensionalProperty(n,r,o,s);else switch(i){case 0:a=new KeyframedValueProperty(n,r,o,s);break;case 1:a=new KeyframedMultidimensionalProperty(n,r,o,s);break;default:break}return a.effectsSequence.length&&s.addDynamicProperty(a),a}var e={getProp:t};return e}();function DynamicPropertyContainer(){}DynamicPropertyContainer.prototype={addDynamicProperty:function(e){this.dynamicProperties.indexOf(e)===-1&&(this.dynamicProperties.push(e),this.container.addDynamicProperty(this),this._isAnimated=!0)},iterateDynamicProperties:function(){this._mdf=!1;var e,n=this.dynamicProperties.length;for(e=0;e<n;e+=1)this.dynamicProperties[e].getValue(),this.dynamicProperties[e]._mdf&&(this._mdf=!0)},initDynamicPropertyContainer:function(e){this.container=e,this.dynamicProperties=[],this._mdf=!1,this._isAnimated=!1}};var pointPool=function(){function t(){return createTypedArray("float32",2)}return poolFactory(8,t)}();function ShapePath(){this.c=!1,this._length=0,this._maxLength=8,this.v=createSizedArray(this._maxLength),this.o=createSizedArray(this._maxLength),this.i=createSizedArray(this._maxLength)}ShapePath.prototype.setPathData=function(t,e){this.c=t,this.setLength(e);for(var n=0;n<e;)this.v[n]=pointPool.newElement(),this.o[n]=pointPool.newElement(),this.i[n]=pointPool.newElement(),n+=1},ShapePath.prototype.setLength=function(t){for(;this._maxLength<t;)this.doubleArrayLength();this._length=t},ShapePath.prototype.doubleArrayLength=function(){this.v=this.v.concat(createSizedArray(this._maxLength)),this.i=this.i.concat(createSizedArray(this._maxLength)),this.o=this.o.concat(createSizedArray(this._maxLength)),this._maxLength*=2},ShapePath.prototype.setXYAt=function(t,e,n,r,i){var o;switch(this._length=Math.max(this._length,r+1),this._length>=this._maxLength&&this.doubleArrayLength(),n){case"v":o=this.v;break;case"i":o=this.i;break;case"o":o=this.o;break;default:o=[];break}(!o[r]||o[r]&&!i)&&(o[r]=pointPool.newElement()),o[r][0]=t,o[r][1]=e},ShapePath.prototype.setTripleAt=function(t,e,n,r,i,o,s,a){this.setXYAt(t,e,"v",s,a),this.setXYAt(n,r,"o",s,a),this.setXYAt(i,o,"i",s,a)},ShapePath.prototype.reverse=function(){var t=new ShapePath;t.setPathData(this.c,this._length);var e=this.v,n=this.o,r=this.i,i=0;this.c&&(t.setTripleAt(e[0][0],e[0][1],r[0][0],r[0][1],n[0][0],n[0][1],0,!1),i=1);var o=this._length-1,s=this._length,a;for(a=i;a<s;a+=1)t.setTripleAt(e[o][0],e[o][1],r[o][0],r[o][1],n[o][0],n[o][1],a,!1),o-=1;return t},ShapePath.prototype.length=function(){return this._length};var shapePool=function(){function t(){return new ShapePath}function e(i){var o=i._length,s;for(s=0;s<o;s+=1)pointPool.release(i.v[s]),pointPool.release(i.i[s]),pointPool.release(i.o[s]),i.v[s]=null,i.i[s]=null,i.o[s]=null;i._length=0,i.c=!1}function n(i){var o=r.newElement(),s,a=i._length===void 0?i.v.length:i._length;for(o.setLength(a),o.c=i.c,s=0;s<a;s+=1)o.setTripleAt(i.v[s][0],i.v[s][1],i.o[s][0],i.o[s][1],i.i[s][0],i.i[s][1],s);return o}var r=poolFactory(4,t,e);return r.clone=n,r}();function ShapeCollection(){this._length=0,this._maxLength=4,this.shapes=createSizedArray(this._maxLength)}ShapeCollection.prototype.addShape=function(t){this._length===this._maxLength&&(this.shapes=this.shapes.concat(createSizedArray(this._maxLength)),this._maxLength*=2),this.shapes[this._length]=t,this._length+=1},ShapeCollection.prototype.releaseShapes=function(){var t;for(t=0;t<this._length;t+=1)shapePool.release(this.shapes[t]);this._length=0};var shapeCollectionPool=function(){var t={newShapeCollection:i,release:o},e=0,n=4,r=createSizedArray(n);function i(){var s;return e?(e-=1,s=r[e]):s=new ShapeCollection,s}function o(s){var a,l=s._length;for(a=0;a<l;a+=1)shapePool.release(s.shapes[a]);s._length=0,e===n&&(r=pooling.double(r),n*=2),r[e]=s,e+=1}return t}(),ShapePropertyFactory=function(){var t=-999999;function e(b,x,_){var T=_.lastIndex,k,$,V,B,z,ie,J,H,ce,ae=this.keyframes;if(b<ae[0].t-this.offsetTime)k=ae[0].s[0],V=!0,T=0;else if(b>=ae[ae.length-1].t-this.offsetTime)k=ae[ae.length-1].s?ae[ae.length-1].s[0]:ae[ae.length-2].e[0],V=!0;else{for(var ee=T,F=ae.length-1,G=!0,D,N,te;G&&(D=ae[ee],N=ae[ee+1],!(N.t-this.offsetTime>b));)ee<F-1?ee+=1:G=!1;if(te=this.keyframesMetadata[ee]||{},V=D.h===1,T=ee,!V){if(b>=N.t-this.offsetTime)H=1;else if(b<D.t-this.offsetTime)H=0;else{var X;te.__fnct?X=te.__fnct:(X=BezierFactory.getBezierEasing(D.o.x,D.o.y,D.i.x,D.i.y).get,te.__fnct=X),H=X((b-(D.t-this.offsetTime))/(N.t-this.offsetTime-(D.t-this.offsetTime)))}$=N.s?N.s[0]:D.e[0]}k=D.s[0]}for(ie=x._length,J=k.i[0].length,_.lastIndex=T,B=0;B<ie;B+=1)for(z=0;z<J;z+=1)ce=V?k.i[B][z]:k.i[B][z]+($.i[B][z]-k.i[B][z])*H,x.i[B][z]=ce,ce=V?k.o[B][z]:k.o[B][z]+($.o[B][z]-k.o[B][z])*H,x.o[B][z]=ce,ce=V?k.v[B][z]:k.v[B][z]+($.v[B][z]-k.v[B][z])*H,x.v[B][z]=ce}function n(){var b=this.comp.renderedFrame-this.offsetTime,x=this.keyframes[0].t-this.offsetTime,_=this.keyframes[this.keyframes.length-1].t-this.offsetTime,T=this._caching.lastFrame;return T!==t&&(T<x&&b<x||T>_&&b>_)||(this._caching.lastIndex=T<b?this._caching.lastIndex:0,this.interpolateShape(b,this.pv,this._caching)),this._caching.lastFrame=b,this.pv}function r(){this.paths=this.localShapeCollection}function i(b,x){if(b._length!==x._length||b.c!==x.c)return!1;var _,T=b._length;for(_=0;_<T;_+=1)if(b.v[_][0]!==x.v[_][0]||b.v[_][1]!==x.v[_][1]||b.o[_][0]!==x.o[_][0]||b.o[_][1]!==x.o[_][1]||b.i[_][0]!==x.i[_][0]||b.i[_][1]!==x.i[_][1])return!1;return!0}function o(b){i(this.v,b)||(this.v=shapePool.clone(b),this.localShapeCollection.releaseShapes(),this.localShapeCollection.addShape(this.v),this._mdf=!0,this.paths=this.localShapeCollection)}function s(){if(this.elem.globalData.frameId!==this.frameId){if(!this.effectsSequence.length){this._mdf=!1;return}if(this.lock){this.setVValue(this.pv);return}this.lock=!0,this._mdf=!1;var b;this.kf?b=this.pv:this.data.ks?b=this.data.ks.k:b=this.data.pt.k;var x,_=this.effectsSequence.length;for(x=0;x<_;x+=1)b=this.effectsSequence[x](b);this.setVValue(b),this.lock=!1,this.frameId=this.elem.globalData.frameId}}function a(b,x,_){this.propType="shape",this.comp=b.comp,this.container=b,this.elem=b,this.data=x,this.k=!1,this.kf=!1,this._mdf=!1;var T=_===3?x.pt.k:x.ks.k;this.v=shapePool.clone(T),this.pv=shapePool.clone(this.v),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.paths.addShape(this.v),this.reset=r,this.effectsSequence=[]}function l(b){this.effectsSequence.push(b),this.container.addDynamicProperty(this)}a.prototype.interpolateShape=e,a.prototype.getValue=s,a.prototype.setVValue=o,a.prototype.addEffect=l;function c(b,x,_){this.propType="shape",this.comp=b.comp,this.elem=b,this.container=b,this.offsetTime=b.data.st,this.keyframes=_===3?x.pt.k:x.ks.k,this.keyframesMetadata=[],this.k=!0,this.kf=!0;var T=this.keyframes[0].s[0].i.length;this.v=shapePool.newElement(),this.v.setPathData(this.keyframes[0].s[0].c,T),this.pv=shapePool.clone(this.v),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.paths.addShape(this.v),this.lastFrame=t,this.reset=r,this._caching={lastFrame:t,lastIndex:0},this.effectsSequence=[n.bind(this)]}c.prototype.getValue=s,c.prototype.interpolateShape=e,c.prototype.setVValue=o,c.prototype.addEffect=l;var u=function(){var b=roundCorner;function x(_,T){this.v=shapePool.newElement(),this.v.setPathData(!0,4),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.localShapeCollection.addShape(this.v),this.d=T.d,this.elem=_,this.comp=_.comp,this.frameId=-1,this.initDynamicPropertyContainer(_),this.p=PropertyFactory.getProp(_,T.p,1,0,this),this.s=PropertyFactory.getProp(_,T.s,1,0,this),this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertEllToPath())}return x.prototype={reset:r,getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertEllToPath())},convertEllToPath:function(){var T=this.p.v[0],k=this.p.v[1],$=this.s.v[0]/2,V=this.s.v[1]/2,B=this.d!==3,z=this.v;z.v[0][0]=T,z.v[0][1]=k-V,z.v[1][0]=B?T+$:T-$,z.v[1][1]=k,z.v[2][0]=T,z.v[2][1]=k+V,z.v[3][0]=B?T-$:T+$,z.v[3][1]=k,z.i[0][0]=B?T-$*b:T+$*b,z.i[0][1]=k-V,z.i[1][0]=B?T+$:T-$,z.i[1][1]=k-V*b,z.i[2][0]=B?T+$*b:T-$*b,z.i[2][1]=k+V,z.i[3][0]=B?T-$:T+$,z.i[3][1]=k+V*b,z.o[0][0]=B?T+$*b:T-$*b,z.o[0][1]=k-V,z.o[1][0]=B?T+$:T-$,z.o[1][1]=k+V*b,z.o[2][0]=B?T-$*b:T+$*b,z.o[2][1]=k+V,z.o[3][0]=B?T-$:T+$,z.o[3][1]=k-V*b}},extendPrototype([DynamicPropertyContainer],x),x}(),f=function(){function b(x,_){this.v=shapePool.newElement(),this.v.setPathData(!0,0),this.elem=x,this.comp=x.comp,this.data=_,this.frameId=-1,this.d=_.d,this.initDynamicPropertyContainer(x),_.sy===1?(this.ir=PropertyFactory.getProp(x,_.ir,0,0,this),this.is=PropertyFactory.getProp(x,_.is,0,.01,this),this.convertToPath=this.convertStarToPath):this.convertToPath=this.convertPolygonToPath,this.pt=PropertyFactory.getProp(x,_.pt,0,0,this),this.p=PropertyFactory.getProp(x,_.p,1,0,this),this.r=PropertyFactory.getProp(x,_.r,0,degToRads,this),this.or=PropertyFactory.getProp(x,_.or,0,0,this),this.os=PropertyFactory.getProp(x,_.os,0,.01,this),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.localShapeCollection.addShape(this.v),this.paths=this.localShapeCollection,this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertToPath())}return b.prototype={reset:r,getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertToPath())},convertStarToPath:function(){var _=Math.floor(this.pt.v)*2,T=Math.PI*2/_,k=!0,$=this.or.v,V=this.ir.v,B=this.os.v,z=this.is.v,ie=2*Math.PI*$/(_*2),J=2*Math.PI*V/(_*2),H,ce,ae,ee,F=-Math.PI/2;F+=this.r.v;var G=this.data.d===3?-1:1;for(this.v._length=0,H=0;H<_;H+=1){ce=k?$:V,ae=k?B:z,ee=k?ie:J;var D=ce*Math.cos(F),N=ce*Math.sin(F),te=D===0&&N===0?0:N/Math.sqrt(D*D+N*N),X=D===0&&N===0?0:-D/Math.sqrt(D*D+N*N);D+=+this.p.v[0],N+=+this.p.v[1],this.v.setTripleAt(D,N,D-te*ee*ae*G,N-X*ee*ae*G,D+te*ee*ae*G,N+X*ee*ae*G,H,!0),k=!k,F+=T*G}},convertPolygonToPath:function(){var _=Math.floor(this.pt.v),T=Math.PI*2/_,k=this.or.v,$=this.os.v,V=2*Math.PI*k/(_*4),B,z=-Math.PI*.5,ie=this.data.d===3?-1:1;for(z+=this.r.v,this.v._length=0,B=0;B<_;B+=1){var J=k*Math.cos(z),H=k*Math.sin(z),ce=J===0&&H===0?0:H/Math.sqrt(J*J+H*H),ae=J===0&&H===0?0:-J/Math.sqrt(J*J+H*H);J+=+this.p.v[0],H+=+this.p.v[1],this.v.setTripleAt(J,H,J-ce*V*$*ie,H-ae*V*$*ie,J+ce*V*$*ie,H+ae*V*$*ie,B,!0),z+=T*ie}this.paths.length=0,this.paths[0]=this.v}},extendPrototype([DynamicPropertyContainer],b),b}(),d=function(){function b(x,_){this.v=shapePool.newElement(),this.v.c=!0,this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.localShapeCollection.addShape(this.v),this.paths=this.localShapeCollection,this.elem=x,this.comp=x.comp,this.frameId=-1,this.d=_.d,this.initDynamicPropertyContainer(x),this.p=PropertyFactory.getProp(x,_.p,1,0,this),this.s=PropertyFactory.getProp(x,_.s,1,0,this),this.r=PropertyFactory.getProp(x,_.r,0,0,this),this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertRectToPath())}return b.prototype={convertRectToPath:function(){var _=this.p.v[0],T=this.p.v[1],k=this.s.v[0]/2,$=this.s.v[1]/2,V=bmMin(k,$,this.r.v),B=V*(1-roundCorner);this.v._length=0,this.d===2||this.d===1?(this.v.setTripleAt(_+k,T-$+V,_+k,T-$+V,_+k,T-$+B,0,!0),this.v.setTripleAt(_+k,T+$-V,_+k,T+$-B,_+k,T+$-V,1,!0),V!==0?(this.v.setTripleAt(_+k-V,T+$,_+k-V,T+$,_+k-B,T+$,2,!0),this.v.setTripleAt(_-k+V,T+$,_-k+B,T+$,_-k+V,T+$,3,!0),this.v.setTripleAt(_-k,T+$-V,_-k,T+$-V,_-k,T+$-B,4,!0),this.v.setTripleAt(_-k,T-$+V,_-k,T-$+B,_-k,T-$+V,5,!0),this.v.setTripleAt(_-k+V,T-$,_-k+V,T-$,_-k+B,T-$,6,!0),this.v.setTripleAt(_+k-V,T-$,_+k-B,T-$,_+k-V,T-$,7,!0)):(this.v.setTripleAt(_-k,T+$,_-k+B,T+$,_-k,T+$,2),this.v.setTripleAt(_-k,T-$,_-k,T-$+B,_-k,T-$,3))):(this.v.setTripleAt(_+k,T-$+V,_+k,T-$+B,_+k,T-$+V,0,!0),V!==0?(this.v.setTripleAt(_+k-V,T-$,_+k-V,T-$,_+k-B,T-$,1,!0),this.v.setTripleAt(_-k+V,T-$,_-k+B,T-$,_-k+V,T-$,2,!0),this.v.setTripleAt(_-k,T-$+V,_-k,T-$+V,_-k,T-$+B,3,!0),this.v.setTripleAt(_-k,T+$-V,_-k,T+$-B,_-k,T+$-V,4,!0),this.v.setTripleAt(_-k+V,T+$,_-k+V,T+$,_-k+B,T+$,5,!0),this.v.setTripleAt(_+k-V,T+$,_+k-B,T+$,_+k-V,T+$,6,!0),this.v.setTripleAt(_+k,T+$-V,_+k,T+$-V,_+k,T+$-B,7,!0)):(this.v.setTripleAt(_-k,T-$,_-k+B,T-$,_-k,T-$,1,!0),this.v.setTripleAt(_-k,T+$,_-k,T+$-B,_-k,T+$,2,!0),this.v.setTripleAt(_+k,T+$,_+k-B,T+$,_+k,T+$,3,!0)))},getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertRectToPath())},reset:r},extendPrototype([DynamicPropertyContainer],b),b}();function h(b,x,_){var T;if(_===3||_===4){var k=_===3?x.pt:x.ks,$=k.k;$.length?T=new c(b,x,_):T=new a(b,x,_)}else _===5?T=new d(b,x):_===6?T=new u(b,x):_===7&&(T=new f(b,x));return T.k&&b.addDynamicProperty(T),T}function m(){return a}function v(){return c}var P={};return P.getShapeProp=h,P.getConstructorFunction=m,P.getKeyframedConstructorFunction=v,P}();var Matrix=function(){var t=Math.cos,e=Math.sin,n=Math.tan,r=Math.round;function i(){return this.props[0]=1,this.props[1]=0,this.props[2]=0,this.props[3]=0,this.props[4]=0,this.props[5]=1,this.props[6]=0,this.props[7]=0,this.props[8]=0,this.props[9]=0,this.props[10]=1,this.props[11]=0,this.props[12]=0,this.props[13]=0,this.props[14]=0,this.props[15]=1,this}function o(D){if(D===0)return this;var N=t(D),te=e(D);return this._t(N,-te,0,0,te,N,0,0,0,0,1,0,0,0,0,1)}function s(D){if(D===0)return this;var N=t(D),te=e(D);return this._t(1,0,0,0,0,N,-te,0,0,te,N,0,0,0,0,1)}function a(D){if(D===0)return this;var N=t(D),te=e(D);return this._t(N,0,te,0,0,1,0,0,-te,0,N,0,0,0,0,1)}function l(D){if(D===0)return this;var N=t(D),te=e(D);return this._t(N,-te,0,0,te,N,0,0,0,0,1,0,0,0,0,1)}function c(D,N){return this._t(1,N,D,1,0,0)}function u(D,N){return this.shear(n(D),n(N))}function f(D,N){var te=t(N),X=e(N);return this._t(te,X,0,0,-X,te,0,0,0,0,1,0,0,0,0,1)._t(1,0,0,0,n(D),1,0,0,0,0,1,0,0,0,0,1)._t(te,-X,0,0,X,te,0,0,0,0,1,0,0,0,0,1)}function d(D,N,te){return!te&&te!==0&&(te=1),D===1&&N===1&&te===1?this:this._t(D,0,0,0,0,N,0,0,0,0,te,0,0,0,0,1)}function h(D,N,te,X,Oe,Ye,De,It,Bt,zt,ve,be,ge,_e,Ae,$e){return this.props[0]=D,this.props[1]=N,this.props[2]=te,this.props[3]=X,this.props[4]=Oe,this.props[5]=Ye,this.props[6]=De,this.props[7]=It,this.props[8]=Bt,this.props[9]=zt,this.props[10]=ve,this.props[11]=be,this.props[12]=ge,this.props[13]=_e,this.props[14]=Ae,this.props[15]=$e,this}function m(D,N,te){return te=te||0,D!==0||N!==0||te!==0?this._t(1,0,0,0,0,1,0,0,0,0,1,0,D,N,te,1):this}function v(D,N,te,X,Oe,Ye,De,It,Bt,zt,ve,be,ge,_e,Ae,$e){var ke=this.props;if(D===1&&N===0&&te===0&&X===0&&Oe===0&&Ye===1&&De===0&&It===0&&Bt===0&&zt===0&&ve===1&&be===0)return ke[12]=ke[12]*D+ke[15]*ge,ke[13]=ke[13]*Ye+ke[15]*_e,ke[14]=ke[14]*ve+ke[15]*Ae,ke[15]*=$e,this._identityCalculated=!1,this;var pt=ke[0],Zt=ke[1],hn=ke[2],gt=ke[3],Yn=ke[4],Zn=ke[5],kn=ke[6],Ir=ke[7],Cr=ke[8],Et=ke[9],Dt=ke[10],_t=ke[11],mn=ke[12],ai=ke[13],Zr=ke[14],ln=ke[15];return ke[0]=pt*D+Zt*Oe+hn*Bt+gt*ge,ke[1]=pt*N+Zt*Ye+hn*zt+gt*_e,ke[2]=pt*te+Zt*De+hn*ve+gt*Ae,ke[3]=pt*X+Zt*It+hn*be+gt*$e,ke[4]=Yn*D+Zn*Oe+kn*Bt+Ir*ge,ke[5]=Yn*N+Zn*Ye+kn*zt+Ir*_e,ke[6]=Yn*te+Zn*De+kn*ve+Ir*Ae,ke[7]=Yn*X+Zn*It+kn*be+Ir*$e,ke[8]=Cr*D+Et*Oe+Dt*Bt+_t*ge,ke[9]=Cr*N+Et*Ye+Dt*zt+_t*_e,ke[10]=Cr*te+Et*De+Dt*ve+_t*Ae,ke[11]=Cr*X+Et*It+Dt*be+_t*$e,ke[12]=mn*D+ai*Oe+Zr*Bt+ln*ge,ke[13]=mn*N+ai*Ye+Zr*zt+ln*_e,ke[14]=mn*te+ai*De+Zr*ve+ln*Ae,ke[15]=mn*X+ai*It+Zr*be+ln*$e,this._identityCalculated=!1,this}function P(D){var N=D.props;return this.transform(N[0],N[1],N[2],N[3],N[4],N[5],N[6],N[7],N[8],N[9],N[10],N[11],N[12],N[13],N[14],N[15])}function b(){return this._identityCalculated||(this._identity=!(this.props[0]!==1||this.props[1]!==0||this.props[2]!==0||this.props[3]!==0||this.props[4]!==0||this.props[5]!==1||this.props[6]!==0||this.props[7]!==0||this.props[8]!==0||this.props[9]!==0||this.props[10]!==1||this.props[11]!==0||this.props[12]!==0||this.props[13]!==0||this.props[14]!==0||this.props[15]!==1),this._identityCalculated=!0),this._identity}function x(D){for(var N=0;N<16;){if(D.props[N]!==this.props[N])return!1;N+=1}return!0}function _(D){var N;for(N=0;N<16;N+=1)D.props[N]=this.props[N];return D}function T(D){var N;for(N=0;N<16;N+=1)this.props[N]=D[N]}function k(D,N,te){return{x:D*this.props[0]+N*this.props[4]+te*this.props[8]+this.props[12],y:D*this.props[1]+N*this.props[5]+te*this.props[9]+this.props[13],z:D*this.props[2]+N*this.props[6]+te*this.props[10]+this.props[14]}}function $(D,N,te){return D*this.props[0]+N*this.props[4]+te*this.props[8]+this.props[12]}function V(D,N,te){return D*this.props[1]+N*this.props[5]+te*this.props[9]+this.props[13]}function B(D,N,te){return D*this.props[2]+N*this.props[6]+te*this.props[10]+this.props[14]}function z(){var D=this.props[0]*this.props[5]-this.props[1]*this.props[4],N=this.props[5]/D,te=-this.props[1]/D,X=-this.props[4]/D,Oe=this.props[0]/D,Ye=(this.props[4]*this.props[13]-this.props[5]*this.props[12])/D,De=-(this.props[0]*this.props[13]-this.props[1]*this.props[12])/D,It=new Matrix;return It.props[0]=N,It.props[1]=te,It.props[4]=X,It.props[5]=Oe,It.props[12]=Ye,It.props[13]=De,It}function ie(D){var N=this.getInverseMatrix();return N.applyToPointArray(D[0],D[1],D[2]||0)}function J(D){var N,te=D.length,X=[];for(N=0;N<te;N+=1)X[N]=ie(D[N]);return X}function H(D,N,te){var X=createTypedArray("float32",6);if(this.isIdentity())X[0]=D[0],X[1]=D[1],X[2]=N[0],X[3]=N[1],X[4]=te[0],X[5]=te[1];else{var Oe=this.props[0],Ye=this.props[1],De=this.props[4],It=this.props[5],Bt=this.props[12],zt=this.props[13];X[0]=D[0]*Oe+D[1]*De+Bt,X[1]=D[0]*Ye+D[1]*It+zt,X[2]=N[0]*Oe+N[1]*De+Bt,X[3]=N[0]*Ye+N[1]*It+zt,X[4]=te[0]*Oe+te[1]*De+Bt,X[5]=te[0]*Ye+te[1]*It+zt}return X}function ce(D,N,te){var X;return this.isIdentity()?X=[D,N,te]:X=[D*this.props[0]+N*this.props[4]+te*this.props[8]+this.props[12],D*this.props[1]+N*this.props[5]+te*this.props[9]+this.props[13],D*this.props[2]+N*this.props[6]+te*this.props[10]+this.props[14]],X}function ae(D,N){if(this.isIdentity())return D+","+N;var te=this.props;return Math.round((D*te[0]+N*te[4]+te[12])*100)/100+","+Math.round((D*te[1]+N*te[5]+te[13])*100)/100}function ee(){for(var D=0,N=this.props,te="matrix3d(",X=1e4;D<16;)te+=r(N[D]*X)/X,te+=D===15?")":",",D+=1;return te}function F(D){var N=1e4;return D<1e-6&&D>0||D>-1e-6&&D<0?r(D*N)/N:D}function G(){var D=this.props,N=F(D[0]),te=F(D[1]),X=F(D[4]),Oe=F(D[5]),Ye=F(D[12]),De=F(D[13]);return"matrix("+N+","+te+","+X+","+Oe+","+Ye+","+De+")"}return function(){this.reset=i,this.rotate=o,this.rotateX=s,this.rotateY=a,this.rotateZ=l,this.skew=u,this.skewFromAxis=f,this.shear=c,this.scale=d,this.setTransform=h,this.translate=m,this.transform=v,this.multiply=P,this.applyToPoint=k,this.applyToX=$,this.applyToY=V,this.applyToZ=B,this.applyToPointArray=ce,this.applyToTriplePoints=H,this.applyToPointStringified=ae,this.toCSS=ee,this.to2dCSS=G,this.clone=_,this.cloneFromProps=T,this.equals=x,this.inversePoints=J,this.inversePoint=ie,this.getInverseMatrix=z,this._t=this.transform,this.isIdentity=b,this._identity=!0,this._identityCalculated=!1,this.props=createTypedArray("float32",16),this.reset()}}();function _typeof$3(t){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$3=function(n){return typeof n}:_typeof$3=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},_typeof$3(t)}var lottie={},standalone="__[STANDALONE]__",animationData="__[ANIMATIONDATA]__",renderer="";function setLocation(t){setLocationHref(t)}function searchAnimations(){standalone===!0?animationManager.searchAnimations(animationData,standalone,renderer):animationManager.searchAnimations()}function setSubframeRendering(t){setSubframeEnabled(t)}function setPrefix(t){setIdPrefix(t)}function loadAnimation(t){return standalone===!0&&(t.animationData=JSON.parse(animationData)),animationManager.loadAnimation(t)}function setQuality(t){if(typeof t=="string")switch(t){case"high":setDefaultCurveSegments(200);break;default:case"medium":setDefaultCurveSegments(50);break;case"low":setDefaultCurveSegments(10);break}else!isNaN(t)&&t>1&&setDefaultCurveSegments(t);getDefaultCurveSegments()>=50?roundValues(!1):roundValues(!0)}function inBrowser(){return typeof navigator<"u"}function installPlugin(t,e){t==="expressions"&&setExpressionsPlugin(e)}function getFactory(t){switch(t){case"propertyFactory":return PropertyFactory;case"shapePropertyFactory":return ShapePropertyFactory;case"matrix":return Matrix;default:return null}}lottie.play=animationManager.play,lottie.pause=animationManager.pause,lottie.setLocationHref=setLocation,lottie.togglePause=animationManager.togglePause,lottie.setSpeed=animationManager.setSpeed,lottie.setDirection=animationManager.setDirection,lottie.stop=animationManager.stop,lottie.searchAnimations=searchAnimations,lottie.registerAnimation=animationManager.registerAnimation,lottie.loadAnimation=loadAnimation,lottie.setSubframeRendering=setSubframeRendering,lottie.resize=animationManager.resize,lottie.goToAndStop=animationManager.goToAndStop,lottie.destroy=animationManager.destroy,lottie.setQuality=setQuality,lottie.inBrowser=inBrowser,lottie.installPlugin=installPlugin,lottie.freeze=animationManager.freeze,lottie.unfreeze=animationManager.unfreeze,lottie.setVolume=animationManager.setVolume,lottie.mute=animationManager.mute,lottie.unmute=animationManager.unmute,lottie.getRegisteredAnimations=animationManager.getRegisteredAnimations,lottie.useWebWorker=setWebWorker,lottie.setIDPrefix=setPrefix,lottie.__getFactory=getFactory,lottie.version="5.12.2";function checkReady(){document.readyState==="complete"&&(clearInterval(readyStateCheckInterval),searchAnimations())}function getQueryVariable(t){for(var e=queryString.split("&"),n=0;n<e.length;n+=1){var r=e[n].split("=");if(decodeURIComponent(r[0])==t)return decodeURIComponent(r[1])}return null}var queryString="";if(standalone){var scripts=document.getElementsByTagName("script"),index=scripts.length-1,myScript=scripts[index]||{src:""};queryString=myScript.src?myScript.src.replace(/^[^\?]+\??/,""):"",renderer=getQueryVariable("renderer")}var readyStateCheckInterval=setInterval(checkReady,100);try{!((typeof exports>"u"?"undefined":_typeof$3(exports))==="object"&&typeof module<"u")&&!(typeof define=="function"&&define.amd)&&(window.bodymovin=lottie)}catch(t){}var ShapeModifiers=function(){var t={},e={};t.registerModifier=n,t.getModifier=r;function n(i,o){e[i]||(e[i]=o)}function r(i,o,s){return new e[i](o,s)}return t}();function ShapeModifier(){}ShapeModifier.prototype.initModifierProperties=function(){},ShapeModifier.prototype.addShapeToModifier=function(){},ShapeModifier.prototype.addShape=function(t){if(!this.closed){t.sh.container.addDynamicProperty(t.sh);var e={shape:t.sh,data:t,localShapeCollection:shapeCollectionPool.newShapeCollection()};this.shapes.push(e),this.addShapeToModifier(e),this._isAnimated&&t.setAsAnimated()}},ShapeModifier.prototype.init=function(t,e){this.shapes=[],this.elem=t,this.initDynamicPropertyContainer(t),this.initModifierProperties(t,e),this.frameId=initialDefaultFrame,this.closed=!1,this.k=!1,this.dynamicProperties.length?this.k=!0:this.getValue(!0)},ShapeModifier.prototype.processKeys=function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties())},extendPrototype([DynamicPropertyContainer],ShapeModifier);function TrimModifier(){}extendPrototype([ShapeModifier],TrimModifier),TrimModifier.prototype.initModifierProperties=function(t,e){this.s=PropertyFactory.getProp(t,e.s,0,.01,this),this.e=PropertyFactory.getProp(t,e.e,0,.01,this),this.o=PropertyFactory.getProp(t,e.o,0,0,this),this.sValue=0,this.eValue=0,this.getValue=this.processKeys,this.m=e.m,this._isAnimated=!!this.s.effectsSequence.length||!!this.e.effectsSequence.length||!!this.o.effectsSequence.length},TrimModifier.prototype.addShapeToModifier=function(t){t.pathsData=[]},TrimModifier.prototype.calculateShapeEdges=function(t,e,n,r,i){var o=[];e<=1?o.push({s:t,e}):t>=1?o.push({s:t-1,e:e-1}):(o.push({s:t,e:1}),o.push({s:0,e:e-1}));var s=[],a,l=o.length,c;for(a=0;a<l;a+=1)if(c=o[a],!(c.e*i<r||c.s*i>r+n)){var u,f;c.s*i<=r?u=0:u=(c.s*i-r)/n,c.e*i>=r+n?f=1:f=(c.e*i-r)/n,s.push([u,f])}return s.length||s.push([0,0]),s},TrimModifier.prototype.releasePathsData=function(t){var e,n=t.length;for(e=0;e<n;e+=1)segmentsLengthPool.release(t[e]);return t.length=0,t},TrimModifier.prototype.processShapes=function(t){var e,n;if(this._mdf||t){var r=this.o.v%360/360;if(r<0&&(r+=1),this.s.v>1?e=1+r:this.s.v<0?e=0+r:e=this.s.v+r,this.e.v>1?n=1+r:this.e.v<0?n=0+r:n=this.e.v+r,e>n){var i=e;e=n,n=i}e=Math.round(e*1e4)*1e-4,n=Math.round(n*1e4)*1e-4,this.sValue=e,this.eValue=n}else e=this.sValue,n=this.eValue;var o,s,a=this.shapes.length,l,c,u,f,d,h=0;if(n===e)for(s=0;s<a;s+=1)this.shapes[s].localShapeCollection.releaseShapes(),this.shapes[s].shape._mdf=!0,this.shapes[s].shape.paths=this.shapes[s].localShapeCollection,this._mdf&&(this.shapes[s].pathsData.length=0);else if(n===1&&e===0||n===0&&e===1){if(this._mdf)for(s=0;s<a;s+=1)this.shapes[s].pathsData.length=0,this.shapes[s].shape._mdf=!0}else{var m=[],v,P;for(s=0;s<a;s+=1)if(v=this.shapes[s],!v.shape._mdf&&!this._mdf&&!t&&this.m!==2)v.shape.paths=v.localShapeCollection;else{if(o=v.shape.paths,c=o._length,d=0,!v.shape._mdf&&v.pathsData.length)d=v.totalShapeLength;else{for(u=this.releasePathsData(v.pathsData),l=0;l<c;l+=1)f=bez.getSegmentsLength(o.shapes[l]),u.push(f),d+=f.totalLength;v.totalShapeLength=d,v.pathsData=u}h+=d,v.shape._mdf=!0}var b=e,x=n,_=0,T;for(s=a-1;s>=0;s-=1)if(v=this.shapes[s],v.shape._mdf){for(P=v.localShapeCollection,P.releaseShapes(),this.m===2&&a>1?(T=this.calculateShapeEdges(e,n,v.totalShapeLength,_,h),_+=v.totalShapeLength):T=[[b,x]],c=T.length,l=0;l<c;l+=1){b=T[l][0],x=T[l][1],m.length=0,x<=1?m.push({s:v.totalShapeLength*b,e:v.totalShapeLength*x}):b>=1?m.push({s:v.totalShapeLength*(b-1),e:v.totalShapeLength*(x-1)}):(m.push({s:v.totalShapeLength*b,e:v.totalShapeLength}),m.push({s:0,e:v.totalShapeLength*(x-1)}));var k=this.addShapes(v,m[0]);if(m[0].s!==m[0].e){if(m.length>1){var $=v.shape.paths.shapes[v.shape.paths._length-1];if($.c){var V=k.pop();this.addPaths(k,P),k=this.addShapes(v,m[1],V)}else this.addPaths(k,P),k=this.addShapes(v,m[1])}this.addPaths(k,P)}}v.shape.paths=P}}},TrimModifier.prototype.addPaths=function(t,e){var n,r=t.length;for(n=0;n<r;n+=1)e.addShape(t[n])},TrimModifier.prototype.addSegment=function(t,e,n,r,i,o,s){i.setXYAt(e[0],e[1],"o",o),i.setXYAt(n[0],n[1],"i",o+1),s&&i.setXYAt(t[0],t[1],"v",o),i.setXYAt(r[0],r[1],"v",o+1)},TrimModifier.prototype.addSegmentFromArray=function(t,e,n,r){e.setXYAt(t[1],t[5],"o",n),e.setXYAt(t[2],t[6],"i",n+1),r&&e.setXYAt(t[0],t[4],"v",n),e.setXYAt(t[3],t[7],"v",n+1)},TrimModifier.prototype.addShapes=function(t,e,n){var r=t.pathsData,i=t.shape.paths.shapes,o,s=t.shape.paths._length,a,l,c=0,u,f,d,h,m=[],v,P=!0;for(n?(f=n._length,v=n._length):(n=shapePool.newElement(),f=0,v=0),m.push(n),o=0;o<s;o+=1){for(d=r[o].lengths,n.c=i[o].c,l=i[o].c?d.length:d.length+1,a=1;a<l;a+=1)if(u=d[a-1],c+u.addedLength<e.s)c+=u.addedLength,n.c=!1;else if(c>e.e){n.c=!1;break}else e.s<=c&&e.e>=c+u.addedLength?(this.addSegment(i[o].v[a-1],i[o].o[a-1],i[o].i[a],i[o].v[a],n,f,P),P=!1):(h=bez.getNewSegment(i[o].v[a-1],i[o].v[a],i[o].o[a-1],i[o].i[a],(e.s-c)/u.addedLength,(e.e-c)/u.addedLength,d[a-1]),this.addSegmentFromArray(h,n,f,P),P=!1,n.c=!1),c+=u.addedLength,f+=1;if(i[o].c&&d.length){if(u=d[a-1],c<=e.e){var b=d[a-1].addedLength;e.s<=c&&e.e>=c+b?(this.addSegment(i[o].v[a-1],i[o].o[a-1],i[o].i[0],i[o].v[0],n,f,P),P=!1):(h=bez.getNewSegment(i[o].v[a-1],i[o].v[0],i[o].o[a-1],i[o].i[0],(e.s-c)/b,(e.e-c)/b,d[a-1]),this.addSegmentFromArray(h,n,f,P),P=!1,n.c=!1)}else n.c=!1;c+=u.addedLength,f+=1}if(n._length&&(n.setXYAt(n.v[v][0],n.v[v][1],"i",v),n.setXYAt(n.v[n._length-1][0],n.v[n._length-1][1],"o",n._length-1)),c>e.e)break;o<s-1&&(n=shapePool.newElement(),P=!0,m.push(n),f=0)}return m};function PuckerAndBloatModifier(){}extendPrototype([ShapeModifier],PuckerAndBloatModifier),PuckerAndBloatModifier.prototype.initModifierProperties=function(t,e){this.getValue=this.processKeys,this.amount=PropertyFactory.getProp(t,e.a,0,null,this),this._isAnimated=!!this.amount.effectsSequence.length},PuckerAndBloatModifier.prototype.processPath=function(t,e){var n=e/100,r=[0,0],i=t._length,o=0;for(o=0;o<i;o+=1)r[0]+=t.v[o][0],r[1]+=t.v[o][1];r[0]/=i,r[1]/=i;var s=shapePool.newElement();s.c=t.c;var a,l,c,u,f,d;for(o=0;o<i;o+=1)a=t.v[o][0]+(r[0]-t.v[o][0])*n,l=t.v[o][1]+(r[1]-t.v[o][1])*n,c=t.o[o][0]+(r[0]-t.o[o][0])*-n,u=t.o[o][1]+(r[1]-t.o[o][1])*-n,f=t.i[o][0]+(r[0]-t.i[o][0])*-n,d=t.i[o][1]+(r[1]-t.i[o][1])*-n,s.setTripleAt(a,l,c,u,f,d,o);return s},PuckerAndBloatModifier.prototype.processShapes=function(t){var e,n,r=this.shapes.length,i,o,s=this.amount.v;if(s!==0){var a,l;for(n=0;n<r;n+=1){if(a=this.shapes[n],l=a.localShapeCollection,!(!a.shape._mdf&&!this._mdf&&!t))for(l.releaseShapes(),a.shape._mdf=!0,e=a.shape.paths.shapes,o=a.shape.paths._length,i=0;i<o;i+=1)l.addShape(this.processPath(e[i],s));a.shape.paths=a.localShapeCollection}}this.dynamicProperties.length||(this._mdf=!1)};var TransformPropertyFactory=function(){var t=[0,0];function e(l){var c=this._mdf;this.iterateDynamicProperties(),this._mdf=this._mdf||c,this.a&&l.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.s&&l.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&l.skewFromAxis(-this.sk.v,this.sa.v),this.r?l.rotate(-this.r.v):l.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.data.p.s?this.data.p.z?l.translate(this.px.v,this.py.v,-this.pz.v):l.translate(this.px.v,this.py.v,0):l.translate(this.p.v[0],this.p.v[1],-this.p.v[2])}function n(l){if(this.elem.globalData.frameId!==this.frameId){if(this._isDirty&&(this.precalculateMatrix(),this._isDirty=!1),this.iterateDynamicProperties(),this._mdf||l){var c;if(this.v.cloneFromProps(this.pre.props),this.appliedTransformations<1&&this.v.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.appliedTransformations<2&&this.v.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&this.appliedTransformations<3&&this.v.skewFromAxis(-this.sk.v,this.sa.v),this.r&&this.appliedTransformations<4?this.v.rotate(-this.r.v):!this.r&&this.appliedTransformations<4&&this.v.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.autoOriented){var u,f;if(c=this.elem.globalData.frameRate,this.p&&this.p.keyframes&&this.p.getValueAtTime)this.p._caching.lastFrame+this.p.offsetTime<=this.p.keyframes[0].t?(u=this.p.getValueAtTime((this.p.keyframes[0].t+.01)/c,0),f=this.p.getValueAtTime(this.p.keyframes[0].t/c,0)):this.p._caching.lastFrame+this.p.offsetTime>=this.p.keyframes[this.p.keyframes.length-1].t?(u=this.p.getValueAtTime(this.p.keyframes[this.p.keyframes.length-1].t/c,0),f=this.p.getValueAtTime((this.p.keyframes[this.p.keyframes.length-1].t-.05)/c,0)):(u=this.p.pv,f=this.p.getValueAtTime((this.p._caching.lastFrame+this.p.offsetTime-.01)/c,this.p.offsetTime));else if(this.px&&this.px.keyframes&&this.py.keyframes&&this.px.getValueAtTime&&this.py.getValueAtTime){u=[],f=[];var d=this.px,h=this.py;d._caching.lastFrame+d.offsetTime<=d.keyframes[0].t?(u[0]=d.getValueAtTime((d.keyframes[0].t+.01)/c,0),u[1]=h.getValueAtTime((h.keyframes[0].t+.01)/c,0),f[0]=d.getValueAtTime(d.keyframes[0].t/c,0),f[1]=h.getValueAtTime(h.keyframes[0].t/c,0)):d._caching.lastFrame+d.offsetTime>=d.keyframes[d.keyframes.length-1].t?(u[0]=d.getValueAtTime(d.keyframes[d.keyframes.length-1].t/c,0),u[1]=h.getValueAtTime(h.keyframes[h.keyframes.length-1].t/c,0),f[0]=d.getValueAtTime((d.keyframes[d.keyframes.length-1].t-.01)/c,0),f[1]=h.getValueAtTime((h.keyframes[h.keyframes.length-1].t-.01)/c,0)):(u=[d.pv,h.pv],f[0]=d.getValueAtTime((d._caching.lastFrame+d.offsetTime-.01)/c,d.offsetTime),f[1]=h.getValueAtTime((h._caching.lastFrame+h.offsetTime-.01)/c,h.offsetTime))}else f=t,u=f;this.v.rotate(-Math.atan2(u[1]-f[1],u[0]-f[0]))}this.data.p&&this.data.p.s?this.data.p.z?this.v.translate(this.px.v,this.py.v,-this.pz.v):this.v.translate(this.px.v,this.py.v,0):this.v.translate(this.p.v[0],this.p.v[1],-this.p.v[2])}this.frameId=this.elem.globalData.frameId}}function r(){if(this.appliedTransformations=0,this.pre.reset(),!this.a.effectsSequence.length)this.pre.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.appliedTransformations=1;else return;if(!this.s.effectsSequence.length)this.pre.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.appliedTransformations=2;else return;if(this.sk)if(!this.sk.effectsSequence.length&&!this.sa.effectsSequence.length)this.pre.skewFromAxis(-this.sk.v,this.sa.v),this.appliedTransformations=3;else return;this.r?this.r.effectsSequence.length||(this.pre.rotate(-this.r.v),this.appliedTransformations=4):!this.rz.effectsSequence.length&&!this.ry.effectsSequence.length&&!this.rx.effectsSequence.length&&!this.or.effectsSequence.length&&(this.pre.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.appliedTransformations=4)}function i(){}function o(l){this._addDynamicProperty(l),this.elem.addDynamicProperty(l),this._isDirty=!0}function s(l,c,u){if(this.elem=l,this.frameId=-1,this.propType="transform",this.data=c,this.v=new Matrix,this.pre=new Matrix,this.appliedTransformations=0,this.initDynamicPropertyContainer(u||l),c.p&&c.p.s?(this.px=PropertyFactory.getProp(l,c.p.x,0,0,this),this.py=PropertyFactory.getProp(l,c.p.y,0,0,this),c.p.z&&(this.pz=PropertyFactory.getProp(l,c.p.z,0,0,this))):this.p=PropertyFactory.getProp(l,c.p||{k:[0,0,0]},1,0,this),c.rx){if(this.rx=PropertyFactory.getProp(l,c.rx,0,degToRads,this),this.ry=PropertyFactory.getProp(l,c.ry,0,degToRads,this),this.rz=PropertyFactory.getProp(l,c.rz,0,degToRads,this),c.or.k[0].ti){var f,d=c.or.k.length;for(f=0;f<d;f+=1)c.or.k[f].to=null,c.or.k[f].ti=null}this.or=PropertyFactory.getProp(l,c.or,1,degToRads,this),this.or.sh=!0}else this.r=PropertyFactory.getProp(l,c.r||{k:0},0,degToRads,this);c.sk&&(this.sk=PropertyFactory.getProp(l,c.sk,0,degToRads,this),this.sa=PropertyFactory.getProp(l,c.sa,0,degToRads,this)),this.a=PropertyFactory.getProp(l,c.a||{k:[0,0,0]},1,0,this),this.s=PropertyFactory.getProp(l,c.s||{k:[100,100,100]},1,.01,this),c.o?this.o=PropertyFactory.getProp(l,c.o,0,.01,l):this.o={_mdf:!1,v:1},this._isDirty=!0,this.dynamicProperties.length||this.getValue(!0)}s.prototype={applyToMatrix:e,getValue:n,precalculateMatrix:r,autoOrient:i},extendPrototype([DynamicPropertyContainer],s),s.prototype.addDynamicProperty=o,s.prototype._addDynamicProperty=DynamicPropertyContainer.prototype.addDynamicProperty;function a(l,c,u){return new s(l,c,u)}return{getTransformProperty:a}}();function RepeaterModifier(){}extendPrototype([ShapeModifier],RepeaterModifier),RepeaterModifier.prototype.initModifierProperties=function(t,e){this.getValue=this.processKeys,this.c=PropertyFactory.getProp(t,e.c,0,null,this),this.o=PropertyFactory.getProp(t,e.o,0,null,this),this.tr=TransformPropertyFactory.getTransformProperty(t,e.tr,this),this.so=PropertyFactory.getProp(t,e.tr.so,0,.01,this),this.eo=PropertyFactory.getProp(t,e.tr.eo,0,.01,this),this.data=e,this.dynamicProperties.length||this.getValue(!0),this._isAnimated=!!this.dynamicProperties.length,this.pMatrix=new Matrix,this.rMatrix=new Matrix,this.sMatrix=new Matrix,this.tMatrix=new Matrix,this.matrix=new Matrix},RepeaterModifier.prototype.applyTransforms=function(t,e,n,r,i,o){var s=o?-1:1,a=r.s.v[0]+(1-r.s.v[0])*(1-i),l=r.s.v[1]+(1-r.s.v[1])*(1-i);t.translate(r.p.v[0]*s*i,r.p.v[1]*s*i,r.p.v[2]),e.translate(-r.a.v[0],-r.a.v[1],r.a.v[2]),e.rotate(-r.r.v*s*i),e.translate(r.a.v[0],r.a.v[1],r.a.v[2]),n.translate(-r.a.v[0],-r.a.v[1],r.a.v[2]),n.scale(o?1/a:a,o?1/l:l),n.translate(r.a.v[0],r.a.v[1],r.a.v[2])},RepeaterModifier.prototype.init=function(t,e,n,r){for(this.elem=t,this.arr=e,this.pos=n,this.elemsData=r,this._currentCopies=0,this._elements=[],this._groups=[],this.frameId=-1,this.initDynamicPropertyContainer(t),this.initModifierProperties(t,e[n]);n>0;)n-=1,this._elements.unshift(e[n]);this.dynamicProperties.length?this.k=!0:this.getValue(!0)},RepeaterModifier.prototype.resetElements=function(t){var e,n=t.length;for(e=0;e<n;e+=1)t[e]._processed=!1,t[e].ty==="gr"&&this.resetElements(t[e].it)},RepeaterModifier.prototype.cloneElements=function(t){var e=JSON.parse(JSON.stringify(t));return this.resetElements(e),e},RepeaterModifier.prototype.changeGroupRender=function(t,e){var n,r=t.length;for(n=0;n<r;n+=1)t[n]._render=e,t[n].ty==="gr"&&this.changeGroupRender(t[n].it,e)},RepeaterModifier.prototype.processShapes=function(t){var e,n,r,i,o,s=!1;if(this._mdf||t){var a=Math.ceil(this.c.v);if(this._groups.length<a){for(;this._groups.length<a;){var l={it:this.cloneElements(this._elements),ty:"gr"};l.it.push({a:{a:0,ix:1,k:[0,0]},nm:"Transform",o:{a:0,ix:7,k:100},p:{a:0,ix:2,k:[0,0]},r:{a:1,ix:6,k:[{s:0,e:0,t:0},{s:0,e:0,t:1}]},s:{a:0,ix:3,k:[100,100]},sa:{a:0,ix:5,k:0},sk:{a:0,ix:4,k:0},ty:"tr"}),this.arr.splice(0,0,l),this._groups.splice(0,0,l),this._currentCopies+=1}this.elem.reloadShapes(),s=!0}o=0;var c;for(r=0;r<=this._groups.length-1;r+=1){if(c=o<a,this._groups[r]._render=c,this.changeGroupRender(this._groups[r].it,c),!c){var u=this.elemsData[r].it,f=u[u.length-1];f.transform.op.v!==0?(f.transform.op._mdf=!0,f.transform.op.v=0):f.transform.op._mdf=!1}o+=1}this._currentCopies=a;var d=this.o.v,h=d%1,m=d>0?Math.floor(d):Math.ceil(d),v=this.pMatrix.props,P=this.rMatrix.props,b=this.sMatrix.props;this.pMatrix.reset(),this.rMatrix.reset(),this.sMatrix.reset(),this.tMatrix.reset(),this.matrix.reset();var x=0;if(d>0){for(;x<m;)this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!1),x+=1;h&&(this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,h,!1),x+=h)}else if(d<0){for(;x>m;)this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!0),x-=1;h&&(this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,-h,!0),x-=h)}r=this.data.m===1?0:this._currentCopies-1,i=this.data.m===1?1:-1,o=this._currentCopies;for(var _,T;o;){if(e=this.elemsData[r].it,n=e[e.length-1].transform.mProps.v.props,T=n.length,e[e.length-1].transform.mProps._mdf=!0,e[e.length-1].transform.op._mdf=!0,e[e.length-1].transform.op.v=this._currentCopies===1?this.so.v:this.so.v+(this.eo.v-this.so.v)*(r/(this._currentCopies-1)),x!==0){for((r!==0&&i===1||r!==this._currentCopies-1&&i===-1)&&this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!1),this.matrix.transform(P[0],P[1],P[2],P[3],P[4],P[5],P[6],P[7],P[8],P[9],P[10],P[11],P[12],P[13],P[14],P[15]),this.matrix.transform(b[0],b[1],b[2],b[3],b[4],b[5],b[6],b[7],b[8],b[9],b[10],b[11],b[12],b[13],b[14],b[15]),this.matrix.transform(v[0],v[1],v[2],v[3],v[4],v[5],v[6],v[7],v[8],v[9],v[10],v[11],v[12],v[13],v[14],v[15]),_=0;_<T;_+=1)n[_]=this.matrix.props[_];this.matrix.reset()}else for(this.matrix.reset(),_=0;_<T;_+=1)n[_]=this.matrix.props[_];x+=1,o-=1,r+=i}}else for(o=this._currentCopies,r=0,i=1;o;)e=this.elemsData[r].it,n=e[e.length-1].transform.mProps.v.props,e[e.length-1].transform.mProps._mdf=!1,e[e.length-1].transform.op._mdf=!1,o-=1,r+=i;return s},RepeaterModifier.prototype.addShape=function(){};function RoundCornersModifier(){}extendPrototype([ShapeModifier],RoundCornersModifier),RoundCornersModifier.prototype.initModifierProperties=function(t,e){this.getValue=this.processKeys,this.rd=PropertyFactory.getProp(t,e.r,0,null,this),this._isAnimated=!!this.rd.effectsSequence.length},RoundCornersModifier.prototype.processPath=function(t,e){var n=shapePool.newElement();n.c=t.c;var r,i=t._length,o,s,a,l,c,u,f=0,d,h,m,v,P,b;for(r=0;r<i;r+=1)o=t.v[r],a=t.o[r],s=t.i[r],o[0]===a[0]&&o[1]===a[1]&&o[0]===s[0]&&o[1]===s[1]?(r===0||r===i-1)&&!t.c?(n.setTripleAt(o[0],o[1],a[0],a[1],s[0],s[1],f),f+=1):(r===0?l=t.v[i-1]:l=t.v[r-1],c=Math.sqrt(Math.pow(o[0]-l[0],2)+Math.pow(o[1]-l[1],2)),u=c?Math.min(c/2,e)/c:0,P=o[0]+(l[0]-o[0])*u,d=P,b=o[1]-(o[1]-l[1])*u,h=b,m=d-(d-o[0])*roundCorner,v=h-(h-o[1])*roundCorner,n.setTripleAt(d,h,m,v,P,b,f),f+=1,r===i-1?l=t.v[0]:l=t.v[r+1],c=Math.sqrt(Math.pow(o[0]-l[0],2)+Math.pow(o[1]-l[1],2)),u=c?Math.min(c/2,e)/c:0,m=o[0]+(l[0]-o[0])*u,d=m,v=o[1]+(l[1]-o[1])*u,h=v,P=d-(d-o[0])*roundCorner,b=h-(h-o[1])*roundCorner,n.setTripleAt(d,h,m,v,P,b,f),f+=1):(n.setTripleAt(t.v[r][0],t.v[r][1],t.o[r][0],t.o[r][1],t.i[r][0],t.i[r][1],f),f+=1);return n},RoundCornersModifier.prototype.processShapes=function(t){var e,n,r=this.shapes.length,i,o,s=this.rd.v;if(s!==0){var a,l;for(n=0;n<r;n+=1){if(a=this.shapes[n],l=a.localShapeCollection,!(!a.shape._mdf&&!this._mdf&&!t))for(l.releaseShapes(),a.shape._mdf=!0,e=a.shape.paths.shapes,o=a.shape.paths._length,i=0;i<o;i+=1)l.addShape(this.processPath(e[i],s));a.shape.paths=a.localShapeCollection}}this.dynamicProperties.length||(this._mdf=!1)};function floatEqual(t,e){return Math.abs(t-e)*1e5<=Math.min(Math.abs(t),Math.abs(e))}function floatZero(t){return Math.abs(t)<=1e-5}function lerp(t,e,n){return t*(1-n)+e*n}function lerpPoint(t,e,n){return[lerp(t[0],e[0],n),lerp(t[1],e[1],n)]}function quadRoots(t,e,n){if(t===0)return[];var r=e*e-4*t*n;if(r<0)return[];var i=-e/(2*t);if(r===0)return[i];var o=Math.sqrt(r)/(2*t);return[i-o,i+o]}function polynomialCoefficients(t,e,n,r){return[-t+3*e-3*n+r,3*t-6*e+3*n,-3*t+3*e,t]}function singlePoint(t){return new PolynomialBezier(t,t,t,t,!1)}function PolynomialBezier(t,e,n,r,i){i&&pointEqual(t,e)&&(e=lerpPoint(t,r,1/3)),i&&pointEqual(n,r)&&(n=lerpPoint(t,r,2/3));var o=polynomialCoefficients(t[0],e[0],n[0],r[0]),s=polynomialCoefficients(t[1],e[1],n[1],r[1]);this.a=[o[0],s[0]],this.b=[o[1],s[1]],this.c=[o[2],s[2]],this.d=[o[3],s[3]],this.points=[t,e,n,r]}PolynomialBezier.prototype.point=function(t){return[((this.a[0]*t+this.b[0])*t+this.c[0])*t+this.d[0],((this.a[1]*t+this.b[1])*t+this.c[1])*t+this.d[1]]},PolynomialBezier.prototype.derivative=function(t){return[(3*t*this.a[0]+2*this.b[0])*t+this.c[0],(3*t*this.a[1]+2*this.b[1])*t+this.c[1]]},PolynomialBezier.prototype.tangentAngle=function(t){var e=this.derivative(t);return Math.atan2(e[1],e[0])},PolynomialBezier.prototype.normalAngle=function(t){var e=this.derivative(t);return Math.atan2(e[0],e[1])},PolynomialBezier.prototype.inflectionPoints=function(){var t=this.a[1]*this.b[0]-this.a[0]*this.b[1];if(floatZero(t))return[];var e=-.5*(this.a[1]*this.c[0]-this.a[0]*this.c[1])/t,n=e*e-1/3*(this.b[1]*this.c[0]-this.b[0]*this.c[1])/t;if(n<0)return[];var r=Math.sqrt(n);return floatZero(r)?r>0&&r<1?[e]:[]:[e-r,e+r].filter(function(i){return i>0&&i<1})},PolynomialBezier.prototype.split=function(t){if(t<=0)return[singlePoint(this.points[0]),this];if(t>=1)return[this,singlePoint(this.points[this.points.length-1])];var e=lerpPoint(this.points[0],this.points[1],t),n=lerpPoint(this.points[1],this.points[2],t),r=lerpPoint(this.points[2],this.points[3],t),i=lerpPoint(e,n,t),o=lerpPoint(n,r,t),s=lerpPoint(i,o,t);return[new PolynomialBezier(this.points[0],e,i,s,!0),new PolynomialBezier(s,o,r,this.points[3],!0)]};function extrema(t,e){var n=t.points[0][e],r=t.points[t.points.length-1][e];if(n>r){var i=r;r=n,n=i}for(var o=quadRoots(3*t.a[e],2*t.b[e],t.c[e]),s=0;s<o.length;s+=1)if(o[s]>0&&o[s]<1){var a=t.point(o[s])[e];a<n?n=a:a>r&&(r=a)}return{min:n,max:r}}PolynomialBezier.prototype.bounds=function(){return{x:extrema(this,0),y:extrema(this,1)}},PolynomialBezier.prototype.boundingBox=function(){var t=this.bounds();return{left:t.x.min,right:t.x.max,top:t.y.min,bottom:t.y.max,width:t.x.max-t.x.min,height:t.y.max-t.y.min,cx:(t.x.max+t.x.min)/2,cy:(t.y.max+t.y.min)/2}};function intersectData(t,e,n){var r=t.boundingBox();return{cx:r.cx,cy:r.cy,width:r.width,height:r.height,bez:t,t:(e+n)/2,t1:e,t2:n}}function splitData(t){var e=t.bez.split(.5);return[intersectData(e[0],t.t1,t.t),intersectData(e[1],t.t,t.t2)]}function boxIntersect(t,e){return Math.abs(t.cx-e.cx)*2<t.width+e.width&&Math.abs(t.cy-e.cy)*2<t.height+e.height}function intersectsImpl(t,e,n,r,i,o){if(boxIntersect(t,e)){if(n>=o||t.width<=r&&t.height<=r&&e.width<=r&&e.height<=r){i.push([t.t,e.t]);return}var s=splitData(t),a=splitData(e);intersectsImpl(s[0],a[0],n+1,r,i,o),intersectsImpl(s[0],a[1],n+1,r,i,o),intersectsImpl(s[1],a[0],n+1,r,i,o),intersectsImpl(s[1],a[1],n+1,r,i,o)}}PolynomialBezier.prototype.intersections=function(t,e,n){e===void 0&&(e=2),n===void 0&&(n=7);var r=[];return intersectsImpl(intersectData(this,0,1),intersectData(t,0,1),0,e,r,n),r},PolynomialBezier.shapeSegment=function(t,e){var n=(e+1)%t.length();return new PolynomialBezier(t.v[e],t.o[e],t.i[n],t.v[n],!0)},PolynomialBezier.shapeSegmentInverted=function(t,e){var n=(e+1)%t.length();return new PolynomialBezier(t.v[n],t.i[n],t.o[e],t.v[e],!0)};function crossProduct(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function lineIntersection(t,e,n,r){var i=[t[0],t[1],1],o=[e[0],e[1],1],s=[n[0],n[1],1],a=[r[0],r[1],1],l=crossProduct(crossProduct(i,o),crossProduct(s,a));return floatZero(l[2])?null:[l[0]/l[2],l[1]/l[2]]}function polarOffset(t,e,n){return[t[0]+Math.cos(e)*n,t[1]-Math.sin(e)*n]}function pointDistance(t,e){return Math.hypot(t[0]-e[0],t[1]-e[1])}function pointEqual(t,e){return floatEqual(t[0],e[0])&&floatEqual(t[1],e[1])}function ZigZagModifier(){}extendPrototype([ShapeModifier],ZigZagModifier),ZigZagModifier.prototype.initModifierProperties=function(t,e){this.getValue=this.processKeys,this.amplitude=PropertyFactory.getProp(t,e.s,0,null,this),this.frequency=PropertyFactory.getProp(t,e.r,0,null,this),this.pointsType=PropertyFactory.getProp(t,e.pt,0,null,this),this._isAnimated=this.amplitude.effectsSequence.length!==0||this.frequency.effectsSequence.length!==0||this.pointsType.effectsSequence.length!==0};function setPoint(t,e,n,r,i,o,s){var a=n-Math.PI/2,l=n+Math.PI/2,c=e[0]+Math.cos(n)*r*i,u=e[1]-Math.sin(n)*r*i;t.setTripleAt(c,u,c+Math.cos(a)*o,u-Math.sin(a)*o,c+Math.cos(l)*s,u-Math.sin(l)*s,t.length())}function getPerpendicularVector(t,e){var n=[e[0]-t[0],e[1]-t[1]],r=-Math.PI*.5,i=[Math.cos(r)*n[0]-Math.sin(r)*n[1],Math.sin(r)*n[0]+Math.cos(r)*n[1]];return i}function getProjectingAngle(t,e){var n=e===0?t.length()-1:e-1,r=(e+1)%t.length(),i=t.v[n],o=t.v[r],s=getPerpendicularVector(i,o);return Math.atan2(0,1)-Math.atan2(s[1],s[0])}function zigZagCorner(t,e,n,r,i,o,s){var a=getProjectingAngle(e,n),l=e.v[n%e._length],c=e.v[n===0?e._length-1:n-1],u=e.v[(n+1)%e._length],f=o===2?Math.sqrt(Math.pow(l[0]-c[0],2)+Math.pow(l[1]-c[1],2)):0,d=o===2?Math.sqrt(Math.pow(l[0]-u[0],2)+Math.pow(l[1]-u[1],2)):0;setPoint(t,e.v[n%e._length],a,s,r,d/((i+1)*2),f/((i+1)*2),o)}function zigZagSegment(t,e,n,r,i,o){for(var s=0;s<r;s+=1){var a=(s+1)/(r+1),l=i===2?Math.sqrt(Math.pow(e.points[3][0]-e.points[0][0],2)+Math.pow(e.points[3][1]-e.points[0][1],2)):0,c=e.normalAngle(a),u=e.point(a);setPoint(t,u,c,o,n,l/((r+1)*2),l/((r+1)*2),i),o=-o}return o}ZigZagModifier.prototype.processPath=function(t,e,n,r){var i=t._length,o=shapePool.newElement();if(o.c=t.c,t.c||(i-=1),i===0)return o;var s=-1,a=PolynomialBezier.shapeSegment(t,0);zigZagCorner(o,t,0,e,n,r,s);for(var l=0;l<i;l+=1)s=zigZagSegment(o,a,e,n,r,-s),l===i-1&&!t.c?a=null:a=PolynomialBezier.shapeSegment(t,(l+1)%i),zigZagCorner(o,t,l+1,e,n,r,s);return o},ZigZagModifier.prototype.processShapes=function(t){var e,n,r=this.shapes.length,i,o,s=this.amplitude.v,a=Math.max(0,Math.round(this.frequency.v)),l=this.pointsType.v;if(s!==0){var c,u;for(n=0;n<r;n+=1){if(c=this.shapes[n],u=c.localShapeCollection,!(!c.shape._mdf&&!this._mdf&&!t))for(u.releaseShapes(),c.shape._mdf=!0,e=c.shape.paths.shapes,o=c.shape.paths._length,i=0;i<o;i+=1)u.addShape(this.processPath(e[i],s,a,l));c.shape.paths=c.localShapeCollection}}this.dynamicProperties.length||(this._mdf=!1)};function linearOffset(t,e,n){var r=Math.atan2(e[0]-t[0],e[1]-t[1]);return[polarOffset(t,r,n),polarOffset(e,r,n)]}function offsetSegment(t,e){var n,r,i,o,s,a,l;l=linearOffset(t.points[0],t.points[1],e),n=l[0],r=l[1],l=linearOffset(t.points[1],t.points[2],e),i=l[0],o=l[1],l=linearOffset(t.points[2],t.points[3],e),s=l[0],a=l[1];var c=lineIntersection(n,r,i,o);c===null&&(c=r);var u=lineIntersection(s,a,i,o);return u===null&&(u=s),new PolynomialBezier(n,c,u,a)}function joinLines(t,e,n,r,i){var o=e.points[3],s=n.points[0];if(r===3||pointEqual(o,s))return o;if(r===2){var a=-e.tangentAngle(1),l=-n.tangentAngle(0)+Math.PI,c=lineIntersection(o,polarOffset(o,a+Math.PI/2,100),s,polarOffset(s,a+Math.PI/2,100)),u=c?pointDistance(c,o):pointDistance(o,s)/2,f=polarOffset(o,a,2*u*roundCorner);return t.setXYAt(f[0],f[1],"o",t.length()-1),f=polarOffset(s,l,2*u*roundCorner),t.setTripleAt(s[0],s[1],s[0],s[1],f[0],f[1],t.length()),s}var d=pointEqual(o,e.points[2])?e.points[0]:e.points[2],h=pointEqual(s,n.points[1])?n.points[3]:n.points[1],m=lineIntersection(d,o,s,h);return m&&pointDistance(m,o)<i?(t.setTripleAt(m[0],m[1],m[0],m[1],m[0],m[1],t.length()),m):o}function getIntersection(t,e){var n=t.intersections(e);return n.length&&floatEqual(n[0][0],1)&&n.shift(),n.length?n[0]:null}function pruneSegmentIntersection(t,e){var n=t.slice(),r=e.slice(),i=getIntersection(t[t.length-1],e[0]);return i&&(n[t.length-1]=t[t.length-1].split(i[0])[0],r[0]=e[0].split(i[1])[1]),t.length>1&&e.length>1&&(i=getIntersection(t[0],e[e.length-1]),i)?[[t[0].split(i[0])[0]],[e[e.length-1].split(i[1])[1]]]:[n,r]}function pruneIntersections(t){for(var e,n=1;n<t.length;n+=1)e=pruneSegmentIntersection(t[n-1],t[n]),t[n-1]=e[0],t[n]=e[1];return t.length>1&&(e=pruneSegmentIntersection(t[t.length-1],t[0]),t[t.length-1]=e[0],t[0]=e[1]),t}function offsetSegmentSplit(t,e){var n=t.inflectionPoints(),r,i,o,s;if(n.length===0)return[offsetSegment(t,e)];if(n.length===1||floatEqual(n[1],1))return o=t.split(n[0]),r=o[0],i=o[1],[offsetSegment(r,e),offsetSegment(i,e)];o=t.split(n[0]),r=o[0];var a=(n[1]-n[0])/(1-n[0]);return o=o[1].split(a),s=o[0],i=o[1],[offsetSegment(r,e),offsetSegment(s,e),offsetSegment(i,e)]}function OffsetPathModifier(){}extendPrototype([ShapeModifier],OffsetPathModifier),OffsetPathModifier.prototype.initModifierProperties=function(t,e){this.getValue=this.processKeys,this.amount=PropertyFactory.getProp(t,e.a,0,null,this),this.miterLimit=PropertyFactory.getProp(t,e.ml,0,null,this),this.lineJoin=e.lj,this._isAnimated=this.amount.effectsSequence.length!==0},OffsetPathModifier.prototype.processPath=function(t,e,n,r){var i=shapePool.newElement();i.c=t.c;var o=t.length();t.c||(o-=1);var s,a,l,c=[];for(s=0;s<o;s+=1)l=PolynomialBezier.shapeSegment(t,s),c.push(offsetSegmentSplit(l,e));if(!t.c)for(s=o-1;s>=0;s-=1)l=PolynomialBezier.shapeSegmentInverted(t,s),c.push(offsetSegmentSplit(l,e));c=pruneIntersections(c);var u=null,f=null;for(s=0;s<c.length;s+=1){var d=c[s];for(f&&(u=joinLines(i,f,d[0],n,r)),f=d[d.length-1],a=0;a<d.length;a+=1)l=d[a],u&&pointEqual(l.points[0],u)?i.setXYAt(l.points[1][0],l.points[1][1],"o",i.length()-1):i.setTripleAt(l.points[0][0],l.points[0][1],l.points[1][0],l.points[1][1],l.points[0][0],l.points[0][1],i.length()),i.setTripleAt(l.points[3][0],l.points[3][1],l.points[3][0],l.points[3][1],l.points[2][0],l.points[2][1],i.length()),u=l.points[3]}return c.length&&joinLines(i,f,c[0][0],n,r),i},OffsetPathModifier.prototype.processShapes=function(t){var e,n,r=this.shapes.length,i,o,s=this.amount.v,a=this.miterLimit.v,l=this.lineJoin;if(s!==0){var c,u;for(n=0;n<r;n+=1){if(c=this.shapes[n],u=c.localShapeCollection,!(!c.shape._mdf&&!this._mdf&&!t))for(u.releaseShapes(),c.shape._mdf=!0,e=c.shape.paths.shapes,o=c.shape.paths._length,i=0;i<o;i+=1)u.addShape(this.processPath(e[i],s,l,a));c.shape.paths=c.localShapeCollection}}this.dynamicProperties.length||(this._mdf=!1)};function getFontProperties(t){for(var e=t.fStyle?t.fStyle.split(" "):[],n="normal",r="normal",i=e.length,o,s=0;s<i;s+=1)switch(o=e[s].toLowerCase(),o){case"italic":r="italic";break;case"bold":n="700";break;case"black":n="900";break;case"medium":n="500";break;case"regular":case"normal":n="400";break;case"light":case"thin":n="200";break;default:break}return{style:r,weight:t.fWeight||n}}var FontManager=function(){var t=5e3,e={w:0,size:0,shapes:[],data:{shapes:[]}},n=[];n=n.concat([2304,2305,2306,2307,2362,2363,2364,2364,2366,2367,2368,2369,2370,2371,2372,2373,2374,2375,2376,2377,2378,2379,2380,2381,2382,2383,2387,2388,2389,2390,2391,2402,2403]);var r=127988,i=917631,o=917601,s=917626,a=65039,l=8205,c=127462,u=127487,f=["d83cdffb","d83cdffc","d83cdffd","d83cdffe","d83cdfff"];function d(F){var G=F.split(","),D,N=G.length,te=[];for(D=0;D<N;D+=1)G[D]!=="sans-serif"&&G[D]!=="monospace"&&te.push(G[D]);return te.join(",")}function h(F,G){var D=createTag("span");D.setAttribute("aria-hidden",!0),D.style.fontFamily=G;var N=createTag("span");N.innerText="giItT1WQy@!-/#",D.style.position="absolute",D.style.left="-10000px",D.style.top="-10000px",D.style.fontSize="300px",D.style.fontVariant="normal",D.style.fontStyle="normal",D.style.fontWeight="normal",D.style.letterSpacing="0",D.appendChild(N),document.body.appendChild(D);var te=N.offsetWidth;return N.style.fontFamily=d(F)+", "+G,{node:N,w:te,parent:D}}function m(){var F,G=this.fonts.length,D,N,te=G;for(F=0;F<G;F+=1)this.fonts[F].loaded?te-=1:this.fonts[F].fOrigin==="n"||this.fonts[F].origin===0?this.fonts[F].loaded=!0:(D=this.fonts[F].monoCase.node,N=this.fonts[F].monoCase.w,D.offsetWidth!==N?(te-=1,this.fonts[F].loaded=!0):(D=this.fonts[F].sansCase.node,N=this.fonts[F].sansCase.w,D.offsetWidth!==N&&(te-=1,this.fonts[F].loaded=!0)),this.fonts[F].loaded&&(this.fonts[F].sansCase.parent.parentNode.removeChild(this.fonts[F].sansCase.parent),this.fonts[F].monoCase.parent.parentNode.removeChild(this.fonts[F].monoCase.parent)));te!==0&&Date.now()-this.initTime<t?setTimeout(this.checkLoadedFontsBinded,20):setTimeout(this.setIsLoadedBinded,10)}function v(F,G){var D=document.body&&G?"svg":"canvas",N,te=getFontProperties(F);if(D==="svg"){var X=createNS("text");X.style.fontSize="100px",X.setAttribute("font-family",F.fFamily),X.setAttribute("font-style",te.style),X.setAttribute("font-weight",te.weight),X.textContent="1",F.fClass?(X.style.fontFamily="inherit",X.setAttribute("class",F.fClass)):X.style.fontFamily=F.fFamily,G.appendChild(X),N=X}else{var Oe=new OffscreenCanvas(500,500).getContext("2d");Oe.font=te.style+" "+te.weight+" 100px "+F.fFamily,N=Oe}function Ye(De){return D==="svg"?(N.textContent=De,N.getComputedTextLength()):N.measureText(De).width}return{measureText:Ye}}function P(F,G){if(!F){this.isLoaded=!0;return}if(this.chars){this.isLoaded=!0,this.fonts=F.list;return}if(!document.body){this.isLoaded=!0,F.list.forEach(function(ve){ve.helper=v(ve),ve.cache={}}),this.fonts=F.list;return}var D=F.list,N,te=D.length,X=te;for(N=0;N<te;N+=1){var Oe=!0,Ye,De;if(D[N].loaded=!1,D[N].monoCase=h(D[N].fFamily,"monospace"),D[N].sansCase=h(D[N].fFamily,"sans-serif"),!D[N].fPath)D[N].loaded=!0,X-=1;else if(D[N].fOrigin==="p"||D[N].origin===3){if(Ye=document.querySelectorAll('style[f-forigin="p"][f-family="'+D[N].fFamily+'"], style[f-origin="3"][f-family="'+D[N].fFamily+'"]'),Ye.length>0&&(Oe=!1),Oe){var It=createTag("style");It.setAttribute("f-forigin",D[N].fOrigin),It.setAttribute("f-origin",D[N].origin),It.setAttribute("f-family",D[N].fFamily),It.type="text/css",It.innerText="@font-face {font-family: "+D[N].fFamily+"; font-style: normal; src: url('"+D[N].fPath+"');}",G.appendChild(It)}}else if(D[N].fOrigin==="g"||D[N].origin===1){for(Ye=document.querySelectorAll('link[f-forigin="g"], link[f-origin="1"]'),De=0;De<Ye.length;De+=1)Ye[De].href.indexOf(D[N].fPath)!==-1&&(Oe=!1);if(Oe){var Bt=createTag("link");Bt.setAttribute("f-forigin",D[N].fOrigin),Bt.setAttribute("f-origin",D[N].origin),Bt.type="text/css",Bt.rel="stylesheet",Bt.href=D[N].fPath,document.body.appendChild(Bt)}}else if(D[N].fOrigin==="t"||D[N].origin===2){for(Ye=document.querySelectorAll('script[f-forigin="t"], script[f-origin="2"]'),De=0;De<Ye.length;De+=1)D[N].fPath===Ye[De].src&&(Oe=!1);if(Oe){var zt=createTag("link");zt.setAttribute("f-forigin",D[N].fOrigin),zt.setAttribute("f-origin",D[N].origin),zt.setAttribute("rel","stylesheet"),zt.setAttribute("href",D[N].fPath),G.appendChild(zt)}}D[N].helper=v(D[N],G),D[N].cache={},this.fonts.push(D[N])}X===0?this.isLoaded=!0:setTimeout(this.checkLoadedFonts.bind(this),100)}function b(F){if(F){this.chars||(this.chars=[]);var G,D=F.length,N,te=this.chars.length,X;for(G=0;G<D;G+=1){for(N=0,X=!1;N<te;)this.chars[N].style===F[G].style&&this.chars[N].fFamily===F[G].fFamily&&this.chars[N].ch===F[G].ch&&(X=!0),N+=1;X||(this.chars.push(F[G]),te+=1)}}}function x(F,G,D){for(var N=0,te=this.chars.length;N<te;){if(this.chars[N].ch===F&&this.chars[N].style===G&&this.chars[N].fFamily===D)return this.chars[N];N+=1}return(typeof F=="string"&&F.charCodeAt(0)!==13||!F)&&console&&console.warn&&!this._warned&&(this._warned=!0,console.warn("Missing character from exported characters list: ",F,G,D)),e}function _(F,G,D){var N=this.getFontByName(G),te=F;if(!N.cache[te]){var X=N.helper;if(F===" "){var Oe=X.measureText("|"+F+"|"),Ye=X.measureText("||");N.cache[te]=(Oe-Ye)/100}else N.cache[te]=X.measureText(F)/100}return N.cache[te]*D}function T(F){for(var G=0,D=this.fonts.length;G<D;){if(this.fonts[G].fName===F)return this.fonts[G];G+=1}return this.fonts[0]}function k(F){var G=0,D=F.charCodeAt(0);if(D>=55296&&D<=56319){var N=F.charCodeAt(1);N>=56320&&N<=57343&&(G=(D-55296)*1024+N-56320+65536)}return G}function $(F,G){var D=F.toString(16)+G.toString(16);return f.indexOf(D)!==-1}function V(F){return F===l}function B(F){return F===a}function z(F){var G=k(F);return G>=c&&G<=u}function ie(F){return z(F.substr(0,2))&&z(F.substr(2,2))}function J(F){return n.indexOf(F)!==-1}function H(F,G){var D=k(F.substr(G,2));if(D!==r)return!1;var N=0;for(G+=2;N<5;){if(D=k(F.substr(G,2)),D<o||D>s)return!1;N+=1,G+=2}return k(F.substr(G,2))===i}function ce(){this.isLoaded=!0}var ae=function(){this.fonts=[],this.chars=null,this.typekitLoaded=0,this.isLoaded=!1,this._warned=!1,this.initTime=Date.now(),this.setIsLoadedBinded=this.setIsLoaded.bind(this),this.checkLoadedFontsBinded=this.checkLoadedFonts.bind(this)};ae.isModifier=$,ae.isZeroWidthJoiner=V,ae.isFlagEmoji=ie,ae.isRegionalCode=z,ae.isCombinedCharacter=J,ae.isRegionalFlag=H,ae.isVariationSelector=B,ae.BLACK_FLAG_CODE_POINT=r;var ee={addChars:b,addFonts:P,getCharData:x,getFontByName:T,measureText:_,checkLoadedFonts:m,setIsLoaded:ce};return ae.prototype=ee,ae}();function SlotManager(t){this.animationData=t}SlotManager.prototype.getProp=function(t){return this.animationData.slots&&this.animationData.slots[t.sid]?Object.assign(t,this.animationData.slots[t.sid].p):t};function slotFactory(t){return new SlotManager(t)}function RenderableElement(){}RenderableElement.prototype={initRenderable:function(){this.isInRange=!1,this.hidden=!1,this.isTransparent=!1,this.renderableComponents=[]},addRenderableComponent:function(e){this.renderableComponents.indexOf(e)===-1&&this.renderableComponents.push(e)},removeRenderableComponent:function(e){this.renderableComponents.indexOf(e)!==-1&&this.renderableComponents.splice(this.renderableComponents.indexOf(e),1)},prepareRenderableFrame:function(e){this.checkLayerLimits(e)},checkTransparency:function(){this.finalTransform.mProp.o.v<=0?!this.isTransparent&&this.globalData.renderConfig.hideOnTransparent&&(this.isTransparent=!0,this.hide()):this.isTransparent&&(this.isTransparent=!1,this.show())},checkLayerLimits:function(e){this.data.ip-this.data.st<=e&&this.data.op-this.data.st>e?this.isInRange!==!0&&(this.globalData._mdf=!0,this._mdf=!0,this.isInRange=!0,this.show()):this.isInRange!==!1&&(this.globalData._mdf=!0,this.isInRange=!1,this.hide())},renderRenderable:function(){var e,n=this.renderableComponents.length;for(e=0;e<n;e+=1)this.renderableComponents[e].renderFrame(this._isFirstFrame)},sourceRectAtTime:function(){return{top:0,left:0,width:100,height:100}},getLayerSize:function(){return this.data.ty===5?{w:this.data.textData.width,h:this.data.textData.height}:{w:this.data.width,h:this.data.height}}};var getBlendMode=function(){var t={0:"source-over",1:"multiply",2:"screen",3:"overlay",4:"darken",5:"lighten",6:"color-dodge",7:"color-burn",8:"hard-light",9:"soft-light",10:"difference",11:"exclusion",12:"hue",13:"saturation",14:"color",15:"luminosity"};return function(e){return t[e]||""}}();function SliderEffect(t,e,n){this.p=PropertyFactory.getProp(e,t.v,0,0,n)}function AngleEffect(t,e,n){this.p=PropertyFactory.getProp(e,t.v,0,0,n)}function ColorEffect(t,e,n){this.p=PropertyFactory.getProp(e,t.v,1,0,n)}function PointEffect(t,e,n){this.p=PropertyFactory.getProp(e,t.v,1,0,n)}function LayerIndexEffect(t,e,n){this.p=PropertyFactory.getProp(e,t.v,0,0,n)}function MaskIndexEffect(t,e,n){this.p=PropertyFactory.getProp(e,t.v,0,0,n)}function CheckboxEffect(t,e,n){this.p=PropertyFactory.getProp(e,t.v,0,0,n)}function NoValueEffect(){this.p={}}function EffectsManager(t,e){var n=t.ef||[];this.effectElements=[];var r,i=n.length,o;for(r=0;r<i;r+=1)o=new GroupEffect(n[r],e),this.effectElements.push(o)}function GroupEffect(t,e){this.init(t,e)}extendPrototype([DynamicPropertyContainer],GroupEffect),GroupEffect.prototype.getValue=GroupEffect.prototype.iterateDynamicProperties,GroupEffect.prototype.init=function(t,e){this.data=t,this.effectElements=[],this.initDynamicPropertyContainer(e);var n,r=this.data.ef.length,i,o=this.data.ef;for(n=0;n<r;n+=1){switch(i=null,o[n].ty){case 0:i=new SliderEffect(o[n],e,this);break;case 1:i=new AngleEffect(o[n],e,this);break;case 2:i=new ColorEffect(o[n],e,this);break;case 3:i=new PointEffect(o[n],e,this);break;case 4:case 7:i=new CheckboxEffect(o[n],e,this);break;case 10:i=new LayerIndexEffect(o[n],e,this);break;case 11:i=new MaskIndexEffect(o[n],e,this);break;case 5:i=new EffectsManager(o[n],e,this);break;default:i=new NoValueEffect(o[n],e,this);break}i&&this.effectElements.push(i)}};function BaseElement(){}BaseElement.prototype={checkMasks:function(){if(!this.data.hasMask)return!1;for(var e=0,n=this.data.masksProperties.length;e<n;){if(this.data.masksProperties[e].mode!=="n"&&this.data.masksProperties[e].cl!==!1)return!0;e+=1}return!1},initExpressions:function(){var e=getExpressionInterfaces();if(e){var n=e("layer"),r=e("effects"),i=e("shape"),o=e("text"),s=e("comp");this.layerInterface=n(this),this.data.hasMask&&this.maskManager&&this.layerInterface.registerMaskInterface(this.maskManager);var a=r.createEffectsInterface(this,this.layerInterface);this.layerInterface.registerEffectsInterface(a),this.data.ty===0||this.data.xt?this.compInterface=s(this):this.data.ty===4?(this.layerInterface.shapeInterface=i(this.shapesData,this.itemsData,this.layerInterface),this.layerInterface.content=this.layerInterface.shapeInterface):this.data.ty===5&&(this.layerInterface.textInterface=o(this),this.layerInterface.text=this.layerInterface.textInterface)}},setBlendMode:function(){var e=getBlendMode(this.data.bm),n=this.baseElement||this.layerElement;n.style["mix-blend-mode"]=e},initBaseData:function(e,n,r){this.globalData=n,this.comp=r,this.data=e,this.layerId=createElementID(),this.data.sr||(this.data.sr=1),this.effectsManager=new EffectsManager(this.data,this,this.dynamicProperties)},getType:function(){return this.type},sourceRectAtTime:function(){}};function FrameElement(){}FrameElement.prototype={initFrame:function(){this._isFirstFrame=!1,this.dynamicProperties=[],this._mdf=!1},prepareProperties:function(e,n){var r,i=this.dynamicProperties.length;for(r=0;r<i;r+=1)(n||this._isParent&&this.dynamicProperties[r].propType==="transform")&&(this.dynamicProperties[r].getValue(),this.dynamicProperties[r]._mdf&&(this.globalData._mdf=!0,this._mdf=!0))},addDynamicProperty:function(e){this.dynamicProperties.indexOf(e)===-1&&this.dynamicProperties.push(e)}};function FootageElement(t,e,n){this.initFrame(),this.initRenderable(),this.assetData=e.getAssetData(t.refId),this.footageData=e.imageLoader.getAsset(this.assetData),this.initBaseData(t,e,n)}FootageElement.prototype.prepareFrame=function(){},extendPrototype([RenderableElement,BaseElement,FrameElement],FootageElement),FootageElement.prototype.getBaseElement=function(){return null},FootageElement.prototype.renderFrame=function(){},FootageElement.prototype.destroy=function(){},FootageElement.prototype.initExpressions=function(){var t=getExpressionInterfaces();if(t){var e=t("footage");this.layerInterface=e(this)}},FootageElement.prototype.getFootageData=function(){return this.footageData};function AudioElement(t,e,n){this.initFrame(),this.initRenderable(),this.assetData=e.getAssetData(t.refId),this.initBaseData(t,e,n),this._isPlaying=!1,this._canPlay=!1;var r=this.globalData.getAssetsPath(this.assetData);this.audio=this.globalData.audioController.createAudio(r),this._currentTime=0,this.globalData.audioController.addAudio(this),this._volumeMultiplier=1,this._volume=1,this._previousVolume=null,this.tm=t.tm?PropertyFactory.getProp(this,t.tm,0,e.frameRate,this):{_placeholder:!0},this.lv=PropertyFactory.getProp(this,t.au&&t.au.lv?t.au.lv:{k:[100]},1,.01,this)}AudioElement.prototype.prepareFrame=function(t){if(this.prepareRenderableFrame(t,!0),this.prepareProperties(t,!0),this.tm._placeholder)this._currentTime=t/this.data.sr;else{var e=this.tm.v;this._currentTime=e}this._volume=this.lv.v[0];var n=this._volume*this._volumeMultiplier;this._previousVolume!==n&&(this._previousVolume=n,this.audio.volume(n))},extendPrototype([RenderableElement,BaseElement,FrameElement],AudioElement),AudioElement.prototype.renderFrame=function(){this.isInRange&&this._canPlay&&(this._isPlaying?(!this.audio.playing()||Math.abs(this._currentTime/this.globalData.frameRate-this.audio.seek())>.1)&&this.audio.seek(this._currentTime/this.globalData.frameRate):(this.audio.play(),this.audio.seek(this._currentTime/this.globalData.frameRate),this._isPlaying=!0))},AudioElement.prototype.show=function(){},AudioElement.prototype.hide=function(){this.audio.pause(),this._isPlaying=!1},AudioElement.prototype.pause=function(){this.audio.pause(),this._isPlaying=!1,this._canPlay=!1},AudioElement.prototype.resume=function(){this._canPlay=!0},AudioElement.prototype.setRate=function(t){this.audio.rate(t)},AudioElement.prototype.volume=function(t){this._volumeMultiplier=t,this._previousVolume=t*this._volume,this.audio.volume(this._previousVolume)},AudioElement.prototype.getBaseElement=function(){return null},AudioElement.prototype.destroy=function(){},AudioElement.prototype.sourceRectAtTime=function(){},AudioElement.prototype.initExpressions=function(){};function BaseRenderer(){}BaseRenderer.prototype.checkLayers=function(t){var e,n=this.layers.length,r;for(this.completeLayers=!0,e=n-1;e>=0;e-=1)this.elements[e]||(r=this.layers[e],r.ip-r.st<=t-this.layers[e].st&&r.op-r.st>t-this.layers[e].st&&this.buildItem(e)),this.completeLayers=this.elements[e]?this.completeLayers:!1;this.checkPendingElements()},BaseRenderer.prototype.createItem=function(t){switch(t.ty){case 2:return this.createImage(t);case 0:return this.createComp(t);case 1:return this.createSolid(t);case 3:return this.createNull(t);case 4:return this.createShape(t);case 5:return this.createText(t);case 6:return this.createAudio(t);case 13:return this.createCamera(t);case 15:return this.createFootage(t);default:return this.createNull(t)}},BaseRenderer.prototype.createCamera=function(){throw new Error("You're using a 3d camera. Try the html renderer.")},BaseRenderer.prototype.createAudio=function(t){return new AudioElement(t,this.globalData,this)},BaseRenderer.prototype.createFootage=function(t){return new FootageElement(t,this.globalData,this)},BaseRenderer.prototype.buildAllItems=function(){var t,e=this.layers.length;for(t=0;t<e;t+=1)this.buildItem(t);this.checkPendingElements()},BaseRenderer.prototype.includeLayers=function(t){this.completeLayers=!1;var e,n=t.length,r,i=this.layers.length;for(e=0;e<n;e+=1)for(r=0;r<i;){if(this.layers[r].id===t[e].id){this.layers[r]=t[e];break}r+=1}},BaseRenderer.prototype.setProjectInterface=function(t){this.globalData.projectInterface=t},BaseRenderer.prototype.initItems=function(){this.globalData.progressiveLoad||this.buildAllItems()},BaseRenderer.prototype.buildElementParenting=function(t,e,n){for(var r=this.elements,i=this.layers,o=0,s=i.length;o<s;)i[o].ind==e&&(!r[o]||r[o]===!0?(this.buildItem(o),this.addPendingElement(t)):(n.push(r[o]),r[o].setAsParent(),i[o].parent!==void 0?this.buildElementParenting(t,i[o].parent,n):t.setHierarchy(n))),o+=1},BaseRenderer.prototype.addPendingElement=function(t){this.pendingElements.push(t)},BaseRenderer.prototype.searchExtraCompositions=function(t){var e,n=t.length;for(e=0;e<n;e+=1)if(t[e].xt){var r=this.createComp(t[e]);r.initExpressions(),this.globalData.projectInterface.registerComposition(r)}},BaseRenderer.prototype.getElementById=function(t){var e,n=this.elements.length;for(e=0;e<n;e+=1)if(this.elements[e].data.ind===t)return this.elements[e];return null},BaseRenderer.prototype.getElementByPath=function(t){var e=t.shift(),n;if(typeof e=="number")n=this.elements[e];else{var r,i=this.elements.length;for(r=0;r<i;r+=1)if(this.elements[r].data.nm===e){n=this.elements[r];break}}return t.length===0?n:n.getElementByPath(t)},BaseRenderer.prototype.setupGlobalData=function(t,e){this.globalData.fontManager=new FontManager,this.globalData.slotManager=slotFactory(t),this.globalData.fontManager.addChars(t.chars),this.globalData.fontManager.addFonts(t.fonts,e),this.globalData.getAssetData=this.animationItem.getAssetData.bind(this.animationItem),this.globalData.getAssetsPath=this.animationItem.getAssetsPath.bind(this.animationItem),this.globalData.imageLoader=this.animationItem.imagePreloader,this.globalData.audioController=this.animationItem.audioController,this.globalData.frameId=0,this.globalData.frameRate=t.fr,this.globalData.nm=t.nm,this.globalData.compSize={w:t.w,h:t.h}};var effectTypes={TRANSFORM_EFFECT:"transformEFfect"};function TransformElement(){}TransformElement.prototype={initTransform:function(){var e=new Matrix;this.finalTransform={mProp:this.data.ks?TransformPropertyFactory.getTransformProperty(this,this.data.ks,this):{o:0},_matMdf:!1,_localMatMdf:!1,_opMdf:!1,mat:e,localMat:e,localOpacity:1},this.data.ao&&(this.finalTransform.mProp.autoOriented=!0),this.data.ty},renderTransform:function(){if(this.finalTransform._opMdf=this.finalTransform.mProp.o._mdf||this._isFirstFrame,this.finalTransform._matMdf=this.finalTransform.mProp._mdf||this._isFirstFrame,this.hierarchy){var e,n=this.finalTransform.mat,r=0,i=this.hierarchy.length;if(!this.finalTransform._matMdf)for(;r<i;){if(this.hierarchy[r].finalTransform.mProp._mdf){this.finalTransform._matMdf=!0;break}r+=1}if(this.finalTransform._matMdf)for(e=this.finalTransform.mProp.v.props,n.cloneFromProps(e),r=0;r<i;r+=1)n.multiply(this.hierarchy[r].finalTransform.mProp.v)}this.finalTransform._matMdf&&(this.finalTransform._localMatMdf=this.finalTransform._matMdf),this.finalTransform._opMdf&&(this.finalTransform.localOpacity=this.finalTransform.mProp.o.v)},renderLocalTransform:function(){if(this.localTransforms){var e=0,n=this.localTransforms.length;if(this.finalTransform._localMatMdf=this.finalTransform._matMdf,!this.finalTransform._localMatMdf||!this.finalTransform._opMdf)for(;e<n;)this.localTransforms[e]._mdf&&(this.finalTransform._localMatMdf=!0),this.localTransforms[e]._opMdf&&!this.finalTransform._opMdf&&(this.finalTransform.localOpacity=this.finalTransform.mProp.o.v,this.finalTransform._opMdf=!0),e+=1;if(this.finalTransform._localMatMdf){var r=this.finalTransform.localMat;for(this.localTransforms[0].matrix.clone(r),e=1;e<n;e+=1){var i=this.localTransforms[e].matrix;r.multiply(i)}r.multiply(this.finalTransform.mat)}if(this.finalTransform._opMdf){var o=this.finalTransform.localOpacity;for(e=0;e<n;e+=1)o*=this.localTransforms[e].opacity*.01;this.finalTransform.localOpacity=o}}},searchEffectTransforms:function(){if(this.renderableEffectsManager){var e=this.renderableEffectsManager.getEffects(effectTypes.TRANSFORM_EFFECT);if(e.length){this.localTransforms=[],this.finalTransform.localMat=new Matrix;var n=0,r=e.length;for(n=0;n<r;n+=1)this.localTransforms.push(e[n])}}},globalToLocal:function(e){var n=[];n.push(this.finalTransform);for(var r=!0,i=this.comp;r;)i.finalTransform?(i.data.hasMask&&n.splice(0,0,i.finalTransform),i=i.comp):r=!1;var o,s=n.length,a;for(o=0;o<s;o+=1)a=n[o].mat.applyToPointArray(0,0,0),e=[e[0]-a[0],e[1]-a[1],0];return e},mHelper:new Matrix};function MaskElement(t,e,n){this.data=t,this.element=e,this.globalData=n,this.storedData=[],this.masksProperties=this.data.masksProperties||[],this.maskElement=null;var r=this.globalData.defs,i,o=this.masksProperties?this.masksProperties.length:0;this.viewData=createSizedArray(o),this.solidPath="";var s,a=this.masksProperties,l=0,c=[],u,f,d=createElementID(),h,m,v,P,b="clipPath",x="clip-path";for(i=0;i<o;i+=1)if((a[i].mode!=="a"&&a[i].mode!=="n"||a[i].inv||a[i].o.k!==100||a[i].o.x)&&(b="mask",x="mask"),(a[i].mode==="s"||a[i].mode==="i")&&l===0?(h=createNS("rect"),h.setAttribute("fill","#ffffff"),h.setAttribute("width",this.element.comp.data.w||0),h.setAttribute("height",this.element.comp.data.h||0),c.push(h)):h=null,s=createNS("path"),a[i].mode==="n")this.viewData[i]={op:PropertyFactory.getProp(this.element,a[i].o,0,.01,this.element),prop:ShapePropertyFactory.getShapeProp(this.element,a[i],3),elem:s,lastPath:""},r.appendChild(s);else{l+=1,s.setAttribute("fill",a[i].mode==="s"?"#000000":"#ffffff"),s.setAttribute("clip-rule","nonzero");var _;if(a[i].x.k!==0?(b="mask",x="mask",P=PropertyFactory.getProp(this.element,a[i].x,0,null,this.element),_=createElementID(),m=createNS("filter"),m.setAttribute("id",_),v=createNS("feMorphology"),v.setAttribute("operator","erode"),v.setAttribute("in","SourceGraphic"),v.setAttribute("radius","0"),m.appendChild(v),r.appendChild(m),s.setAttribute("stroke",a[i].mode==="s"?"#000000":"#ffffff")):(v=null,P=null),this.storedData[i]={elem:s,x:P,expan:v,lastPath:"",lastOperator:"",filterId:_,lastRadius:0},a[i].mode==="i"){f=c.length;var T=createNS("g");for(u=0;u<f;u+=1)T.appendChild(c[u]);var k=createNS("mask");k.setAttribute("mask-type","alpha"),k.setAttribute("id",d+"_"+l),k.appendChild(s),r.appendChild(k),T.setAttribute("mask","url("+getLocationHref()+"#"+d+"_"+l+")"),c.length=0,c.push(T)}else c.push(s);a[i].inv&&!this.solidPath&&(this.solidPath=this.createLayerSolidPath()),this.viewData[i]={elem:s,lastPath:"",op:PropertyFactory.getProp(this.element,a[i].o,0,.01,this.element),prop:ShapePropertyFactory.getShapeProp(this.element,a[i],3),invRect:h},this.viewData[i].prop.k||this.drawPath(a[i],this.viewData[i].prop.v,this.viewData[i])}for(this.maskElement=createNS(b),o=c.length,i=0;i<o;i+=1)this.maskElement.appendChild(c[i]);l>0&&(this.maskElement.setAttribute("id",d),this.element.maskedElement.setAttribute(x,"url("+getLocationHref()+"#"+d+")"),r.appendChild(this.maskElement)),this.viewData.length&&this.element.addRenderableComponent(this)}MaskElement.prototype.getMaskProperty=function(t){return this.viewData[t].prop},MaskElement.prototype.renderFrame=function(t){var e=this.element.finalTransform.mat,n,r=this.masksProperties.length;for(n=0;n<r;n+=1)if((this.viewData[n].prop._mdf||t)&&this.drawPath(this.masksProperties[n],this.viewData[n].prop.v,this.viewData[n]),(this.viewData[n].op._mdf||t)&&this.viewData[n].elem.setAttribute("fill-opacity",this.viewData[n].op.v),this.masksProperties[n].mode!=="n"&&(this.viewData[n].invRect&&(this.element.finalTransform.mProp._mdf||t)&&this.viewData[n].invRect.setAttribute("transform",e.getInverseMatrix().to2dCSS()),this.storedData[n].x&&(this.storedData[n].x._mdf||t))){var i=this.storedData[n].expan;this.storedData[n].x.v<0?(this.storedData[n].lastOperator!=="erode"&&(this.storedData[n].lastOperator="erode",this.storedData[n].elem.setAttribute("filter","url("+getLocationHref()+"#"+this.storedData[n].filterId+")")),i.setAttribute("radius",-this.storedData[n].x.v)):(this.storedData[n].lastOperator!=="dilate"&&(this.storedData[n].lastOperator="dilate",this.storedData[n].elem.setAttribute("filter",null)),this.storedData[n].elem.setAttribute("stroke-width",this.storedData[n].x.v*2))}},MaskElement.prototype.getMaskelement=function(){return this.maskElement},MaskElement.prototype.createLayerSolidPath=function(){var t="M0,0 ";return t+=" h"+this.globalData.compSize.w,t+=" v"+this.globalData.compSize.h,t+=" h-"+this.globalData.compSize.w,t+=" v-"+this.globalData.compSize.h+" ",t},MaskElement.prototype.drawPath=function(t,e,n){var r=" M"+e.v[0][0]+","+e.v[0][1],i,o;for(o=e._length,i=1;i<o;i+=1)r+=" C"+e.o[i-1][0]+","+e.o[i-1][1]+" "+e.i[i][0]+","+e.i[i][1]+" "+e.v[i][0]+","+e.v[i][1];if(e.c&&o>1&&(r+=" C"+e.o[i-1][0]+","+e.o[i-1][1]+" "+e.i[0][0]+","+e.i[0][1]+" "+e.v[0][0]+","+e.v[0][1]),n.lastPath!==r){var s="";n.elem&&(e.c&&(s=t.inv?this.solidPath+r:r),n.elem.setAttribute("d",s)),n.lastPath=r}},MaskElement.prototype.destroy=function(){this.element=null,this.globalData=null,this.maskElement=null,this.data=null,this.masksProperties=null};var filtersFactory=function(){var t={};t.createFilter=e,t.createAlphaToLuminanceFilter=n;function e(r,i){var o=createNS("filter");return o.setAttribute("id",r),i!==!0&&(o.setAttribute("filterUnits","objectBoundingBox"),o.setAttribute("x","0%"),o.setAttribute("y","0%"),o.setAttribute("width","100%"),o.setAttribute("height","100%")),o}function n(){var r=createNS("feColorMatrix");return r.setAttribute("type","matrix"),r.setAttribute("color-interpolation-filters","sRGB"),r.setAttribute("values","0 0 0 1 0  0 0 0 1 0  0 0 0 1 0  0 0 0 1 1"),r}return t}(),featureSupport=function(){var t={maskType:!0,svgLumaHidden:!0,offscreenCanvas:typeof OffscreenCanvas<"u"};return(/MSIE 10/i.test(navigator.userAgent)||/MSIE 9/i.test(navigator.userAgent)||/rv:11.0/i.test(navigator.userAgent)||/Edge\/\d./i.test(navigator.userAgent))&&(t.maskType=!1),/firefox/i.test(navigator.userAgent)&&(t.svgLumaHidden=!1),t}(),registeredEffects$1={},idPrefix="filter_result_";function SVGEffects(t){var e,n="SourceGraphic",r=t.data.ef?t.data.ef.length:0,i=createElementID(),o=filtersFactory.createFilter(i,!0),s=0;this.filters=[];var a;for(e=0;e<r;e+=1){a=null;var l=t.data.ef[e].ty;if(registeredEffects$1[l]){var c=registeredEffects$1[l].effect;a=new c(o,t.effectsManager.effectElements[e],t,idPrefix+s,n),n=idPrefix+s,registeredEffects$1[l].countsAsEffect&&(s+=1)}a&&this.filters.push(a)}s&&(t.globalData.defs.appendChild(o),t.layerElement.setAttribute("filter","url("+getLocationHref()+"#"+i+")")),this.filters.length&&t.addRenderableComponent(this)}SVGEffects.prototype.renderFrame=function(t){var e,n=this.filters.length;for(e=0;e<n;e+=1)this.filters[e].renderFrame(t)},SVGEffects.prototype.getEffects=function(t){var e,n=this.filters.length,r=[];for(e=0;e<n;e+=1)this.filters[e].type===t&&r.push(this.filters[e]);return r};function registerEffect$1(t,e,n){registeredEffects$1[t]={effect:e,countsAsEffect:n}}function SVGBaseElement(){}SVGBaseElement.prototype={initRendererElement:function(){this.layerElement=createNS("g")},createContainerElements:function(){this.matteElement=createNS("g"),this.transformedElement=this.layerElement,this.maskedElement=this.layerElement,this._sizeChanged=!1;var e=null;if(this.data.td){this.matteMasks={};var n=createNS("g");n.setAttribute("id",this.layerId),n.appendChild(this.layerElement),e=n,this.globalData.defs.appendChild(n)}else this.data.tt?(this.matteElement.appendChild(this.layerElement),e=this.matteElement,this.baseElement=this.matteElement):this.baseElement=this.layerElement;if(this.data.ln&&this.layerElement.setAttribute("id",this.data.ln),this.data.cl&&this.layerElement.setAttribute("class",this.data.cl),this.data.ty===0&&!this.data.hd){var r=createNS("clipPath"),i=createNS("path");i.setAttribute("d","M0,0 L"+this.data.w+",0 L"+this.data.w+","+this.data.h+" L0,"+this.data.h+"z");var o=createElementID();if(r.setAttribute("id",o),r.appendChild(i),this.globalData.defs.appendChild(r),this.checkMasks()){var s=createNS("g");s.setAttribute("clip-path","url("+getLocationHref()+"#"+o+")"),s.appendChild(this.layerElement),this.transformedElement=s,e?e.appendChild(this.transformedElement):this.baseElement=this.transformedElement}else this.layerElement.setAttribute("clip-path","url("+getLocationHref()+"#"+o+")")}this.data.bm!==0&&this.setBlendMode()},renderElement:function(){this.finalTransform._localMatMdf&&this.transformedElement.setAttribute("transform",this.finalTransform.localMat.to2dCSS()),this.finalTransform._opMdf&&this.transformedElement.setAttribute("opacity",this.finalTransform.localOpacity)},destroyBaseElement:function(){this.layerElement=null,this.matteElement=null,this.maskManager.destroy()},getBaseElement:function(){return this.data.hd?null:this.baseElement},createRenderableComponents:function(){this.maskManager=new MaskElement(this.data,this,this.globalData),this.renderableEffectsManager=new SVGEffects(this),this.searchEffectTransforms()},getMatte:function(e){if(this.matteMasks||(this.matteMasks={}),!this.matteMasks[e]){var n=this.layerId+"_"+e,r,i,o,s;if(e===1||e===3){var a=createNS("mask");a.setAttribute("id",n),a.setAttribute("mask-type",e===3?"luminance":"alpha"),o=createNS("use"),o.setAttributeNS("http://www.w3.org/1999/xlink","href","#"+this.layerId),a.appendChild(o),this.globalData.defs.appendChild(a),!featureSupport.maskType&&e===1&&(a.setAttribute("mask-type","luminance"),r=createElementID(),i=filtersFactory.createFilter(r),this.globalData.defs.appendChild(i),i.appendChild(filtersFactory.createAlphaToLuminanceFilter()),s=createNS("g"),s.appendChild(o),a.appendChild(s),s.setAttribute("filter","url("+getLocationHref()+"#"+r+")"))}else if(e===2){var l=createNS("mask");l.setAttribute("id",n),l.setAttribute("mask-type","alpha");var c=createNS("g");l.appendChild(c),r=createElementID(),i=filtersFactory.createFilter(r);var u=createNS("feComponentTransfer");u.setAttribute("in","SourceGraphic"),i.appendChild(u);var f=createNS("feFuncA");f.setAttribute("type","table"),f.setAttribute("tableValues","1.0 0.0"),u.appendChild(f),this.globalData.defs.appendChild(i);var d=createNS("rect");d.setAttribute("width",this.comp.data.w),d.setAttribute("height",this.comp.data.h),d.setAttribute("x","0"),d.setAttribute("y","0"),d.setAttribute("fill","#ffffff"),d.setAttribute("opacity","0"),c.setAttribute("filter","url("+getLocationHref()+"#"+r+")"),c.appendChild(d),o=createNS("use"),o.setAttributeNS("http://www.w3.org/1999/xlink","href","#"+this.layerId),c.appendChild(o),featureSupport.maskType||(l.setAttribute("mask-type","luminance"),i.appendChild(filtersFactory.createAlphaToLuminanceFilter()),s=createNS("g"),c.appendChild(d),s.appendChild(this.layerElement),c.appendChild(s)),this.globalData.defs.appendChild(l)}this.matteMasks[e]=n}return this.matteMasks[e]},setMatte:function(e){this.matteElement&&this.matteElement.setAttribute("mask","url("+getLocationHref()+"#"+e+")")}};function HierarchyElement(){}HierarchyElement.prototype={initHierarchy:function(){this.hierarchy=[],this._isParent=!1,this.checkParenting()},setHierarchy:function(e){this.hierarchy=e},setAsParent:function(){this._isParent=!0},checkParenting:function(){this.data.parent!==void 0&&this.comp.buildElementParenting(this,this.data.parent,[])}};function RenderableDOMElement(){}(function(){var t={initElement:function(n,r,i){this.initFrame(),this.initBaseData(n,r,i),this.initTransform(n,r,i),this.initHierarchy(),this.initRenderable(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),this.createContent(),this.hide()},hide:function(){if(!this.hidden&&(!this.isInRange||this.isTransparent)){var n=this.baseElement||this.layerElement;n.style.display="none",this.hidden=!0}},show:function(){if(this.isInRange&&!this.isTransparent){if(!this.data.hd){var n=this.baseElement||this.layerElement;n.style.display="block"}this.hidden=!1,this._isFirstFrame=!0}},renderFrame:function(){this.data.hd||this.hidden||(this.renderTransform(),this.renderRenderable(),this.renderLocalTransform(),this.renderElement(),this.renderInnerContent(),this._isFirstFrame&&(this._isFirstFrame=!1))},renderInnerContent:function(){},prepareFrame:function(n){this._mdf=!1,this.prepareRenderableFrame(n),this.prepareProperties(n,this.isInRange),this.checkTransparency()},destroy:function(){this.innerElem=null,this.destroyBaseElement()}};extendPrototype([RenderableElement,createProxyFunction(t)],RenderableDOMElement)})();function IImageElement(t,e,n){this.assetData=e.getAssetData(t.refId),this.assetData&&this.assetData.sid&&(this.assetData=e.slotManager.getProp(this.assetData)),this.initElement(t,e,n),this.sourceRect={top:0,left:0,width:this.assetData.w,height:this.assetData.h}}extendPrototype([BaseElement,TransformElement,SVGBaseElement,HierarchyElement,FrameElement,RenderableDOMElement],IImageElement),IImageElement.prototype.createContent=function(){var t=this.globalData.getAssetsPath(this.assetData);this.innerElem=createNS("image"),this.innerElem.setAttribute("width",this.assetData.w+"px"),this.innerElem.setAttribute("height",this.assetData.h+"px"),this.innerElem.setAttribute("preserveAspectRatio",this.assetData.pr||this.globalData.renderConfig.imagePreserveAspectRatio),this.innerElem.setAttributeNS("http://www.w3.org/1999/xlink","href",t),this.layerElement.appendChild(this.innerElem)},IImageElement.prototype.sourceRectAtTime=function(){return this.sourceRect};function ProcessedElement(t,e){this.elem=t,this.pos=e}function IShapeElement(){}IShapeElement.prototype={addShapeToModifiers:function(e){var n,r=this.shapeModifiers.length;for(n=0;n<r;n+=1)this.shapeModifiers[n].addShape(e)},isShapeInAnimatedModifiers:function(e){for(var n=0,r=this.shapeModifiers.length;n<r;)if(this.shapeModifiers[n].isAnimatedWithShape(e))return!0;return!1},renderModifiers:function(){if(this.shapeModifiers.length){var e,n=this.shapes.length;for(e=0;e<n;e+=1)this.shapes[e].sh.reset();n=this.shapeModifiers.length;var r;for(e=n-1;e>=0&&(r=this.shapeModifiers[e].processShapes(this._isFirstFrame),!r);e-=1);}},searchProcessedElement:function(e){for(var n=this.processedElements,r=0,i=n.length;r<i;){if(n[r].elem===e)return n[r].pos;r+=1}return 0},addProcessedElement:function(e,n){for(var r=this.processedElements,i=r.length;i;)if(i-=1,r[i].elem===e){r[i].pos=n;return}r.push(new ProcessedElement(e,n))},prepareFrame:function(e){this.prepareRenderableFrame(e),this.prepareProperties(e,this.isInRange)}};var lineCapEnum={1:"butt",2:"round",3:"square"},lineJoinEnum={1:"miter",2:"round",3:"bevel"};function SVGShapeData(t,e,n){this.caches=[],this.styles=[],this.transformers=t,this.lStr="",this.sh=n,this.lvl=e,this._isAnimated=!!n.k;for(var r=0,i=t.length;r<i;){if(t[r].mProps.dynamicProperties.length){this._isAnimated=!0;break}r+=1}}SVGShapeData.prototype.setAsAnimated=function(){this._isAnimated=!0};function SVGStyleData(t,e){this.data=t,this.type=t.ty,this.d="",this.lvl=e,this._mdf=!1,this.closed=t.hd===!0,this.pElem=createNS("path"),this.msElem=null}SVGStyleData.prototype.reset=function(){this.d="",this._mdf=!1};function DashProperty(t,e,n,r){this.elem=t,this.frameId=-1,this.dataProps=createSizedArray(e.length),this.renderer=n,this.k=!1,this.dashStr="",this.dashArray=createTypedArray("float32",e.length?e.length-1:0),this.dashoffset=createTypedArray("float32",1),this.initDynamicPropertyContainer(r);var i,o=e.length||0,s;for(i=0;i<o;i+=1)s=PropertyFactory.getProp(t,e[i].v,0,0,this),this.k=s.k||this.k,this.dataProps[i]={n:e[i].n,p:s};this.k||this.getValue(!0),this._isAnimated=this.k}DashProperty.prototype.getValue=function(t){if(!(this.elem.globalData.frameId===this.frameId&&!t)&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf=this._mdf||t,this._mdf)){var e=0,n=this.dataProps.length;for(this.renderer==="svg"&&(this.dashStr=""),e=0;e<n;e+=1)this.dataProps[e].n!=="o"?this.renderer==="svg"?this.dashStr+=" "+this.dataProps[e].p.v:this.dashArray[e]=this.dataProps[e].p.v:this.dashoffset[0]=this.dataProps[e].p.v}},extendPrototype([DynamicPropertyContainer],DashProperty);function SVGStrokeStyleData(t,e,n){this.initDynamicPropertyContainer(t),this.getValue=this.iterateDynamicProperties,this.o=PropertyFactory.getProp(t,e.o,0,.01,this),this.w=PropertyFactory.getProp(t,e.w,0,null,this),this.d=new DashProperty(t,e.d||{},"svg",this),this.c=PropertyFactory.getProp(t,e.c,1,255,this),this.style=n,this._isAnimated=!!this._isAnimated}extendPrototype([DynamicPropertyContainer],SVGStrokeStyleData);function SVGFillStyleData(t,e,n){this.initDynamicPropertyContainer(t),this.getValue=this.iterateDynamicProperties,this.o=PropertyFactory.getProp(t,e.o,0,.01,this),this.c=PropertyFactory.getProp(t,e.c,1,255,this),this.style=n}extendPrototype([DynamicPropertyContainer],SVGFillStyleData);function SVGNoStyleData(t,e,n){this.initDynamicPropertyContainer(t),this.getValue=this.iterateDynamicProperties,this.style=n}extendPrototype([DynamicPropertyContainer],SVGNoStyleData);function GradientProperty(t,e,n){this.data=e,this.c=createTypedArray("uint8c",e.p*4);var r=e.k.k[0].s?e.k.k[0].s.length-e.p*4:e.k.k.length-e.p*4;this.o=createTypedArray("float32",r),this._cmdf=!1,this._omdf=!1,this._collapsable=this.checkCollapsable(),this._hasOpacity=r,this.initDynamicPropertyContainer(n),this.prop=PropertyFactory.getProp(t,e.k,1,null,this),this.k=this.prop.k,this.getValue(!0)}GradientProperty.prototype.comparePoints=function(t,e){for(var n=0,r=this.o.length/2,i;n<r;){if(i=Math.abs(t[n*4]-t[e*4+n*2]),i>.01)return!1;n+=1}return!0},GradientProperty.prototype.checkCollapsable=function(){if(this.o.length/2!==this.c.length/4)return!1;if(this.data.k.k[0].s)for(var t=0,e=this.data.k.k.length;t<e;){if(!this.comparePoints(this.data.k.k[t].s,this.data.p))return!1;t+=1}else if(!this.comparePoints(this.data.k.k,this.data.p))return!1;return!0},GradientProperty.prototype.getValue=function(t){if(this.prop.getValue(),this._mdf=!1,this._cmdf=!1,this._omdf=!1,this.prop._mdf||t){var e,n=this.data.p*4,r,i;for(e=0;e<n;e+=1)r=e%4===0?100:255,i=Math.round(this.prop.v[e]*r),this.c[e]!==i&&(this.c[e]=i,this._cmdf=!t);if(this.o.length)for(n=this.prop.v.length,e=this.data.p*4;e<n;e+=1)r=e%2===0?100:1,i=e%2===0?Math.round(this.prop.v[e]*100):this.prop.v[e],this.o[e-this.data.p*4]!==i&&(this.o[e-this.data.p*4]=i,this._omdf=!t);this._mdf=!t}},extendPrototype([DynamicPropertyContainer],GradientProperty);function SVGGradientFillStyleData(t,e,n){this.initDynamicPropertyContainer(t),this.getValue=this.iterateDynamicProperties,this.initGradientData(t,e,n)}SVGGradientFillStyleData.prototype.initGradientData=function(t,e,n){this.o=PropertyFactory.getProp(t,e.o,0,.01,this),this.s=PropertyFactory.getProp(t,e.s,1,null,this),this.e=PropertyFactory.getProp(t,e.e,1,null,this),this.h=PropertyFactory.getProp(t,e.h||{k:0},0,.01,this),this.a=PropertyFactory.getProp(t,e.a||{k:0},0,degToRads,this),this.g=new GradientProperty(t,e.g,this),this.style=n,this.stops=[],this.setGradientData(n.pElem,e),this.setGradientOpacity(e,n),this._isAnimated=!!this._isAnimated},SVGGradientFillStyleData.prototype.setGradientData=function(t,e){var n=createElementID(),r=createNS(e.t===1?"linearGradient":"radialGradient");r.setAttribute("id",n),r.setAttribute("spreadMethod","pad"),r.setAttribute("gradientUnits","userSpaceOnUse");var i=[],o,s,a;for(a=e.g.p*4,s=0;s<a;s+=4)o=createNS("stop"),r.appendChild(o),i.push(o);t.setAttribute(e.ty==="gf"?"fill":"stroke","url("+getLocationHref()+"#"+n+")"),this.gf=r,this.cst=i},SVGGradientFillStyleData.prototype.setGradientOpacity=function(t,e){if(this.g._hasOpacity&&!this.g._collapsable){var n,r,i,o=createNS("mask"),s=createNS("path");o.appendChild(s);var a=createElementID(),l=createElementID();o.setAttribute("id",l);var c=createNS(t.t===1?"linearGradient":"radialGradient");c.setAttribute("id",a),c.setAttribute("spreadMethod","pad"),c.setAttribute("gradientUnits","userSpaceOnUse"),i=t.g.k.k[0].s?t.g.k.k[0].s.length:t.g.k.k.length;var u=this.stops;for(r=t.g.p*4;r<i;r+=2)n=createNS("stop"),n.setAttribute("stop-color","rgb(255,255,255)"),c.appendChild(n),u.push(n);s.setAttribute(t.ty==="gf"?"fill":"stroke","url("+getLocationHref()+"#"+a+")"),t.ty==="gs"&&(s.setAttribute("stroke-linecap",lineCapEnum[t.lc||2]),s.setAttribute("stroke-linejoin",lineJoinEnum[t.lj||2]),t.lj===1&&s.setAttribute("stroke-miterlimit",t.ml)),this.of=c,this.ms=o,this.ost=u,this.maskId=l,e.msElem=s}},extendPrototype([DynamicPropertyContainer],SVGGradientFillStyleData);function SVGGradientStrokeStyleData(t,e,n){this.initDynamicPropertyContainer(t),this.getValue=this.iterateDynamicProperties,this.w=PropertyFactory.getProp(t,e.w,0,null,this),this.d=new DashProperty(t,e.d||{},"svg",this),this.initGradientData(t,e,n),this._isAnimated=!!this._isAnimated}extendPrototype([SVGGradientFillStyleData,DynamicPropertyContainer],SVGGradientStrokeStyleData);function ShapeGroupData(){this.it=[],this.prevViewData=[],this.gr=createNS("g")}function SVGTransformData(t,e,n){this.transform={mProps:t,op:e,container:n},this.elements=[],this._isAnimated=this.transform.mProps.dynamicProperties.length||this.transform.op.effectsSequence.length}var buildShapeString=function(e,n,r,i){if(n===0)return"";var o=e.o,s=e.i,a=e.v,l,c=" M"+i.applyToPointStringified(a[0][0],a[0][1]);for(l=1;l<n;l+=1)c+=" C"+i.applyToPointStringified(o[l-1][0],o[l-1][1])+" "+i.applyToPointStringified(s[l][0],s[l][1])+" "+i.applyToPointStringified(a[l][0],a[l][1]);return r&&n&&(c+=" C"+i.applyToPointStringified(o[l-1][0],o[l-1][1])+" "+i.applyToPointStringified(s[0][0],s[0][1])+" "+i.applyToPointStringified(a[0][0],a[0][1]),c+="z"),c},SVGElementsRenderer=function(){var t=new Matrix,e=new Matrix,n={createRenderFunction:r};function r(f){switch(f.ty){case"fl":return a;case"gf":return c;case"gs":return l;case"st":return u;case"sh":case"el":case"rc":case"sr":return s;case"tr":return i;case"no":return o;default:return null}}function i(f,d,h){(h||d.transform.op._mdf)&&d.transform.container.setAttribute("opacity",d.transform.op.v),(h||d.transform.mProps._mdf)&&d.transform.container.setAttribute("transform",d.transform.mProps.v.to2dCSS())}function o(){}function s(f,d,h){var m,v,P,b,x,_,T=d.styles.length,k=d.lvl,$,V,B,z;for(_=0;_<T;_+=1){if(b=d.sh._mdf||h,d.styles[_].lvl<k){for(V=e.reset(),B=k-d.styles[_].lvl,z=d.transformers.length-1;!b&&B>0;)b=d.transformers[z].mProps._mdf||b,B-=1,z-=1;if(b)for(B=k-d.styles[_].lvl,z=d.transformers.length-1;B>0;)V.multiply(d.transformers[z].mProps.v),B-=1,z-=1}else V=t;if($=d.sh.paths,v=$._length,b){for(P="",m=0;m<v;m+=1)x=$.shapes[m],x&&x._length&&(P+=buildShapeString(x,x._length,x.c,V));d.caches[_]=P}else P=d.caches[_];d.styles[_].d+=f.hd===!0?"":P,d.styles[_]._mdf=b||d.styles[_]._mdf}}function a(f,d,h){var m=d.style;(d.c._mdf||h)&&m.pElem.setAttribute("fill","rgb("+bmFloor(d.c.v[0])+","+bmFloor(d.c.v[1])+","+bmFloor(d.c.v[2])+")"),(d.o._mdf||h)&&m.pElem.setAttribute("fill-opacity",d.o.v)}function l(f,d,h){c(f,d,h),u(f,d,h)}function c(f,d,h){var m=d.gf,v=d.g._hasOpacity,P=d.s.v,b=d.e.v;if(d.o._mdf||h){var x=f.ty==="gf"?"fill-opacity":"stroke-opacity";d.style.pElem.setAttribute(x,d.o.v)}if(d.s._mdf||h){var _=f.t===1?"x1":"cx",T=_==="x1"?"y1":"cy";m.setAttribute(_,P[0]),m.setAttribute(T,P[1]),v&&!d.g._collapsable&&(d.of.setAttribute(_,P[0]),d.of.setAttribute(T,P[1]))}var k,$,V,B;if(d.g._cmdf||h){k=d.cst;var z=d.g.c;for(V=k.length,$=0;$<V;$+=1)B=k[$],B.setAttribute("offset",z[$*4]+"%"),B.setAttribute("stop-color","rgb("+z[$*4+1]+","+z[$*4+2]+","+z[$*4+3]+")")}if(v&&(d.g._omdf||h)){var ie=d.g.o;for(d.g._collapsable?k=d.cst:k=d.ost,V=k.length,$=0;$<V;$+=1)B=k[$],d.g._collapsable||B.setAttribute("offset",ie[$*2]+"%"),B.setAttribute("stop-opacity",ie[$*2+1])}if(f.t===1)(d.e._mdf||h)&&(m.setAttribute("x2",b[0]),m.setAttribute("y2",b[1]),v&&!d.g._collapsable&&(d.of.setAttribute("x2",b[0]),d.of.setAttribute("y2",b[1])));else{var J;if((d.s._mdf||d.e._mdf||h)&&(J=Math.sqrt(Math.pow(P[0]-b[0],2)+Math.pow(P[1]-b[1],2)),m.setAttribute("r",J),v&&!d.g._collapsable&&d.of.setAttribute("r",J)),d.e._mdf||d.h._mdf||d.a._mdf||h){J||(J=Math.sqrt(Math.pow(P[0]-b[0],2)+Math.pow(P[1]-b[1],2)));var H=Math.atan2(b[1]-P[1],b[0]-P[0]),ce=d.h.v;ce>=1?ce=.99:ce<=-1&&(ce=-.99);var ae=J*ce,ee=Math.cos(H+d.a.v)*ae+P[0],F=Math.sin(H+d.a.v)*ae+P[1];m.setAttribute("fx",ee),m.setAttribute("fy",F),v&&!d.g._collapsable&&(d.of.setAttribute("fx",ee),d.of.setAttribute("fy",F))}}}function u(f,d,h){var m=d.style,v=d.d;v&&(v._mdf||h)&&v.dashStr&&(m.pElem.setAttribute("stroke-dasharray",v.dashStr),m.pElem.setAttribute("stroke-dashoffset",v.dashoffset[0])),d.c&&(d.c._mdf||h)&&m.pElem.setAttribute("stroke","rgb("+bmFloor(d.c.v[0])+","+bmFloor(d.c.v[1])+","+bmFloor(d.c.v[2])+")"),(d.o._mdf||h)&&m.pElem.setAttribute("stroke-opacity",d.o.v),(d.w._mdf||h)&&(m.pElem.setAttribute("stroke-width",d.w.v),m.msElem&&m.msElem.setAttribute("stroke-width",d.w.v))}return n}();function SVGShapeElement(t,e,n){this.shapes=[],this.shapesData=t.shapes,this.stylesList=[],this.shapeModifiers=[],this.itemsData=[],this.processedElements=[],this.animatedContents=[],this.initElement(t,e,n),this.prevViewData=[]}extendPrototype([BaseElement,TransformElement,SVGBaseElement,IShapeElement,HierarchyElement,FrameElement,RenderableDOMElement],SVGShapeElement),SVGShapeElement.prototype.initSecondaryElement=function(){},SVGShapeElement.prototype.identityMatrix=new Matrix,SVGShapeElement.prototype.buildExpressionInterface=function(){},SVGShapeElement.prototype.createContent=function(){this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,0,[],!0),this.filterUniqueShapes()},SVGShapeElement.prototype.filterUniqueShapes=function(){var t,e=this.shapes.length,n,r,i=this.stylesList.length,o,s=[],a=!1;for(r=0;r<i;r+=1){for(o=this.stylesList[r],a=!1,s.length=0,t=0;t<e;t+=1)n=this.shapes[t],n.styles.indexOf(o)!==-1&&(s.push(n),a=n._isAnimated||a);s.length>1&&a&&this.setShapesAsAnimated(s)}},SVGShapeElement.prototype.setShapesAsAnimated=function(t){var e,n=t.length;for(e=0;e<n;e+=1)t[e].setAsAnimated()},SVGShapeElement.prototype.createStyleElement=function(t,e){var n,r=new SVGStyleData(t,e),i=r.pElem;if(t.ty==="st")n=new SVGStrokeStyleData(this,t,r);else if(t.ty==="fl")n=new SVGFillStyleData(this,t,r);else if(t.ty==="gf"||t.ty==="gs"){var o=t.ty==="gf"?SVGGradientFillStyleData:SVGGradientStrokeStyleData;n=new o(this,t,r),this.globalData.defs.appendChild(n.gf),n.maskId&&(this.globalData.defs.appendChild(n.ms),this.globalData.defs.appendChild(n.of),i.setAttribute("mask","url("+getLocationHref()+"#"+n.maskId+")"))}else t.ty==="no"&&(n=new SVGNoStyleData(this,t,r));return(t.ty==="st"||t.ty==="gs")&&(i.setAttribute("stroke-linecap",lineCapEnum[t.lc||2]),i.setAttribute("stroke-linejoin",lineJoinEnum[t.lj||2]),i.setAttribute("fill-opacity","0"),t.lj===1&&i.setAttribute("stroke-miterlimit",t.ml)),t.r===2&&i.setAttribute("fill-rule","evenodd"),t.ln&&i.setAttribute("id",t.ln),t.cl&&i.setAttribute("class",t.cl),t.bm&&(i.style["mix-blend-mode"]=getBlendMode(t.bm)),this.stylesList.push(r),this.addToAnimatedContents(t,n),n},SVGShapeElement.prototype.createGroupElement=function(t){var e=new ShapeGroupData;return t.ln&&e.gr.setAttribute("id",t.ln),t.cl&&e.gr.setAttribute("class",t.cl),t.bm&&(e.gr.style["mix-blend-mode"]=getBlendMode(t.bm)),e},SVGShapeElement.prototype.createTransformElement=function(t,e){var n=TransformPropertyFactory.getTransformProperty(this,t,this),r=new SVGTransformData(n,n.o,e);return this.addToAnimatedContents(t,r),r},SVGShapeElement.prototype.createShapeElement=function(t,e,n){var r=4;t.ty==="rc"?r=5:t.ty==="el"?r=6:t.ty==="sr"&&(r=7);var i=ShapePropertyFactory.getShapeProp(this,t,r,this),o=new SVGShapeData(e,n,i);return this.shapes.push(o),this.addShapeToModifiers(o),this.addToAnimatedContents(t,o),o},SVGShapeElement.prototype.addToAnimatedContents=function(t,e){for(var n=0,r=this.animatedContents.length;n<r;){if(this.animatedContents[n].element===e)return;n+=1}this.animatedContents.push({fn:SVGElementsRenderer.createRenderFunction(t),element:e,data:t})},SVGShapeElement.prototype.setElementStyles=function(t){var e=t.styles,n,r=this.stylesList.length;for(n=0;n<r;n+=1)this.stylesList[n].closed||e.push(this.stylesList[n])},SVGShapeElement.prototype.reloadShapes=function(){this._isFirstFrame=!0;var t,e=this.itemsData.length;for(t=0;t<e;t+=1)this.prevViewData[t]=this.itemsData[t];for(this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,0,[],!0),this.filterUniqueShapes(),e=this.dynamicProperties.length,t=0;t<e;t+=1)this.dynamicProperties[t].getValue();this.renderModifiers()},SVGShapeElement.prototype.searchShapes=function(t,e,n,r,i,o,s){var a=[].concat(o),l,c=t.length-1,u,f,d=[],h=[],m,v,P;for(l=c;l>=0;l-=1){if(P=this.searchProcessedElement(t[l]),P?e[l]=n[P-1]:t[l]._render=s,t[l].ty==="fl"||t[l].ty==="st"||t[l].ty==="gf"||t[l].ty==="gs"||t[l].ty==="no")P?e[l].style.closed=!1:e[l]=this.createStyleElement(t[l],i),t[l]._render&&e[l].style.pElem.parentNode!==r&&r.appendChild(e[l].style.pElem),d.push(e[l].style);else if(t[l].ty==="gr"){if(!P)e[l]=this.createGroupElement(t[l]);else for(f=e[l].it.length,u=0;u<f;u+=1)e[l].prevViewData[u]=e[l].it[u];this.searchShapes(t[l].it,e[l].it,e[l].prevViewData,e[l].gr,i+1,a,s),t[l]._render&&e[l].gr.parentNode!==r&&r.appendChild(e[l].gr)}else t[l].ty==="tr"?(P||(e[l]=this.createTransformElement(t[l],r)),m=e[l].transform,a.push(m)):t[l].ty==="sh"||t[l].ty==="rc"||t[l].ty==="el"||t[l].ty==="sr"?(P||(e[l]=this.createShapeElement(t[l],a,i)),this.setElementStyles(e[l])):t[l].ty==="tm"||t[l].ty==="rd"||t[l].ty==="ms"||t[l].ty==="pb"||t[l].ty==="zz"||t[l].ty==="op"?(P?(v=e[l],v.closed=!1):(v=ShapeModifiers.getModifier(t[l].ty),v.init(this,t[l]),e[l]=v,this.shapeModifiers.push(v)),h.push(v)):t[l].ty==="rp"&&(P?(v=e[l],v.closed=!0):(v=ShapeModifiers.getModifier(t[l].ty),e[l]=v,v.init(this,t,l,e),this.shapeModifiers.push(v),s=!1),h.push(v));this.addProcessedElement(t[l],l+1)}for(c=d.length,l=0;l<c;l+=1)d[l].closed=!0;for(c=h.length,l=0;l<c;l+=1)h[l].closed=!0},SVGShapeElement.prototype.renderInnerContent=function(){this.renderModifiers();var t,e=this.stylesList.length;for(t=0;t<e;t+=1)this.stylesList[t].reset();for(this.renderShape(),t=0;t<e;t+=1)(this.stylesList[t]._mdf||this._isFirstFrame)&&(this.stylesList[t].msElem&&(this.stylesList[t].msElem.setAttribute("d",this.stylesList[t].d),this.stylesList[t].d="M0 0"+this.stylesList[t].d),this.stylesList[t].pElem.setAttribute("d",this.stylesList[t].d||"M0 0"))},SVGShapeElement.prototype.renderShape=function(){var t,e=this.animatedContents.length,n;for(t=0;t<e;t+=1)n=this.animatedContents[t],(this._isFirstFrame||n.element._isAnimated)&&n.data!==!0&&n.fn(n.data,n.element,this._isFirstFrame)},SVGShapeElement.prototype.destroy=function(){this.destroyBaseElement(),this.shapesData=null,this.itemsData=null};function LetterProps(t,e,n,r,i,o){this.o=t,this.sw=e,this.sc=n,this.fc=r,this.m=i,this.p=o,this._mdf={o:!0,sw:!!e,sc:!!n,fc:!!r,m:!0,p:!0}}LetterProps.prototype.update=function(t,e,n,r,i,o){this._mdf.o=!1,this._mdf.sw=!1,this._mdf.sc=!1,this._mdf.fc=!1,this._mdf.m=!1,this._mdf.p=!1;var s=!1;return this.o!==t&&(this.o=t,this._mdf.o=!0,s=!0),this.sw!==e&&(this.sw=e,this._mdf.sw=!0,s=!0),this.sc!==n&&(this.sc=n,this._mdf.sc=!0,s=!0),this.fc!==r&&(this.fc=r,this._mdf.fc=!0,s=!0),this.m!==i&&(this.m=i,this._mdf.m=!0,s=!0),o.length&&(this.p[0]!==o[0]||this.p[1]!==o[1]||this.p[4]!==o[4]||this.p[5]!==o[5]||this.p[12]!==o[12]||this.p[13]!==o[13])&&(this.p=o,this._mdf.p=!0,s=!0),s};function TextProperty(t,e){this._frameId=initialDefaultFrame,this.pv="",this.v="",this.kf=!1,this._isFirstFrame=!0,this._mdf=!1,e.d&&e.d.sid&&(e.d=t.globalData.slotManager.getProp(e.d)),this.data=e,this.elem=t,this.comp=this.elem.comp,this.keysIndex=0,this.canResize=!1,this.minimumFontSize=1,this.effectsSequence=[],this.currentData={ascent:0,boxWidth:this.defaultBoxWidth,f:"",fStyle:"",fWeight:"",fc:"",j:"",justifyOffset:"",l:[],lh:0,lineWidths:[],ls:"",of:"",s:"",sc:"",sw:0,t:0,tr:0,sz:0,ps:null,fillColorAnim:!1,strokeColorAnim:!1,strokeWidthAnim:!1,yOffset:0,finalSize:0,finalText:[],finalLineHeight:0,__complete:!1},this.copyData(this.currentData,this.data.d.k[0].s),this.searchProperty()||this.completeTextData(this.currentData)}TextProperty.prototype.defaultBoxWidth=[0,0],TextProperty.prototype.copyData=function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t},TextProperty.prototype.setCurrentData=function(t){t.__complete||this.completeTextData(t),this.currentData=t,this.currentData.boxWidth=this.currentData.boxWidth||this.defaultBoxWidth,this._mdf=!0},TextProperty.prototype.searchProperty=function(){return this.searchKeyframes()},TextProperty.prototype.searchKeyframes=function(){return this.kf=this.data.d.k.length>1,this.kf&&this.addEffect(this.getKeyframeValue.bind(this)),this.kf},TextProperty.prototype.addEffect=function(t){this.effectsSequence.push(t),this.elem.addDynamicProperty(this)},TextProperty.prototype.getValue=function(t){if(!((this.elem.globalData.frameId===this.frameId||!this.effectsSequence.length)&&!t)){this.currentData.t=this.data.d.k[this.keysIndex].s.t;var e=this.currentData,n=this.keysIndex;if(this.lock){this.setCurrentData(this.currentData);return}this.lock=!0,this._mdf=!1;var r,i=this.effectsSequence.length,o=t||this.data.d.k[this.keysIndex].s;for(r=0;r<i;r+=1)n!==this.keysIndex?o=this.effectsSequence[r](o,o.t):o=this.effectsSequence[r](this.currentData,o.t);e!==o&&this.setCurrentData(o),this.v=this.currentData,this.pv=this.v,this.lock=!1,this.frameId=this.elem.globalData.frameId}},TextProperty.prototype.getKeyframeValue=function(){for(var t=this.data.d.k,e=this.elem.comp.renderedFrame,n=0,r=t.length;n<=r-1&&!(n===r-1||t[n+1].t>e);)n+=1;return this.keysIndex!==n&&(this.keysIndex=n),this.data.d.k[this.keysIndex].s},TextProperty.prototype.buildFinalText=function(t){for(var e=[],n=0,r=t.length,i,o,s=!1,a=!1,l="";n<r;)s=a,a=!1,i=t.charCodeAt(n),l=t.charAt(n),FontManager.isCombinedCharacter(i)?s=!0:i>=55296&&i<=56319?FontManager.isRegionalFlag(t,n)?l=t.substr(n,14):(o=t.charCodeAt(n+1),o>=56320&&o<=57343&&(FontManager.isModifier(i,o)?(l=t.substr(n,2),s=!0):FontManager.isFlagEmoji(t.substr(n,4))?l=t.substr(n,4):l=t.substr(n,2))):i>56319?(o=t.charCodeAt(n+1),FontManager.isVariationSelector(i)&&(s=!0)):FontManager.isZeroWidthJoiner(i)&&(s=!0,a=!0),s?(e[e.length-1]+=l,s=!1):e.push(l),n+=l.length;return e},TextProperty.prototype.completeTextData=function(t){t.__complete=!0;var e=this.elem.globalData.fontManager,n=this.data,r=[],i,o,s,a=0,l,c=n.m.g,u=0,f=0,d=0,h=[],m=0,v=0,P,b,x=e.getFontByName(t.f),_,T=0,k=getFontProperties(x);t.fWeight=k.weight,t.fStyle=k.style,t.finalSize=t.s,t.finalText=this.buildFinalText(t.t),o=t.finalText.length,t.finalLineHeight=t.lh;var $=t.tr/1e3*t.finalSize,V;if(t.sz)for(var B=!0,z=t.sz[0],ie=t.sz[1],J,H;B;){H=this.buildFinalText(t.t),J=0,m=0,o=H.length,$=t.tr/1e3*t.finalSize;var ce=-1;for(i=0;i<o;i+=1)V=H[i].charCodeAt(0),s=!1,H[i]===" "?ce=i:(V===13||V===3)&&(m=0,s=!0,J+=t.finalLineHeight||t.finalSize*1.2),e.chars?(_=e.getCharData(H[i],x.fStyle,x.fFamily),T=s?0:_.w*t.finalSize/100):T=e.measureText(H[i],t.f,t.finalSize),m+T>z&&H[i]!==" "?(ce===-1?o+=1:i=ce,J+=t.finalLineHeight||t.finalSize*1.2,H.splice(i,ce===i?1:0,"\r"),ce=-1,m=0):(m+=T,m+=$);J+=x.ascent*t.finalSize/100,this.canResize&&t.finalSize>this.minimumFontSize&&ie<J?(t.finalSize-=1,t.finalLineHeight=t.finalSize*t.lh/t.s):(t.finalText=H,o=t.finalText.length,B=!1)}m=-$,T=0;var ae=0,ee;for(i=0;i<o;i+=1)if(s=!1,ee=t.finalText[i],V=ee.charCodeAt(0),V===13||V===3?(ae=0,h.push(m),v=m>v?m:v,m=-2*$,l="",s=!0,d+=1):l=ee,e.chars?(_=e.getCharData(ee,x.fStyle,e.getFontByName(t.f).fFamily),T=s?0:_.w*t.finalSize/100):T=e.measureText(l,t.f,t.finalSize),ee===" "?ae+=T+$:(m+=T+$+ae,ae=0),r.push({l:T,an:T,add:u,n:s,anIndexes:[],val:l,line:d,animatorJustifyOffset:0}),c==2){if(u+=T,l===""||l===" "||i===o-1){for((l===""||l===" ")&&(u-=T);f<=i;)r[f].an=u,r[f].ind=a,r[f].extra=T,f+=1;a+=1,u=0}}else if(c==3){if(u+=T,l===""||i===o-1){for(l===""&&(u-=T);f<=i;)r[f].an=u,r[f].ind=a,r[f].extra=T,f+=1;u=0,a+=1}}else r[a].ind=a,r[a].extra=0,a+=1;if(t.l=r,v=m>v?m:v,h.push(m),t.sz)t.boxWidth=t.sz[0],t.justifyOffset=0;else switch(t.boxWidth=v,t.j){case 1:t.justifyOffset=-t.boxWidth;break;case 2:t.justifyOffset=-t.boxWidth/2;break;default:t.justifyOffset=0}t.lineWidths=h;var F=n.a,G,D;b=F.length;var N,te,X=[];for(P=0;P<b;P+=1){for(G=F[P],G.a.sc&&(t.strokeColorAnim=!0),G.a.sw&&(t.strokeWidthAnim=!0),(G.a.fc||G.a.fh||G.a.fs||G.a.fb)&&(t.fillColorAnim=!0),te=0,N=G.s.b,i=0;i<o;i+=1)D=r[i],D.anIndexes[P]=te,(N==1&&D.val!==""||N==2&&D.val!==""&&D.val!==" "||N==3&&(D.n||D.val==" "||i==o-1)||N==4&&(D.n||i==o-1))&&(G.s.rn===1&&X.push(te),te+=1);n.a[P].s.totalChars=te;var Oe=-1,Ye;if(G.s.rn===1)for(i=0;i<o;i+=1)D=r[i],Oe!=D.anIndexes[P]&&(Oe=D.anIndexes[P],Ye=X.splice(Math.floor(Math.random()*X.length),1)[0]),D.anIndexes[P]=Ye}t.yOffset=t.finalLineHeight||t.finalSize*1.2,t.ls=t.ls||0,t.ascent=x.ascent*t.finalSize/100},TextProperty.prototype.updateDocumentData=function(t,e){e=e===void 0?this.keysIndex:e;var n=this.copyData({},this.data.d.k[e].s);n=this.copyData(n,t),this.data.d.k[e].s=n,this.recalculate(e),this.setCurrentData(n),this.elem.addDynamicProperty(this)},TextProperty.prototype.recalculate=function(t){var e=this.data.d.k[t].s;e.__complete=!1,this.keysIndex=0,this._isFirstFrame=!0,this.getValue(e)},TextProperty.prototype.canResizeFont=function(t){this.canResize=t,this.recalculate(this.keysIndex),this.elem.addDynamicProperty(this)},TextProperty.prototype.setMinimumFontSize=function(t){this.minimumFontSize=Math.floor(t)||1,this.recalculate(this.keysIndex),this.elem.addDynamicProperty(this)};var TextSelectorProp=function(){var t=Math.max,e=Math.min,n=Math.floor;function r(o,s){this._currentTextLength=-1,this.k=!1,this.data=s,this.elem=o,this.comp=o.comp,this.finalS=0,this.finalE=0,this.initDynamicPropertyContainer(o),this.s=PropertyFactory.getProp(o,s.s||{k:0},0,0,this),"e"in s?this.e=PropertyFactory.getProp(o,s.e,0,0,this):this.e={v:100},this.o=PropertyFactory.getProp(o,s.o||{k:0},0,0,this),this.xe=PropertyFactory.getProp(o,s.xe||{k:0},0,0,this),this.ne=PropertyFactory.getProp(o,s.ne||{k:0},0,0,this),this.sm=PropertyFactory.getProp(o,s.sm||{k:100},0,0,this),this.a=PropertyFactory.getProp(o,s.a,0,.01,this),this.dynamicProperties.length||this.getValue()}r.prototype={getMult:function(s){this._currentTextLength!==this.elem.textProperty.currentData.l.length&&this.getValue();var a=0,l=0,c=1,u=1;this.ne.v>0?a=this.ne.v/100:l=-this.ne.v/100,this.xe.v>0?c=1-this.xe.v/100:u=1+this.xe.v/100;var f=BezierFactory.getBezierEasing(a,l,c,u).get,d=0,h=this.finalS,m=this.finalE,v=this.data.sh;if(v===2)m===h?d=s>=m?1:0:d=t(0,e(.5/(m-h)+(s-h)/(m-h),1)),d=f(d);else if(v===3)m===h?d=s>=m?0:1:d=1-t(0,e(.5/(m-h)+(s-h)/(m-h),1)),d=f(d);else if(v===4)m===h?d=0:(d=t(0,e(.5/(m-h)+(s-h)/(m-h),1)),d<.5?d*=2:d=1-2*(d-.5)),d=f(d);else if(v===5){if(m===h)d=0;else{var P=m-h;s=e(t(0,s+.5-h),m-h);var b=-P/2+s,x=P/2;d=Math.sqrt(1-b*b/(x*x))}d=f(d)}else v===6?(m===h?d=0:(s=e(t(0,s+.5-h),m-h),d=(1+Math.cos(Math.PI+Math.PI*2*s/(m-h)))/2),d=f(d)):(s>=n(h)&&(s-h<0?d=t(0,e(e(m,1)-(h-s),1)):d=t(0,e(m-s,1))),d=f(d));if(this.sm.v!==100){var _=this.sm.v*.01;_===0&&(_=1e-8);var T=.5-_*.5;d<T?d=0:(d=(d-T)/_,d>1&&(d=1))}return d*this.a.v},getValue:function(s){this.iterateDynamicProperties(),this._mdf=s||this._mdf,this._currentTextLength=this.elem.textProperty.currentData.l.length||0,s&&this.data.r===2&&(this.e.v=this._currentTextLength);var a=this.data.r===2?1:100/this.data.totalChars,l=this.o.v/a,c=this.s.v/a+l,u=this.e.v/a+l;if(c>u){var f=c;c=u,u=f}this.finalS=c,this.finalE=u}},extendPrototype([DynamicPropertyContainer],r);function i(o,s,a){return new r(o,s,a)}return{getTextSelectorProp:i}}();function TextAnimatorDataProperty(t,e,n){var r={propType:!1},i=PropertyFactory.getProp,o=e.a;this.a={r:o.r?i(t,o.r,0,degToRads,n):r,rx:o.rx?i(t,o.rx,0,degToRads,n):r,ry:o.ry?i(t,o.ry,0,degToRads,n):r,sk:o.sk?i(t,o.sk,0,degToRads,n):r,sa:o.sa?i(t,o.sa,0,degToRads,n):r,s:o.s?i(t,o.s,1,.01,n):r,a:o.a?i(t,o.a,1,0,n):r,o:o.o?i(t,o.o,0,.01,n):r,p:o.p?i(t,o.p,1,0,n):r,sw:o.sw?i(t,o.sw,0,0,n):r,sc:o.sc?i(t,o.sc,1,0,n):r,fc:o.fc?i(t,o.fc,1,0,n):r,fh:o.fh?i(t,o.fh,0,0,n):r,fs:o.fs?i(t,o.fs,0,.01,n):r,fb:o.fb?i(t,o.fb,0,.01,n):r,t:o.t?i(t,o.t,0,0,n):r},this.s=TextSelectorProp.getTextSelectorProp(t,e.s,n),this.s.t=e.s.t}function TextAnimatorProperty(t,e,n){this._isFirstFrame=!0,this._hasMaskedPath=!1,this._frameId=-1,this._textData=t,this._renderType=e,this._elem=n,this._animatorsData=createSizedArray(this._textData.a.length),this._pathData={},this._moreOptions={alignment:{}},this.renderedLetters=[],this.lettersChangedFlag=!1,this.initDynamicPropertyContainer(n)}TextAnimatorProperty.prototype.searchProperties=function(){var t,e=this._textData.a.length,n,r=PropertyFactory.getProp;for(t=0;t<e;t+=1)n=this._textData.a[t],this._animatorsData[t]=new TextAnimatorDataProperty(this._elem,n,this);this._textData.p&&"m"in this._textData.p?(this._pathData={a:r(this._elem,this._textData.p.a,0,0,this),f:r(this._elem,this._textData.p.f,0,0,this),l:r(this._elem,this._textData.p.l,0,0,this),r:r(this._elem,this._textData.p.r,0,0,this),p:r(this._elem,this._textData.p.p,0,0,this),m:this._elem.maskManager.getMaskProperty(this._textData.p.m)},this._hasMaskedPath=!0):this._hasMaskedPath=!1,this._moreOptions.alignment=r(this._elem,this._textData.m.a,1,0,this)},TextAnimatorProperty.prototype.getMeasures=function(t,e){if(this.lettersChangedFlag=e,!(!this._mdf&&!this._isFirstFrame&&!e&&(!this._hasMaskedPath||!this._pathData.m._mdf))){this._isFirstFrame=!1;var n=this._moreOptions.alignment.v,r=this._animatorsData,i=this._textData,o=this.mHelper,s=this._renderType,a=this.renderedLetters.length,l,c,u,f,d=t.l,h,m,v,P,b,x,_,T,k,$,V,B,z,ie,J;if(this._hasMaskedPath){if(J=this._pathData.m,!this._pathData.n||this._pathData._mdf){var H=J.v;this._pathData.r.v&&(H=H.reverse()),h={tLength:0,segments:[]},f=H._length-1;var ce;for(B=0,u=0;u<f;u+=1)ce=bez.buildBezierData(H.v[u],H.v[u+1],[H.o[u][0]-H.v[u][0],H.o[u][1]-H.v[u][1]],[H.i[u+1][0]-H.v[u+1][0],H.i[u+1][1]-H.v[u+1][1]]),h.tLength+=ce.segmentLength,h.segments.push(ce),B+=ce.segmentLength;u=f,J.v.c&&(ce=bez.buildBezierData(H.v[u],H.v[0],[H.o[u][0]-H.v[u][0],H.o[u][1]-H.v[u][1]],[H.i[0][0]-H.v[0][0],H.i[0][1]-H.v[0][1]]),h.tLength+=ce.segmentLength,h.segments.push(ce),B+=ce.segmentLength),this._pathData.pi=h}if(h=this._pathData.pi,m=this._pathData.f.v,_=0,x=1,P=0,b=!0,$=h.segments,m<0&&J.v.c)for(h.tLength<Math.abs(m)&&(m=-Math.abs(m)%h.tLength),_=$.length-1,k=$[_].points,x=k.length-1;m<0;)m+=k[x].partialLength,x-=1,x<0&&(_-=1,k=$[_].points,x=k.length-1);k=$[_].points,T=k[x-1],v=k[x],V=v.partialLength}f=d.length,l=0,c=0;var ae=t.finalSize*1.2*.714,ee=!0,F,G,D,N,te;N=r.length;var X,Oe=-1,Ye,De,It,Bt=m,zt=_,ve=x,be=-1,ge,_e,Ae,$e,ke,pt,Zt,hn,gt="",Yn=this.defaultPropsArray,Zn;if(t.j===2||t.j===1){var kn=0,Ir=0,Cr=t.j===2?-.5:-1,Et=0,Dt=!0;for(u=0;u<f;u+=1)if(d[u].n){for(kn&&(kn+=Ir);Et<u;)d[Et].animatorJustifyOffset=kn,Et+=1;kn=0,Dt=!0}else{for(D=0;D<N;D+=1)F=r[D].a,F.t.propType&&(Dt&&t.j===2&&(Ir+=F.t.v*Cr),G=r[D].s,X=G.getMult(d[u].anIndexes[D],i.a[D].s.totalChars),X.length?kn+=F.t.v*X[0]*Cr:kn+=F.t.v*X*Cr);Dt=!1}for(kn&&(kn+=Ir);Et<u;)d[Et].animatorJustifyOffset=kn,Et+=1}for(u=0;u<f;u+=1){if(o.reset(),ge=1,d[u].n)l=0,c+=t.yOffset,c+=ee?1:0,m=Bt,ee=!1,this._hasMaskedPath&&(_=zt,x=ve,k=$[_].points,T=k[x-1],v=k[x],V=v.partialLength,P=0),gt="",hn="",pt="",Zn="",Yn=this.defaultPropsArray;else{if(this._hasMaskedPath){if(be!==d[u].line){switch(t.j){case 1:m+=B-t.lineWidths[d[u].line];break;case 2:m+=(B-t.lineWidths[d[u].line])/2;break;default:break}be=d[u].line}Oe!==d[u].ind&&(d[Oe]&&(m+=d[Oe].extra),m+=d[u].an/2,Oe=d[u].ind),m+=n[0]*d[u].an*.005;var _t=0;for(D=0;D<N;D+=1)F=r[D].a,F.p.propType&&(G=r[D].s,X=G.getMult(d[u].anIndexes[D],i.a[D].s.totalChars),X.length?_t+=F.p.v[0]*X[0]:_t+=F.p.v[0]*X),F.a.propType&&(G=r[D].s,X=G.getMult(d[u].anIndexes[D],i.a[D].s.totalChars),X.length?_t+=F.a.v[0]*X[0]:_t+=F.a.v[0]*X);for(b=!0,this._pathData.a.v&&(m=d[0].an*.5+(B-this._pathData.f.v-d[0].an*.5-d[d.length-1].an*.5)*Oe/(f-1),m+=this._pathData.f.v);b;)P+V>=m+_t||!k?(z=(m+_t-P)/v.partialLength,De=T.point[0]+(v.point[0]-T.point[0])*z,It=T.point[1]+(v.point[1]-T.point[1])*z,o.translate(-n[0]*d[u].an*.005,-(n[1]*ae)*.01),b=!1):k&&(P+=v.partialLength,x+=1,x>=k.length&&(x=0,_+=1,$[_]?k=$[_].points:J.v.c?(x=0,_=0,k=$[_].points):(P-=v.partialLength,k=null)),k&&(T=v,v=k[x],V=v.partialLength));Ye=d[u].an/2-d[u].add,o.translate(-Ye,0,0)}else Ye=d[u].an/2-d[u].add,o.translate(-Ye,0,0),o.translate(-n[0]*d[u].an*.005,-n[1]*ae*.01,0);for(D=0;D<N;D+=1)F=r[D].a,F.t.propType&&(G=r[D].s,X=G.getMult(d[u].anIndexes[D],i.a[D].s.totalChars),(l!==0||t.j!==0)&&(this._hasMaskedPath?X.length?m+=F.t.v*X[0]:m+=F.t.v*X:X.length?l+=F.t.v*X[0]:l+=F.t.v*X));for(t.strokeWidthAnim&&(Ae=t.sw||0),t.strokeColorAnim&&(t.sc?_e=[t.sc[0],t.sc[1],t.sc[2]]:_e=[0,0,0]),t.fillColorAnim&&t.fc&&($e=[t.fc[0],t.fc[1],t.fc[2]]),D=0;D<N;D+=1)F=r[D].a,F.a.propType&&(G=r[D].s,X=G.getMult(d[u].anIndexes[D],i.a[D].s.totalChars),X.length?o.translate(-F.a.v[0]*X[0],-F.a.v[1]*X[1],F.a.v[2]*X[2]):o.translate(-F.a.v[0]*X,-F.a.v[1]*X,F.a.v[2]*X));for(D=0;D<N;D+=1)F=r[D].a,F.s.propType&&(G=r[D].s,X=G.getMult(d[u].anIndexes[D],i.a[D].s.totalChars),X.length?o.scale(1+(F.s.v[0]-1)*X[0],1+(F.s.v[1]-1)*X[1],1):o.scale(1+(F.s.v[0]-1)*X,1+(F.s.v[1]-1)*X,1));for(D=0;D<N;D+=1){if(F=r[D].a,G=r[D].s,X=G.getMult(d[u].anIndexes[D],i.a[D].s.totalChars),F.sk.propType&&(X.length?o.skewFromAxis(-F.sk.v*X[0],F.sa.v*X[1]):o.skewFromAxis(-F.sk.v*X,F.sa.v*X)),F.r.propType&&(X.length?o.rotateZ(-F.r.v*X[2]):o.rotateZ(-F.r.v*X)),F.ry.propType&&(X.length?o.rotateY(F.ry.v*X[1]):o.rotateY(F.ry.v*X)),F.rx.propType&&(X.length?o.rotateX(F.rx.v*X[0]):o.rotateX(F.rx.v*X)),F.o.propType&&(X.length?ge+=(F.o.v*X[0]-ge)*X[0]:ge+=(F.o.v*X-ge)*X),t.strokeWidthAnim&&F.sw.propType&&(X.length?Ae+=F.sw.v*X[0]:Ae+=F.sw.v*X),t.strokeColorAnim&&F.sc.propType)for(ke=0;ke<3;ke+=1)X.length?_e[ke]+=(F.sc.v[ke]-_e[ke])*X[0]:_e[ke]+=(F.sc.v[ke]-_e[ke])*X;if(t.fillColorAnim&&t.fc){if(F.fc.propType)for(ke=0;ke<3;ke+=1)X.length?$e[ke]+=(F.fc.v[ke]-$e[ke])*X[0]:$e[ke]+=(F.fc.v[ke]-$e[ke])*X;F.fh.propType&&(X.length?$e=addHueToRGB($e,F.fh.v*X[0]):$e=addHueToRGB($e,F.fh.v*X)),F.fs.propType&&(X.length?$e=addSaturationToRGB($e,F.fs.v*X[0]):$e=addSaturationToRGB($e,F.fs.v*X)),F.fb.propType&&(X.length?$e=addBrightnessToRGB($e,F.fb.v*X[0]):$e=addBrightnessToRGB($e,F.fb.v*X))}}for(D=0;D<N;D+=1)F=r[D].a,F.p.propType&&(G=r[D].s,X=G.getMult(d[u].anIndexes[D],i.a[D].s.totalChars),this._hasMaskedPath?X.length?o.translate(0,F.p.v[1]*X[0],-F.p.v[2]*X[1]):o.translate(0,F.p.v[1]*X,-F.p.v[2]*X):X.length?o.translate(F.p.v[0]*X[0],F.p.v[1]*X[1],-F.p.v[2]*X[2]):o.translate(F.p.v[0]*X,F.p.v[1]*X,-F.p.v[2]*X));if(t.strokeWidthAnim&&(pt=Ae<0?0:Ae),t.strokeColorAnim&&(Zt="rgb("+Math.round(_e[0]*255)+","+Math.round(_e[1]*255)+","+Math.round(_e[2]*255)+")"),t.fillColorAnim&&t.fc&&(hn="rgb("+Math.round($e[0]*255)+","+Math.round($e[1]*255)+","+Math.round($e[2]*255)+")"),this._hasMaskedPath){if(o.translate(0,-t.ls),o.translate(0,n[1]*ae*.01+c,0),this._pathData.p.v){ie=(v.point[1]-T.point[1])/(v.point[0]-T.point[0]);var mn=Math.atan(ie)*180/Math.PI;v.point[0]<T.point[0]&&(mn+=180),o.rotate(-mn*Math.PI/180)}o.translate(De,It,0),m-=n[0]*d[u].an*.005,d[u+1]&&Oe!==d[u+1].ind&&(m+=d[u].an/2,m+=t.tr*.001*t.finalSize)}else{switch(o.translate(l,c,0),t.ps&&o.translate(t.ps[0],t.ps[1]+t.ascent,0),t.j){case 1:o.translate(d[u].animatorJustifyOffset+t.justifyOffset+(t.boxWidth-t.lineWidths[d[u].line]),0,0);break;case 2:o.translate(d[u].animatorJustifyOffset+t.justifyOffset+(t.boxWidth-t.lineWidths[d[u].line])/2,0,0);break;default:break}o.translate(0,-t.ls),o.translate(Ye,0,0),o.translate(n[0]*d[u].an*.005,n[1]*ae*.01,0),l+=d[u].l+t.tr*.001*t.finalSize}s==="html"?gt=o.toCSS():s==="svg"?gt=o.to2dCSS():Yn=[o.props[0],o.props[1],o.props[2],o.props[3],o.props[4],o.props[5],o.props[6],o.props[7],o.props[8],o.props[9],o.props[10],o.props[11],o.props[12],o.props[13],o.props[14],o.props[15]],Zn=ge}a<=u?(te=new LetterProps(Zn,pt,Zt,hn,gt,Yn),this.renderedLetters.push(te),a+=1,this.lettersChangedFlag=!0):(te=this.renderedLetters[u],this.lettersChangedFlag=te.update(Zn,pt,Zt,hn,gt,Yn)||this.lettersChangedFlag)}}},TextAnimatorProperty.prototype.getValue=function(){this._elem.globalData.frameId!==this._frameId&&(this._frameId=this._elem.globalData.frameId,this.iterateDynamicProperties())},TextAnimatorProperty.prototype.mHelper=new Matrix,TextAnimatorProperty.prototype.defaultPropsArray=[],extendPrototype([DynamicPropertyContainer],TextAnimatorProperty);function ITextElement(){}ITextElement.prototype.initElement=function(t,e,n){this.lettersChangedFlag=!0,this.initFrame(),this.initBaseData(t,e,n),this.textProperty=new TextProperty(this,t.t,this.dynamicProperties),this.textAnimator=new TextAnimatorProperty(t.t,this.renderType,this),this.initTransform(t,e,n),this.initHierarchy(),this.initRenderable(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),this.createContent(),this.hide(),this.textAnimator.searchProperties(this.dynamicProperties)},ITextElement.prototype.prepareFrame=function(t){this._mdf=!1,this.prepareRenderableFrame(t),this.prepareProperties(t,this.isInRange)},ITextElement.prototype.createPathShape=function(t,e){var n,r=e.length,i,o="";for(n=0;n<r;n+=1)e[n].ty==="sh"&&(i=e[n].ks.k,o+=buildShapeString(i,i.i.length,!0,t));return o},ITextElement.prototype.updateDocumentData=function(t,e){this.textProperty.updateDocumentData(t,e)},ITextElement.prototype.canResizeFont=function(t){this.textProperty.canResizeFont(t)},ITextElement.prototype.setMinimumFontSize=function(t){this.textProperty.setMinimumFontSize(t)},ITextElement.prototype.applyTextPropertiesToMatrix=function(t,e,n,r,i){switch(t.ps&&e.translate(t.ps[0],t.ps[1]+t.ascent,0),e.translate(0,-t.ls,0),t.j){case 1:e.translate(t.justifyOffset+(t.boxWidth-t.lineWidths[n]),0,0);break;case 2:e.translate(t.justifyOffset+(t.boxWidth-t.lineWidths[n])/2,0,0);break;default:break}e.translate(r,i,0)},ITextElement.prototype.buildColor=function(t){return"rgb("+Math.round(t[0]*255)+","+Math.round(t[1]*255)+","+Math.round(t[2]*255)+")"},ITextElement.prototype.emptyProp=new LetterProps,ITextElement.prototype.destroy=function(){},ITextElement.prototype.validateText=function(){(this.textProperty._mdf||this.textProperty._isFirstFrame)&&(this.buildNewText(),this.textProperty._isFirstFrame=!1,this.textProperty._mdf=!1)};var emptyShapeData={shapes:[]};function SVGTextLottieElement(t,e,n){this.textSpans=[],this.renderType="svg",this.initElement(t,e,n)}extendPrototype([BaseElement,TransformElement,SVGBaseElement,HierarchyElement,FrameElement,RenderableDOMElement,ITextElement],SVGTextLottieElement),SVGTextLottieElement.prototype.createContent=function(){this.data.singleShape&&!this.globalData.fontManager.chars&&(this.textContainer=createNS("text"))},SVGTextLottieElement.prototype.buildTextContents=function(t){for(var e=0,n=t.length,r=[],i="";e<n;)t[e]==="\r"||t[e]===""?(r.push(i),i=""):i+=t[e],e+=1;return r.push(i),r},SVGTextLottieElement.prototype.buildShapeData=function(t,e){if(t.shapes&&t.shapes.length){var n=t.shapes[0];if(n.it){var r=n.it[n.it.length-1];r.s&&(r.s.k[0]=e,r.s.k[1]=e)}}return t},SVGTextLottieElement.prototype.buildNewText=function(){this.addDynamicProperty(this);var t,e,n=this.textProperty.currentData;this.renderedLetters=createSizedArray(n?n.l.length:0),n.fc?this.layerElement.setAttribute("fill",this.buildColor(n.fc)):this.layerElement.setAttribute("fill","rgba(0,0,0,0)"),n.sc&&(this.layerElement.setAttribute("stroke",this.buildColor(n.sc)),this.layerElement.setAttribute("stroke-width",n.sw)),this.layerElement.setAttribute("font-size",n.finalSize);var r=this.globalData.fontManager.getFontByName(n.f);if(r.fClass)this.layerElement.setAttribute("class",r.fClass);else{this.layerElement.setAttribute("font-family",r.fFamily);var i=n.fWeight,o=n.fStyle;this.layerElement.setAttribute("font-style",o),this.layerElement.setAttribute("font-weight",i)}this.layerElement.setAttribute("aria-label",n.t);var s=n.l||[],a=!!this.globalData.fontManager.chars;e=s.length;var l,c=this.mHelper,u="",f=this.data.singleShape,d=0,h=0,m=!0,v=n.tr*.001*n.finalSize;if(f&&!a&&!n.sz){var P=this.textContainer,b="start";switch(n.j){case 1:b="end";break;case 2:b="middle";break;default:b="start";break}P.setAttribute("text-anchor",b),P.setAttribute("letter-spacing",v);var x=this.buildTextContents(n.finalText);for(e=x.length,h=n.ps?n.ps[1]+n.ascent:0,t=0;t<e;t+=1)l=this.textSpans[t].span||createNS("tspan"),l.textContent=x[t],l.setAttribute("x",0),l.setAttribute("y",h),l.style.display="inherit",P.appendChild(l),this.textSpans[t]||(this.textSpans[t]={span:null,glyph:null}),this.textSpans[t].span=l,h+=n.finalLineHeight;this.layerElement.appendChild(P)}else{var _=this.textSpans.length,T;for(t=0;t<e;t+=1){if(this.textSpans[t]||(this.textSpans[t]={span:null,childSpan:null,glyph:null}),!a||!f||t===0){if(l=_>t?this.textSpans[t].span:createNS(a?"g":"text"),_<=t){if(l.setAttribute("stroke-linecap","butt"),l.setAttribute("stroke-linejoin","round"),l.setAttribute("stroke-miterlimit","4"),this.textSpans[t].span=l,a){var k=createNS("g");l.appendChild(k),this.textSpans[t].childSpan=k}this.textSpans[t].span=l,this.layerElement.appendChild(l)}l.style.display="inherit"}if(c.reset(),f&&(s[t].n&&(d=-v,h+=n.yOffset,h+=m?1:0,m=!1),this.applyTextPropertiesToMatrix(n,c,s[t].line,d,h),d+=s[t].l||0,d+=v),a){T=this.globalData.fontManager.getCharData(n.finalText[t],r.fStyle,this.globalData.fontManager.getFontByName(n.f).fFamily);var $;if(T.t===1)$=new SVGCompElement(T.data,this.globalData,this);else{var V=emptyShapeData;T.data&&T.data.shapes&&(V=this.buildShapeData(T.data,n.finalSize)),$=new SVGShapeElement(V,this.globalData,this)}if(this.textSpans[t].glyph){var B=this.textSpans[t].glyph;this.textSpans[t].childSpan.removeChild(B.layerElement),B.destroy()}this.textSpans[t].glyph=$,$._debug=!0,$.prepareFrame(0),$.renderFrame(),this.textSpans[t].childSpan.appendChild($.layerElement),T.t===1&&this.textSpans[t].childSpan.setAttribute("transform","scale("+n.finalSize/100+","+n.finalSize/100+")")}else f&&l.setAttribute("transform","translate("+c.props[12]+","+c.props[13]+")"),l.textContent=s[t].val,l.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve")}f&&l&&l.setAttribute("d",u)}for(;t<this.textSpans.length;)this.textSpans[t].span.style.display="none",t+=1;this._sizeChanged=!0},SVGTextLottieElement.prototype.sourceRectAtTime=function(){if(this.prepareFrame(this.comp.renderedFrame-this.data.st),this.renderInnerContent(),this._sizeChanged){this._sizeChanged=!1;var t=this.layerElement.getBBox();this.bbox={top:t.y,left:t.x,width:t.width,height:t.height}}return this.bbox},SVGTextLottieElement.prototype.getValue=function(){var t,e=this.textSpans.length,n;for(this.renderedFrame=this.comp.renderedFrame,t=0;t<e;t+=1)n=this.textSpans[t].glyph,n&&(n.prepareFrame(this.comp.renderedFrame-this.data.st),n._mdf&&(this._mdf=!0))},SVGTextLottieElement.prototype.renderInnerContent=function(){if(this.validateText(),(!this.data.singleShape||this._mdf)&&(this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag),this.lettersChangedFlag||this.textAnimator.lettersChangedFlag)){this._sizeChanged=!0;var t,e,n=this.textAnimator.renderedLetters,r=this.textProperty.currentData.l;e=r.length;var i,o,s;for(t=0;t<e;t+=1)r[t].n||(i=n[t],o=this.textSpans[t].span,s=this.textSpans[t].glyph,s&&s.renderFrame(),i._mdf.m&&o.setAttribute("transform",i.m),i._mdf.o&&o.setAttribute("opacity",i.o),i._mdf.sw&&o.setAttribute("stroke-width",i.sw),i._mdf.sc&&o.setAttribute("stroke",i.sc),i._mdf.fc&&o.setAttribute("fill",i.fc))}};function ISolidElement(t,e,n){this.initElement(t,e,n)}extendPrototype([IImageElement],ISolidElement),ISolidElement.prototype.createContent=function(){var t=createNS("rect");t.setAttribute("width",this.data.sw),t.setAttribute("height",this.data.sh),t.setAttribute("fill",this.data.sc),this.layerElement.appendChild(t)};function NullElement(t,e,n){this.initFrame(),this.initBaseData(t,e,n),this.initFrame(),this.initTransform(t,e,n),this.initHierarchy()}NullElement.prototype.prepareFrame=function(t){this.prepareProperties(t,!0)},NullElement.prototype.renderFrame=function(){},NullElement.prototype.getBaseElement=function(){return null},NullElement.prototype.destroy=function(){},NullElement.prototype.sourceRectAtTime=function(){},NullElement.prototype.hide=function(){},extendPrototype([BaseElement,TransformElement,HierarchyElement,FrameElement],NullElement);function SVGRendererBase(){}extendPrototype([BaseRenderer],SVGRendererBase),SVGRendererBase.prototype.createNull=function(t){return new NullElement(t,this.globalData,this)},SVGRendererBase.prototype.createShape=function(t){return new SVGShapeElement(t,this.globalData,this)},SVGRendererBase.prototype.createText=function(t){return new SVGTextLottieElement(t,this.globalData,this)},SVGRendererBase.prototype.createImage=function(t){return new IImageElement(t,this.globalData,this)},SVGRendererBase.prototype.createSolid=function(t){return new ISolidElement(t,this.globalData,this)},SVGRendererBase.prototype.configAnimation=function(t){this.svgElement.setAttribute("xmlns","http://www.w3.org/2000/svg"),this.svgElement.setAttribute("xmlns:xlink","http://www.w3.org/1999/xlink"),this.renderConfig.viewBoxSize?this.svgElement.setAttribute("viewBox",this.renderConfig.viewBoxSize):this.svgElement.setAttribute("viewBox","0 0 "+t.w+" "+t.h),this.renderConfig.viewBoxOnly||(this.svgElement.setAttribute("width",t.w),this.svgElement.setAttribute("height",t.h),this.svgElement.style.width="100%",this.svgElement.style.height="100%",this.svgElement.style.transform="translate3d(0,0,0)",this.svgElement.style.contentVisibility=this.renderConfig.contentVisibility),this.renderConfig.width&&this.svgElement.setAttribute("width",this.renderConfig.width),this.renderConfig.height&&this.svgElement.setAttribute("height",this.renderConfig.height),this.renderConfig.className&&this.svgElement.setAttribute("class",this.renderConfig.className),this.renderConfig.id&&this.svgElement.setAttribute("id",this.renderConfig.id),this.renderConfig.focusable!==void 0&&this.svgElement.setAttribute("focusable",this.renderConfig.focusable),this.svgElement.setAttribute("preserveAspectRatio",this.renderConfig.preserveAspectRatio),this.animationItem.wrapper.appendChild(this.svgElement);var e=this.globalData.defs;this.setupGlobalData(t,e),this.globalData.progressiveLoad=this.renderConfig.progressiveLoad,this.data=t;var n=createNS("clipPath"),r=createNS("rect");r.setAttribute("width",t.w),r.setAttribute("height",t.h),r.setAttribute("x",0),r.setAttribute("y",0);var i=createElementID();n.setAttribute("id",i),n.appendChild(r),this.layerElement.setAttribute("clip-path","url("+getLocationHref()+"#"+i+")"),e.appendChild(n),this.layers=t.layers,this.elements=createSizedArray(t.layers.length)},SVGRendererBase.prototype.destroy=function(){this.animationItem.wrapper&&(this.animationItem.wrapper.innerText=""),this.layerElement=null,this.globalData.defs=null;var t,e=this.layers?this.layers.length:0;for(t=0;t<e;t+=1)this.elements[t]&&this.elements[t].destroy&&this.elements[t].destroy();this.elements.length=0,this.destroyed=!0,this.animationItem=null},SVGRendererBase.prototype.updateContainerSize=function(){},SVGRendererBase.prototype.findIndexByInd=function(t){var e=0,n=this.layers.length;for(e=0;e<n;e+=1)if(this.layers[e].ind===t)return e;return-1},SVGRendererBase.prototype.buildItem=function(t){var e=this.elements;if(!(e[t]||this.layers[t].ty===99)){e[t]=!0;var n=this.createItem(this.layers[t]);if(e[t]=n,getExpressionsPlugin()&&(this.layers[t].ty===0&&this.globalData.projectInterface.registerComposition(n),n.initExpressions()),this.appendElementInPos(n,t),this.layers[t].tt){var r="tp"in this.layers[t]?this.findIndexByInd(this.layers[t].tp):t-1;if(r===-1)return;if(!this.elements[r]||this.elements[r]===!0)this.buildItem(r),this.addPendingElement(n);else{var i=e[r],o=i.getMatte(this.layers[t].tt);n.setMatte(o)}}}},SVGRendererBase.prototype.checkPendingElements=function(){for(;this.pendingElements.length;){var t=this.pendingElements.pop();if(t.checkParenting(),t.data.tt)for(var e=0,n=this.elements.length;e<n;){if(this.elements[e]===t){var r="tp"in t.data?this.findIndexByInd(t.data.tp):e-1,i=this.elements[r],o=i.getMatte(this.layers[e].tt);t.setMatte(o);break}e+=1}}},SVGRendererBase.prototype.renderFrame=function(t){if(!(this.renderedFrame===t||this.destroyed)){t===null?t=this.renderedFrame:this.renderedFrame=t,this.globalData.frameNum=t,this.globalData.frameId+=1,this.globalData.projectInterface.currentFrame=t,this.globalData._mdf=!1;var e,n=this.layers.length;for(this.completeLayers||this.checkLayers(t),e=n-1;e>=0;e-=1)(this.completeLayers||this.elements[e])&&this.elements[e].prepareFrame(t-this.layers[e].st);if(this.globalData._mdf)for(e=0;e<n;e+=1)(this.completeLayers||this.elements[e])&&this.elements[e].renderFrame()}},SVGRendererBase.prototype.appendElementInPos=function(t,e){var n=t.getBaseElement();if(n){for(var r=0,i;r<e;)this.elements[r]&&this.elements[r]!==!0&&this.elements[r].getBaseElement()&&(i=this.elements[r].getBaseElement()),r+=1;i?this.layerElement.insertBefore(n,i):this.layerElement.appendChild(n)}},SVGRendererBase.prototype.hide=function(){this.layerElement.style.display="none"},SVGRendererBase.prototype.show=function(){this.layerElement.style.display="block"};function ICompElement(){}extendPrototype([BaseElement,TransformElement,HierarchyElement,FrameElement,RenderableDOMElement],ICompElement),ICompElement.prototype.initElement=function(t,e,n){this.initFrame(),this.initBaseData(t,e,n),this.initTransform(t,e,n),this.initRenderable(),this.initHierarchy(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),(this.data.xt||!e.progressiveLoad)&&this.buildAllItems(),this.hide()},ICompElement.prototype.prepareFrame=function(t){if(this._mdf=!1,this.prepareRenderableFrame(t),this.prepareProperties(t,this.isInRange),!(!this.isInRange&&!this.data.xt)){if(this.tm._placeholder)this.renderedFrame=t/this.data.sr;else{var e=this.tm.v;e===this.data.op&&(e=this.data.op-1),this.renderedFrame=e}var n,r=this.elements.length;for(this.completeLayers||this.checkLayers(this.renderedFrame),n=r-1;n>=0;n-=1)(this.completeLayers||this.elements[n])&&(this.elements[n].prepareFrame(this.renderedFrame-this.layers[n].st),this.elements[n]._mdf&&(this._mdf=!0))}},ICompElement.prototype.renderInnerContent=function(){var t,e=this.layers.length;for(t=0;t<e;t+=1)(this.completeLayers||this.elements[t])&&this.elements[t].renderFrame()},ICompElement.prototype.setElements=function(t){this.elements=t},ICompElement.prototype.getElements=function(){return this.elements},ICompElement.prototype.destroyElements=function(){var t,e=this.layers.length;for(t=0;t<e;t+=1)this.elements[t]&&this.elements[t].destroy()},ICompElement.prototype.destroy=function(){this.destroyElements(),this.destroyBaseElement()};function SVGCompElement(t,e,n){this.layers=t.layers,this.supports3d=!0,this.completeLayers=!1,this.pendingElements=[],this.elements=this.layers?createSizedArray(this.layers.length):[],this.initElement(t,e,n),this.tm=t.tm?PropertyFactory.getProp(this,t.tm,0,e.frameRate,this):{_placeholder:!0}}extendPrototype([SVGRendererBase,ICompElement,SVGBaseElement],SVGCompElement),SVGCompElement.prototype.createComp=function(t){return new SVGCompElement(t,this.globalData,this)};function SVGRenderer(t,e){this.animationItem=t,this.layers=null,this.renderedFrame=-1,this.svgElement=createNS("svg");var n="";if(e&&e.title){var r=createNS("title"),i=createElementID();r.setAttribute("id",i),r.textContent=e.title,this.svgElement.appendChild(r),n+=i}if(e&&e.description){var o=createNS("desc"),s=createElementID();o.setAttribute("id",s),o.textContent=e.description,this.svgElement.appendChild(o),n+=" "+s}n&&this.svgElement.setAttribute("aria-labelledby",n);var a=createNS("defs");this.svgElement.appendChild(a);var l=createNS("g");this.svgElement.appendChild(l),this.layerElement=l,this.renderConfig={preserveAspectRatio:e&&e.preserveAspectRatio||"xMidYMid meet",imagePreserveAspectRatio:e&&e.imagePreserveAspectRatio||"xMidYMid slice",contentVisibility:e&&e.contentVisibility||"visible",progressiveLoad:e&&e.progressiveLoad||!1,hideOnTransparent:!(e&&e.hideOnTransparent===!1),viewBoxOnly:e&&e.viewBoxOnly||!1,viewBoxSize:e&&e.viewBoxSize||!1,className:e&&e.className||"",id:e&&e.id||"",focusable:e&&e.focusable,filterSize:{width:e&&e.filterSize&&e.filterSize.width||"100%",height:e&&e.filterSize&&e.filterSize.height||"100%",x:e&&e.filterSize&&e.filterSize.x||"0%",y:e&&e.filterSize&&e.filterSize.y||"0%"},width:e&&e.width,height:e&&e.height,runExpressions:!e||e.runExpressions===void 0||e.runExpressions},this.globalData={_mdf:!1,frameNum:-1,defs:a,renderConfig:this.renderConfig},this.elements=[],this.pendingElements=[],this.destroyed=!1,this.rendererType="svg"}extendPrototype([SVGRendererBase],SVGRenderer),SVGRenderer.prototype.createComp=function(t){return new SVGCompElement(t,this.globalData,this)};function ShapeTransformManager(){this.sequences={},this.sequenceList=[],this.transform_key_count=0}ShapeTransformManager.prototype={addTransformSequence:function(e){var n,r=e.length,i="_";for(n=0;n<r;n+=1)i+=e[n].transform.key+"_";var o=this.sequences[i];return o||(o={transforms:[].concat(e),finalTransform:new Matrix,_mdf:!1},this.sequences[i]=o,this.sequenceList.push(o)),o},processSequence:function(e,n){for(var r=0,i=e.transforms.length,o=n;r<i&&!n;){if(e.transforms[r].transform.mProps._mdf){o=!0;break}r+=1}if(o)for(e.finalTransform.reset(),r=i-1;r>=0;r-=1)e.finalTransform.multiply(e.transforms[r].transform.mProps.v);e._mdf=o},processSequences:function(e){var n,r=this.sequenceList.length;for(n=0;n<r;n+=1)this.processSequence(this.sequenceList[n],e)},getNewKey:function(){return this.transform_key_count+=1,"_"+this.transform_key_count}};var lumaLoader=function(){var e="__lottie_element_luma_buffer",n=null,r=null,i=null;function o(){var l=createNS("svg"),c=createNS("filter"),u=createNS("feColorMatrix");return c.setAttribute("id",e),u.setAttribute("type","matrix"),u.setAttribute("color-interpolation-filters","sRGB"),u.setAttribute("values","0.3, 0.3, 0.3, 0, 0, 0.3, 0.3, 0.3, 0, 0, 0.3, 0.3, 0.3, 0, 0, 0.3, 0.3, 0.3, 0, 0"),c.appendChild(u),l.appendChild(c),l.setAttribute("id",e+"_svg"),featureSupport.svgLumaHidden&&(l.style.display="none"),l}function s(){n||(i=o(),document.body.appendChild(i),n=createTag("canvas"),r=n.getContext("2d"),r.filter="url(#"+e+")",r.fillStyle="rgba(0,0,0,0)",r.fillRect(0,0,1,1))}function a(l){return n||s(),n.width=l.width,n.height=l.height,r.filter="url(#"+e+")",n}return{load:s,get:a}};function createCanvas(t,e){if(featureSupport.offscreenCanvas)return new OffscreenCanvas(t,e);var n=createTag("canvas");return n.width=t,n.height=e,n}var assetLoader=function(){return{loadLumaCanvas:lumaLoader.load,getLumaCanvas:lumaLoader.get,createCanvas}}(),registeredEffects={};function CVEffects(t){var e,n=t.data.ef?t.data.ef.length:0;this.filters=[];var r;for(e=0;e<n;e+=1){r=null;var i=t.data.ef[e].ty;if(registeredEffects[i]){var o=registeredEffects[i].effect;r=new o(t.effectsManager.effectElements[e],t)}r&&this.filters.push(r)}this.filters.length&&t.addRenderableComponent(this)}CVEffects.prototype.renderFrame=function(t){var e,n=this.filters.length;for(e=0;e<n;e+=1)this.filters[e].renderFrame(t)},CVEffects.prototype.getEffects=function(t){var e,n=this.filters.length,r=[];for(e=0;e<n;e+=1)this.filters[e].type===t&&r.push(this.filters[e]);return r};function registerEffect(t,e){registeredEffects[t]={effect:e}}function CVMaskElement(t,e){this.data=t,this.element=e,this.masksProperties=this.data.masksProperties||[],this.viewData=createSizedArray(this.masksProperties.length);var n,r=this.masksProperties.length,i=!1;for(n=0;n<r;n+=1)this.masksProperties[n].mode!=="n"&&(i=!0),this.viewData[n]=ShapePropertyFactory.getShapeProp(this.element,this.masksProperties[n],3);this.hasMasks=i,i&&this.element.addRenderableComponent(this)}CVMaskElement.prototype.renderFrame=function(){if(this.hasMasks){var t=this.element.finalTransform.mat,e=this.element.canvasContext,n,r=this.masksProperties.length,i,o,s;for(e.beginPath(),n=0;n<r;n+=1)if(this.masksProperties[n].mode!=="n"){this.masksProperties[n].inv&&(e.moveTo(0,0),e.lineTo(this.element.globalData.compSize.w,0),e.lineTo(this.element.globalData.compSize.w,this.element.globalData.compSize.h),e.lineTo(0,this.element.globalData.compSize.h),e.lineTo(0,0)),s=this.viewData[n].v,i=t.applyToPointArray(s.v[0][0],s.v[0][1],0),e.moveTo(i[0],i[1]);var a,l=s._length;for(a=1;a<l;a+=1)o=t.applyToTriplePoints(s.o[a-1],s.i[a],s.v[a]),e.bezierCurveTo(o[0],o[1],o[2],o[3],o[4],o[5]);o=t.applyToTriplePoints(s.o[a-1],s.i[0],s.v[0]),e.bezierCurveTo(o[0],o[1],o[2],o[3],o[4],o[5])}this.element.globalData.renderer.save(!0),e.clip()}},CVMaskElement.prototype.getMaskProperty=MaskElement.prototype.getMaskProperty,CVMaskElement.prototype.destroy=function(){this.element=null};function CVBaseElement(){}var operationsMap={1:"source-in",2:"source-out",3:"source-in",4:"source-out"};CVBaseElement.prototype={createElements:function(){},initRendererElement:function(){},createContainerElements:function(){if(this.data.tt>=1){this.buffers=[];var e=this.globalData.canvasContext,n=assetLoader.createCanvas(e.canvas.width,e.canvas.height);this.buffers.push(n);var r=assetLoader.createCanvas(e.canvas.width,e.canvas.height);this.buffers.push(r),this.data.tt>=3&&!document._isProxy&&assetLoader.loadLumaCanvas()}this.canvasContext=this.globalData.canvasContext,this.transformCanvas=this.globalData.transformCanvas,this.renderableEffectsManager=new CVEffects(this),this.searchEffectTransforms()},createContent:function(){},setBlendMode:function(){var e=this.globalData;if(e.blendMode!==this.data.bm){e.blendMode=this.data.bm;var n=getBlendMode(this.data.bm);e.canvasContext.globalCompositeOperation=n}},createRenderableComponents:function(){this.maskManager=new CVMaskElement(this.data,this),this.transformEffects=this.renderableEffectsManager.getEffects(effectTypes.TRANSFORM_EFFECT)},hideElement:function(){!this.hidden&&(!this.isInRange||this.isTransparent)&&(this.hidden=!0)},showElement:function(){this.isInRange&&!this.isTransparent&&(this.hidden=!1,this._isFirstFrame=!0,this.maskManager._isFirstFrame=!0)},clearCanvas:function(e){e.clearRect(this.transformCanvas.tx,this.transformCanvas.ty,this.transformCanvas.w*this.transformCanvas.sx,this.transformCanvas.h*this.transformCanvas.sy)},prepareLayer:function(){if(this.data.tt>=1){var e=this.buffers[0],n=e.getContext("2d");this.clearCanvas(n),n.drawImage(this.canvasContext.canvas,0,0),this.currentTransform=this.canvasContext.getTransform(),this.canvasContext.setTransform(1,0,0,1,0,0),this.clearCanvas(this.canvasContext),this.canvasContext.setTransform(this.currentTransform)}},exitLayer:function(){if(this.data.tt>=1){var e=this.buffers[1],n=e.getContext("2d");this.clearCanvas(n),n.drawImage(this.canvasContext.canvas,0,0),this.canvasContext.setTransform(1,0,0,1,0,0),this.clearCanvas(this.canvasContext),this.canvasContext.setTransform(this.currentTransform);var r=this.comp.getElementById("tp"in this.data?this.data.tp:this.data.ind-1);if(r.renderFrame(!0),this.canvasContext.setTransform(1,0,0,1,0,0),this.data.tt>=3&&!document._isProxy){var i=assetLoader.getLumaCanvas(this.canvasContext.canvas),o=i.getContext("2d");o.drawImage(this.canvasContext.canvas,0,0),this.clearCanvas(this.canvasContext),this.canvasContext.drawImage(i,0,0)}this.canvasContext.globalCompositeOperation=operationsMap[this.data.tt],this.canvasContext.drawImage(e,0,0),this.canvasContext.globalCompositeOperation="destination-over",this.canvasContext.drawImage(this.buffers[0],0,0),this.canvasContext.setTransform(this.currentTransform),this.canvasContext.globalCompositeOperation="source-over"}},renderFrame:function(e){if(!(this.hidden||this.data.hd)&&!(this.data.td===1&&!e)){this.renderTransform(),this.renderRenderable(),this.renderLocalTransform(),this.setBlendMode();var n=this.data.ty===0;this.prepareLayer(),this.globalData.renderer.save(n),this.globalData.renderer.ctxTransform(this.finalTransform.localMat.props),this.globalData.renderer.ctxOpacity(this.finalTransform.localOpacity),this.renderInnerContent(),this.globalData.renderer.restore(n),this.exitLayer(),this.maskManager.hasMasks&&this.globalData.renderer.restore(!0),this._isFirstFrame&&(this._isFirstFrame=!1)}},destroy:function(){this.canvasContext=null,this.data=null,this.globalData=null,this.maskManager.destroy()},mHelper:new Matrix},CVBaseElement.prototype.hide=CVBaseElement.prototype.hideElement,CVBaseElement.prototype.show=CVBaseElement.prototype.showElement;function CVShapeData(t,e,n,r){this.styledShapes=[],this.tr=[0,0,0,0,0,0];var i=4;e.ty==="rc"?i=5:e.ty==="el"?i=6:e.ty==="sr"&&(i=7),this.sh=ShapePropertyFactory.getShapeProp(t,e,i,t);var o,s=n.length,a;for(o=0;o<s;o+=1)n[o].closed||(a={transforms:r.addTransformSequence(n[o].transforms),trNodes:[]},this.styledShapes.push(a),n[o].elements.push(a))}CVShapeData.prototype.setAsAnimated=SVGShapeData.prototype.setAsAnimated;function CVShapeElement(t,e,n){this.shapes=[],this.shapesData=t.shapes,this.stylesList=[],this.itemsData=[],this.prevViewData=[],this.shapeModifiers=[],this.processedElements=[],this.transformsManager=new ShapeTransformManager,this.initElement(t,e,n)}extendPrototype([BaseElement,TransformElement,CVBaseElement,IShapeElement,HierarchyElement,FrameElement,RenderableElement],CVShapeElement),CVShapeElement.prototype.initElement=RenderableDOMElement.prototype.initElement,CVShapeElement.prototype.transformHelper={opacity:1,_opMdf:!1},CVShapeElement.prototype.dashResetter=[],CVShapeElement.prototype.createContent=function(){this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,!0,[])},CVShapeElement.prototype.createStyleElement=function(t,e){var n={data:t,type:t.ty,preTransforms:this.transformsManager.addTransformSequence(e),transforms:[],elements:[],closed:t.hd===!0},r={};if(t.ty==="fl"||t.ty==="st"?(r.c=PropertyFactory.getProp(this,t.c,1,255,this),r.c.k||(n.co="rgb("+bmFloor(r.c.v[0])+","+bmFloor(r.c.v[1])+","+bmFloor(r.c.v[2])+")")):(t.ty==="gf"||t.ty==="gs")&&(r.s=PropertyFactory.getProp(this,t.s,1,null,this),r.e=PropertyFactory.getProp(this,t.e,1,null,this),r.h=PropertyFactory.getProp(this,t.h||{k:0},0,.01,this),r.a=PropertyFactory.getProp(this,t.a||{k:0},0,degToRads,this),r.g=new GradientProperty(this,t.g,this)),r.o=PropertyFactory.getProp(this,t.o,0,.01,this),t.ty==="st"||t.ty==="gs"){if(n.lc=lineCapEnum[t.lc||2],n.lj=lineJoinEnum[t.lj||2],t.lj==1&&(n.ml=t.ml),r.w=PropertyFactory.getProp(this,t.w,0,null,this),r.w.k||(n.wi=r.w.v),t.d){var i=new DashProperty(this,t.d,"canvas",this);r.d=i,r.d.k||(n.da=r.d.dashArray,n.do=r.d.dashoffset[0])}}else n.r=t.r===2?"evenodd":"nonzero";return this.stylesList.push(n),r.style=n,r},CVShapeElement.prototype.createGroupElement=function(){var t={it:[],prevViewData:[]};return t},CVShapeElement.prototype.createTransformElement=function(t){var e={transform:{opacity:1,_opMdf:!1,key:this.transformsManager.getNewKey(),op:PropertyFactory.getProp(this,t.o,0,.01,this),mProps:TransformPropertyFactory.getTransformProperty(this,t,this)}};return e},CVShapeElement.prototype.createShapeElement=function(t){var e=new CVShapeData(this,t,this.stylesList,this.transformsManager);return this.shapes.push(e),this.addShapeToModifiers(e),e},CVShapeElement.prototype.reloadShapes=function(){this._isFirstFrame=!0;var t,e=this.itemsData.length;for(t=0;t<e;t+=1)this.prevViewData[t]=this.itemsData[t];for(this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,!0,[]),e=this.dynamicProperties.length,t=0;t<e;t+=1)this.dynamicProperties[t].getValue();this.renderModifiers(),this.transformsManager.processSequences(this._isFirstFrame)},CVShapeElement.prototype.addTransformToStyleList=function(t){var e,n=this.stylesList.length;for(e=0;e<n;e+=1)this.stylesList[e].closed||this.stylesList[e].transforms.push(t)},CVShapeElement.prototype.removeTransformFromStyleList=function(){var t,e=this.stylesList.length;for(t=0;t<e;t+=1)this.stylesList[t].closed||this.stylesList[t].transforms.pop()},CVShapeElement.prototype.closeStyles=function(t){var e,n=t.length;for(e=0;e<n;e+=1)t[e].closed=!0},CVShapeElement.prototype.searchShapes=function(t,e,n,r,i){var o,s=t.length-1,a,l,c=[],u=[],f,d,h,m=[].concat(i);for(o=s;o>=0;o-=1){if(f=this.searchProcessedElement(t[o]),f?e[o]=n[f-1]:t[o]._shouldRender=r,t[o].ty==="fl"||t[o].ty==="st"||t[o].ty==="gf"||t[o].ty==="gs")f?e[o].style.closed=!1:e[o]=this.createStyleElement(t[o],m),c.push(e[o].style);else if(t[o].ty==="gr"){if(!f)e[o]=this.createGroupElement(t[o]);else for(l=e[o].it.length,a=0;a<l;a+=1)e[o].prevViewData[a]=e[o].it[a];this.searchShapes(t[o].it,e[o].it,e[o].prevViewData,r,m)}else t[o].ty==="tr"?(f||(h=this.createTransformElement(t[o]),e[o]=h),m.push(e[o]),this.addTransformToStyleList(e[o])):t[o].ty==="sh"||t[o].ty==="rc"||t[o].ty==="el"||t[o].ty==="sr"?f||(e[o]=this.createShapeElement(t[o])):t[o].ty==="tm"||t[o].ty==="rd"||t[o].ty==="pb"||t[o].ty==="zz"||t[o].ty==="op"?(f?(d=e[o],d.closed=!1):(d=ShapeModifiers.getModifier(t[o].ty),d.init(this,t[o]),e[o]=d,this.shapeModifiers.push(d)),u.push(d)):t[o].ty==="rp"&&(f?(d=e[o],d.closed=!0):(d=ShapeModifiers.getModifier(t[o].ty),e[o]=d,d.init(this,t,o,e),this.shapeModifiers.push(d),r=!1),u.push(d));this.addProcessedElement(t[o],o+1)}for(this.removeTransformFromStyleList(),this.closeStyles(c),s=u.length,o=0;o<s;o+=1)u[o].closed=!0},CVShapeElement.prototype.renderInnerContent=function(){this.transformHelper.opacity=1,this.transformHelper._opMdf=!1,this.renderModifiers(),this.transformsManager.processSequences(this._isFirstFrame),this.renderShape(this.transformHelper,this.shapesData,this.itemsData,!0)},CVShapeElement.prototype.renderShapeTransform=function(t,e){(t._opMdf||e.op._mdf||this._isFirstFrame)&&(e.opacity=t.opacity,e.opacity*=e.op.v,e._opMdf=!0)},CVShapeElement.prototype.drawLayer=function(){var t,e=this.stylesList.length,n,r,i,o,s,a,l=this.globalData.renderer,c=this.globalData.canvasContext,u,f;for(t=0;t<e;t+=1)if(f=this.stylesList[t],u=f.type,!((u==="st"||u==="gs")&&f.wi===0||!f.data._shouldRender||f.coOp===0||this.globalData.currentGlobalAlpha===0)){for(l.save(),s=f.elements,u==="st"||u==="gs"?(l.ctxStrokeStyle(u==="st"?f.co:f.grd),l.ctxLineWidth(f.wi),l.ctxLineCap(f.lc),l.ctxLineJoin(f.lj),l.ctxMiterLimit(f.ml||0)):l.ctxFillStyle(u==="fl"?f.co:f.grd),l.ctxOpacity(f.coOp),u!=="st"&&u!=="gs"&&c.beginPath(),l.ctxTransform(f.preTransforms.finalTransform.props),r=s.length,n=0;n<r;n+=1){for((u==="st"||u==="gs")&&(c.beginPath(),f.da&&(c.setLineDash(f.da),c.lineDashOffset=f.do)),a=s[n].trNodes,o=a.length,i=0;i<o;i+=1)a[i].t==="m"?c.moveTo(a[i].p[0],a[i].p[1]):a[i].t==="c"?c.bezierCurveTo(a[i].pts[0],a[i].pts[1],a[i].pts[2],a[i].pts[3],a[i].pts[4],a[i].pts[5]):c.closePath();(u==="st"||u==="gs")&&(l.ctxStroke(),f.da&&c.setLineDash(this.dashResetter))}u!=="st"&&u!=="gs"&&this.globalData.renderer.ctxFill(f.r),l.restore()}},CVShapeElement.prototype.renderShape=function(t,e,n,r){var i,o=e.length-1,s;for(s=t,i=o;i>=0;i-=1)e[i].ty==="tr"?(s=n[i].transform,this.renderShapeTransform(t,s)):e[i].ty==="sh"||e[i].ty==="el"||e[i].ty==="rc"||e[i].ty==="sr"?this.renderPath(e[i],n[i]):e[i].ty==="fl"?this.renderFill(e[i],n[i],s):e[i].ty==="st"?this.renderStroke(e[i],n[i],s):e[i].ty==="gf"||e[i].ty==="gs"?this.renderGradientFill(e[i],n[i],s):e[i].ty==="gr"?this.renderShape(s,e[i].it,n[i].it):e[i].ty;r&&this.drawLayer()},CVShapeElement.prototype.renderStyledShape=function(t,e){if(this._isFirstFrame||e._mdf||t.transforms._mdf){var n=t.trNodes,r=e.paths,i,o,s,a=r._length;n.length=0;var l=t.transforms.finalTransform;for(s=0;s<a;s+=1){var c=r.shapes[s];if(c&&c.v){for(o=c._length,i=1;i<o;i+=1)i===1&&n.push({t:"m",p:l.applyToPointArray(c.v[0][0],c.v[0][1],0)}),n.push({t:"c",pts:l.applyToTriplePoints(c.o[i-1],c.i[i],c.v[i])});o===1&&n.push({t:"m",p:l.applyToPointArray(c.v[0][0],c.v[0][1],0)}),c.c&&o&&(n.push({t:"c",pts:l.applyToTriplePoints(c.o[i-1],c.i[0],c.v[0])}),n.push({t:"z"}))}}t.trNodes=n}},CVShapeElement.prototype.renderPath=function(t,e){if(t.hd!==!0&&t._shouldRender){var n,r=e.styledShapes.length;for(n=0;n<r;n+=1)this.renderStyledShape(e.styledShapes[n],e.sh)}},CVShapeElement.prototype.renderFill=function(t,e,n){var r=e.style;(e.c._mdf||this._isFirstFrame)&&(r.co="rgb("+bmFloor(e.c.v[0])+","+bmFloor(e.c.v[1])+","+bmFloor(e.c.v[2])+")"),(e.o._mdf||n._opMdf||this._isFirstFrame)&&(r.coOp=e.o.v*n.opacity)},CVShapeElement.prototype.renderGradientFill=function(t,e,n){var r=e.style,i;if(!r.grd||e.g._mdf||e.s._mdf||e.e._mdf||t.t!==1&&(e.h._mdf||e.a._mdf)){var o=this.globalData.canvasContext,s=e.s.v,a=e.e.v;if(t.t===1)i=o.createLinearGradient(s[0],s[1],a[0],a[1]);else{var l=Math.sqrt(Math.pow(s[0]-a[0],2)+Math.pow(s[1]-a[1],2)),c=Math.atan2(a[1]-s[1],a[0]-s[0]),u=e.h.v;u>=1?u=.99:u<=-1&&(u=-.99);var f=l*u,d=Math.cos(c+e.a.v)*f+s[0],h=Math.sin(c+e.a.v)*f+s[1];i=o.createRadialGradient(d,h,0,s[0],s[1],l)}var m,v=t.g.p,P=e.g.c,b=1;for(m=0;m<v;m+=1)e.g._hasOpacity&&e.g._collapsable&&(b=e.g.o[m*2+1]),i.addColorStop(P[m*4]/100,"rgba("+P[m*4+1]+","+P[m*4+2]+","+P[m*4+3]+","+b+")");r.grd=i}r.coOp=e.o.v*n.opacity},CVShapeElement.prototype.renderStroke=function(t,e,n){var r=e.style,i=e.d;i&&(i._mdf||this._isFirstFrame)&&(r.da=i.dashArray,r.do=i.dashoffset[0]),(e.c._mdf||this._isFirstFrame)&&(r.co="rgb("+bmFloor(e.c.v[0])+","+bmFloor(e.c.v[1])+","+bmFloor(e.c.v[2])+")"),(e.o._mdf||n._opMdf||this._isFirstFrame)&&(r.coOp=e.o.v*n.opacity),(e.w._mdf||this._isFirstFrame)&&(r.wi=e.w.v)},CVShapeElement.prototype.destroy=function(){this.shapesData=null,this.globalData=null,this.canvasContext=null,this.stylesList.length=0,this.itemsData.length=0};function CVTextElement(t,e,n){this.textSpans=[],this.yOffset=0,this.fillColorAnim=!1,this.strokeColorAnim=!1,this.strokeWidthAnim=!1,this.stroke=!1,this.fill=!1,this.justifyOffset=0,this.currentRender=null,this.renderType="canvas",this.values={fill:"rgba(0,0,0,0)",stroke:"rgba(0,0,0,0)",sWidth:0,fValue:""},this.initElement(t,e,n)}extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement,ITextElement],CVTextElement),CVTextElement.prototype.tHelper=createTag("canvas").getContext("2d"),CVTextElement.prototype.buildNewText=function(){var t=this.textProperty.currentData;this.renderedLetters=createSizedArray(t.l?t.l.length:0);var e=!1;t.fc?(e=!0,this.values.fill=this.buildColor(t.fc)):this.values.fill="rgba(0,0,0,0)",this.fill=e;var n=!1;t.sc&&(n=!0,this.values.stroke=this.buildColor(t.sc),this.values.sWidth=t.sw);var r=this.globalData.fontManager.getFontByName(t.f),i,o,s=t.l,a=this.mHelper;this.stroke=n,this.values.fValue=t.finalSize+"px "+this.globalData.fontManager.getFontByName(t.f).fFamily,o=t.finalText.length;var l,c,u,f,d,h,m,v,P,b,x=this.data.singleShape,_=t.tr*.001*t.finalSize,T=0,k=0,$=!0,V=0;for(i=0;i<o;i+=1){l=this.globalData.fontManager.getCharData(t.finalText[i],r.fStyle,this.globalData.fontManager.getFontByName(t.f).fFamily),c=l&&l.data||{},a.reset(),x&&s[i].n&&(T=-_,k+=t.yOffset,k+=$?1:0,$=!1),d=c.shapes?c.shapes[0].it:[],m=d.length,a.scale(t.finalSize/100,t.finalSize/100),x&&this.applyTextPropertiesToMatrix(t,a,s[i].line,T,k),P=createSizedArray(m-1);var B=0;for(h=0;h<m;h+=1)if(d[h].ty==="sh"){for(f=d[h].ks.k.i.length,v=d[h].ks.k,b=[],u=1;u<f;u+=1)u===1&&b.push(a.applyToX(v.v[0][0],v.v[0][1],0),a.applyToY(v.v[0][0],v.v[0][1],0)),b.push(a.applyToX(v.o[u-1][0],v.o[u-1][1],0),a.applyToY(v.o[u-1][0],v.o[u-1][1],0),a.applyToX(v.i[u][0],v.i[u][1],0),a.applyToY(v.i[u][0],v.i[u][1],0),a.applyToX(v.v[u][0],v.v[u][1],0),a.applyToY(v.v[u][0],v.v[u][1],0));b.push(a.applyToX(v.o[u-1][0],v.o[u-1][1],0),a.applyToY(v.o[u-1][0],v.o[u-1][1],0),a.applyToX(v.i[0][0],v.i[0][1],0),a.applyToY(v.i[0][0],v.i[0][1],0),a.applyToX(v.v[0][0],v.v[0][1],0),a.applyToY(v.v[0][0],v.v[0][1],0)),P[B]=b,B+=1}x&&(T+=s[i].l,T+=_),this.textSpans[V]?this.textSpans[V].elem=P:this.textSpans[V]={elem:P},V+=1}},CVTextElement.prototype.renderInnerContent=function(){this.validateText();var t=this.canvasContext;t.font=this.values.fValue,this.globalData.renderer.ctxLineCap("butt"),this.globalData.renderer.ctxLineJoin("miter"),this.globalData.renderer.ctxMiterLimit(4),this.data.singleShape||this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag);var e,n,r,i,o,s,a=this.textAnimator.renderedLetters,l=this.textProperty.currentData.l;n=l.length;var c,u=null,f=null,d=null,h,m,v=this.globalData.renderer;for(e=0;e<n;e+=1)if(!l[e].n){if(c=a[e],c&&(v.save(),v.ctxTransform(c.p),v.ctxOpacity(c.o)),this.fill){for(c&&c.fc?u!==c.fc&&(v.ctxFillStyle(c.fc),u=c.fc):u!==this.values.fill&&(u=this.values.fill,v.ctxFillStyle(this.values.fill)),h=this.textSpans[e].elem,i=h.length,this.globalData.canvasContext.beginPath(),r=0;r<i;r+=1)for(m=h[r],s=m.length,this.globalData.canvasContext.moveTo(m[0],m[1]),o=2;o<s;o+=6)this.globalData.canvasContext.bezierCurveTo(m[o],m[o+1],m[o+2],m[o+3],m[o+4],m[o+5]);this.globalData.canvasContext.closePath(),v.ctxFill()}if(this.stroke){for(c&&c.sw?d!==c.sw&&(d=c.sw,v.ctxLineWidth(c.sw)):d!==this.values.sWidth&&(d=this.values.sWidth,v.ctxLineWidth(this.values.sWidth)),c&&c.sc?f!==c.sc&&(f=c.sc,v.ctxStrokeStyle(c.sc)):f!==this.values.stroke&&(f=this.values.stroke,v.ctxStrokeStyle(this.values.stroke)),h=this.textSpans[e].elem,i=h.length,this.globalData.canvasContext.beginPath(),r=0;r<i;r+=1)for(m=h[r],s=m.length,this.globalData.canvasContext.moveTo(m[0],m[1]),o=2;o<s;o+=6)this.globalData.canvasContext.bezierCurveTo(m[o],m[o+1],m[o+2],m[o+3],m[o+4],m[o+5]);this.globalData.canvasContext.closePath(),v.ctxStroke()}c&&this.globalData.renderer.restore()}};function CVImageElement(t,e,n){this.assetData=e.getAssetData(t.refId),this.img=e.imageLoader.getAsset(this.assetData),this.initElement(t,e,n)}extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement],CVImageElement),CVImageElement.prototype.initElement=SVGShapeElement.prototype.initElement,CVImageElement.prototype.prepareFrame=IImageElement.prototype.prepareFrame,CVImageElement.prototype.createContent=function(){if(this.img.width&&(this.assetData.w!==this.img.width||this.assetData.h!==this.img.height)){var t=createTag("canvas");t.width=this.assetData.w,t.height=this.assetData.h;var e=t.getContext("2d"),n=this.img.width,r=this.img.height,i=n/r,o=this.assetData.w/this.assetData.h,s,a,l=this.assetData.pr||this.globalData.renderConfig.imagePreserveAspectRatio;i>o&&l==="xMidYMid slice"||i<o&&l!=="xMidYMid slice"?(a=r,s=a*o):(s=n,a=s/o),e.drawImage(this.img,(n-s)/2,(r-a)/2,s,a,0,0,this.assetData.w,this.assetData.h),this.img=t}},CVImageElement.prototype.renderInnerContent=function(){this.canvasContext.drawImage(this.img,0,0)},CVImageElement.prototype.destroy=function(){this.img=null};function CVSolidElement(t,e,n){this.initElement(t,e,n)}extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement],CVSolidElement),CVSolidElement.prototype.initElement=SVGShapeElement.prototype.initElement,CVSolidElement.prototype.prepareFrame=IImageElement.prototype.prepareFrame,CVSolidElement.prototype.renderInnerContent=function(){this.globalData.renderer.ctxFillStyle(this.data.sc),this.globalData.renderer.ctxFillRect(0,0,this.data.sw,this.data.sh)};function CanvasRendererBase(){}extendPrototype([BaseRenderer],CanvasRendererBase),CanvasRendererBase.prototype.createShape=function(t){return new CVShapeElement(t,this.globalData,this)},CanvasRendererBase.prototype.createText=function(t){return new CVTextElement(t,this.globalData,this)},CanvasRendererBase.prototype.createImage=function(t){return new CVImageElement(t,this.globalData,this)},CanvasRendererBase.prototype.createSolid=function(t){return new CVSolidElement(t,this.globalData,this)},CanvasRendererBase.prototype.createNull=SVGRenderer.prototype.createNull,CanvasRendererBase.prototype.ctxTransform=function(t){t[0]===1&&t[1]===0&&t[4]===0&&t[5]===1&&t[12]===0&&t[13]===0||this.canvasContext.transform(t[0],t[1],t[4],t[5],t[12],t[13])},CanvasRendererBase.prototype.ctxOpacity=function(t){this.canvasContext.globalAlpha*=t<0?0:t},CanvasRendererBase.prototype.ctxFillStyle=function(t){this.canvasContext.fillStyle=t},CanvasRendererBase.prototype.ctxStrokeStyle=function(t){this.canvasContext.strokeStyle=t},CanvasRendererBase.prototype.ctxLineWidth=function(t){this.canvasContext.lineWidth=t},CanvasRendererBase.prototype.ctxLineCap=function(t){this.canvasContext.lineCap=t},CanvasRendererBase.prototype.ctxLineJoin=function(t){this.canvasContext.lineJoin=t},CanvasRendererBase.prototype.ctxMiterLimit=function(t){this.canvasContext.miterLimit=t},CanvasRendererBase.prototype.ctxFill=function(t){this.canvasContext.fill(t)},CanvasRendererBase.prototype.ctxFillRect=function(t,e,n,r){this.canvasContext.fillRect(t,e,n,r)},CanvasRendererBase.prototype.ctxStroke=function(){this.canvasContext.stroke()},CanvasRendererBase.prototype.reset=function(){if(!this.renderConfig.clearCanvas){this.canvasContext.restore();return}this.contextData.reset()},CanvasRendererBase.prototype.save=function(){this.canvasContext.save()},CanvasRendererBase.prototype.restore=function(t){if(!this.renderConfig.clearCanvas){this.canvasContext.restore();return}t&&(this.globalData.blendMode="source-over"),this.contextData.restore(t)},CanvasRendererBase.prototype.configAnimation=function(t){if(this.animationItem.wrapper){this.animationItem.container=createTag("canvas");var e=this.animationItem.container.style;e.width="100%",e.height="100%";var n="0px 0px 0px";e.transformOrigin=n,e.mozTransformOrigin=n,e.webkitTransformOrigin=n,e["-webkit-transform"]=n,e.contentVisibility=this.renderConfig.contentVisibility,this.animationItem.wrapper.appendChild(this.animationItem.container),this.canvasContext=this.animationItem.container.getContext("2d"),this.renderConfig.className&&this.animationItem.container.setAttribute("class",this.renderConfig.className),this.renderConfig.id&&this.animationItem.container.setAttribute("id",this.renderConfig.id)}else this.canvasContext=this.renderConfig.context;this.contextData.setContext(this.canvasContext),this.data=t,this.layers=t.layers,this.transformCanvas={w:t.w,h:t.h,sx:0,sy:0,tx:0,ty:0},this.setupGlobalData(t,document.body),this.globalData.canvasContext=this.canvasContext,this.globalData.renderer=this,this.globalData.isDashed=!1,this.globalData.progressiveLoad=this.renderConfig.progressiveLoad,this.globalData.transformCanvas=this.transformCanvas,this.elements=createSizedArray(t.layers.length),this.updateContainerSize()},CanvasRendererBase.prototype.updateContainerSize=function(t,e){this.reset();var n,r;t?(n=t,r=e,this.canvasContext.canvas.width=n,this.canvasContext.canvas.height=r):(this.animationItem.wrapper&&this.animationItem.container?(n=this.animationItem.wrapper.offsetWidth,r=this.animationItem.wrapper.offsetHeight):(n=this.canvasContext.canvas.width,r=this.canvasContext.canvas.height),this.canvasContext.canvas.width=n*this.renderConfig.dpr,this.canvasContext.canvas.height=r*this.renderConfig.dpr);var i,o;if(this.renderConfig.preserveAspectRatio.indexOf("meet")!==-1||this.renderConfig.preserveAspectRatio.indexOf("slice")!==-1){var s=this.renderConfig.preserveAspectRatio.split(" "),a=s[1]||"meet",l=s[0]||"xMidYMid",c=l.substr(0,4),u=l.substr(4);i=n/r,o=this.transformCanvas.w/this.transformCanvas.h,o>i&&a==="meet"||o<i&&a==="slice"?(this.transformCanvas.sx=n/(this.transformCanvas.w/this.renderConfig.dpr),this.transformCanvas.sy=n/(this.transformCanvas.w/this.renderConfig.dpr)):(this.transformCanvas.sx=r/(this.transformCanvas.h/this.renderConfig.dpr),this.transformCanvas.sy=r/(this.transformCanvas.h/this.renderConfig.dpr)),c==="xMid"&&(o<i&&a==="meet"||o>i&&a==="slice")?this.transformCanvas.tx=(n-this.transformCanvas.w*(r/this.transformCanvas.h))/2*this.renderConfig.dpr:c==="xMax"&&(o<i&&a==="meet"||o>i&&a==="slice")?this.transformCanvas.tx=(n-this.transformCanvas.w*(r/this.transformCanvas.h))*this.renderConfig.dpr:this.transformCanvas.tx=0,u==="YMid"&&(o>i&&a==="meet"||o<i&&a==="slice")?this.transformCanvas.ty=(r-this.transformCanvas.h*(n/this.transformCanvas.w))/2*this.renderConfig.dpr:u==="YMax"&&(o>i&&a==="meet"||o<i&&a==="slice")?this.transformCanvas.ty=(r-this.transformCanvas.h*(n/this.transformCanvas.w))*this.renderConfig.dpr:this.transformCanvas.ty=0}else this.renderConfig.preserveAspectRatio==="none"?(this.transformCanvas.sx=n/(this.transformCanvas.w/this.renderConfig.dpr),this.transformCanvas.sy=r/(this.transformCanvas.h/this.renderConfig.dpr),this.transformCanvas.tx=0,this.transformCanvas.ty=0):(this.transformCanvas.sx=this.renderConfig.dpr,this.transformCanvas.sy=this.renderConfig.dpr,this.transformCanvas.tx=0,this.transformCanvas.ty=0);this.transformCanvas.props=[this.transformCanvas.sx,0,0,0,0,this.transformCanvas.sy,0,0,0,0,1,0,this.transformCanvas.tx,this.transformCanvas.ty,0,1],this.ctxTransform(this.transformCanvas.props),this.canvasContext.beginPath(),this.canvasContext.rect(0,0,this.transformCanvas.w,this.transformCanvas.h),this.canvasContext.closePath(),this.canvasContext.clip(),this.renderFrame(this.renderedFrame,!0)},CanvasRendererBase.prototype.destroy=function(){this.renderConfig.clearCanvas&&this.animationItem.wrapper&&(this.animationItem.wrapper.innerText="");var t,e=this.layers?this.layers.length:0;for(t=e-1;t>=0;t-=1)this.elements[t]&&this.elements[t].destroy&&this.elements[t].destroy();this.elements.length=0,this.globalData.canvasContext=null,this.animationItem.container=null,this.destroyed=!0},CanvasRendererBase.prototype.renderFrame=function(t,e){if(!(this.renderedFrame===t&&this.renderConfig.clearCanvas===!0&&!e||this.destroyed||t===-1)){this.renderedFrame=t,this.globalData.frameNum=t-this.animationItem._isFirstFrame,this.globalData.frameId+=1,this.globalData._mdf=!this.renderConfig.clearCanvas||e,this.globalData.projectInterface.currentFrame=t;var n,r=this.layers.length;for(this.completeLayers||this.checkLayers(t),n=r-1;n>=0;n-=1)(this.completeLayers||this.elements[n])&&this.elements[n].prepareFrame(t-this.layers[n].st);if(this.globalData._mdf){for(this.renderConfig.clearCanvas===!0?this.canvasContext.clearRect(0,0,this.transformCanvas.w,this.transformCanvas.h):this.save(),n=r-1;n>=0;n-=1)(this.completeLayers||this.elements[n])&&this.elements[n].renderFrame();this.renderConfig.clearCanvas!==!0&&this.restore()}}},CanvasRendererBase.prototype.buildItem=function(t){var e=this.elements;if(!(e[t]||this.layers[t].ty===99)){var n=this.createItem(this.layers[t],this,this.globalData);e[t]=n,n.initExpressions()}},CanvasRendererBase.prototype.checkPendingElements=function(){for(;this.pendingElements.length;){var t=this.pendingElements.pop();t.checkParenting()}},CanvasRendererBase.prototype.hide=function(){this.animationItem.container.style.display="none"},CanvasRendererBase.prototype.show=function(){this.animationItem.container.style.display="block"};function CanvasContext(){this.opacity=-1,this.transform=createTypedArray("float32",16),this.fillStyle="",this.strokeStyle="",this.lineWidth="",this.lineCap="",this.lineJoin="",this.miterLimit="",this.id=Math.random()}function CVContextData(){this.stack=[],this.cArrPos=0,this.cTr=new Matrix;var t,e=15;for(t=0;t<e;t+=1){var n=new CanvasContext;this.stack[t]=n}this._length=e,this.nativeContext=null,this.transformMat=new Matrix,this.currentOpacity=1,this.currentFillStyle="",this.appliedFillStyle="",this.currentStrokeStyle="",this.appliedStrokeStyle="",this.currentLineWidth="",this.appliedLineWidth="",this.currentLineCap="",this.appliedLineCap="",this.currentLineJoin="",this.appliedLineJoin="",this.appliedMiterLimit="",this.currentMiterLimit=""}CVContextData.prototype.duplicate=function(){var t=this._length*2,e=0;for(e=this._length;e<t;e+=1)this.stack[e]=new CanvasContext;this._length=t},CVContextData.prototype.reset=function(){this.cArrPos=0,this.cTr.reset(),this.stack[this.cArrPos].opacity=1},CVContextData.prototype.restore=function(t){this.cArrPos-=1;var e=this.stack[this.cArrPos],n=e.transform,r,i=this.cTr.props;for(r=0;r<16;r+=1)i[r]=n[r];if(t){this.nativeContext.restore();var o=this.stack[this.cArrPos+1];this.appliedFillStyle=o.fillStyle,this.appliedStrokeStyle=o.strokeStyle,this.appliedLineWidth=o.lineWidth,this.appliedLineCap=o.lineCap,this.appliedLineJoin=o.lineJoin,this.appliedMiterLimit=o.miterLimit}this.nativeContext.setTransform(n[0],n[1],n[4],n[5],n[12],n[13]),(t||e.opacity!==-1&&this.currentOpacity!==e.opacity)&&(this.nativeContext.globalAlpha=e.opacity,this.currentOpacity=e.opacity),this.currentFillStyle=e.fillStyle,this.currentStrokeStyle=e.strokeStyle,this.currentLineWidth=e.lineWidth,this.currentLineCap=e.lineCap,this.currentLineJoin=e.lineJoin,this.currentMiterLimit=e.miterLimit},CVContextData.prototype.save=function(t){t&&this.nativeContext.save();var e=this.cTr.props;this._length<=this.cArrPos&&this.duplicate();var n=this.stack[this.cArrPos],r;for(r=0;r<16;r+=1)n.transform[r]=e[r];this.cArrPos+=1;var i=this.stack[this.cArrPos];i.opacity=n.opacity,i.fillStyle=n.fillStyle,i.strokeStyle=n.strokeStyle,i.lineWidth=n.lineWidth,i.lineCap=n.lineCap,i.lineJoin=n.lineJoin,i.miterLimit=n.miterLimit},CVContextData.prototype.setOpacity=function(t){this.stack[this.cArrPos].opacity=t},CVContextData.prototype.setContext=function(t){this.nativeContext=t},CVContextData.prototype.fillStyle=function(t){this.stack[this.cArrPos].fillStyle!==t&&(this.currentFillStyle=t,this.stack[this.cArrPos].fillStyle=t)},CVContextData.prototype.strokeStyle=function(t){this.stack[this.cArrPos].strokeStyle!==t&&(this.currentStrokeStyle=t,this.stack[this.cArrPos].strokeStyle=t)},CVContextData.prototype.lineWidth=function(t){this.stack[this.cArrPos].lineWidth!==t&&(this.currentLineWidth=t,this.stack[this.cArrPos].lineWidth=t)},CVContextData.prototype.lineCap=function(t){this.stack[this.cArrPos].lineCap!==t&&(this.currentLineCap=t,this.stack[this.cArrPos].lineCap=t)},CVContextData.prototype.lineJoin=function(t){this.stack[this.cArrPos].lineJoin!==t&&(this.currentLineJoin=t,this.stack[this.cArrPos].lineJoin=t)},CVContextData.prototype.miterLimit=function(t){this.stack[this.cArrPos].miterLimit!==t&&(this.currentMiterLimit=t,this.stack[this.cArrPos].miterLimit=t)},CVContextData.prototype.transform=function(t){this.transformMat.cloneFromProps(t);var e=this.cTr;this.transformMat.multiply(e),e.cloneFromProps(this.transformMat.props);var n=e.props;this.nativeContext.setTransform(n[0],n[1],n[4],n[5],n[12],n[13])},CVContextData.prototype.opacity=function(t){var e=this.stack[this.cArrPos].opacity;e*=t<0?0:t,this.stack[this.cArrPos].opacity!==e&&(this.currentOpacity!==t&&(this.nativeContext.globalAlpha=t,this.currentOpacity=t),this.stack[this.cArrPos].opacity=e)},CVContextData.prototype.fill=function(t){this.appliedFillStyle!==this.currentFillStyle&&(this.appliedFillStyle=this.currentFillStyle,this.nativeContext.fillStyle=this.appliedFillStyle),this.nativeContext.fill(t)},CVContextData.prototype.fillRect=function(t,e,n,r){this.appliedFillStyle!==this.currentFillStyle&&(this.appliedFillStyle=this.currentFillStyle,this.nativeContext.fillStyle=this.appliedFillStyle),this.nativeContext.fillRect(t,e,n,r)},CVContextData.prototype.stroke=function(){this.appliedStrokeStyle!==this.currentStrokeStyle&&(this.appliedStrokeStyle=this.currentStrokeStyle,this.nativeContext.strokeStyle=this.appliedStrokeStyle),this.appliedLineWidth!==this.currentLineWidth&&(this.appliedLineWidth=this.currentLineWidth,this.nativeContext.lineWidth=this.appliedLineWidth),this.appliedLineCap!==this.currentLineCap&&(this.appliedLineCap=this.currentLineCap,this.nativeContext.lineCap=this.appliedLineCap),this.appliedLineJoin!==this.currentLineJoin&&(this.appliedLineJoin=this.currentLineJoin,this.nativeContext.lineJoin=this.appliedLineJoin),this.appliedMiterLimit!==this.currentMiterLimit&&(this.appliedMiterLimit=this.currentMiterLimit,this.nativeContext.miterLimit=this.appliedMiterLimit),this.nativeContext.stroke()};function CVCompElement(t,e,n){this.completeLayers=!1,this.layers=t.layers,this.pendingElements=[],this.elements=createSizedArray(this.layers.length),this.initElement(t,e,n),this.tm=t.tm?PropertyFactory.getProp(this,t.tm,0,e.frameRate,this):{_placeholder:!0}}extendPrototype([CanvasRendererBase,ICompElement,CVBaseElement],CVCompElement),CVCompElement.prototype.renderInnerContent=function(){var t=this.canvasContext;t.beginPath(),t.moveTo(0,0),t.lineTo(this.data.w,0),t.lineTo(this.data.w,this.data.h),t.lineTo(0,this.data.h),t.lineTo(0,0),t.clip();var e,n=this.layers.length;for(e=n-1;e>=0;e-=1)(this.completeLayers||this.elements[e])&&this.elements[e].renderFrame()},CVCompElement.prototype.destroy=function(){var t,e=this.layers.length;for(t=e-1;t>=0;t-=1)this.elements[t]&&this.elements[t].destroy();this.layers=null,this.elements=null},CVCompElement.prototype.createComp=function(t){return new CVCompElement(t,this.globalData,this)};function CanvasRenderer(t,e){this.animationItem=t,this.renderConfig={clearCanvas:e&&e.clearCanvas!==void 0?e.clearCanvas:!0,context:e&&e.context||null,progressiveLoad:e&&e.progressiveLoad||!1,preserveAspectRatio:e&&e.preserveAspectRatio||"xMidYMid meet",imagePreserveAspectRatio:e&&e.imagePreserveAspectRatio||"xMidYMid slice",contentVisibility:e&&e.contentVisibility||"visible",className:e&&e.className||"",id:e&&e.id||"",runExpressions:!e||e.runExpressions===void 0||e.runExpressions},this.renderConfig.dpr=e&&e.dpr||1,this.animationItem.wrapper&&(this.renderConfig.dpr=e&&e.dpr||window.devicePixelRatio||1),this.renderedFrame=-1,this.globalData={frameNum:-1,_mdf:!1,renderConfig:this.renderConfig,currentGlobalAlpha:-1},this.contextData=new CVContextData,this.elements=[],this.pendingElements=[],this.transformMat=new Matrix,this.completeLayers=!1,this.rendererType="canvas",this.renderConfig.clearCanvas&&(this.ctxTransform=this.contextData.transform.bind(this.contextData),this.ctxOpacity=this.contextData.opacity.bind(this.contextData),this.ctxFillStyle=this.contextData.fillStyle.bind(this.contextData),this.ctxStrokeStyle=this.contextData.strokeStyle.bind(this.contextData),this.ctxLineWidth=this.contextData.lineWidth.bind(this.contextData),this.ctxLineCap=this.contextData.lineCap.bind(this.contextData),this.ctxLineJoin=this.contextData.lineJoin.bind(this.contextData),this.ctxMiterLimit=this.contextData.miterLimit.bind(this.contextData),this.ctxFill=this.contextData.fill.bind(this.contextData),this.ctxFillRect=this.contextData.fillRect.bind(this.contextData),this.ctxStroke=this.contextData.stroke.bind(this.contextData),this.save=this.contextData.save.bind(this.contextData))}extendPrototype([CanvasRendererBase],CanvasRenderer),CanvasRenderer.prototype.createComp=function(t){return new CVCompElement(t,this.globalData,this)};function HBaseElement(){}HBaseElement.prototype={checkBlendMode:function(){},initRendererElement:function(){this.baseElement=createTag(this.data.tg||"div"),this.data.hasMask?(this.svgElement=createNS("svg"),this.layerElement=createNS("g"),this.maskedElement=this.layerElement,this.svgElement.appendChild(this.layerElement),this.baseElement.appendChild(this.svgElement)):this.layerElement=this.baseElement,styleDiv(this.baseElement)},createContainerElements:function(){this.renderableEffectsManager=new CVEffects(this),this.transformedElement=this.baseElement,this.maskedElement=this.layerElement,this.data.ln&&this.layerElement.setAttribute("id",this.data.ln),this.data.cl&&this.layerElement.setAttribute("class",this.data.cl),this.data.bm!==0&&this.setBlendMode()},renderElement:function(){var e=this.transformedElement?this.transformedElement.style:{};if(this.finalTransform._matMdf){var n=this.finalTransform.mat.toCSS();e.transform=n,e.webkitTransform=n}this.finalTransform._opMdf&&(e.opacity=this.finalTransform.mProp.o.v)},renderFrame:function(){this.data.hd||this.hidden||(this.renderTransform(),this.renderRenderable(),this.renderElement(),this.renderInnerContent(),this._isFirstFrame&&(this._isFirstFrame=!1))},destroy:function(){this.layerElement=null,this.transformedElement=null,this.matteElement&&(this.matteElement=null),this.maskManager&&(this.maskManager.destroy(),this.maskManager=null)},createRenderableComponents:function(){this.maskManager=new MaskElement(this.data,this,this.globalData)},addEffects:function(){},setMatte:function(){}},HBaseElement.prototype.getBaseElement=SVGBaseElement.prototype.getBaseElement,HBaseElement.prototype.destroyBaseElement=HBaseElement.prototype.destroy,HBaseElement.prototype.buildElementParenting=BaseRenderer.prototype.buildElementParenting;function HSolidElement(t,e,n){this.initElement(t,e,n)}extendPrototype([BaseElement,TransformElement,HBaseElement,HierarchyElement,FrameElement,RenderableDOMElement],HSolidElement),HSolidElement.prototype.createContent=function(){var t;this.data.hasMask?(t=createNS("rect"),t.setAttribute("width",this.data.sw),t.setAttribute("height",this.data.sh),t.setAttribute("fill",this.data.sc),this.svgElement.setAttribute("width",this.data.sw),this.svgElement.setAttribute("height",this.data.sh)):(t=createTag("div"),t.style.width=this.data.sw+"px",t.style.height=this.data.sh+"px",t.style.backgroundColor=this.data.sc),this.layerElement.appendChild(t)};function HShapeElement(t,e,n){this.shapes=[],this.shapesData=t.shapes,this.stylesList=[],this.shapeModifiers=[],this.itemsData=[],this.processedElements=[],this.animatedContents=[],this.shapesContainer=createNS("g"),this.initElement(t,e,n),this.prevViewData=[],this.currentBBox={x:999999,y:-999999,h:0,w:0}}extendPrototype([BaseElement,TransformElement,HSolidElement,SVGShapeElement,HBaseElement,HierarchyElement,FrameElement,RenderableElement],HShapeElement),HShapeElement.prototype._renderShapeFrame=HShapeElement.prototype.renderInnerContent,HShapeElement.prototype.createContent=function(){var t;if(this.baseElement.style.fontSize=0,this.data.hasMask)this.layerElement.appendChild(this.shapesContainer),t=this.svgElement;else{t=createNS("svg");var e=this.comp.data?this.comp.data:this.globalData.compSize;t.setAttribute("width",e.w),t.setAttribute("height",e.h),t.appendChild(this.shapesContainer),this.layerElement.appendChild(t)}this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.shapesContainer,0,[],!0),this.filterUniqueShapes(),this.shapeCont=t},HShapeElement.prototype.getTransformedPoint=function(t,e){var n,r=t.length;for(n=0;n<r;n+=1)e=t[n].mProps.v.applyToPointArray(e[0],e[1],0);return e},HShapeElement.prototype.calculateShapeBoundingBox=function(t,e){var n=t.sh.v,r=t.transformers,i,o=n._length,s,a,l,c;if(!(o<=1)){for(i=0;i<o-1;i+=1)s=this.getTransformedPoint(r,n.v[i]),a=this.getTransformedPoint(r,n.o[i]),l=this.getTransformedPoint(r,n.i[i+1]),c=this.getTransformedPoint(r,n.v[i+1]),this.checkBounds(s,a,l,c,e);n.c&&(s=this.getTransformedPoint(r,n.v[i]),a=this.getTransformedPoint(r,n.o[i]),l=this.getTransformedPoint(r,n.i[0]),c=this.getTransformedPoint(r,n.v[0]),this.checkBounds(s,a,l,c,e))}},HShapeElement.prototype.checkBounds=function(t,e,n,r,i){this.getBoundsOfCurve(t,e,n,r);var o=this.shapeBoundingBox;i.x=bmMin(o.left,i.x),i.xMax=bmMax(o.right,i.xMax),i.y=bmMin(o.top,i.y),i.yMax=bmMax(o.bottom,i.yMax)},HShapeElement.prototype.shapeBoundingBox={left:0,right:0,top:0,bottom:0},HShapeElement.prototype.tempBoundingBox={x:0,xMax:0,y:0,yMax:0,width:0,height:0},HShapeElement.prototype.getBoundsOfCurve=function(t,e,n,r){for(var i=[[t[0],r[0]],[t[1],r[1]]],o,s,a,l,c,u,f,d=0;d<2;++d)s=6*t[d]-12*e[d]+6*n[d],o=-3*t[d]+9*e[d]-9*n[d]+3*r[d],a=3*e[d]-3*t[d],s|=0,o|=0,a|=0,o===0&&s===0||(o===0?(l=-a/s,l>0&&l<1&&i[d].push(this.calculateF(l,t,e,n,r,d))):(c=s*s-4*a*o,c>=0&&(u=(-s+bmSqrt(c))/(2*o),u>0&&u<1&&i[d].push(this.calculateF(u,t,e,n,r,d)),f=(-s-bmSqrt(c))/(2*o),f>0&&f<1&&i[d].push(this.calculateF(f,t,e,n,r,d)))));this.shapeBoundingBox.left=bmMin.apply(null,i[0]),this.shapeBoundingBox.top=bmMin.apply(null,i[1]),this.shapeBoundingBox.right=bmMax.apply(null,i[0]),this.shapeBoundingBox.bottom=bmMax.apply(null,i[1])},HShapeElement.prototype.calculateF=function(t,e,n,r,i,o){return bmPow(1-t,3)*e[o]+3*bmPow(1-t,2)*t*n[o]+3*(1-t)*bmPow(t,2)*r[o]+bmPow(t,3)*i[o]},HShapeElement.prototype.calculateBoundingBox=function(t,e){var n,r=t.length;for(n=0;n<r;n+=1)t[n]&&t[n].sh?this.calculateShapeBoundingBox(t[n],e):t[n]&&t[n].it?this.calculateBoundingBox(t[n].it,e):t[n]&&t[n].style&&t[n].w&&this.expandStrokeBoundingBox(t[n].w,e)},HShapeElement.prototype.expandStrokeBoundingBox=function(t,e){var n=0;if(t.keyframes){for(var r=0;r<t.keyframes.length;r+=1){var i=t.keyframes[r].s;i>n&&(n=i)}n*=t.mult}else n=t.v*t.mult;e.x-=n,e.xMax+=n,e.y-=n,e.yMax+=n},HShapeElement.prototype.currentBoxContains=function(t){return this.currentBBox.x<=t.x&&this.currentBBox.y<=t.y&&this.currentBBox.width+this.currentBBox.x>=t.x+t.width&&this.currentBBox.height+this.currentBBox.y>=t.y+t.height},HShapeElement.prototype.renderInnerContent=function(){if(this._renderShapeFrame(),!this.hidden&&(this._isFirstFrame||this._mdf)){var t=this.tempBoundingBox,e=999999;if(t.x=e,t.xMax=-e,t.y=e,t.yMax=-e,this.calculateBoundingBox(this.itemsData,t),t.width=t.xMax<t.x?0:t.xMax-t.x,t.height=t.yMax<t.y?0:t.yMax-t.y,this.currentBoxContains(t))return;var n=!1;if(this.currentBBox.w!==t.width&&(this.currentBBox.w=t.width,this.shapeCont.setAttribute("width",t.width),n=!0),this.currentBBox.h!==t.height&&(this.currentBBox.h=t.height,this.shapeCont.setAttribute("height",t.height),n=!0),n||this.currentBBox.x!==t.x||this.currentBBox.y!==t.y){this.currentBBox.w=t.width,this.currentBBox.h=t.height,this.currentBBox.x=t.x,this.currentBBox.y=t.y,this.shapeCont.setAttribute("viewBox",this.currentBBox.x+" "+this.currentBBox.y+" "+this.currentBBox.w+" "+this.currentBBox.h);var r=this.shapeCont.style,i="translate("+this.currentBBox.x+"px,"+this.currentBBox.y+"px)";r.transform=i,r.webkitTransform=i}}};function HTextElement(t,e,n){this.textSpans=[],this.textPaths=[],this.currentBBox={x:999999,y:-999999,h:0,w:0},this.renderType="svg",this.isMasked=!1,this.initElement(t,e,n)}extendPrototype([BaseElement,TransformElement,HBaseElement,HierarchyElement,FrameElement,RenderableDOMElement,ITextElement],HTextElement),HTextElement.prototype.createContent=function(){if(this.isMasked=this.checkMasks(),this.isMasked){this.renderType="svg",this.compW=this.comp.data.w,this.compH=this.comp.data.h,this.svgElement.setAttribute("width",this.compW),this.svgElement.setAttribute("height",this.compH);var t=createNS("g");this.maskedElement.appendChild(t),this.innerElem=t}else this.renderType="html",this.innerElem=this.layerElement;this.checkParenting()},HTextElement.prototype.buildNewText=function(){var t=this.textProperty.currentData;this.renderedLetters=createSizedArray(t.l?t.l.length:0);var e=this.innerElem.style,n=t.fc?this.buildColor(t.fc):"rgba(0,0,0,0)";e.fill=n,e.color=n,t.sc&&(e.stroke=this.buildColor(t.sc),e.strokeWidth=t.sw+"px");var r=this.globalData.fontManager.getFontByName(t.f);if(!this.globalData.fontManager.chars)if(e.fontSize=t.finalSize+"px",e.lineHeight=t.finalSize+"px",r.fClass)this.innerElem.className=r.fClass;else{e.fontFamily=r.fFamily;var i=t.fWeight,o=t.fStyle;e.fontStyle=o,e.fontWeight=i}var s,a,l=t.l;a=l.length;var c,u,f,d=this.mHelper,h,m="",v=0;for(s=0;s<a;s+=1){if(this.globalData.fontManager.chars?(this.textPaths[v]?c=this.textPaths[v]:(c=createNS("path"),c.setAttribute("stroke-linecap",lineCapEnum[1]),c.setAttribute("stroke-linejoin",lineJoinEnum[2]),c.setAttribute("stroke-miterlimit","4")),this.isMasked||(this.textSpans[v]?(u=this.textSpans[v],f=u.children[0]):(u=createTag("div"),u.style.lineHeight=0,f=createNS("svg"),f.appendChild(c),styleDiv(u)))):this.isMasked?c=this.textPaths[v]?this.textPaths[v]:createNS("text"):this.textSpans[v]?(u=this.textSpans[v],c=this.textPaths[v]):(u=createTag("span"),styleDiv(u),c=createTag("span"),styleDiv(c),u.appendChild(c)),this.globalData.fontManager.chars){var P=this.globalData.fontManager.getCharData(t.finalText[s],r.fStyle,this.globalData.fontManager.getFontByName(t.f).fFamily),b;if(P?b=P.data:b=null,d.reset(),b&&b.shapes&&b.shapes.length&&(h=b.shapes[0].it,d.scale(t.finalSize/100,t.finalSize/100),m=this.createPathShape(d,h),c.setAttribute("d",m)),this.isMasked)this.innerElem.appendChild(c);else{if(this.innerElem.appendChild(u),b&&b.shapes){document.body.appendChild(f);var x=f.getBBox();f.setAttribute("width",x.width+2),f.setAttribute("height",x.height+2),f.setAttribute("viewBox",x.x-1+" "+(x.y-1)+" "+(x.width+2)+" "+(x.height+2));var _=f.style,T="translate("+(x.x-1)+"px,"+(x.y-1)+"px)";_.transform=T,_.webkitTransform=T,l[s].yOffset=x.y-1}else f.setAttribute("width",1),f.setAttribute("height",1);u.appendChild(f)}}else if(c.textContent=l[s].val,c.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),this.isMasked)this.innerElem.appendChild(c);else{this.innerElem.appendChild(u);var k=c.style,$="translate3d(0,"+-t.finalSize/1.2+"px,0)";k.transform=$,k.webkitTransform=$}this.isMasked?this.textSpans[v]=c:this.textSpans[v]=u,this.textSpans[v].style.display="block",this.textPaths[v]=c,v+=1}for(;v<this.textSpans.length;)this.textSpans[v].style.display="none",v+=1},HTextElement.prototype.renderInnerContent=function(){this.validateText();var t;if(this.data.singleShape){if(!this._isFirstFrame&&!this.lettersChangedFlag)return;if(this.isMasked&&this.finalTransform._matMdf){this.svgElement.setAttribute("viewBox",-this.finalTransform.mProp.p.v[0]+" "+-this.finalTransform.mProp.p.v[1]+" "+this.compW+" "+this.compH),t=this.svgElement.style;var e="translate("+-this.finalTransform.mProp.p.v[0]+"px,"+-this.finalTransform.mProp.p.v[1]+"px)";t.transform=e,t.webkitTransform=e}}if(this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag),!(!this.lettersChangedFlag&&!this.textAnimator.lettersChangedFlag)){var n,r,i=0,o=this.textAnimator.renderedLetters,s=this.textProperty.currentData.l;r=s.length;var a,l,c;for(n=0;n<r;n+=1)s[n].n?i+=1:(l=this.textSpans[n],c=this.textPaths[n],a=o[i],i+=1,a._mdf.m&&(this.isMasked?l.setAttribute("transform",a.m):(l.style.webkitTransform=a.m,l.style.transform=a.m)),l.style.opacity=a.o,a.sw&&a._mdf.sw&&c.setAttribute("stroke-width",a.sw),a.sc&&a._mdf.sc&&c.setAttribute("stroke",a.sc),a.fc&&a._mdf.fc&&(c.setAttribute("fill",a.fc),c.style.color=a.fc));if(this.innerElem.getBBox&&!this.hidden&&(this._isFirstFrame||this._mdf)){var u=this.innerElem.getBBox();this.currentBBox.w!==u.width&&(this.currentBBox.w=u.width,this.svgElement.setAttribute("width",u.width)),this.currentBBox.h!==u.height&&(this.currentBBox.h=u.height,this.svgElement.setAttribute("height",u.height));var f=1;if(this.currentBBox.w!==u.width+f*2||this.currentBBox.h!==u.height+f*2||this.currentBBox.x!==u.x-f||this.currentBBox.y!==u.y-f){this.currentBBox.w=u.width+f*2,this.currentBBox.h=u.height+f*2,this.currentBBox.x=u.x-f,this.currentBBox.y=u.y-f,this.svgElement.setAttribute("viewBox",this.currentBBox.x+" "+this.currentBBox.y+" "+this.currentBBox.w+" "+this.currentBBox.h),t=this.svgElement.style;var d="translate("+this.currentBBox.x+"px,"+this.currentBBox.y+"px)";t.transform=d,t.webkitTransform=d}}}};function HCameraElement(t,e,n){this.initFrame(),this.initBaseData(t,e,n),this.initHierarchy();var r=PropertyFactory.getProp;if(this.pe=r(this,t.pe,0,0,this),t.ks.p.s?(this.px=r(this,t.ks.p.x,1,0,this),this.py=r(this,t.ks.p.y,1,0,this),this.pz=r(this,t.ks.p.z,1,0,this)):this.p=r(this,t.ks.p,1,0,this),t.ks.a&&(this.a=r(this,t.ks.a,1,0,this)),t.ks.or.k.length&&t.ks.or.k[0].to){var i,o=t.ks.or.k.length;for(i=0;i<o;i+=1)t.ks.or.k[i].to=null,t.ks.or.k[i].ti=null}this.or=r(this,t.ks.or,1,degToRads,this),this.or.sh=!0,this.rx=r(this,t.ks.rx,0,degToRads,this),this.ry=r(this,t.ks.ry,0,degToRads,this),this.rz=r(this,t.ks.rz,0,degToRads,this),this.mat=new Matrix,this._prevMat=new Matrix,this._isFirstFrame=!0,this.finalTransform={mProp:this}}extendPrototype([BaseElement,FrameElement,HierarchyElement],HCameraElement),HCameraElement.prototype.setup=function(){var t,e=this.comp.threeDElements.length,n,r,i;for(t=0;t<e;t+=1)if(n=this.comp.threeDElements[t],n.type==="3d"){r=n.perspectiveElem.style,i=n.container.style;var o=this.pe.v+"px",s="0px 0px 0px",a="matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)";r.perspective=o,r.webkitPerspective=o,i.transformOrigin=s,i.mozTransformOrigin=s,i.webkitTransformOrigin=s,r.transform=a,r.webkitTransform=a}},HCameraElement.prototype.createElements=function(){},HCameraElement.prototype.hide=function(){},HCameraElement.prototype.renderFrame=function(){var t=this._isFirstFrame,e,n;if(this.hierarchy)for(n=this.hierarchy.length,e=0;e<n;e+=1)t=this.hierarchy[e].finalTransform.mProp._mdf||t;if(t||this.pe._mdf||this.p&&this.p._mdf||this.px&&(this.px._mdf||this.py._mdf||this.pz._mdf)||this.rx._mdf||this.ry._mdf||this.rz._mdf||this.or._mdf||this.a&&this.a._mdf){if(this.mat.reset(),this.hierarchy)for(n=this.hierarchy.length-1,e=n;e>=0;e-=1){var r=this.hierarchy[e].finalTransform.mProp;this.mat.translate(-r.p.v[0],-r.p.v[1],r.p.v[2]),this.mat.rotateX(-r.or.v[0]).rotateY(-r.or.v[1]).rotateZ(r.or.v[2]),this.mat.rotateX(-r.rx.v).rotateY(-r.ry.v).rotateZ(r.rz.v),this.mat.scale(1/r.s.v[0],1/r.s.v[1],1/r.s.v[2]),this.mat.translate(r.a.v[0],r.a.v[1],r.a.v[2])}if(this.p?this.mat.translate(-this.p.v[0],-this.p.v[1],this.p.v[2]):this.mat.translate(-this.px.v,-this.py.v,this.pz.v),this.a){var i;this.p?i=[this.p.v[0]-this.a.v[0],this.p.v[1]-this.a.v[1],this.p.v[2]-this.a.v[2]]:i=[this.px.v-this.a.v[0],this.py.v-this.a.v[1],this.pz.v-this.a.v[2]];var o=Math.sqrt(Math.pow(i[0],2)+Math.pow(i[1],2)+Math.pow(i[2],2)),s=[i[0]/o,i[1]/o,i[2]/o],a=Math.sqrt(s[2]*s[2]+s[0]*s[0]),l=Math.atan2(s[1],a),c=Math.atan2(s[0],-s[2]);this.mat.rotateY(c).rotateX(-l)}this.mat.rotateX(-this.rx.v).rotateY(-this.ry.v).rotateZ(this.rz.v),this.mat.rotateX(-this.or.v[0]).rotateY(-this.or.v[1]).rotateZ(this.or.v[2]),this.mat.translate(this.globalData.compSize.w/2,this.globalData.compSize.h/2,0),this.mat.translate(0,0,this.pe.v);var u=!this._prevMat.equals(this.mat);if((u||this.pe._mdf)&&this.comp.threeDElements){n=this.comp.threeDElements.length;var f,d,h;for(e=0;e<n;e+=1)if(f=this.comp.threeDElements[e],f.type==="3d"){if(u){var m=this.mat.toCSS();h=f.container.style,h.transform=m,h.webkitTransform=m}this.pe._mdf&&(d=f.perspectiveElem.style,d.perspective=this.pe.v+"px",d.webkitPerspective=this.pe.v+"px")}this.mat.clone(this._prevMat)}}this._isFirstFrame=!1},HCameraElement.prototype.prepareFrame=function(t){this.prepareProperties(t,!0)},HCameraElement.prototype.destroy=function(){},HCameraElement.prototype.getBaseElement=function(){return null};function HImageElement(t,e,n){this.assetData=e.getAssetData(t.refId),this.initElement(t,e,n)}extendPrototype([BaseElement,TransformElement,HBaseElement,HSolidElement,HierarchyElement,FrameElement,RenderableElement],HImageElement),HImageElement.prototype.createContent=function(){var t=this.globalData.getAssetsPath(this.assetData),e=new Image;this.data.hasMask?(this.imageElem=createNS("image"),this.imageElem.setAttribute("width",this.assetData.w+"px"),this.imageElem.setAttribute("height",this.assetData.h+"px"),this.imageElem.setAttributeNS("http://www.w3.org/1999/xlink","href",t),this.layerElement.appendChild(this.imageElem),this.baseElement.setAttribute("width",this.assetData.w),this.baseElement.setAttribute("height",this.assetData.h)):this.layerElement.appendChild(e),e.crossOrigin="anonymous",e.src=t,this.data.ln&&this.baseElement.setAttribute("id",this.data.ln)};function HybridRendererBase(t,e){this.animationItem=t,this.layers=null,this.renderedFrame=-1,this.renderConfig={className:e&&e.className||"",imagePreserveAspectRatio:e&&e.imagePreserveAspectRatio||"xMidYMid slice",hideOnTransparent:!(e&&e.hideOnTransparent===!1),filterSize:{width:e&&e.filterSize&&e.filterSize.width||"400%",height:e&&e.filterSize&&e.filterSize.height||"400%",x:e&&e.filterSize&&e.filterSize.x||"-100%",y:e&&e.filterSize&&e.filterSize.y||"-100%"}},this.globalData={_mdf:!1,frameNum:-1,renderConfig:this.renderConfig},this.pendingElements=[],this.elements=[],this.threeDElements=[],this.destroyed=!1,this.camera=null,this.supports3d=!0,this.rendererType="html"}extendPrototype([BaseRenderer],HybridRendererBase),HybridRendererBase.prototype.buildItem=SVGRenderer.prototype.buildItem,HybridRendererBase.prototype.checkPendingElements=function(){for(;this.pendingElements.length;){var t=this.pendingElements.pop();t.checkParenting()}},HybridRendererBase.prototype.appendElementInPos=function(t,e){var n=t.getBaseElement();if(n){var r=this.layers[e];if(!r.ddd||!this.supports3d)if(this.threeDElements)this.addTo3dContainer(n,e);else{for(var i=0,o,s,a;i<e;)this.elements[i]&&this.elements[i]!==!0&&this.elements[i].getBaseElement&&(s=this.elements[i],a=this.layers[i].ddd?this.getThreeDContainerByPos(i):s.getBaseElement(),o=a||o),i+=1;o?(!r.ddd||!this.supports3d)&&this.layerElement.insertBefore(n,o):(!r.ddd||!this.supports3d)&&this.layerElement.appendChild(n)}else this.addTo3dContainer(n,e)}},HybridRendererBase.prototype.createShape=function(t){return this.supports3d?new HShapeElement(t,this.globalData,this):new SVGShapeElement(t,this.globalData,this)},HybridRendererBase.prototype.createText=function(t){return this.supports3d?new HTextElement(t,this.globalData,this):new SVGTextLottieElement(t,this.globalData,this)},HybridRendererBase.prototype.createCamera=function(t){return this.camera=new HCameraElement(t,this.globalData,this),this.camera},HybridRendererBase.prototype.createImage=function(t){return this.supports3d?new HImageElement(t,this.globalData,this):new IImageElement(t,this.globalData,this)},HybridRendererBase.prototype.createSolid=function(t){return this.supports3d?new HSolidElement(t,this.globalData,this):new ISolidElement(t,this.globalData,this)},HybridRendererBase.prototype.createNull=SVGRenderer.prototype.createNull,HybridRendererBase.prototype.getThreeDContainerByPos=function(t){for(var e=0,n=this.threeDElements.length;e<n;){if(this.threeDElements[e].startPos<=t&&this.threeDElements[e].endPos>=t)return this.threeDElements[e].perspectiveElem;e+=1}return null},HybridRendererBase.prototype.createThreeDContainer=function(t,e){var n=createTag("div"),r,i;styleDiv(n);var o=createTag("div");if(styleDiv(o),e==="3d"){r=n.style,r.width=this.globalData.compSize.w+"px",r.height=this.globalData.compSize.h+"px";var s="50% 50%";r.webkitTransformOrigin=s,r.mozTransformOrigin=s,r.transformOrigin=s,i=o.style;var a="matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)";i.transform=a,i.webkitTransform=a}n.appendChild(o);var l={container:o,perspectiveElem:n,startPos:t,endPos:t,type:e};return this.threeDElements.push(l),l},HybridRendererBase.prototype.build3dContainers=function(){var t,e=this.layers.length,n,r="";for(t=0;t<e;t+=1)this.layers[t].ddd&&this.layers[t].ty!==3?(r!=="3d"&&(r="3d",n=this.createThreeDContainer(t,"3d")),n.endPos=Math.max(n.endPos,t)):(r!=="2d"&&(r="2d",n=this.createThreeDContainer(t,"2d")),n.endPos=Math.max(n.endPos,t));for(e=this.threeDElements.length,t=e-1;t>=0;t-=1)this.resizerElem.appendChild(this.threeDElements[t].perspectiveElem)},HybridRendererBase.prototype.addTo3dContainer=function(t,e){for(var n=0,r=this.threeDElements.length;n<r;){if(e<=this.threeDElements[n].endPos){for(var i=this.threeDElements[n].startPos,o;i<e;)this.elements[i]&&this.elements[i].getBaseElement&&(o=this.elements[i].getBaseElement()),i+=1;o?this.threeDElements[n].container.insertBefore(t,o):this.threeDElements[n].container.appendChild(t);break}n+=1}},HybridRendererBase.prototype.configAnimation=function(t){var e=createTag("div"),n=this.animationItem.wrapper,r=e.style;r.width=t.w+"px",r.height=t.h+"px",this.resizerElem=e,styleDiv(e),r.transformStyle="flat",r.mozTransformStyle="flat",r.webkitTransformStyle="flat",this.renderConfig.className&&e.setAttribute("class",this.renderConfig.className),n.appendChild(e),r.overflow="hidden";var i=createNS("svg");i.setAttribute("width","1"),i.setAttribute("height","1"),styleDiv(i),this.resizerElem.appendChild(i);var o=createNS("defs");i.appendChild(o),this.data=t,this.setupGlobalData(t,i),this.globalData.defs=o,this.layers=t.layers,this.layerElement=this.resizerElem,this.build3dContainers(),this.updateContainerSize()},HybridRendererBase.prototype.destroy=function(){this.animationItem.wrapper&&(this.animationItem.wrapper.innerText=""),this.animationItem.container=null,this.globalData.defs=null;var t,e=this.layers?this.layers.length:0;for(t=0;t<e;t+=1)this.elements[t]&&this.elements[t].destroy&&this.elements[t].destroy();this.elements.length=0,this.destroyed=!0,this.animationItem=null},HybridRendererBase.prototype.updateContainerSize=function(){var t=this.animationItem.wrapper.offsetWidth,e=this.animationItem.wrapper.offsetHeight,n=t/e,r=this.globalData.compSize.w/this.globalData.compSize.h,i,o,s,a;r>n?(i=t/this.globalData.compSize.w,o=t/this.globalData.compSize.w,s=0,a=(e-this.globalData.compSize.h*(t/this.globalData.compSize.w))/2):(i=e/this.globalData.compSize.h,o=e/this.globalData.compSize.h,s=(t-this.globalData.compSize.w*(e/this.globalData.compSize.h))/2,a=0);var l=this.resizerElem.style;l.webkitTransform="matrix3d("+i+",0,0,0,0,"+o+",0,0,0,0,1,0,"+s+","+a+",0,1)",l.transform=l.webkitTransform},HybridRendererBase.prototype.renderFrame=SVGRenderer.prototype.renderFrame,HybridRendererBase.prototype.hide=function(){this.resizerElem.style.display="none"},HybridRendererBase.prototype.show=function(){this.resizerElem.style.display="block"},HybridRendererBase.prototype.initItems=function(){if(this.buildAllItems(),this.camera)this.camera.setup();else{var t=this.globalData.compSize.w,e=this.globalData.compSize.h,n,r=this.threeDElements.length;for(n=0;n<r;n+=1){var i=this.threeDElements[n].perspectiveElem.style;i.webkitPerspective=Math.sqrt(Math.pow(t,2)+Math.pow(e,2))+"px",i.perspective=i.webkitPerspective}}},HybridRendererBase.prototype.searchExtraCompositions=function(t){var e,n=t.length,r=createTag("div");for(e=0;e<n;e+=1)if(t[e].xt){var i=this.createComp(t[e],r,this.globalData.comp,null);i.initExpressions(),this.globalData.projectInterface.registerComposition(i)}};function HCompElement(t,e,n){this.layers=t.layers,this.supports3d=!t.hasMask,this.completeLayers=!1,this.pendingElements=[],this.elements=this.layers?createSizedArray(this.layers.length):[],this.initElement(t,e,n),this.tm=t.tm?PropertyFactory.getProp(this,t.tm,0,e.frameRate,this):{_placeholder:!0}}extendPrototype([HybridRendererBase,ICompElement,HBaseElement],HCompElement),HCompElement.prototype._createBaseContainerElements=HCompElement.prototype.createContainerElements,HCompElement.prototype.createContainerElements=function(){this._createBaseContainerElements(),this.data.hasMask?(this.svgElement.setAttribute("width",this.data.w),this.svgElement.setAttribute("height",this.data.h),this.transformedElement=this.baseElement):this.transformedElement=this.layerElement},HCompElement.prototype.addTo3dContainer=function(t,e){for(var n=0,r;n<e;)this.elements[n]&&this.elements[n].getBaseElement&&(r=this.elements[n].getBaseElement()),n+=1;r?this.layerElement.insertBefore(t,r):this.layerElement.appendChild(t)},HCompElement.prototype.createComp=function(t){return this.supports3d?new HCompElement(t,this.globalData,this):new SVGCompElement(t,this.globalData,this)};function HybridRenderer(t,e){this.animationItem=t,this.layers=null,this.renderedFrame=-1,this.renderConfig={className:e&&e.className||"",imagePreserveAspectRatio:e&&e.imagePreserveAspectRatio||"xMidYMid slice",hideOnTransparent:!(e&&e.hideOnTransparent===!1),filterSize:{width:e&&e.filterSize&&e.filterSize.width||"400%",height:e&&e.filterSize&&e.filterSize.height||"400%",x:e&&e.filterSize&&e.filterSize.x||"-100%",y:e&&e.filterSize&&e.filterSize.y||"-100%"},runExpressions:!e||e.runExpressions===void 0||e.runExpressions},this.globalData={_mdf:!1,frameNum:-1,renderConfig:this.renderConfig},this.pendingElements=[],this.elements=[],this.threeDElements=[],this.destroyed=!1,this.camera=null,this.supports3d=!0,this.rendererType="html"}extendPrototype([HybridRendererBase],HybridRenderer),HybridRenderer.prototype.createComp=function(t){return this.supports3d?new HCompElement(t,this.globalData,this):new SVGCompElement(t,this.globalData,this)};var CompExpressionInterface=function(){return function(t){function e(n){for(var r=0,i=t.layers.length;r<i;){if(t.layers[r].nm===n||t.layers[r].ind===n)return t.elements[r].layerInterface;r+=1}return null}return Object.defineProperty(e,"_name",{value:t.data.nm}),e.layer=e,e.pixelAspect=1,e.height=t.data.h||t.globalData.compSize.h,e.width=t.data.w||t.globalData.compSize.w,e.pixelAspect=1,e.frameDuration=1/t.globalData.frameRate,e.displayStartTime=0,e.numLayers=t.layers.length,e}}();function _typeof$2(t){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$2=function(n){return typeof n}:_typeof$2=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},_typeof$2(t)}function seedRandom(t,e){var n=this,r=256,i=6,o=52,s="random",a=e.pow(r,i),l=e.pow(2,o),c=l*2,u=r-1,f;function d(_,T,k){var $=[];T=T===!0?{entropy:!0}:T||{};var V=P(v(T.entropy?[_,x(t)]:_===null?b():_,3),$),B=new h($),z=function(){for(var J=B.g(i),H=a,ce=0;J<l;)J=(J+ce)*r,H*=r,ce=B.g(1);for(;J>=c;)J/=2,H/=2,ce>>>=1;return(J+ce)/H};return z.int32=function(){return B.g(4)|0},z.quick=function(){return B.g(4)/4294967296},z.double=z,P(x(B.S),t),(T.pass||k||function(ie,J,H,ce){return ce&&(ce.S&&m(ce,B),ie.state=function(){return m(B,{})}),H?(e[s]=ie,J):ie})(z,V,"global"in T?T.global:this==e,T.state)}e["seed"+s]=d;function h(_){var T,k=_.length,$=this,V=0,B=$.i=$.j=0,z=$.S=[];for(k||(_=[k++]);V<r;)z[V]=V++;for(V=0;V<r;V++)z[V]=z[B=u&B+_[V%k]+(T=z[V])],z[B]=T;$.g=function(ie){for(var J,H=0,ce=$.i,ae=$.j,ee=$.S;ie--;)J=ee[ce=u&ce+1],H=H*r+ee[u&(ee[ce]=ee[ae=u&ae+J])+(ee[ae]=J)];return $.i=ce,$.j=ae,H}}function m(_,T){return T.i=_.i,T.j=_.j,T.S=_.S.slice(),T}function v(_,T){var k=[],$=_typeof$2(_),V;if(T&&$=="object")for(V in _)try{k.push(v(_[V],T-1))}catch{}return k.length?k:$=="string"?_:_+"\0"}function P(_,T){for(var k=_+"",$,V=0;V<k.length;)T[u&V]=u&($^=T[u&V]*19)+k.charCodeAt(V++);return x(T)}function b(){try{if(f)return x(f.randomBytes(r));var _=new Uint8Array(r);return(n.crypto||n.msCrypto).getRandomValues(_),x(_)}catch{var T=n.navigator,k=T&&T.plugins;return[+new Date,n,k,n.screen,x(t)]}}function x(_){return String.fromCharCode.apply(0,_)}P(e.random(),t)}function initialize$2(t){seedRandom([],t)}var propTypes={SHAPE:"shape"};function _typeof$1(t){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$1=function(n){return typeof n}:_typeof$1=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},_typeof$1(t)}var ExpressionManager=function(){"use strict";var ob={},Math=BMMath,window=null,document=null,XMLHttpRequest=null,fetch=null,frames=null,_lottieGlobal={};initialize$2(BMMath);function resetFrame(){_lottieGlobal={}}function $bm_isInstanceOfArray(t){return t.constructor===Array||t.constructor===Float32Array}function isNumerable(t,e){return t==="number"||e instanceof Number||t==="boolean"||t==="string"}function $bm_neg(t){var e=_typeof$1(t);if(e==="number"||t instanceof Number||e==="boolean")return-t;if($bm_isInstanceOfArray(t)){var n,r=t.length,i=[];for(n=0;n<r;n+=1)i[n]=-t[n];return i}return t.propType?t.v:-t}var easeInBez=BezierFactory.getBezierEasing(.333,0,.833,.833,"easeIn").get,easeOutBez=BezierFactory.getBezierEasing(.167,.167,.667,1,"easeOut").get,easeInOutBez=BezierFactory.getBezierEasing(.33,0,.667,1,"easeInOut").get;function sum(t,e){var n=_typeof$1(t),r=_typeof$1(e);if(isNumerable(n,t)&&isNumerable(r,e)||n==="string"||r==="string")return t+e;if($bm_isInstanceOfArray(t)&&isNumerable(r,e))return t=t.slice(0),t[0]+=e,t;if(isNumerable(n,t)&&$bm_isInstanceOfArray(e))return e=e.slice(0),e[0]=t+e[0],e;if($bm_isInstanceOfArray(t)&&$bm_isInstanceOfArray(e)){for(var i=0,o=t.length,s=e.length,a=[];i<o||i<s;)(typeof t[i]=="number"||t[i]instanceof Number)&&(typeof e[i]=="number"||e[i]instanceof Number)?a[i]=t[i]+e[i]:a[i]=e[i]===void 0?t[i]:t[i]||e[i],i+=1;return a}return 0}var add=sum;function sub(t,e){var n=_typeof$1(t),r=_typeof$1(e);if(isNumerable(n,t)&&isNumerable(r,e))return n==="string"&&(t=parseInt(t,10)),r==="string"&&(e=parseInt(e,10)),t-e;if($bm_isInstanceOfArray(t)&&isNumerable(r,e))return t=t.slice(0),t[0]-=e,t;if(isNumerable(n,t)&&$bm_isInstanceOfArray(e))return e=e.slice(0),e[0]=t-e[0],e;if($bm_isInstanceOfArray(t)&&$bm_isInstanceOfArray(e)){for(var i=0,o=t.length,s=e.length,a=[];i<o||i<s;)(typeof t[i]=="number"||t[i]instanceof Number)&&(typeof e[i]=="number"||e[i]instanceof Number)?a[i]=t[i]-e[i]:a[i]=e[i]===void 0?t[i]:t[i]||e[i],i+=1;return a}return 0}function mul(t,e){var n=_typeof$1(t),r=_typeof$1(e),i;if(isNumerable(n,t)&&isNumerable(r,e))return t*e;var o,s;if($bm_isInstanceOfArray(t)&&isNumerable(r,e)){for(s=t.length,i=createTypedArray("float32",s),o=0;o<s;o+=1)i[o]=t[o]*e;return i}if(isNumerable(n,t)&&$bm_isInstanceOfArray(e)){for(s=e.length,i=createTypedArray("float32",s),o=0;o<s;o+=1)i[o]=t*e[o];return i}return 0}function div(t,e){var n=_typeof$1(t),r=_typeof$1(e),i;if(isNumerable(n,t)&&isNumerable(r,e))return t/e;var o,s;if($bm_isInstanceOfArray(t)&&isNumerable(r,e)){for(s=t.length,i=createTypedArray("float32",s),o=0;o<s;o+=1)i[o]=t[o]/e;return i}if(isNumerable(n,t)&&$bm_isInstanceOfArray(e)){for(s=e.length,i=createTypedArray("float32",s),o=0;o<s;o+=1)i[o]=t/e[o];return i}return 0}function mod(t,e){return typeof t=="string"&&(t=parseInt(t,10)),typeof e=="string"&&(e=parseInt(e,10)),t%e}var $bm_sum=sum,$bm_sub=sub,$bm_mul=mul,$bm_div=div,$bm_mod=mod;function clamp(t,e,n){if(e>n){var r=n;n=e,e=r}return Math.min(Math.max(t,e),n)}function radiansToDegrees(t){return t/degToRads}var radians_to_degrees=radiansToDegrees;function degreesToRadians(t){return t*degToRads}var degrees_to_radians=radiansToDegrees,helperLengthArray=[0,0,0,0,0,0];function length(t,e){if(typeof t=="number"||t instanceof Number)return e=e||0,Math.abs(t-e);e||(e=helperLengthArray);var n,r=Math.min(t.length,e.length),i=0;for(n=0;n<r;n+=1)i+=Math.pow(e[n]-t[n],2);return Math.sqrt(i)}function normalize(t){return div(t,length(t))}function rgbToHsl(t){var e=t[0],n=t[1],r=t[2],i=Math.max(e,n,r),o=Math.min(e,n,r),s,a,l=(i+o)/2;if(i===o)s=0,a=0;else{var c=i-o;switch(a=l>.5?c/(2-i-o):c/(i+o),i){case e:s=(n-r)/c+(n<r?6:0);break;case n:s=(r-e)/c+2;break;case r:s=(e-n)/c+4;break;default:break}s/=6}return[s,a,l,t[3]]}function hue2rgb(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function hslToRgb(t){var e=t[0],n=t[1],r=t[2],i,o,s;if(n===0)i=r,s=r,o=r;else{var a=r<.5?r*(1+n):r+n-r*n,l=2*r-a;i=hue2rgb(l,a,e+1/3),o=hue2rgb(l,a,e),s=hue2rgb(l,a,e-1/3)}return[i,o,s,t[3]]}function linear(t,e,n,r,i){if((r===void 0||i===void 0)&&(r=e,i=n,e=0,n=1),n<e){var o=n;n=e,e=o}if(t<=e)return r;if(t>=n)return i;var s=n===e?0:(t-e)/(n-e);if(!r.length)return r+(i-r)*s;var a,l=r.length,c=createTypedArray("float32",l);for(a=0;a<l;a+=1)c[a]=r[a]+(i[a]-r[a])*s;return c}function random(t,e){if(e===void 0&&(t===void 0?(t=0,e=1):(e=t,t=void 0)),e.length){var n,r=e.length;t||(t=createTypedArray("float32",r));var i=createTypedArray("float32",r),o=BMMath.random();for(n=0;n<r;n+=1)i[n]=t[n]+o*(e[n]-t[n]);return i}t===void 0&&(t=0);var s=BMMath.random();return t+s*(e-t)}function createPath(t,e,n,r){var i,o=t.length,s=shapePool.newElement();s.setPathData(!!r,o);var a=[0,0],l,c;for(i=0;i<o;i+=1)l=e&&e[i]?e[i]:a,c=n&&n[i]?n[i]:a,s.setTripleAt(t[i][0],t[i][1],c[0]+t[i][0],c[1]+t[i][1],l[0]+t[i][0],l[1]+t[i][1],i,!0);return s}function initiateExpression(elem,data,property){function noOp(t){return t}if(!elem.globalData.renderConfig.runExpressions)return noOp;var val=data.x,needsVelocity=/velocity(?![\w\d])/.test(val),_needsRandom=val.indexOf("random")!==-1,elemType=elem.data.ty,transform,$bm_transform,content,effect,thisProperty=property;thisProperty.valueAtTime=thisProperty.getValueAtTime,Object.defineProperty(thisProperty,"value",{get:function(){return thisProperty.v}}),elem.comp.frameDuration=1/elem.comp.globalData.frameRate,elem.comp.displayStartTime=0;var inPoint=elem.data.ip/elem.comp.globalData.frameRate,outPoint=elem.data.op/elem.comp.globalData.frameRate,width=elem.data.sw?elem.data.sw:0,height=elem.data.sh?elem.data.sh:0,name=elem.data.nm,loopIn,loop_in,loopOut,loop_out,smooth,toWorld,fromWorld,fromComp,toComp,fromCompToSurface,position,rotation,anchorPoint,scale,thisLayer,thisComp,mask,valueAtTime,velocityAtTime,scoped_bm_rt,expression_function=eval("[function _expression_function(){"+val+";scoped_bm_rt=$bm_rt}]")[0],numKeys=property.kf?data.k.length:0,active=!this.data||this.data.hd!==!0,wiggle=function t(e,n){var r,i,o=this.pv.length?this.pv.length:1,s=createTypedArray("float32",o);e=5;var a=Math.floor(time*e);for(r=0,i=0;r<a;){for(i=0;i<o;i+=1)s[i]+=-n+n*2*BMMath.random();r+=1}var l=time*e,c=l-Math.floor(l),u=createTypedArray("float32",o);if(o>1){for(i=0;i<o;i+=1)u[i]=this.pv[i]+s[i]+(-n+n*2*BMMath.random())*c;return u}return this.pv+s[0]+(-n+n*2*BMMath.random())*c}.bind(this);thisProperty.loopIn&&(loopIn=thisProperty.loopIn.bind(thisProperty),loop_in=loopIn),thisProperty.loopOut&&(loopOut=thisProperty.loopOut.bind(thisProperty),loop_out=loopOut),thisProperty.smooth&&(smooth=thisProperty.smooth.bind(thisProperty));function loopInDuration(t,e){return loopIn(t,e,!0)}function loopOutDuration(t,e){return loopOut(t,e,!0)}this.getValueAtTime&&(valueAtTime=this.getValueAtTime.bind(this)),this.getVelocityAtTime&&(velocityAtTime=this.getVelocityAtTime.bind(this));var comp=elem.comp.globalData.projectInterface.bind(elem.comp.globalData.projectInterface);function lookAt(t,e){var n=[e[0]-t[0],e[1]-t[1],e[2]-t[2]],r=Math.atan2(n[0],Math.sqrt(n[1]*n[1]+n[2]*n[2]))/degToRads,i=-Math.atan2(n[1],n[2])/degToRads;return[i,r,0]}function easeOut(t,e,n,r,i){return applyEase(easeOutBez,t,e,n,r,i)}function easeIn(t,e,n,r,i){return applyEase(easeInBez,t,e,n,r,i)}function ease(t,e,n,r,i){return applyEase(easeInOutBez,t,e,n,r,i)}function applyEase(t,e,n,r,i,o){i===void 0?(i=n,o=r):e=(e-n)/(r-n),e>1?e=1:e<0&&(e=0);var s=t(e);if($bm_isInstanceOfArray(i)){var a,l=i.length,c=createTypedArray("float32",l);for(a=0;a<l;a+=1)c[a]=(o[a]-i[a])*s+i[a];return c}return(o-i)*s+i}function nearestKey(t){var e,n=data.k.length,r,i;if(!data.k.length||typeof data.k[0]=="number")r=0,i=0;else if(r=-1,t*=elem.comp.globalData.frameRate,t<data.k[0].t)r=1,i=data.k[0].t;else{for(e=0;e<n-1;e+=1)if(t===data.k[e].t){r=e+1,i=data.k[e].t;break}else if(t>data.k[e].t&&t<data.k[e+1].t){t-data.k[e].t>data.k[e+1].t-t?(r=e+2,i=data.k[e+1].t):(r=e+1,i=data.k[e].t);break}r===-1&&(r=e+1,i=data.k[e].t)}var o={};return o.index=r,o.time=i/elem.comp.globalData.frameRate,o}function key(t){var e,n,r;if(!data.k.length||typeof data.k[0]=="number")throw new Error("The property has no keyframe at index "+t);t-=1,e={time:data.k[t].t/elem.comp.globalData.frameRate,value:[]};var i=Object.prototype.hasOwnProperty.call(data.k[t],"s")?data.k[t].s:data.k[t-1].e;for(r=i.length,n=0;n<r;n+=1)e[n]=i[n],e.value[n]=i[n];return e}function framesToTime(t,e){return e||(e=elem.comp.globalData.frameRate),t/e}function timeToFrames(t,e){return!t&&t!==0&&(t=time),e||(e=elem.comp.globalData.frameRate),t*e}function seedRandom(t){BMMath.seedrandom(randSeed+t)}function sourceRectAtTime(){return elem.sourceRectAtTime()}function substring(t,e){return typeof value=="string"?e===void 0?value.substring(t):value.substring(t,e):""}function substr(t,e){return typeof value=="string"?e===void 0?value.substr(t):value.substr(t,e):""}function posterizeTime(t){time=t===0?0:Math.floor(time*t)/t,value=valueAtTime(time)}var time,velocity,value,text,textIndex,textTotal,selectorValue,index=elem.data.ind,hasParent=!!(elem.hierarchy&&elem.hierarchy.length),parent,randSeed=Math.floor(Math.random()*1e6),globalData=elem.globalData;function executeExpression(t){return value=t,this.frameExpressionId===elem.globalData.frameId&&this.propType!=="textSelector"?value:(this.propType==="textSelector"&&(textIndex=this.textIndex,textTotal=this.textTotal,selectorValue=this.selectorValue),thisLayer||(text=elem.layerInterface.text,thisLayer=elem.layerInterface,thisComp=elem.comp.compInterface,toWorld=thisLayer.toWorld.bind(thisLayer),fromWorld=thisLayer.fromWorld.bind(thisLayer),fromComp=thisLayer.fromComp.bind(thisLayer),toComp=thisLayer.toComp.bind(thisLayer),mask=thisLayer.mask?thisLayer.mask.bind(thisLayer):null,fromCompToSurface=fromComp),transform||(transform=elem.layerInterface("ADBE Transform Group"),$bm_transform=transform,transform&&(anchorPoint=transform.anchorPoint)),elemType===4&&!content&&(content=thisLayer("ADBE Root Vectors Group")),effect||(effect=thisLayer(4)),hasParent=!!(elem.hierarchy&&elem.hierarchy.length),hasParent&&!parent&&(parent=elem.hierarchy[0].layerInterface),time=this.comp.renderedFrame/this.comp.globalData.frameRate,_needsRandom&&seedRandom(randSeed+time),needsVelocity&&(velocity=velocityAtTime(time)),expression_function(),this.frameExpressionId=elem.globalData.frameId,scoped_bm_rt=scoped_bm_rt.propType===propTypes.SHAPE?scoped_bm_rt.v:scoped_bm_rt,scoped_bm_rt)}return executeExpression.__preventDeadCodeRemoval=[$bm_transform,anchorPoint,time,velocity,inPoint,outPoint,width,height,name,loop_in,loop_out,smooth,toComp,fromCompToSurface,toWorld,fromWorld,mask,position,rotation,scale,thisComp,numKeys,active,wiggle,loopInDuration,loopOutDuration,comp,lookAt,easeOut,easeIn,ease,nearestKey,key,text,textIndex,textTotal,selectorValue,framesToTime,timeToFrames,sourceRectAtTime,substring,substr,posterizeTime,index,globalData],executeExpression}return ob.initiateExpression=initiateExpression,ob.__preventDeadCodeRemoval=[window,document,XMLHttpRequest,fetch,frames,$bm_neg,add,$bm_sum,$bm_sub,$bm_mul,$bm_div,$bm_mod,clamp,radians_to_degrees,degreesToRadians,degrees_to_radians,normalize,rgbToHsl,hslToRgb,linear,random,createPath,_lottieGlobal],ob.resetFrame=resetFrame,ob}(),Expressions=function(){var t={};t.initExpressions=e,t.resetFrame=ExpressionManager.resetFrame;function e(n){var r=0,i=[];function o(){r+=1}function s(){r-=1,r===0&&l()}function a(c){i.indexOf(c)===-1&&i.push(c)}function l(){var c,u=i.length;for(c=0;c<u;c+=1)i[c].release();i.length=0}n.renderer.compInterface=CompExpressionInterface(n.renderer),n.renderer.globalData.projectInterface.registerComposition(n.renderer),n.renderer.globalData.pushExpression=o,n.renderer.globalData.popExpression=s,n.renderer.globalData.registerExpressionProperty=a}return t}(),MaskManagerInterface=function(){function t(n,r){this._mask=n,this._data=r}Object.defineProperty(t.prototype,"maskPath",{get:function(){return this._mask.prop.k&&this._mask.prop.getValue(),this._mask.prop}}),Object.defineProperty(t.prototype,"maskOpacity",{get:function(){return this._mask.op.k&&this._mask.op.getValue(),this._mask.op.v*100}});var e=function(r){var i=createSizedArray(r.viewData.length),o,s=r.viewData.length;for(o=0;o<s;o+=1)i[o]=new t(r.viewData[o],r.masksProperties[o]);var a=function(c){for(o=0;o<s;){if(r.masksProperties[o].nm===c)return i[o];o+=1}return null};return a};return e}(),ExpressionPropertyInterface=function(){var t={pv:0,v:0,mult:1},e={pv:[0,0,0],v:[0,0,0],mult:1};function n(s,a,l){Object.defineProperty(s,"velocity",{get:function(){return a.getVelocityAtTime(a.comp.currentFrame)}}),s.numKeys=a.keyframes?a.keyframes.length:0,s.key=function(c){if(!s.numKeys)return 0;var u="";"s"in a.keyframes[c-1]?u=a.keyframes[c-1].s:"e"in a.keyframes[c-2]?u=a.keyframes[c-2].e:u=a.keyframes[c-2].s;var f=l==="unidimensional"?new Number(u):Object.assign({},u);return f.time=a.keyframes[c-1].t/a.elem.comp.globalData.frameRate,f.value=l==="unidimensional"?u[0]:u,f},s.valueAtTime=a.getValueAtTime,s.speedAtTime=a.getSpeedAtTime,s.velocityAtTime=a.getVelocityAtTime,s.propertyGroup=a.propertyGroup}function r(s){(!s||!("pv"in s))&&(s=t);var a=1/s.mult,l=s.pv*a,c=new Number(l);return c.value=l,n(c,s,"unidimensional"),function(){return s.k&&s.getValue(),l=s.v*a,c.value!==l&&(c=new Number(l),c.value=l,n(c,s,"unidimensional")),c}}function i(s){(!s||!("pv"in s))&&(s=e);var a=1/s.mult,l=s.data&&s.data.l||s.pv.length,c=createTypedArray("float32",l),u=createTypedArray("float32",l);return c.value=u,n(c,s,"multidimensional"),function(){s.k&&s.getValue();for(var f=0;f<l;f+=1)u[f]=s.v[f]*a,c[f]=u[f];return c}}function o(){return t}return function(s){return s?s.propType==="unidimensional"?r(s):i(s):o}}(),TransformExpressionInterface=function(){return function(t){function e(s){switch(s){case"scale":case"Scale":case"ADBE Scale":case 6:return e.scale;case"rotation":case"Rotation":case"ADBE Rotation":case"ADBE Rotate Z":case 10:return e.rotation;case"ADBE Rotate X":return e.xRotation;case"ADBE Rotate Y":return e.yRotation;case"position":case"Position":case"ADBE Position":case 2:return e.position;case"ADBE Position_0":return e.xPosition;case"ADBE Position_1":return e.yPosition;case"ADBE Position_2":return e.zPosition;case"anchorPoint":case"AnchorPoint":case"Anchor Point":case"ADBE AnchorPoint":case 1:return e.anchorPoint;case"opacity":case"Opacity":case 11:return e.opacity;default:return null}}Object.defineProperty(e,"rotation",{get:ExpressionPropertyInterface(t.r||t.rz)}),Object.defineProperty(e,"zRotation",{get:ExpressionPropertyInterface(t.rz||t.r)}),Object.defineProperty(e,"xRotation",{get:ExpressionPropertyInterface(t.rx)}),Object.defineProperty(e,"yRotation",{get:ExpressionPropertyInterface(t.ry)}),Object.defineProperty(e,"scale",{get:ExpressionPropertyInterface(t.s)});var n,r,i,o;return t.p?o=ExpressionPropertyInterface(t.p):(n=ExpressionPropertyInterface(t.px),r=ExpressionPropertyInterface(t.py),t.pz&&(i=ExpressionPropertyInterface(t.pz))),Object.defineProperty(e,"position",{get:function(){return t.p?o():[n(),r(),i?i():0]}}),Object.defineProperty(e,"xPosition",{get:ExpressionPropertyInterface(t.px)}),Object.defineProperty(e,"yPosition",{get:ExpressionPropertyInterface(t.py)}),Object.defineProperty(e,"zPosition",{get:ExpressionPropertyInterface(t.pz)}),Object.defineProperty(e,"anchorPoint",{get:ExpressionPropertyInterface(t.a)}),Object.defineProperty(e,"opacity",{get:ExpressionPropertyInterface(t.o)}),Object.defineProperty(e,"skew",{get:ExpressionPropertyInterface(t.sk)}),Object.defineProperty(e,"skewAxis",{get:ExpressionPropertyInterface(t.sa)}),Object.defineProperty(e,"orientation",{get:ExpressionPropertyInterface(t.or)}),e}}(),LayerExpressionInterface=function(){function t(c){var u=new Matrix;if(c!==void 0){var f=this._elem.finalTransform.mProp.getValueAtTime(c);f.clone(u)}else{var d=this._elem.finalTransform.mProp;d.applyToMatrix(u)}return u}function e(c,u){var f=this.getMatrix(u);return f.props[12]=0,f.props[13]=0,f.props[14]=0,this.applyPoint(f,c)}function n(c,u){var f=this.getMatrix(u);return this.applyPoint(f,c)}function r(c,u){var f=this.getMatrix(u);return f.props[12]=0,f.props[13]=0,f.props[14]=0,this.invertPoint(f,c)}function i(c,u){var f=this.getMatrix(u);return this.invertPoint(f,c)}function o(c,u){if(this._elem.hierarchy&&this._elem.hierarchy.length){var f,d=this._elem.hierarchy.length;for(f=0;f<d;f+=1)this._elem.hierarchy[f].finalTransform.mProp.applyToMatrix(c)}return c.applyToPointArray(u[0],u[1],u[2]||0)}function s(c,u){if(this._elem.hierarchy&&this._elem.hierarchy.length){var f,d=this._elem.hierarchy.length;for(f=0;f<d;f+=1)this._elem.hierarchy[f].finalTransform.mProp.applyToMatrix(c)}return c.inversePoint(u)}function a(c){var u=new Matrix;if(u.reset(),this._elem.finalTransform.mProp.applyToMatrix(u),this._elem.hierarchy&&this._elem.hierarchy.length){var f,d=this._elem.hierarchy.length;for(f=0;f<d;f+=1)this._elem.hierarchy[f].finalTransform.mProp.applyToMatrix(u);return u.inversePoint(c)}return u.inversePoint(c)}function l(){return[1,1,1,1]}return function(c){var u;function f(v){h.mask=new MaskManagerInterface(v,c)}function d(v){h.effect=v}function h(v){switch(v){case"ADBE Root Vectors Group":case"Contents":case 2:return h.shapeInterface;case 1:case 6:case"Transform":case"transform":case"ADBE Transform Group":return u;case 4:case"ADBE Effect Parade":case"effects":case"Effects":return h.effect;case"ADBE Text Properties":return h.textInterface;default:return null}}h.getMatrix=t,h.invertPoint=s,h.applyPoint=o,h.toWorld=n,h.toWorldVec=e,h.fromWorld=i,h.fromWorldVec=r,h.toComp=n,h.fromComp=a,h.sampleImage=l,h.sourceRectAtTime=c.sourceRectAtTime.bind(c),h._elem=c,u=TransformExpressionInterface(c.finalTransform.mProp);var m=getDescriptor(u,"anchorPoint");return Object.defineProperties(h,{hasParent:{get:function(){return c.hierarchy.length}},parent:{get:function(){return c.hierarchy[0].layerInterface}},rotation:getDescriptor(u,"rotation"),scale:getDescriptor(u,"scale"),position:getDescriptor(u,"position"),opacity:getDescriptor(u,"opacity"),anchorPoint:m,anchor_point:m,transform:{get:function(){return u}},active:{get:function(){return c.isInRange}}}),h.startTime=c.data.st,h.index=c.data.ind,h.source=c.data.refId,h.height=c.data.ty===0?c.data.h:100,h.width=c.data.ty===0?c.data.w:100,h.inPoint=c.data.ip/c.comp.globalData.frameRate,h.outPoint=c.data.op/c.comp.globalData.frameRate,h._name=c.data.nm,h.registerMaskInterface=f,h.registerEffectsInterface=d,h}}(),propertyGroupFactory=function(){return function(t,e){return function(n){return n=n===void 0?1:n,n<=0?t:e(n-1)}}}(),PropertyInterface=function(){return function(t,e){var n={_name:t};function r(i){return i=i===void 0?1:i,i<=0?n:e(i-1)}return r}}(),EffectsExpressionInterface=function(){var t={createEffectsInterface:e};function e(i,o){if(i.effectsManager){var s=[],a=i.data.ef,l,c=i.effectsManager.effectElements.length;for(l=0;l<c;l+=1)s.push(n(a[l],i.effectsManager.effectElements[l],o,i));var u=i.data.ef||[],f=function(h){for(l=0,c=u.length;l<c;){if(h===u[l].nm||h===u[l].mn||h===u[l].ix)return s[l];l+=1}return null};return Object.defineProperty(f,"numProperties",{get:function(){return u.length}}),f}return null}function n(i,o,s,a){function l(h){for(var m=i.ef,v=0,P=m.length;v<P;){if(h===m[v].nm||h===m[v].mn||h===m[v].ix)return m[v].ty===5?u[v]:u[v]();v+=1}throw new Error}var c=propertyGroupFactory(l,s),u=[],f,d=i.ef.length;for(f=0;f<d;f+=1)i.ef[f].ty===5?u.push(n(i.ef[f],o.effectElements[f],o.effectElements[f].propertyGroup,a)):u.push(r(o.effectElements[f],i.ef[f].ty,a,c));return i.mn==="ADBE Color Control"&&Object.defineProperty(l,"color",{get:function(){return u[0]()}}),Object.defineProperties(l,{numProperties:{get:function(){return i.np}},_name:{value:i.nm},propertyGroup:{value:c}}),l.enabled=i.en!==0,l.active=l.enabled,l}function r(i,o,s,a){var l=ExpressionPropertyInterface(i.p);function c(){return o===10?s.comp.compInterface(i.p.v):l()}return i.p.setGroupProperty&&i.p.setGroupProperty(PropertyInterface("",a)),c}return t}(),ShapePathInterface=function(){return function(e,n,r){var i=n.sh;function o(a){return a==="Shape"||a==="shape"||a==="Path"||a==="path"||a==="ADBE Vector Shape"||a===2?o.path:null}var s=propertyGroupFactory(o,r);return i.setGroupProperty(PropertyInterface("Path",s)),Object.defineProperties(o,{path:{get:function(){return i.k&&i.getValue(),i}},shape:{get:function(){return i.k&&i.getValue(),i}},_name:{value:e.nm},ix:{value:e.ix},propertyIndex:{value:e.ix},mn:{value:e.mn},propertyGroup:{value:r}}),o}}(),ShapeExpressionInterface=function(){function t(m,v,P){var b=[],x,_=m?m.length:0;for(x=0;x<_;x+=1)m[x].ty==="gr"?b.push(n(m[x],v[x],P)):m[x].ty==="fl"?b.push(r(m[x],v[x],P)):m[x].ty==="st"?b.push(s(m[x],v[x],P)):m[x].ty==="tm"?b.push(a(m[x],v[x],P)):m[x].ty==="tr"||(m[x].ty==="el"?b.push(c(m[x],v[x],P)):m[x].ty==="sr"?b.push(u(m[x],v[x],P)):m[x].ty==="sh"?b.push(ShapePathInterface(m[x],v[x],P)):m[x].ty==="rc"?b.push(f(m[x],v[x],P)):m[x].ty==="rd"?b.push(d(m[x],v[x],P)):m[x].ty==="rp"?b.push(h(m[x],v[x],P)):m[x].ty==="gf"?b.push(i(m[x],v[x],P)):b.push(o(m[x],v[x],P)));return b}function e(m,v,P){var b,x=function(k){for(var $=0,V=b.length;$<V;){if(b[$]._name===k||b[$].mn===k||b[$].propertyIndex===k||b[$].ix===k||b[$].ind===k)return b[$];$+=1}return typeof k=="number"?b[k-1]:null};x.propertyGroup=propertyGroupFactory(x,P),b=t(m.it,v.it,x.propertyGroup),x.numProperties=b.length;var _=l(m.it[m.it.length-1],v.it[v.it.length-1],x.propertyGroup);return x.transform=_,x.propertyIndex=m.cix,x._name=m.nm,x}function n(m,v,P){var b=function(k){switch(k){case"ADBE Vectors Group":case"Contents":case 2:return b.content;default:return b.transform}};b.propertyGroup=propertyGroupFactory(b,P);var x=e(m,v,b.propertyGroup),_=l(m.it[m.it.length-1],v.it[v.it.length-1],b.propertyGroup);return b.content=x,b.transform=_,Object.defineProperty(b,"_name",{get:function(){return m.nm}}),b.numProperties=m.np,b.propertyIndex=m.ix,b.nm=m.nm,b.mn=m.mn,b}function r(m,v,P){function b(x){return x==="Color"||x==="color"?b.color:x==="Opacity"||x==="opacity"?b.opacity:null}return Object.defineProperties(b,{color:{get:ExpressionPropertyInterface(v.c)},opacity:{get:ExpressionPropertyInterface(v.o)},_name:{value:m.nm},mn:{value:m.mn}}),v.c.setGroupProperty(PropertyInterface("Color",P)),v.o.setGroupProperty(PropertyInterface("Opacity",P)),b}function i(m,v,P){function b(x){return x==="Start Point"||x==="start point"?b.startPoint:x==="End Point"||x==="end point"?b.endPoint:x==="Opacity"||x==="opacity"?b.opacity:null}return Object.defineProperties(b,{startPoint:{get:ExpressionPropertyInterface(v.s)},endPoint:{get:ExpressionPropertyInterface(v.e)},opacity:{get:ExpressionPropertyInterface(v.o)},type:{get:function(){return"a"}},_name:{value:m.nm},mn:{value:m.mn}}),v.s.setGroupProperty(PropertyInterface("Start Point",P)),v.e.setGroupProperty(PropertyInterface("End Point",P)),v.o.setGroupProperty(PropertyInterface("Opacity",P)),b}function o(){function m(){return null}return m}function s(m,v,P){var b=propertyGroupFactory(V,P),x=propertyGroupFactory($,b);function _(B){Object.defineProperty($,m.d[B].nm,{get:ExpressionPropertyInterface(v.d.dataProps[B].p)})}var T,k=m.d?m.d.length:0,$={};for(T=0;T<k;T+=1)_(T),v.d.dataProps[T].p.setGroupProperty(x);function V(B){return B==="Color"||B==="color"?V.color:B==="Opacity"||B==="opacity"?V.opacity:B==="Stroke Width"||B==="stroke width"?V.strokeWidth:null}return Object.defineProperties(V,{color:{get:ExpressionPropertyInterface(v.c)},opacity:{get:ExpressionPropertyInterface(v.o)},strokeWidth:{get:ExpressionPropertyInterface(v.w)},dash:{get:function(){return $}},_name:{value:m.nm},mn:{value:m.mn}}),v.c.setGroupProperty(PropertyInterface("Color",b)),v.o.setGroupProperty(PropertyInterface("Opacity",b)),v.w.setGroupProperty(PropertyInterface("Stroke Width",b)),V}function a(m,v,P){function b(_){return _===m.e.ix||_==="End"||_==="end"?b.end:_===m.s.ix?b.start:_===m.o.ix?b.offset:null}var x=propertyGroupFactory(b,P);return b.propertyIndex=m.ix,v.s.setGroupProperty(PropertyInterface("Start",x)),v.e.setGroupProperty(PropertyInterface("End",x)),v.o.setGroupProperty(PropertyInterface("Offset",x)),b.propertyIndex=m.ix,b.propertyGroup=P,Object.defineProperties(b,{start:{get:ExpressionPropertyInterface(v.s)},end:{get:ExpressionPropertyInterface(v.e)},offset:{get:ExpressionPropertyInterface(v.o)},_name:{value:m.nm}}),b.mn=m.mn,b}function l(m,v,P){function b(_){return m.a.ix===_||_==="Anchor Point"?b.anchorPoint:m.o.ix===_||_==="Opacity"?b.opacity:m.p.ix===_||_==="Position"?b.position:m.r.ix===_||_==="Rotation"||_==="ADBE Vector Rotation"?b.rotation:m.s.ix===_||_==="Scale"?b.scale:m.sk&&m.sk.ix===_||_==="Skew"?b.skew:m.sa&&m.sa.ix===_||_==="Skew Axis"?b.skewAxis:null}var x=propertyGroupFactory(b,P);return v.transform.mProps.o.setGroupProperty(PropertyInterface("Opacity",x)),v.transform.mProps.p.setGroupProperty(PropertyInterface("Position",x)),v.transform.mProps.a.setGroupProperty(PropertyInterface("Anchor Point",x)),v.transform.mProps.s.setGroupProperty(PropertyInterface("Scale",x)),v.transform.mProps.r.setGroupProperty(PropertyInterface("Rotation",x)),v.transform.mProps.sk&&(v.transform.mProps.sk.setGroupProperty(PropertyInterface("Skew",x)),v.transform.mProps.sa.setGroupProperty(PropertyInterface("Skew Angle",x))),v.transform.op.setGroupProperty(PropertyInterface("Opacity",x)),Object.defineProperties(b,{opacity:{get:ExpressionPropertyInterface(v.transform.mProps.o)},position:{get:ExpressionPropertyInterface(v.transform.mProps.p)},anchorPoint:{get:ExpressionPropertyInterface(v.transform.mProps.a)},scale:{get:ExpressionPropertyInterface(v.transform.mProps.s)},rotation:{get:ExpressionPropertyInterface(v.transform.mProps.r)},skew:{get:ExpressionPropertyInterface(v.transform.mProps.sk)},skewAxis:{get:ExpressionPropertyInterface(v.transform.mProps.sa)},_name:{value:m.nm}}),b.ty="tr",b.mn=m.mn,b.propertyGroup=P,b}function c(m,v,P){function b(T){return m.p.ix===T?b.position:m.s.ix===T?b.size:null}var x=propertyGroupFactory(b,P);b.propertyIndex=m.ix;var _=v.sh.ty==="tm"?v.sh.prop:v.sh;return _.s.setGroupProperty(PropertyInterface("Size",x)),_.p.setGroupProperty(PropertyInterface("Position",x)),Object.defineProperties(b,{size:{get:ExpressionPropertyInterface(_.s)},position:{get:ExpressionPropertyInterface(_.p)},_name:{value:m.nm}}),b.mn=m.mn,b}function u(m,v,P){function b(T){return m.p.ix===T?b.position:m.r.ix===T?b.rotation:m.pt.ix===T?b.points:m.or.ix===T||T==="ADBE Vector Star Outer Radius"?b.outerRadius:m.os.ix===T?b.outerRoundness:m.ir&&(m.ir.ix===T||T==="ADBE Vector Star Inner Radius")?b.innerRadius:m.is&&m.is.ix===T?b.innerRoundness:null}var x=propertyGroupFactory(b,P),_=v.sh.ty==="tm"?v.sh.prop:v.sh;return b.propertyIndex=m.ix,_.or.setGroupProperty(PropertyInterface("Outer Radius",x)),_.os.setGroupProperty(PropertyInterface("Outer Roundness",x)),_.pt.setGroupProperty(PropertyInterface("Points",x)),_.p.setGroupProperty(PropertyInterface("Position",x)),_.r.setGroupProperty(PropertyInterface("Rotation",x)),m.ir&&(_.ir.setGroupProperty(PropertyInterface("Inner Radius",x)),_.is.setGroupProperty(PropertyInterface("Inner Roundness",x))),Object.defineProperties(b,{position:{get:ExpressionPropertyInterface(_.p)},rotation:{get:ExpressionPropertyInterface(_.r)},points:{get:ExpressionPropertyInterface(_.pt)},outerRadius:{get:ExpressionPropertyInterface(_.or)},outerRoundness:{get:ExpressionPropertyInterface(_.os)},innerRadius:{get:ExpressionPropertyInterface(_.ir)},innerRoundness:{get:ExpressionPropertyInterface(_.is)},_name:{value:m.nm}}),b.mn=m.mn,b}function f(m,v,P){function b(T){return m.p.ix===T?b.position:m.r.ix===T?b.roundness:m.s.ix===T||T==="Size"||T==="ADBE Vector Rect Size"?b.size:null}var x=propertyGroupFactory(b,P),_=v.sh.ty==="tm"?v.sh.prop:v.sh;return b.propertyIndex=m.ix,_.p.setGroupProperty(PropertyInterface("Position",x)),_.s.setGroupProperty(PropertyInterface("Size",x)),_.r.setGroupProperty(PropertyInterface("Rotation",x)),Object.defineProperties(b,{position:{get:ExpressionPropertyInterface(_.p)},roundness:{get:ExpressionPropertyInterface(_.r)},size:{get:ExpressionPropertyInterface(_.s)},_name:{value:m.nm}}),b.mn=m.mn,b}function d(m,v,P){function b(T){return m.r.ix===T||T==="Round Corners 1"?b.radius:null}var x=propertyGroupFactory(b,P),_=v;return b.propertyIndex=m.ix,_.rd.setGroupProperty(PropertyInterface("Radius",x)),Object.defineProperties(b,{radius:{get:ExpressionPropertyInterface(_.rd)},_name:{value:m.nm}}),b.mn=m.mn,b}function h(m,v,P){function b(T){return m.c.ix===T||T==="Copies"?b.copies:m.o.ix===T||T==="Offset"?b.offset:null}var x=propertyGroupFactory(b,P),_=v;return b.propertyIndex=m.ix,_.c.setGroupProperty(PropertyInterface("Copies",x)),_.o.setGroupProperty(PropertyInterface("Offset",x)),Object.defineProperties(b,{copies:{get:ExpressionPropertyInterface(_.c)},offset:{get:ExpressionPropertyInterface(_.o)},_name:{value:m.nm}}),b.mn=m.mn,b}return function(m,v,P){var b;function x(T){if(typeof T=="number")return T=T===void 0?1:T,T===0?P:b[T-1];for(var k=0,$=b.length;k<$;){if(b[k]._name===T)return b[k];k+=1}return null}function _(){return P}return x.propertyGroup=propertyGroupFactory(x,_),b=t(m,v,x.propertyGroup),x.numProperties=b.length,x._name="Contents",x}}(),TextExpressionInterface=function(){return function(t){var e;function n(r){switch(r){case"ADBE Text Document":return n.sourceText;default:return null}}return Object.defineProperty(n,"sourceText",{get:function(){t.textProperty.getValue();var i=t.textProperty.currentData.t;return(!e||i!==e.value)&&(e=new String(i),e.value=i||new String(i),Object.defineProperty(e,"style",{get:function(){return{fillColor:t.textProperty.currentData.fc}}})),e}}),n}}();function _typeof(t){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof=function(n){return typeof n}:_typeof=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},_typeof(t)}var FootageInterface=function(){var t=function(r){var i="",o=r.getFootageData();function s(){return i="",o=r.getFootageData(),a}function a(l){if(o[l])return i=l,o=o[l],_typeof(o)==="object"?a:o;var c=l.indexOf(i);if(c!==-1){var u=parseInt(l.substr(c+i.length),10);return o=o[u],_typeof(o)==="object"?a:o}return""}return s},e=function(r){function i(o){return o==="Outline"?i.outlineInterface():null}return i._name="Outline",i.outlineInterface=t(r),i};return function(n){function r(i){return i==="Data"?r.dataInterface:null}return r._name="Data",r.dataInterface=e(n),r}}(),interfaces={layer:LayerExpressionInterface,effects:EffectsExpressionInterface,comp:CompExpressionInterface,shape:ShapeExpressionInterface,text:TextExpressionInterface,footage:FootageInterface};function getInterface(t){return interfaces[t]||null}var expressionHelpers=function(){function t(s,a,l){a.x&&(l.k=!0,l.x=!0,l.initiateExpression=ExpressionManager.initiateExpression,l.effectsSequence.push(l.initiateExpression(s,a,l).bind(l)))}function e(s){return s*=this.elem.globalData.frameRate,s-=this.offsetTime,s!==this._cachingAtTime.lastFrame&&(this._cachingAtTime.lastIndex=this._cachingAtTime.lastFrame<s?this._cachingAtTime.lastIndex:0,this._cachingAtTime.value=this.interpolateValue(s,this._cachingAtTime),this._cachingAtTime.lastFrame=s),this._cachingAtTime.value}function n(s){var a=-.01,l=this.getValueAtTime(s),c=this.getValueAtTime(s+a),u=0;if(l.length){var f;for(f=0;f<l.length;f+=1)u+=Math.pow(c[f]-l[f],2);u=Math.sqrt(u)*100}else u=0;return u}function r(s){if(this.vel!==void 0)return this.vel;var a=-.001,l=this.getValueAtTime(s),c=this.getValueAtTime(s+a),u;if(l.length){u=createTypedArray("float32",l.length);var f;for(f=0;f<l.length;f+=1)u[f]=(c[f]-l[f])/a}else u=(c-l)/a;return u}function i(){return this.pv}function o(s){this.propertyGroup=s}return{searchExpressions:t,getSpeedAtTime:n,getVelocityAtTime:r,getValueAtTime:e,getStaticValueAtTime:i,setGroupProperty:o}}();function addPropertyDecorator(){function t(d,h,m){if(!this.k||!this.keyframes)return this.pv;d=d?d.toLowerCase():"";var v=this.comp.renderedFrame,P=this.keyframes,b=P[P.length-1].t;if(v<=b)return this.pv;var x,_;m?(h?x=Math.abs(b-this.elem.comp.globalData.frameRate*h):x=Math.max(0,b-this.elem.data.ip),_=b-x):((!h||h>P.length-1)&&(h=P.length-1),_=P[P.length-1-h].t,x=b-_);var T,k,$;if(d==="pingpong"){var V=Math.floor((v-_)/x);if(V%2!==0)return this.getValueAtTime((x-(v-_)%x+_)/this.comp.globalData.frameRate,0)}else if(d==="offset"){var B=this.getValueAtTime(_/this.comp.globalData.frameRate,0),z=this.getValueAtTime(b/this.comp.globalData.frameRate,0),ie=this.getValueAtTime(((v-_)%x+_)/this.comp.globalData.frameRate,0),J=Math.floor((v-_)/x);if(this.pv.length){for($=new Array(B.length),k=$.length,T=0;T<k;T+=1)$[T]=(z[T]-B[T])*J+ie[T];return $}return(z-B)*J+ie}else if(d==="continue"){var H=this.getValueAtTime(b/this.comp.globalData.frameRate,0),ce=this.getValueAtTime((b-.001)/this.comp.globalData.frameRate,0);if(this.pv.length){for($=new Array(H.length),k=$.length,T=0;T<k;T+=1)$[T]=H[T]+(H[T]-ce[T])*((v-b)/this.comp.globalData.frameRate)/5e-4;return $}return H+(H-ce)*((v-b)/.001)}return this.getValueAtTime(((v-_)%x+_)/this.comp.globalData.frameRate,0)}function e(d,h,m){if(!this.k)return this.pv;d=d?d.toLowerCase():"";var v=this.comp.renderedFrame,P=this.keyframes,b=P[0].t;if(v>=b)return this.pv;var x,_;m?(h?x=Math.abs(this.elem.comp.globalData.frameRate*h):x=Math.max(0,this.elem.data.op-b),_=b+x):((!h||h>P.length-1)&&(h=P.length-1),_=P[h].t,x=_-b);var T,k,$;if(d==="pingpong"){var V=Math.floor((b-v)/x);if(V%2===0)return this.getValueAtTime(((b-v)%x+b)/this.comp.globalData.frameRate,0)}else if(d==="offset"){var B=this.getValueAtTime(b/this.comp.globalData.frameRate,0),z=this.getValueAtTime(_/this.comp.globalData.frameRate,0),ie=this.getValueAtTime((x-(b-v)%x+b)/this.comp.globalData.frameRate,0),J=Math.floor((b-v)/x)+1;if(this.pv.length){for($=new Array(B.length),k=$.length,T=0;T<k;T+=1)$[T]=ie[T]-(z[T]-B[T])*J;return $}return ie-(z-B)*J}else if(d==="continue"){var H=this.getValueAtTime(b/this.comp.globalData.frameRate,0),ce=this.getValueAtTime((b+.001)/this.comp.globalData.frameRate,0);if(this.pv.length){for($=new Array(H.length),k=$.length,T=0;T<k;T+=1)$[T]=H[T]+(H[T]-ce[T])*(b-v)/.001;return $}return H+(H-ce)*(b-v)/.001}return this.getValueAtTime((x-((b-v)%x+b))/this.comp.globalData.frameRate,0)}function n(d,h){if(!this.k)return this.pv;if(d=(d||.4)*.5,h=Math.floor(h||5),h<=1)return this.pv;var m=this.comp.renderedFrame/this.comp.globalData.frameRate,v=m-d,P=m+d,b=h>1?(P-v)/(h-1):1,x=0,_=0,T;this.pv.length?T=createTypedArray("float32",this.pv.length):T=0;for(var k;x<h;){if(k=this.getValueAtTime(v+x*b),this.pv.length)for(_=0;_<this.pv.length;_+=1)T[_]+=k[_];else T+=k;x+=1}if(this.pv.length)for(_=0;_<this.pv.length;_+=1)T[_]/=h;else T/=h;return T}function r(d){this._transformCachingAtTime||(this._transformCachingAtTime={v:new Matrix});var h=this._transformCachingAtTime.v;if(h.cloneFromProps(this.pre.props),this.appliedTransformations<1){var m=this.a.getValueAtTime(d);h.translate(-m[0]*this.a.mult,-m[1]*this.a.mult,m[2]*this.a.mult)}if(this.appliedTransformations<2){var v=this.s.getValueAtTime(d);h.scale(v[0]*this.s.mult,v[1]*this.s.mult,v[2]*this.s.mult)}if(this.sk&&this.appliedTransformations<3){var P=this.sk.getValueAtTime(d),b=this.sa.getValueAtTime(d);h.skewFromAxis(-P*this.sk.mult,b*this.sa.mult)}if(this.r&&this.appliedTransformations<4){var x=this.r.getValueAtTime(d);h.rotate(-x*this.r.mult)}else if(!this.r&&this.appliedTransformations<4){var _=this.rz.getValueAtTime(d),T=this.ry.getValueAtTime(d),k=this.rx.getValueAtTime(d),$=this.or.getValueAtTime(d);h.rotateZ(-_*this.rz.mult).rotateY(T*this.ry.mult).rotateX(k*this.rx.mult).rotateZ(-$[2]*this.or.mult).rotateY($[1]*this.or.mult).rotateX($[0]*this.or.mult)}if(this.data.p&&this.data.p.s){var V=this.px.getValueAtTime(d),B=this.py.getValueAtTime(d);if(this.data.p.z){var z=this.pz.getValueAtTime(d);h.translate(V*this.px.mult,B*this.py.mult,-z*this.pz.mult)}else h.translate(V*this.px.mult,B*this.py.mult,0)}else{var ie=this.p.getValueAtTime(d);h.translate(ie[0]*this.p.mult,ie[1]*this.p.mult,-ie[2]*this.p.mult)}return h}function i(){return this.v.clone(new Matrix)}var o=TransformPropertyFactory.getTransformProperty;TransformPropertyFactory.getTransformProperty=function(d,h,m){var v=o(d,h,m);return v.dynamicProperties.length?v.getValueAtTime=r.bind(v):v.getValueAtTime=i.bind(v),v.setGroupProperty=expressionHelpers.setGroupProperty,v};var s=PropertyFactory.getProp;PropertyFactory.getProp=function(d,h,m,v,P){var b=s(d,h,m,v,P);b.kf?b.getValueAtTime=expressionHelpers.getValueAtTime.bind(b):b.getValueAtTime=expressionHelpers.getStaticValueAtTime.bind(b),b.setGroupProperty=expressionHelpers.setGroupProperty,b.loopOut=t,b.loopIn=e,b.smooth=n,b.getVelocityAtTime=expressionHelpers.getVelocityAtTime.bind(b),b.getSpeedAtTime=expressionHelpers.getSpeedAtTime.bind(b),b.numKeys=h.a===1?h.k.length:0,b.propertyIndex=h.ix;var x=0;return m!==0&&(x=createTypedArray("float32",h.a===1?h.k[0].s.length:h.k.length)),b._cachingAtTime={lastFrame:initialDefaultFrame,lastIndex:0,value:x},expressionHelpers.searchExpressions(d,h,b),b.k&&P.addDynamicProperty(b),b};function a(d){return this._cachingAtTime||(this._cachingAtTime={shapeValue:shapePool.clone(this.pv),lastIndex:0,lastTime:initialDefaultFrame}),d*=this.elem.globalData.frameRate,d-=this.offsetTime,d!==this._cachingAtTime.lastTime&&(this._cachingAtTime.lastIndex=this._cachingAtTime.lastTime<d?this._caching.lastIndex:0,this._cachingAtTime.lastTime=d,this.interpolateShape(d,this._cachingAtTime.shapeValue,this._cachingAtTime)),this._cachingAtTime.shapeValue}var l=ShapePropertyFactory.getConstructorFunction(),c=ShapePropertyFactory.getKeyframedConstructorFunction();function u(){}u.prototype={vertices:function(h,m){this.k&&this.getValue();var v=this.v;m!==void 0&&(v=this.getValueAtTime(m,0));var P,b=v._length,x=v[h],_=v.v,T=createSizedArray(b);for(P=0;P<b;P+=1)h==="i"||h==="o"?T[P]=[x[P][0]-_[P][0],x[P][1]-_[P][1]]:T[P]=[x[P][0],x[P][1]];return T},points:function(h){return this.vertices("v",h)},inTangents:function(h){return this.vertices("i",h)},outTangents:function(h){return this.vertices("o",h)},isClosed:function(){return this.v.c},pointOnPath:function(h,m){var v=this.v;m!==void 0&&(v=this.getValueAtTime(m,0)),this._segmentsLength||(this._segmentsLength=bez.getSegmentsLength(v));for(var P=this._segmentsLength,b=P.lengths,x=P.totalLength*h,_=0,T=b.length,k=0,$;_<T;){if(k+b[_].addedLength>x){var V=_,B=v.c&&_===T-1?0:_+1,z=(x-k)/b[_].addedLength;$=bez.getPointInSegment(v.v[V],v.v[B],v.o[V],v.i[B],z,b[_]);break}else k+=b[_].addedLength;_+=1}return $||($=v.c?[v.v[0][0],v.v[0][1]]:[v.v[v._length-1][0],v.v[v._length-1][1]]),$},vectorOnPath:function(h,m,v){h==1?h=this.v.c:h==0&&(h=.999);var P=this.pointOnPath(h,m),b=this.pointOnPath(h+.001,m),x=b[0]-P[0],_=b[1]-P[1],T=Math.sqrt(Math.pow(x,2)+Math.pow(_,2));if(T===0)return[0,0];var k=v==="tangent"?[x/T,_/T]:[-_/T,x/T];return k},tangentOnPath:function(h,m){return this.vectorOnPath(h,m,"tangent")},normalOnPath:function(h,m){return this.vectorOnPath(h,m,"normal")},setGroupProperty:expressionHelpers.setGroupProperty,getValueAtTime:expressionHelpers.getStaticValueAtTime},extendPrototype([u],l),extendPrototype([u],c),c.prototype.getValueAtTime=a,c.prototype.initiateExpression=ExpressionManager.initiateExpression;var f=ShapePropertyFactory.getShapeProp;ShapePropertyFactory.getShapeProp=function(d,h,m,v,P){var b=f(d,h,m,v,P);return b.propertyIndex=h.ix,b.lock=!1,m===3?expressionHelpers.searchExpressions(d,h.pt,b):m===4&&expressionHelpers.searchExpressions(d,h.ks,b),b.k&&d.addDynamicProperty(b),b}}function initialize$1(){addPropertyDecorator()}function addDecorator(){function t(){return this.data.d.x?(this.calculateExpression=ExpressionManager.initiateExpression.bind(this)(this.elem,this.data.d,this),this.addEffect(this.getExpressionValue.bind(this)),!0):null}TextProperty.prototype.getExpressionValue=function(e,n){var r=this.calculateExpression(n);if(e.t!==r){var i={};return this.copyData(i,e),i.t=r.toString(),i.__complete=!1,i}return e},TextProperty.prototype.searchProperty=function(){var e=this.searchKeyframes(),n=this.searchExpressions();return this.kf=e||n,this.kf},TextProperty.prototype.searchExpressions=t}function initialize(){addDecorator()}function SVGComposableEffect(){}SVGComposableEffect.prototype={createMergeNode:function t(e,n){var r=createNS("feMerge");r.setAttribute("result",e);var i,o;for(o=0;o<n.length;o+=1)i=createNS("feMergeNode"),i.setAttribute("in",n[o]),r.appendChild(i),r.appendChild(i);return r}};var linearFilterValue="0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0";function SVGTintFilter(t,e,n,r,i){this.filterManager=e;var o=createNS("feColorMatrix");o.setAttribute("type","matrix"),o.setAttribute("color-interpolation-filters","linearRGB"),o.setAttribute("values",linearFilterValue+" 1 0"),this.linearFilter=o,o.setAttribute("result",r+"_tint_1"),t.appendChild(o),o=createNS("feColorMatrix"),o.setAttribute("type","matrix"),o.setAttribute("color-interpolation-filters","sRGB"),o.setAttribute("values","1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"),o.setAttribute("result",r+"_tint_2"),t.appendChild(o),this.matrixFilter=o;var s=this.createMergeNode(r,[i,r+"_tint_1",r+"_tint_2"]);t.appendChild(s)}extendPrototype([SVGComposableEffect],SVGTintFilter),SVGTintFilter.prototype.renderFrame=function(t){if(t||this.filterManager._mdf){var e=this.filterManager.effectElements[0].p.v,n=this.filterManager.effectElements[1].p.v,r=this.filterManager.effectElements[2].p.v/100;this.linearFilter.setAttribute("values",linearFilterValue+" "+r+" 0"),this.matrixFilter.setAttribute("values",n[0]-e[0]+" 0 0 0 "+e[0]+" "+(n[1]-e[1])+" 0 0 0 "+e[1]+" "+(n[2]-e[2])+" 0 0 0 "+e[2]+" 0 0 0 1 0")}};function SVGFillFilter(t,e,n,r){this.filterManager=e;var i=createNS("feColorMatrix");i.setAttribute("type","matrix"),i.setAttribute("color-interpolation-filters","sRGB"),i.setAttribute("values","1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"),i.setAttribute("result",r),t.appendChild(i),this.matrixFilter=i}SVGFillFilter.prototype.renderFrame=function(t){if(t||this.filterManager._mdf){var e=this.filterManager.effectElements[2].p.v,n=this.filterManager.effectElements[6].p.v;this.matrixFilter.setAttribute("values","0 0 0 0 "+e[0]+" 0 0 0 0 "+e[1]+" 0 0 0 0 "+e[2]+" 0 0 0 "+n+" 0")}};function SVGStrokeEffect(t,e,n){this.initialized=!1,this.filterManager=e,this.elem=n,this.paths=[]}SVGStrokeEffect.prototype.initialize=function(){var t=this.elem.layerElement.children||this.elem.layerElement.childNodes,e,n,r,i;for(this.filterManager.effectElements[1].p.v===1?(i=this.elem.maskManager.masksProperties.length,r=0):(r=this.filterManager.effectElements[0].p.v-1,i=r+1),n=createNS("g"),n.setAttribute("fill","none"),n.setAttribute("stroke-linecap","round"),n.setAttribute("stroke-dashoffset",1),r;r<i;r+=1)e=createNS("path"),n.appendChild(e),this.paths.push({p:e,m:r});if(this.filterManager.effectElements[10].p.v===3){var o=createNS("mask"),s=createElementID();o.setAttribute("id",s),o.setAttribute("mask-type","alpha"),o.appendChild(n),this.elem.globalData.defs.appendChild(o);var a=createNS("g");for(a.setAttribute("mask","url("+getLocationHref()+"#"+s+")");t[0];)a.appendChild(t[0]);this.elem.layerElement.appendChild(a),this.masker=o,n.setAttribute("stroke","#fff")}else if(this.filterManager.effectElements[10].p.v===1||this.filterManager.effectElements[10].p.v===2){if(this.filterManager.effectElements[10].p.v===2)for(t=this.elem.layerElement.children||this.elem.layerElement.childNodes;t.length;)this.elem.layerElement.removeChild(t[0]);this.elem.layerElement.appendChild(n),this.elem.layerElement.removeAttribute("mask"),n.setAttribute("stroke","#fff")}this.initialized=!0,this.pathMasker=n},SVGStrokeEffect.prototype.renderFrame=function(t){this.initialized||this.initialize();var e,n=this.paths.length,r,i;for(e=0;e<n;e+=1)if(this.paths[e].m!==-1&&(r=this.elem.maskManager.viewData[this.paths[e].m],i=this.paths[e].p,(t||this.filterManager._mdf||r.prop._mdf)&&i.setAttribute("d",r.lastPath),t||this.filterManager.effectElements[9].p._mdf||this.filterManager.effectElements[4].p._mdf||this.filterManager.effectElements[7].p._mdf||this.filterManager.effectElements[8].p._mdf||r.prop._mdf)){var o;if(this.filterManager.effectElements[7].p.v!==0||this.filterManager.effectElements[8].p.v!==100){var s=Math.min(this.filterManager.effectElements[7].p.v,this.filterManager.effectElements[8].p.v)*.01,a=Math.max(this.filterManager.effectElements[7].p.v,this.filterManager.effectElements[8].p.v)*.01,l=i.getTotalLength();o="0 0 0 "+l*s+" ";var c=l*(a-s),u=1+this.filterManager.effectElements[4].p.v*2*this.filterManager.effectElements[9].p.v*.01,f=Math.floor(c/u),d;for(d=0;d<f;d+=1)o+="1 "+this.filterManager.effectElements[4].p.v*2*this.filterManager.effectElements[9].p.v*.01+" ";o+="0 "+l*10+" 0 0"}else o="1 "+this.filterManager.effectElements[4].p.v*2*this.filterManager.effectElements[9].p.v*.01;i.setAttribute("stroke-dasharray",o)}if((t||this.filterManager.effectElements[4].p._mdf)&&this.pathMasker.setAttribute("stroke-width",this.filterManager.effectElements[4].p.v*2),(t||this.filterManager.effectElements[6].p._mdf)&&this.pathMasker.setAttribute("opacity",this.filterManager.effectElements[6].p.v),(this.filterManager.effectElements[10].p.v===1||this.filterManager.effectElements[10].p.v===2)&&(t||this.filterManager.effectElements[3].p._mdf)){var h=this.filterManager.effectElements[3].p.v;this.pathMasker.setAttribute("stroke","rgb("+bmFloor(h[0]*255)+","+bmFloor(h[1]*255)+","+bmFloor(h[2]*255)+")")}};function SVGTritoneFilter(t,e,n,r){this.filterManager=e;var i=createNS("feColorMatrix");i.setAttribute("type","matrix"),i.setAttribute("color-interpolation-filters","linearRGB"),i.setAttribute("values","0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0"),t.appendChild(i);var o=createNS("feComponentTransfer");o.setAttribute("color-interpolation-filters","sRGB"),o.setAttribute("result",r),this.matrixFilter=o;var s=createNS("feFuncR");s.setAttribute("type","table"),o.appendChild(s),this.feFuncR=s;var a=createNS("feFuncG");a.setAttribute("type","table"),o.appendChild(a),this.feFuncG=a;var l=createNS("feFuncB");l.setAttribute("type","table"),o.appendChild(l),this.feFuncB=l,t.appendChild(o)}SVGTritoneFilter.prototype.renderFrame=function(t){if(t||this.filterManager._mdf){var e=this.filterManager.effectElements[0].p.v,n=this.filterManager.effectElements[1].p.v,r=this.filterManager.effectElements[2].p.v,i=r[0]+" "+n[0]+" "+e[0],o=r[1]+" "+n[1]+" "+e[1],s=r[2]+" "+n[2]+" "+e[2];this.feFuncR.setAttribute("tableValues",i),this.feFuncG.setAttribute("tableValues",o),this.feFuncB.setAttribute("tableValues",s)}};function SVGProLevelsFilter(t,e,n,r){this.filterManager=e;var i=this.filterManager.effectElements,o=createNS("feComponentTransfer");(i[10].p.k||i[10].p.v!==0||i[11].p.k||i[11].p.v!==1||i[12].p.k||i[12].p.v!==1||i[13].p.k||i[13].p.v!==0||i[14].p.k||i[14].p.v!==1)&&(this.feFuncR=this.createFeFunc("feFuncR",o)),(i[17].p.k||i[17].p.v!==0||i[18].p.k||i[18].p.v!==1||i[19].p.k||i[19].p.v!==1||i[20].p.k||i[20].p.v!==0||i[21].p.k||i[21].p.v!==1)&&(this.feFuncG=this.createFeFunc("feFuncG",o)),(i[24].p.k||i[24].p.v!==0||i[25].p.k||i[25].p.v!==1||i[26].p.k||i[26].p.v!==1||i[27].p.k||i[27].p.v!==0||i[28].p.k||i[28].p.v!==1)&&(this.feFuncB=this.createFeFunc("feFuncB",o)),(i[31].p.k||i[31].p.v!==0||i[32].p.k||i[32].p.v!==1||i[33].p.k||i[33].p.v!==1||i[34].p.k||i[34].p.v!==0||i[35].p.k||i[35].p.v!==1)&&(this.feFuncA=this.createFeFunc("feFuncA",o)),(this.feFuncR||this.feFuncG||this.feFuncB||this.feFuncA)&&(o.setAttribute("color-interpolation-filters","sRGB"),t.appendChild(o)),(i[3].p.k||i[3].p.v!==0||i[4].p.k||i[4].p.v!==1||i[5].p.k||i[5].p.v!==1||i[6].p.k||i[6].p.v!==0||i[7].p.k||i[7].p.v!==1)&&(o=createNS("feComponentTransfer"),o.setAttribute("color-interpolation-filters","sRGB"),o.setAttribute("result",r),t.appendChild(o),this.feFuncRComposed=this.createFeFunc("feFuncR",o),this.feFuncGComposed=this.createFeFunc("feFuncG",o),this.feFuncBComposed=this.createFeFunc("feFuncB",o))}SVGProLevelsFilter.prototype.createFeFunc=function(t,e){var n=createNS(t);return n.setAttribute("type","table"),e.appendChild(n),n},SVGProLevelsFilter.prototype.getTableValue=function(t,e,n,r,i){for(var o=0,s=256,a,l=Math.min(t,e),c=Math.max(t,e),u=Array.call(null,{length:s}),f,d=0,h=i-r,m=e-t;o<=256;)a=o/256,a<=l?f=m<0?i:r:a>=c?f=m<0?r:i:f=r+h*Math.pow((a-t)/m,1/n),u[d]=f,d+=1,o+=256/(s-1);return u.join(" ")},SVGProLevelsFilter.prototype.renderFrame=function(t){if(t||this.filterManager._mdf){var e,n=this.filterManager.effectElements;this.feFuncRComposed&&(t||n[3].p._mdf||n[4].p._mdf||n[5].p._mdf||n[6].p._mdf||n[7].p._mdf)&&(e=this.getTableValue(n[3].p.v,n[4].p.v,n[5].p.v,n[6].p.v,n[7].p.v),this.feFuncRComposed.setAttribute("tableValues",e),this.feFuncGComposed.setAttribute("tableValues",e),this.feFuncBComposed.setAttribute("tableValues",e)),this.feFuncR&&(t||n[10].p._mdf||n[11].p._mdf||n[12].p._mdf||n[13].p._mdf||n[14].p._mdf)&&(e=this.getTableValue(n[10].p.v,n[11].p.v,n[12].p.v,n[13].p.v,n[14].p.v),this.feFuncR.setAttribute("tableValues",e)),this.feFuncG&&(t||n[17].p._mdf||n[18].p._mdf||n[19].p._mdf||n[20].p._mdf||n[21].p._mdf)&&(e=this.getTableValue(n[17].p.v,n[18].p.v,n[19].p.v,n[20].p.v,n[21].p.v),this.feFuncG.setAttribute("tableValues",e)),this.feFuncB&&(t||n[24].p._mdf||n[25].p._mdf||n[26].p._mdf||n[27].p._mdf||n[28].p._mdf)&&(e=this.getTableValue(n[24].p.v,n[25].p.v,n[26].p.v,n[27].p.v,n[28].p.v),this.feFuncB.setAttribute("tableValues",e)),this.feFuncA&&(t||n[31].p._mdf||n[32].p._mdf||n[33].p._mdf||n[34].p._mdf||n[35].p._mdf)&&(e=this.getTableValue(n[31].p.v,n[32].p.v,n[33].p.v,n[34].p.v,n[35].p.v),this.feFuncA.setAttribute("tableValues",e))}};function SVGDropShadowEffect(t,e,n,r,i){var o=e.container.globalData.renderConfig.filterSize,s=e.data.fs||o;t.setAttribute("x",s.x||o.x),t.setAttribute("y",s.y||o.y),t.setAttribute("width",s.width||o.width),t.setAttribute("height",s.height||o.height),this.filterManager=e;var a=createNS("feGaussianBlur");a.setAttribute("in","SourceAlpha"),a.setAttribute("result",r+"_drop_shadow_1"),a.setAttribute("stdDeviation","0"),this.feGaussianBlur=a,t.appendChild(a);var l=createNS("feOffset");l.setAttribute("dx","25"),l.setAttribute("dy","0"),l.setAttribute("in",r+"_drop_shadow_1"),l.setAttribute("result",r+"_drop_shadow_2"),this.feOffset=l,t.appendChild(l);var c=createNS("feFlood");c.setAttribute("flood-color","#00ff00"),c.setAttribute("flood-opacity","1"),c.setAttribute("result",r+"_drop_shadow_3"),this.feFlood=c,t.appendChild(c);var u=createNS("feComposite");u.setAttribute("in",r+"_drop_shadow_3"),u.setAttribute("in2",r+"_drop_shadow_2"),u.setAttribute("operator","in"),u.setAttribute("result",r+"_drop_shadow_4"),t.appendChild(u);var f=this.createMergeNode(r,[r+"_drop_shadow_4",i]);t.appendChild(f)}extendPrototype([SVGComposableEffect],SVGDropShadowEffect),SVGDropShadowEffect.prototype.renderFrame=function(t){if(t||this.filterManager._mdf){if((t||this.filterManager.effectElements[4].p._mdf)&&this.feGaussianBlur.setAttribute("stdDeviation",this.filterManager.effectElements[4].p.v/4),t||this.filterManager.effectElements[0].p._mdf){var e=this.filterManager.effectElements[0].p.v;this.feFlood.setAttribute("flood-color",rgbToHex(Math.round(e[0]*255),Math.round(e[1]*255),Math.round(e[2]*255)))}if((t||this.filterManager.effectElements[1].p._mdf)&&this.feFlood.setAttribute("flood-opacity",this.filterManager.effectElements[1].p.v/255),t||this.filterManager.effectElements[2].p._mdf||this.filterManager.effectElements[3].p._mdf){var n=this.filterManager.effectElements[3].p.v,r=(this.filterManager.effectElements[2].p.v-90)*degToRads,i=n*Math.cos(r),o=n*Math.sin(r);this.feOffset.setAttribute("dx",i),this.feOffset.setAttribute("dy",o)}}};var _svgMatteSymbols=[];function SVGMatte3Effect(t,e,n){this.initialized=!1,this.filterManager=e,this.filterElem=t,this.elem=n,n.matteElement=createNS("g"),n.matteElement.appendChild(n.layerElement),n.matteElement.appendChild(n.transformedElement),n.baseElement=n.matteElement}SVGMatte3Effect.prototype.findSymbol=function(t){for(var e=0,n=_svgMatteSymbols.length;e<n;){if(_svgMatteSymbols[e]===t)return _svgMatteSymbols[e];e+=1}return null},SVGMatte3Effect.prototype.replaceInParent=function(t,e){var n=t.layerElement.parentNode;if(n){for(var r=n.children,i=0,o=r.length;i<o&&r[i]!==t.layerElement;)i+=1;var s;i<=o-2&&(s=r[i+1]);var a=createNS("use");a.setAttribute("href","#"+e),s?n.insertBefore(a,s):n.appendChild(a)}},SVGMatte3Effect.prototype.setElementAsMask=function(t,e){if(!this.findSymbol(e)){var n=createElementID(),r=createNS("mask");r.setAttribute("id",e.layerId),r.setAttribute("mask-type","alpha"),_svgMatteSymbols.push(e);var i=t.globalData.defs;i.appendChild(r);var o=createNS("symbol");o.setAttribute("id",n),this.replaceInParent(e,n),o.appendChild(e.layerElement),i.appendChild(o);var s=createNS("use");s.setAttribute("href","#"+n),r.appendChild(s),e.data.hd=!1,e.show()}t.setMatte(e.layerId)},SVGMatte3Effect.prototype.initialize=function(){for(var t=this.filterManager.effectElements[0].p.v,e=this.elem.comp.elements,n=0,r=e.length;n<r;)e[n]&&e[n].data.ind===t&&this.setElementAsMask(this.elem,e[n]),n+=1;this.initialized=!0},SVGMatte3Effect.prototype.renderFrame=function(){this.initialized||this.initialize()};function SVGGaussianBlurEffect(t,e,n,r){t.setAttribute("x","-100%"),t.setAttribute("y","-100%"),t.setAttribute("width","300%"),t.setAttribute("height","300%"),this.filterManager=e;var i=createNS("feGaussianBlur");i.setAttribute("result",r),t.appendChild(i),this.feGaussianBlur=i}SVGGaussianBlurEffect.prototype.renderFrame=function(t){if(t||this.filterManager._mdf){var e=.3,n=this.filterManager.effectElements[0].p.v*e,r=this.filterManager.effectElements[1].p.v,i=r==3?0:n,o=r==2?0:n;this.feGaussianBlur.setAttribute("stdDeviation",i+" "+o);var s=this.filterManager.effectElements[2].p.v==1?"wrap":"duplicate";this.feGaussianBlur.setAttribute("edgeMode",s)}};function TransformEffect(){}TransformEffect.prototype.init=function(t){this.effectsManager=t,this.type=effectTypes.TRANSFORM_EFFECT,this.matrix=new Matrix,this.opacity=-1,this._mdf=!1,this._opMdf=!1},TransformEffect.prototype.renderFrame=function(t){if(this._opMdf=!1,this._mdf=!1,t||this.effectsManager._mdf){var e=this.effectsManager.effectElements,n=e[0].p.v,r=e[1].p.v,i=e[2].p.v===1,o=e[3].p.v,s=i?o:e[4].p.v,a=e[5].p.v,l=e[6].p.v,c=e[7].p.v;this.matrix.reset(),this.matrix.translate(-n[0],-n[1],n[2]),this.matrix.scale(s*.01,o*.01,1),this.matrix.rotate(-c*degToRads),this.matrix.skewFromAxis(-a*degToRads,(l+90)*degToRads),this.matrix.translate(r[0],r[1],0),this._mdf=!0,this.opacity!==e[8].p.v&&(this.opacity=e[8].p.v,this._opMdf=!0)}};function SVGTransformEffect(t,e){this.init(e)}extendPrototype([TransformEffect],SVGTransformEffect);function CVTransformEffect(t){this.init(t)}return extendPrototype([TransformEffect],CVTransformEffect),registerRenderer("canvas",CanvasRenderer),registerRenderer("html",HybridRenderer),registerRenderer("svg",SVGRenderer),ShapeModifiers.registerModifier("tm",TrimModifier),ShapeModifiers.registerModifier("pb",PuckerAndBloatModifier),ShapeModifiers.registerModifier("rp",RepeaterModifier),ShapeModifiers.registerModifier("rd",RoundCornersModifier),ShapeModifiers.registerModifier("zz",ZigZagModifier),ShapeModifiers.registerModifier("op",OffsetPathModifier),setExpressionsPlugin(Expressions),setExpressionInterfaces(getInterface),initialize$1(),initialize(),registerEffect$1(20,SVGTintFilter,!0),registerEffect$1(21,SVGFillFilter,!0),registerEffect$1(22,SVGStrokeEffect,!1),registerEffect$1(23,SVGTritoneFilter,!0),registerEffect$1(24,SVGProLevelsFilter,!0),registerEffect$1(25,SVGDropShadowEffect,!0),registerEffect$1(28,SVGMatte3Effect,!1),registerEffect$1(29,SVGGaussianBlurEffect,!0),registerEffect$1(35,SVGTransformEffect,!1),registerEffect(35,CVTransformEffect),lottie})});var L5=Wa((Sx,Ex)=>{"use strict";(function(t,e){typeof Sx=="object"&&typeof Ex<"u"?Ex.exports=e():typeof define=="function"&&define.amd?define(e):(t=typeof globalThis<"u"?globalThis:t||self,t.MessageFormat=e())})(Sx,function(){"use strict";var t=function(){return t=Object.assign||function(g){for(var y,C=1,I=arguments.length;C<I;C++){y=arguments[C];for(var R in y)Object.prototype.hasOwnProperty.call(y,R)&&(g[R]=y[R])}return g},t.apply(this,arguments)};function e(p){var g=typeof Symbol=="function"&&Symbol.iterator,y=g&&p[g],C=0;if(y)return y.call(p);if(p&&typeof p.length=="number")return{next:function(){return p&&C>=p.length&&(p=void 0),{value:p&&p[C++],done:!p}}};throw new TypeError(g?"Object is not iterable.":"Symbol.iterator is not defined.")}function n(p,g){var y=typeof Symbol=="function"&&p[Symbol.iterator];if(!y)return p;var C=y.call(p),I,R=[],q;try{for(;(g===void 0||g-- >0)&&!(I=C.next()).done;)R.push(I.value)}catch(se){q={error:se}}finally{try{I&&!I.done&&(y=C.return)&&y.call(C)}finally{if(q)throw q.error}}return R}function r(p,g,y){if(y||arguments.length===2)for(var C=0,I=g.length,R;C<I;C++)(R||!(C in g))&&(R||(R=Array.prototype.slice.call(g,0,C)),R[C]=g[C]);return p.concat(R||Array.prototype.slice.call(g))}typeof SuppressedError=="function"&&SuppressedError;class i extends Error{constructor(g,y,C){super(g),this.token=y,this.type=C||"error"}}let o=p=>p<4?"short":p===4?"long":"narrow",s=p=>p%2===0?"2-digit":"numeric";function a(p,g){switch(p.char){case"y":return{year:s(p.width)};case"r":return{calendar:"gregory",year:"numeric"};case"u":case"U":case"Y":default:return g(`${p.desc} is not supported; falling back to year:numeric`,i.WARNING),{year:"numeric"}}}function l(p,g){switch(p.width){case 1:return"numeric";case 2:return"2-digit";case 3:return"short";case 4:return"long";case 5:return"narrow";default:g(`${p.desc} is not supported with width ${p.width}`);return}}function c(p,g){let{char:y,desc:C,width:I}=p;if(y==="d")return s(I);g(`${C} is not supported`)}function u(p,g){let{char:y,desc:C,width:I}=p;if((y==="c"||y==="e")&&I<3){let R=`Numeric value is not supported for ${C}; falling back to weekday:short`;g(R,i.WARNING)}return o(I)}function f(p){let g=s(p.width),y;switch(p.char){case"h":y="h12";break;case"H":y="h23";break;case"k":y="h24";break;case"K":y="h11";break}return y?{hour:g,hourCycle:y}:{hour:g}}function d(p,g){let{char:y,desc:C,width:I}=p;switch(y){case"v":case"z":return I===4?"long":"short";case"V":if(I===4)return"long";g(`${C} is not supported with width ${I}`);return;case"X":g(`${C} is not supported`);return}return"short"}function h(p,g){switch(p.field){case"era":return{era:o(p.width)};case"year":return a(p,g);case"month":return{month:l(p,g)};case"day":return{day:c(p,g)};case"weekday":return{weekday:u(p,g)};case"period":return;case"hour":return f(p);case"min":return{minute:s(p.width)};case"sec":return{second:s(p.width)};case"tz":return{timeZoneName:d(p,g)};case"quarter":case"week":case"sec-frac":case"ms":g(`${p.desc} is not supported`)}}function m(p,g){let y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:R=>{throw R},C={timeZone:g},I=[];for(let R of p){let{error:q,field:se,str:ye}=R;if(q){let Tt=new i(q.message,R);Tt.stack=q.stack,y(Tt)}if(ye){let Tt=`Ignoring string part: ${ye}`;y(new i(Tt,R,i.WARNING))}se&&(I.indexOf(se)===-1?I.push(se):y(new i(`Duplicate ${se} token`,R)));let qe=h(R,(Tt,Yt)=>y(new i(Tt,R,Yt)));qe&&Object.assign(C,qe)}return C}let v={G:{field:"era",desc:"Era"},y:{field:"year",desc:"Year"},Y:{field:"year",desc:'Year of "Week of Year"'},u:{field:"year",desc:"Extended year"},U:{field:"year",desc:"Cyclic year name"},r:{field:"year",desc:"Related Gregorian year"},Q:{field:"quarter",desc:"Quarter"},q:{field:"quarter",desc:"Stand-alone quarter"},M:{field:"month",desc:"Month in year"},L:{field:"month",desc:"Stand-alone month in year"},w:{field:"week",desc:"Week of year"},W:{field:"week",desc:"Week of month"},d:{field:"day",desc:"Day in month"},D:{field:"day",desc:"Day of year"},F:{field:"day",desc:"Day of week in month"},g:{field:"day",desc:"Modified julian day"},E:{field:"weekday",desc:"Day of week"},e:{field:"weekday",desc:"Local day of week"},c:{field:"weekday",desc:"Stand-alone local day of week"},a:{field:"period",desc:"AM/PM marker"},b:{field:"period",desc:"AM/PM/noon/midnight marker"},B:{field:"period",desc:"Flexible day period"},h:{field:"hour",desc:"Hour in AM/PM (1~12)"},H:{field:"hour",desc:"Hour in day (0~23)"},k:{field:"hour",desc:"Hour in day (1~24)"},K:{field:"hour",desc:"Hour in AM/PM (0~11)"},j:{field:"hour",desc:"Hour in preferred cycle"},J:{field:"hour",desc:"Hour in preferred cycle without marker"},C:{field:"hour",desc:"Hour in preferred cycle with flexible marker"},m:{field:"min",desc:"Minute in hour"},s:{field:"sec",desc:"Second in minute"},S:{field:"sec-frac",desc:"Fractional second"},A:{field:"ms",desc:"Milliseconds in day"},z:{field:"tz",desc:"Time Zone: specific non-location"},Z:{field:"tz",desc:"Time Zone"},O:{field:"tz",desc:"Time Zone: localized"},v:{field:"tz",desc:"Time Zone: generic non-location"},V:{field:"tz",desc:"Time Zone: ID"},X:{field:"tz",desc:"Time Zone: ISO8601 with Z"},x:{field:"tz",desc:"Time Zone: ISO8601"}},P=p=>p>="A"&&p<="Z"||p>="a"&&p<="z";function b(p,g){let y=p[g],C=1;for(;p[++g]===y;)++C;let I=v[y];if(!I){let R=`The letter ${y} is not a valid field identifier`;return{char:y,error:new Error(R),width:C}}return{char:y,field:I.field,desc:I.desc,width:C}}function x(p,g){let y=p[++g],C=2;if(y==="'")return{char:"'",str:y,width:C};for(;;){let I=p[++g];if(++C,I===void 0){let R=`Unterminated quoted literal in pattern: ${y||p}`;return{char:"'",error:new Error(R),str:y,width:C}}else if(I==="'"){if(p[++g]!=="'")return{char:"'",str:y,width:C};++C}y+=I}}function _(p,g){let y=p[g];if(!y)return null;if(P(y))return b(p,g);if(y==="'")return x(p,g);let C=y,I=1;for(;;){let R=p[++g];if(!R||P(R)||R==="'")return{char:y,str:C,width:I};C+=R,I+=1}}function T(p){let g=[],y=0;for(;;){let C=_(p,y);if(!C)return g;g.push(C),y+=C.width}}function k(p,g,y,C){typeof g=="string"&&(g=T(g)),typeof y=="function"&&(C=y,y=void 0);let I=m(g,y,C),R=new Intl.DateTimeFormat(p,I);return q=>R.format(q)}function $(p,g,y,C){typeof g=="string"&&(g=T(g)),typeof y=="function"&&(C=y,y=void 0);let I=m(g,y,C);return["(function() {",`var opt = ${JSON.stringify(I)};`,`var dtf = new Intl.DateTimeFormat(${JSON.stringify(p)}, opt);`,"return function(value) { return dtf.format(value); }"].join(`
  `)+`
})()`}class V extends Error{constructor(g,y){super(y),this.code=g}}class B extends V{constructor(g,y){super("BAD_OPTION",`Unknown ${g} option: ${y}`),this.stem=g,this.option=y}}class z extends V{constructor(g){super("BAD_STEM",`Unknown stem: ${g}`),this.stem=g}}class ie extends V{constructor(g,y){super("MASKED_VALUE",`Value for ${g} is set multiple times`),this.type=g,this.prev=y}}class J extends V{constructor(g){super("MISSING_OPTION",`Required option missing for ${g}`),this.stem=g}}class H extends V{constructor(g,y){super("BAD_PATTERN",y),this.char=g}}class ce extends V{constructor(g,y,C){let I=C>1?`${C} options`:"one option";super("TOO_MANY_OPTIONS",`Token ${g} only supports ${I} (got ${y.length})`),this.stem=g,this.options=y}}class ae extends V{constructor(g,y){super("UNSUPPORTED",`The stem ${g} is not supported`),this.stem=g,y&&(this.message+=` with value ${y}`,this.source=y)}}function ee(p,g){let{numberingSystem:y}=g;return Array.isArray(p)||(p=[p]),y?p.map(C=>{let I=C.indexOf("-u-")===-1?"u-nu":"nu";return`${C}-${I}-${y}`}).concat(p):p}function F(p,g){let y=+p+g/2;return y-y%+g}function G(p){let{scale:g,unit:y}=p,C=typeof g=="number"&&g>=0?g:1;return y&&y.style==="percent"&&(C*=.01),C}function D(p){let g=G(p),{precision:y}=p;return y&&y.style==="precision-increment"?C=>F(C,y.increment)*g:C=>C*g}function N(p){let g=G(p),{precision:y}=p;if(y&&y.style==="precision-increment"){let C=`+n + ${y.increment/2}`,I=`x - (x % +${y.increment})`;return g!==1&&(I=`(${I}) * ${g}`),`function(n) { var x = ${C}; return ${I}; }`}return g!==1?`function(n) { return n * ${g}; }`:null}function te(p,g){let{decimal:y,group:C,integerWidth:I,notation:R,precision:q,roundingMode:se,sign:ye,unit:qe,unitPer:Tt,unitWidth:Yt}=p,sn=(cr,Ar)=>{g&&g(new ae(cr,Ar))},lt={};if(qe)switch(qe.style){case"base-unit":lt.style="decimal";break;case"currency":lt.style="currency",lt.currency=qe.currency;break;case"measure-unit":lt.style="unit",lt.unit=qe.unit.replace(/.*-/,""),Tt&&(lt.unit+="-per-"+Tt.replace(/.*-/,""));break;case"percent":lt.style="percent";break;case"permille":sn("permille");break}switch(Yt){case"unit-width-full-name":lt.currencyDisplay="name",lt.unitDisplay="long";break;case"unit-width-hidden":sn(Yt);break;case"unit-width-iso-code":lt.currencyDisplay="code";break;case"unit-width-narrow":lt.currencyDisplay="narrowSymbol",lt.unitDisplay="narrow";break;case"unit-width-short":lt.currencyDisplay="symbol",lt.unitDisplay="short";break}switch(C){case"group-off":lt.useGrouping=!1;break;case"group-auto":lt.useGrouping=!0;break;case"group-min2":case"group-on-aligned":case"group-thousands":sn(C),lt.useGrouping=!0;break}if(q)switch(q.style){case"precision-fraction":{let{minFraction:cr,maxFraction:Ar,minSignificant:Kr,maxSignificant:Ti,source:Do}=q;typeof cr=="number"&&(lt.minimumFractionDigits=cr,typeof Kr=="number"&&sn("precision-fraction",Do)),typeof Ar=="number"&&(lt.maximumFractionDigits=Ar),typeof Kr=="number"&&(lt.minimumSignificantDigits=Kr),typeof Ti=="number"&&(lt.maximumSignificantDigits=Ti);break}case"precision-integer":lt.maximumFractionDigits=0;break;case"precision-unlimited":lt.maximumFractionDigits=20;break;case"precision-increment":break;case"precision-currency-standard":lt.trailingZeroDisplay=q.trailingZero;break;case"precision-currency-cash":sn(q.style);break}if(R)switch(R.style){case"compact-short":lt.notation="compact",lt.compactDisplay="short";break;case"compact-long":lt.notation="compact",lt.compactDisplay="long";break;case"notation-simple":lt.notation="standard";break;case"scientific":case"engineering":{let{expDigits:cr,expSign:Ar,source:Kr,style:Ti}=R;lt.notation=Ti,(cr&&cr>1||Ar&&Ar!=="sign-auto")&&sn(Ti,Kr);break}}if(I){let{min:cr,max:Ar,source:Kr}=I;if(cr>0&&(lt.minimumIntegerDigits=cr),Number(Ar)>0){let Ti=lt.notation==="engineering"||lt.notation==="scientific";Ar===3&&Ti?lt.notation="engineering":sn("integer-width",Kr)}}switch(ye){case"sign-auto":lt.signDisplay="auto";break;case"sign-always":lt.signDisplay="always";break;case"sign-except-zero":lt.signDisplay="exceptZero";break;case"sign-never":lt.signDisplay="never";break;case"sign-accounting":lt.currencySign="accounting";break;case"sign-accounting-always":lt.currencySign="accounting",lt.signDisplay="always";break;case"sign-accounting-except-zero":lt.currencySign="accounting",lt.signDisplay="exceptZero";break}return y==="decimal-always"&&sn(y),se&&sn(se),lt}function X(p,g,y){let C=p[g];switch(C){case"%":return{char:"%",style:"percent",width:1};case"\u2030":return{char:"%",style:"permille",width:1};case"\xA4":{let I=1;for(;p[++g]==="\xA4";)++I;switch(I){case 1:return{char:C,currency:"default",width:I};case 2:return{char:C,currency:"iso-code",width:I};case 3:return{char:C,currency:"full-name",width:I};case 5:return{char:C,currency:"narrow",width:I};default:{let R=`Invalid number (${I}) of \xA4 chars in pattern`;return y(new H("\xA4",R)),null}}}case"*":{let I=p[g+1];if(I)return{char:C,pad:I,width:2};break}case"+":case"-":return{char:C,width:1};case"'":{let I=p[++g],R=2;if(I==="'")return{char:C,str:I,width:R};for(;;){let q=p[++g];if(++R,q===void 0){let se=`Unterminated quoted literal in pattern: ${I}`;return y(new H("'",se)),{char:C,str:I,width:R}}else if(q==="'"){if(p[++g]!=="'")return{char:C,str:I,width:R};++R}I+=q}}}return null}let Oe=p=>p>="0"&&p<="9";function Ye(p,g){let y=p[g];if(Oe(y)){let C=y;for(;;){let I=p[++g];if(Oe(I))C+=I;else return{char:"0",digits:C,width:C.length}}}switch(y){case"#":{let C=1;for(;p[++g]==="#";)++C;return{char:y,width:C}}case"@":{let C=1;for(;p[++g]==="@";)++C;let I=C;for(g-=1;p[++g]==="#";)++I;return{char:y,min:C,width:I}}case"E":{let C=p[g+1]==="+";C&&++g;let I=0;for(;p[++g]==="0";)++I;let R=(C?2:1)+I;if(I)return{char:y,expDigits:I,plus:C,width:R};break}case".":case",":return{char:y,width:1}}return null}function De(p,g,y){let C;(function(qe){qe[qe.Prefix=0]="Prefix",qe[qe.Number=1]="Number",qe[qe.Suffix=2]="Suffix"})(C||(C={}));let I=[],R=[],q=[],se=C.Prefix,ye="";for(;g<p.length;){let qe=p[g];if(qe===";"){g+=1;break}switch(se){case C.Prefix:{let Tt=X(p,g,y);if(Tt)ye&&(I.push({char:"'",str:ye,width:ye.length}),ye=""),I.push(Tt),g+=Tt.width;else{let Yt=Ye(p,g);Yt?(ye&&(I.push({char:"'",str:ye,width:ye.length}),ye=""),se=C.Number,R.push(Yt),g+=Yt.width):(ye+=qe,g+=1)}break}case C.Number:{let Tt=Ye(p,g);Tt?(R.push(Tt),g+=Tt.width):se=C.Suffix;break}case C.Suffix:{let Tt=X(p,g,y);Tt?(ye&&(q.push({char:"'",str:ye,width:ye.length}),ye=""),q.push(Tt),g+=Tt.width):(ye+=qe,g+=1);break}}}return ye&&q.push({char:"'",str:ye,width:ye.length}),{pattern:{prefix:I,number:R,suffix:q},pos:g}}function It(p,g){let{pattern:y,pos:C}=De(p,0,g);if(C<p.length){let{pattern:I}=De(p,C,g);return{tokens:y,negative:I}}return{tokens:y}}function Bt(p,g){let y={},C=!1,I=!1,R=0,q="",se=-1,ye="",qe=0;for(let Yt=0;Yt<p.length;++Yt){let sn=p[Yt];switch(sn.char){case"#":{if(se===-1){if(q){let lt="Pattern has # after integer digits";g(new H("#",lt))}R+=sn.width}else qe+=sn.width;break}case"0":{if(se===-1)q+=sn.digits;else{if(qe){let lt="Pattern has digits after # in fraction";g(new H("0",lt))}ye+=sn.digits}break}case"@":{y.precision&&g(new ie("precision",y.precision)),y.precision={style:"precision-fraction",minSignificant:sn.min,maxSignificant:sn.width};break}case",":C=!0;break;case".":if(se===1){let lt="Pattern has more than one decimal separator";g(new H(".",lt))}se=Yt;break;case"E":{if(I&&g(new ie("exponent",y.notation)),C){let lt="Exponential patterns may not contain grouping separators";g(new H("E",lt))}y.notation={style:"scientific"},sn.expDigits>1&&(y.notation.expDigits=sn.expDigits),sn.plus&&(y.notation.expSign="sign-always"),I=!0}}}C?y.group="group-auto":R+q.length>3&&(y.group="group-off");let Tt=+`${q||"0"}.${ye}`;if(Tt&&(y.precision={style:"precision-increment",increment:Tt}),!I)q.length>1&&(y.integerWidth={min:q.length}),!y.precision&&(ye.length||qe)&&(y.precision={style:"precision-fraction",minFraction:ye.length,maxFraction:ye.length+qe});else if((!y.precision||Tt)&&(y.integerWidth=R?{min:1,max:R+q.length}:{min:Math.max(1,q.length)}),y.precision)Tt||(y.integerWidth={min:1,max:1});else{let Yt=q.length+ye.length;se===-1?Yt>0&&(y.precision={style:"precision-fraction",maxSignificant:Yt}):(y.precision={style:"precision-fraction",maxSignificant:Math.max(1,Yt)+qe},Yt>1&&(y.precision.minSignificant=Yt))}return y}function zt(p,g,y,C,I){let R=!1,q="";for(let se of p)switch(se.char){case"%":g.unit={style:se.style},I?R=!0:q="";break;case"\xA4":if(!y){let ye="The \xA4 pattern requires a currency";C(new H("\xA4",ye));break}switch(g.unit={style:"currency",currency:y},se.currency){case"iso-code":g.unitWidth="unit-width-iso-code";break;case"full-name":g.unitWidth="unit-width-full-name";break;case"narrow":g.unitWidth="unit-width-narrow";break}I?R=!0:q="";break;case"*":break;case"+":R||(q+="+");break;case"'":R||(q+=se.str);break}return q}function ve(p,g){let y=!1,C="";for(let I of p)switch(I.char){case"%":case"\xA4":g?y=!0:C="";break;case"-":y||(C+="-");break;case"'":y||(C+=I.str);break}return C}function be(p,g){let y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:ye=>{throw ye},{tokens:C,negative:I}=It(p,y),R=Bt(C.number,y),q=zt(C.prefix,R,g,y,!0),se=zt(C.suffix,R,g,y,!1);if(I){let ye=ve(I.prefix,!0),qe=ve(I.suffix,!1);R.affix={pos:[q,se],neg:[ye,qe]},R.sign="sign-never"}else(q||se)&&(R.affix={pos:[q,se]});return R}function ge(p){return["arab","arabext","bali","beng","deva","fullwide","gujr","guru","hanidec","khmr","knda","laoo","latn","limb","mlym","mong","mymr","orya","tamldec","telu","thai","tibt"].indexOf(p)!==-1}function _e(p){let g=["acceleration","angle","area","concentr","consumption","digital","duration","electric","energy","force","frequency","graphics","length","light","mass","power","pressure","speed","temperature","torque","volume"],[y]=p.split("-",1);return g.indexOf(y)!==-1}let Ae={"compact-short":0,"compact-long":0,"notation-simple":0,scientific:2,engineering:2,percent:0,permille:0,"base-unit":0,currency:1,"measure-unit":1,"per-measure-unit":1,"unit-width-narrow":0,"unit-width-short":0,"unit-width-full-name":0,"unit-width-iso-code":0,"unit-width-hidden":0,"precision-integer":0,"precision-unlimited":0,"precision-currency-standard":1,"precision-currency-cash":0,"precision-increment":1,"rounding-mode-ceiling":0,"rounding-mode-floor":0,"rounding-mode-down":0,"rounding-mode-up":0,"rounding-mode-half-even":0,"rounding-mode-half-down":0,"rounding-mode-half-up":0,"rounding-mode-unnecessary":0,"integer-width":1,scale:1,"group-off":0,"group-min2":0,"group-auto":0,"group-on-aligned":0,"group-thousands":0,latin:0,"numbering-system":1,"sign-auto":0,"sign-always":0,"sign-never":0,"sign-accounting":0,"sign-accounting-always":0,"sign-except-zero":0,"sign-accounting-except-zero":0,"decimal-auto":0,"decimal-always":0},$e={currency:1,"integer-width":1,"measure-unit":1,"numbering-system":1,"per-measure-unit":1,"precision-increment":1,scale:1};function ke(p){return p in Ae}function pt(p){return p in $e}function Zt(p,g,y){if(ke(p)){let C=Ae[p];if(g.length>C){if(C===0)for(let I of g)y(new B(p,I));else y(new ce(p,g,C));return!1}else if(pt(p)&&g.length<$e[p])return y(new J(p)),!1}return!0}function hn(p,g){let y=g==="fraction"?/^\.(0*)(\+|#*)$/:/^(@+)(\+|#*)$/,C=p&&p.match(y);if(C){let I=C[1].length;switch(C[2].charAt(0)){case"":return{min:I,max:I};case"+":return{min:I,max:null};case"#":return{min:I,max:I+C[2].length}}}return null}function gt(p,g,y){let C=hn(p,"fraction");if(C){g.length>1&&y(new ce(p,g,1));let R={style:"precision-fraction",source:p,minFraction:C.min};C.max!=null&&(R.maxFraction=C.max);let q=g[0],se=hn(q,"significant");return se?(R.source=`${p}/${q}`,R.minSignificant=se.min,se.max!=null&&(R.maxSignificant=se.max)):q&&y(new B(p,q)),R}let I=hn(p,"significant");if(I){for(let q of g)y(new B(p,q));let R={style:"precision-fraction",source:p,minSignificant:I.min};return I.max!=null&&(R.maxSignificant=I.max),R}return null}class Yn{constructor(g){this.skeleton={},this.onError=g}badOption(g,y){this.onError(new B(g,y))}assertEmpty(g){let y=this.skeleton[g];y&&this.onError(new ie(g,y))}parseToken(g,y){if(!Zt(g,y,this.onError))return;let C=y[0],I=this.skeleton;switch(g){case"compact-short":case"compact-long":case"notation-simple":this.assertEmpty("notation"),I.notation={style:g};break;case"scientific":case"engineering":{let R=null,q;for(let ye of y)switch(ye){case"sign-auto":case"sign-always":case"sign-never":case"sign-accounting":case"sign-accounting-always":case"sign-except-zero":case"sign-accounting-except-zero":q=ye;break;default:/^\+e+$/.test(ye)?R=ye.length-1:this.badOption(g,ye)}this.assertEmpty("notation");let se=y.join("/");I.notation=R&&q?{style:g,source:se,expDigits:R,expSign:q}:R?{style:g,source:se,expDigits:R}:q?{style:g,source:se,expSign:q}:{style:g,source:se};break}case"percent":case"permille":case"base-unit":this.assertEmpty("unit"),I.unit={style:g};break;case"currency":/^[A-Z]{3}$/.test(C)?(this.assertEmpty("unit"),I.unit={style:g,currency:C}):this.badOption(g,C);break;case"measure-unit":{_e(C)?(this.assertEmpty("unit"),I.unit={style:g,unit:C}):this.badOption(g,C);break}case"per-measure-unit":{_e(C)?(this.assertEmpty("unitPer"),I.unitPer=C):this.badOption(g,C);break}case"unit-width-narrow":case"unit-width-short":case"unit-width-full-name":case"unit-width-iso-code":case"unit-width-hidden":this.assertEmpty("unitWidth"),I.unitWidth=g;break;case"precision-integer":case"precision-unlimited":case"precision-currency-cash":this.assertEmpty("precision"),I.precision={style:g};break;case"precision-currency-standard":this.assertEmpty("precision"),C==="w"?I.precision={style:g,trailingZero:"stripIfInteger"}:I.precision={style:g};break;case"precision-increment":{let R=Number(C);R>0?(this.assertEmpty("precision"),I.precision={style:g,increment:R}):this.badOption(g,C);break}case"rounding-mode-ceiling":case"rounding-mode-floor":case"rounding-mode-down":case"rounding-mode-up":case"rounding-mode-half-even":case"rounding-mode-half-odd":case"rounding-mode-half-ceiling":case"rounding-mode-half-floor":case"rounding-mode-half-down":case"rounding-mode-half-up":case"rounding-mode-unnecessary":this.assertEmpty("roundingMode"),I.roundingMode=g;break;case"integer-width":{if(/^\+0*$/.test(C))this.assertEmpty("integerWidth"),I.integerWidth={source:C,min:C.length-1};else{let R=C.match(/^#*(0*)$/);R?(this.assertEmpty("integerWidth"),I.integerWidth={source:C,min:R[1].length,max:R[0].length}):this.badOption(g,C)}break}case"scale":{let R=Number(C);R>0?(this.assertEmpty("scale"),I.scale=R):this.badOption(g,C);break}case"group-off":case"group-min2":case"group-auto":case"group-on-aligned":case"group-thousands":this.assertEmpty("group"),I.group=g;break;case"latin":this.assertEmpty("numberingSystem"),I.numberingSystem="latn";break;case"numbering-system":{ge(C)?(this.assertEmpty("numberingSystem"),I.numberingSystem=C):this.badOption(g,C);break}case"sign-auto":case"sign-always":case"sign-never":case"sign-accounting":case"sign-accounting-always":case"sign-except-zero":case"sign-accounting-except-zero":this.assertEmpty("sign"),I.sign=g;break;case"decimal-auto":case"decimal-always":this.assertEmpty("decimal"),I.decimal=g;break;default:{let R=gt(g,y,this.onError);R?(this.assertEmpty("precision"),I.precision=R):this.onError(new z(g))}}}}function Zn(p){let g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:I=>{throw I},y=[];for(let I of p.split(" "))if(I){let R=I.split("/"),q=R.shift()||"";y.push({stem:q,options:R})}let C=new Yn(g);for(let{stem:I,options:R}of y)C.parseToken(I,R);return C.skeleton}function kn(p,g,y,C){typeof g=="string"&&(g=g.indexOf("::")===0?Zn(g.slice(2),C):be(g,y,C));let I=ee(p,g),R=te(g,C),q=D(g),se=new Intl.NumberFormat(I,R);if(g.affix){let[ye,qe]=g.affix.pos,[Tt,Yt]=g.affix.neg||["",""];return sn=>{let lt=se.format(q(sn));return sn<0?`${Tt}${lt}${Yt}`:`${ye}${lt}${qe}`}}return ye=>se.format(q(ye))}function Ir(p,g,y,C){typeof g=="string"&&(g=g.indexOf("::")===0?Zn(g.slice(2),C):be(g,y,C));let I=ee(p,g),R=te(g,C),q=N(g),se=["(function() {",`var opt = ${JSON.stringify(R)};`,`var nf = new Intl.NumberFormat(${JSON.stringify(I)}, opt);`],ye="nf.format(value)";if(q&&(se.push(`var mod = ${q};`),ye="nf.format(mod(value))"),g.affix){let[qe,Tt]=g.affix.pos.map(Yt=>JSON.stringify(Yt));if(g.affix.neg){let[Yt,sn]=g.affix.neg.map(lt=>JSON.stringify(lt));ye=`value < 0 ? ${Yt} + ${ye} + ${sn} : ${qe} + ${ye} + ${Tt}`}else ye=`${qe} + ${ye} + ${Tt}`}return se.push(`return function(value) { return ${ye}; }`),se.join(`
  `)+`
})()`}var Cr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Et(p){return p&&p.__esModule&&Object.prototype.hasOwnProperty.call(p,"default")?p.default:p}var Dt={},_t={},mn={exports:{}};(function(p){(function(g,y){p.exports?p.exports=y():g.moo=y()})(Cr,function(){var g=Object.prototype.hasOwnProperty,y=Object.prototype.toString,C=typeof new RegExp().sticky=="boolean";function I(Ee){return Ee&&y.call(Ee)==="[object RegExp]"}function R(Ee){return Ee&&typeof Ee=="object"&&!I(Ee)&&!Array.isArray(Ee)}function q(Ee){return Ee.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function se(Ee){var tt=new RegExp("|"+Ee);return tt.exec("").length-1}function ye(Ee){return"("+Ee+")"}function qe(Ee){if(!Ee.length)return"(?!)";var tt=Ee.map(function(Ct){return"(?:"+Ct+")"}).join("|");return"(?:"+tt+")"}function Tt(Ee){if(typeof Ee=="string")return"(?:"+q(Ee)+")";if(I(Ee)){if(Ee.ignoreCase)throw new Error("RegExp /i flag not allowed");if(Ee.global)throw new Error("RegExp /g flag is implied");if(Ee.sticky)throw new Error("RegExp /y flag is implied");if(Ee.multiline)throw new Error("RegExp /m flag is implied");return Ee.source}else throw new Error("Not a pattern: "+Ee)}function Yt(Ee,tt){return Ee.length>tt?Ee:Array(tt-Ee.length+1).join(" ")+Ee}function sn(Ee,tt){for(var Ct=Ee.length,Vt=0;;){var Cn=Ee.lastIndexOf(`
`,Ct-1);if(Cn===-1||(Vt++,Ct=Cn,Vt===tt)||Ct===0)break}var Jt=Vt<tt?0:Ct+1;return Ee.substring(Jt).split(`
`)}function lt(Ee){for(var tt=Object.getOwnPropertyNames(Ee),Ct=[],Vt=0;Vt<tt.length;Vt++){var Cn=tt[Vt],Jt=Ee[Cn],Rn=[].concat(Jt);if(Cn==="include"){for(var Mr=0;Mr<Rn.length;Mr++)Ct.push({include:Rn[Mr]});continue}var Jn=[];Rn.forEach(function(un){R(un)?(Jn.length&&Ct.push(Ar(Cn,Jn)),Ct.push(Ar(Cn,un)),Jn=[]):Jn.push(un)}),Jn.length&&Ct.push(Ar(Cn,Jn))}return Ct}function cr(Ee){for(var tt=[],Ct=0;Ct<Ee.length;Ct++){var Vt=Ee[Ct];if(Vt.include){for(var Cn=[].concat(Vt.include),Jt=0;Jt<Cn.length;Jt++)tt.push({include:Cn[Jt]});continue}if(!Vt.type)throw new Error("Rule has no type: "+JSON.stringify(Vt));tt.push(Ar(Vt.type,Vt))}return tt}function Ar(Ee,tt){if(R(tt)||(tt={match:tt}),tt.include)throw new Error("Matching rules cannot also include states");var Ct={defaultType:Ee,lineBreaks:!!tt.error||!!tt.fallback,pop:!1,next:null,push:null,error:!1,fallback:!1,value:null,type:null,shouldThrow:!1};for(var Vt in tt)g.call(tt,Vt)&&(Ct[Vt]=tt[Vt]);if(typeof Ct.type=="string"&&Ee!==Ct.type)throw new Error("Type transform cannot be a string (type '"+Ct.type+"' for token '"+Ee+"')");var Cn=Ct.match;return Ct.match=Array.isArray(Cn)?Cn:Cn?[Cn]:[],Ct.match.sort(function(Jt,Rn){return I(Jt)&&I(Rn)?0:I(Rn)?-1:I(Jt)?1:Rn.length-Jt.length}),Ct}function Kr(Ee){return Array.isArray(Ee)?cr(Ee):lt(Ee)}var Ti=Ar("error",{lineBreaks:!0,shouldThrow:!0});function Do(Ee,tt){for(var Ct=null,Vt=Object.create(null),Cn=!0,Jt=null,Rn=[],Mr=[],Jn=0;Jn<Ee.length;Jn++)Ee[Jn].fallback&&(Cn=!1);for(var Jn=0;Jn<Ee.length;Jn++){var un=Ee[Jn];if(un.include)throw new Error("Inheritance is not allowed in stateless lexers");if(un.error||un.fallback){if(Ct)throw!un.fallback==!Ct.fallback?new Error("Multiple "+(un.fallback?"fallback":"error")+" rules not allowed (for token '"+un.defaultType+"')"):new Error("fallback and error are mutually exclusive (for token '"+un.defaultType+"')");Ct=un}var _i=un.match.slice();if(Cn)for(;_i.length&&typeof _i[0]=="string"&&_i[0].length===1;){var jl=_i.shift();Vt[jl.charCodeAt(0)]=un}if(un.pop||un.push||un.next){if(!tt)throw new Error("State-switching options are not allowed in stateless lexers (for token '"+un.defaultType+"')");if(un.fallback)throw new Error("State-switching options are not allowed on fallback tokens (for token '"+un.defaultType+"')")}if(_i.length!==0){Cn=!1,Rn.push(un);for(var Ul=0;Ul<_i.length;Ul++){var Gl=_i[Ul];if(I(Gl)){if(Jt===null)Jt=Gl.unicode;else if(Jt!==Gl.unicode&&un.fallback===!1)throw new Error("If one rule is /u then all must be")}}var Jc=qe(_i.map(Tt)),Yo=new RegExp(Jc);if(Yo.test(""))throw new Error("RegExp matches empty string: "+Yo);var Zf=se(Jc);if(Zf>0)throw new Error("RegExp has capture groups: "+Yo+`
Use (?: \u2026 ) instead`);if(!un.lineBreaks&&Yo.test(`
`))throw new Error("Rule should declare lineBreaks: "+Yo);Mr.push(ye(Jc))}}var Qc=Ct&&Ct.fallback,Xf=C&&!Qc?"ym":"gm",gh=C||Qc?"":"|";Jt===!0&&(Xf+="u");var K5=new RegExp(qe(Mr)+gh,Xf);return{regexp:K5,groups:Rn,fast:Vt,error:Ct||Ti}}function Ha(Ee){var tt=Do(Kr(Ee));return new Gr({start:tt},"start")}function ra(Ee,tt,Ct){var Vt=Ee&&(Ee.push||Ee.next);if(Vt&&!Ct[Vt])throw new Error("Missing state '"+Vt+"' (in token '"+Ee.defaultType+"' of state '"+tt+"')");if(Ee&&Ee.pop&&+Ee.pop!=1)throw new Error("pop must be 1 (in token '"+Ee.defaultType+"' of state '"+tt+"')")}function ia(Ee,tt){var Ct=Ee.$all?Kr(Ee.$all):[];delete Ee.$all;var Vt=Object.getOwnPropertyNames(Ee);tt||(tt=Vt[0]);for(var Cn=Object.create(null),Jt=0;Jt<Vt.length;Jt++){var Rn=Vt[Jt];Cn[Rn]=Kr(Ee[Rn]).concat(Ct)}for(var Jt=0;Jt<Vt.length;Jt++)for(var Rn=Vt[Jt],Mr=Cn[Rn],Jn=Object.create(null),un=0;un<Mr.length;un++){var _i=Mr[un];if(_i.include){var jl=[un,1];if(_i.include!==Rn&&!Jn[_i.include]){Jn[_i.include]=!0;var Ul=Cn[_i.include];if(!Ul)throw new Error("Cannot include nonexistent state '"+_i.include+"' (in state '"+Rn+"')");for(var Gl=0;Gl<Ul.length;Gl++){var Jc=Ul[Gl];Mr.indexOf(Jc)===-1&&jl.push(Jc)}}Mr.splice.apply(Mr,jl),un--}}for(var Yo=Object.create(null),Jt=0;Jt<Vt.length;Jt++){var Rn=Vt[Jt];Yo[Rn]=Do(Cn[Rn],!0)}for(var Jt=0;Jt<Vt.length;Jt++){for(var Zf=Vt[Jt],Qc=Yo[Zf],Xf=Qc.groups,un=0;un<Xf.length;un++)ra(Xf[un],Zf,Yo);for(var gh=Object.getOwnPropertyNames(Qc.fast),un=0;un<gh.length;un++)ra(Qc.fast[gh[un]],Zf,Yo)}return new Gr(Yo,tt)}function oa(Ee){for(var tt=typeof Map<"u",Ct=tt?new Map:Object.create(null),Vt=Object.getOwnPropertyNames(Ee),Cn=0;Cn<Vt.length;Cn++){var Jt=Vt[Cn],Rn=Ee[Jt],Mr=Array.isArray(Rn)?Rn:[Rn];Mr.forEach(function(Jn){if(typeof Jn!="string")throw new Error("keyword must be string (in keyword '"+Jt+"')");tt?Ct.set(Jn,Jt):Ct[Jn]=Jt})}return function(Jn){return tt?Ct.get(Jn):Ct[Jn]}}var Gr=function(Ee,tt){this.startState=tt,this.states=Ee,this.buffer="",this.stack=[],this.reset()};Gr.prototype.reset=function(Ee,tt){return this.buffer=Ee||"",this.index=0,this.line=tt?tt.line:1,this.col=tt?tt.col:1,this.queuedToken=tt?tt.queuedToken:null,this.queuedText=tt?tt.queuedText:"",this.queuedThrow=tt?tt.queuedThrow:null,this.setState(tt?tt.state:this.startState),this.stack=tt&&tt.stack?tt.stack.slice():[],this},Gr.prototype.save=function(){return{line:this.line,col:this.col,state:this.state,stack:this.stack.slice(),queuedToken:this.queuedToken,queuedText:this.queuedText,queuedThrow:this.queuedThrow}},Gr.prototype.setState=function(Ee){if(!(!Ee||this.state===Ee)){this.state=Ee;var tt=this.states[Ee];this.groups=tt.groups,this.error=tt.error,this.re=tt.regexp,this.fast=tt.fast}},Gr.prototype.popState=function(){this.setState(this.stack.pop())},Gr.prototype.pushState=function(Ee){this.stack.push(this.state),this.setState(Ee)};var hh=C?function(Ee,tt){return Ee.exec(tt)}:function(Ee,tt){var Ct=Ee.exec(tt);return Ct[0].length===0?null:Ct};Gr.prototype._getGroup=function(Ee){for(var tt=this.groups.length,Ct=0;Ct<tt;Ct++)if(Ee[Ct+1]!==void 0)return this.groups[Ct];throw new Error("Cannot find token type for matched text")};function mh(){return this.value}if(Gr.prototype.next=function(){var Ee=this.index;if(this.queuedGroup){var tt=this._token(this.queuedGroup,this.queuedText,Ee);return this.queuedGroup=null,this.queuedText="",tt}var Ct=this.buffer;if(Ee!==Ct.length){var Rn=this.fast[Ct.charCodeAt(Ee)];if(Rn)return this._token(Rn,Ct.charAt(Ee),Ee);var Vt=this.re;Vt.lastIndex=Ee;var Cn=hh(Vt,Ct),Jt=this.error;if(Cn==null)return this._token(Jt,Ct.slice(Ee,Ct.length),Ee);var Rn=this._getGroup(Cn),Mr=Cn[0];return Jt.fallback&&Cn.index!==Ee?(this.queuedGroup=Rn,this.queuedText=Mr,this._token(Jt,Ct.slice(Ee,Cn.index),Ee)):this._token(Rn,Mr,Ee)}},Gr.prototype._token=function(Ee,tt,Ct){var Vt=0;if(Ee.lineBreaks){var Cn=/\n/g,Jt=1;if(tt===`
`)Vt=1;else for(;Cn.exec(tt);)Vt++,Jt=Cn.lastIndex}var Rn={type:typeof Ee.type=="function"&&Ee.type(tt)||Ee.defaultType,value:typeof Ee.value=="function"?Ee.value(tt):tt,text:tt,toString:mh,offset:Ct,lineBreaks:Vt,line:this.line,col:this.col},Mr=tt.length;if(this.index+=Mr,this.line+=Vt,Vt!==0?this.col=Mr-Jt+1:this.col+=Mr,Ee.shouldThrow){var Jn=new Error(this.formatError(Rn,"invalid syntax"));throw Jn}return Ee.pop?this.popState():Ee.push?this.pushState(Ee.push):Ee.next&&this.setState(Ee.next),Rn},typeof Symbol<"u"&&Symbol.iterator){var sa=function(Ee){this.lexer=Ee};sa.prototype.next=function(){var Ee=this.lexer.next();return{value:Ee,done:!Ee}},sa.prototype[Symbol.iterator]=function(){return this},Gr.prototype[Symbol.iterator]=function(){return new sa(this)}}return Gr.prototype.formatError=function(Ee,tt){if(Ee==null)var Ct=this.buffer.slice(this.index),Ee={text:Ct,offset:this.index,lineBreaks:Ct.indexOf(`
`)===-1?0:1,line:this.line,col:this.col};var Vt=2,Cn=Math.max(Ee.line-Vt,1),Jt=Ee.line+Vt,Rn=String(Jt).length,Mr=sn(this.buffer,this.line-Ee.line+Vt+1).slice(0,5),Jn=[];Jn.push(tt+" at line "+Ee.line+" col "+Ee.col+":"),Jn.push("");for(var un=0;un<Mr.length;un++){var _i=Mr[un],jl=Cn+un;Jn.push(Yt(String(jl),Rn)+"  "+_i),jl===Ee.line&&Jn.push(Yt("",Rn+Ee.col+1)+"^")}return Jn.join(`
`)},Gr.prototype.clone=function(){return new Gr(this.states,this.state)},Gr.prototype.has=function(Ee){return!0},{compile:Ha,states:ia,error:Object.freeze({error:!0}),fallback:Object.freeze({fallback:!0}),keywords:oa}})})(mn);var ai=mn.exports;(function(p){var g=Cr&&Cr.__importDefault||function(C){return C&&C.__esModule?C:{default:C}};Object.defineProperty(p,"__esModule",{value:!0}),p.lexer=p.states=void 0;let y=g(ai);p.states={body:{doubleapos:{match:"''",value:()=>"'"},quoted:{lineBreaks:!0,match:/'[{}#](?:[^]*?[^'])?'(?!')/u,value:C=>C.slice(1,-1).replace(/''/g,"'")},argument:{lineBreaks:!0,match:/\{\s*[^\p{Pat_Syn}\p{Pat_WS}]+\s*/u,push:"arg",value:C=>C.substring(1).trim()},octothorpe:"#",end:{match:"}",pop:1},content:{lineBreaks:!0,match:/[^][^{}#']*/u}},arg:{select:{lineBreaks:!0,match:/,\s*(?:plural|select|selectordinal)\s*,\s*/u,next:"select",value:C=>C.split(",")[1].trim()},"func-args":{lineBreaks:!0,match:/,\s*[^\p{Pat_Syn}\p{Pat_WS}]+\s*,/u,next:"body",value:C=>C.split(",")[1].trim()},"func-simple":{lineBreaks:!0,match:/,\s*[^\p{Pat_Syn}\p{Pat_WS}]+\s*/u,value:C=>C.substring(1).trim()},end:{match:"}",pop:1}},select:{offset:{lineBreaks:!0,match:/\s*offset\s*:\s*\d+\s*/u,value:C=>C.split(":")[1].trim()},case:{lineBreaks:!0,match:/\s*(?:=\d+|[^\p{Pat_Syn}\p{Pat_WS}]+)\s*\{/u,push:"body",value:C=>C.substring(0,C.indexOf("{")).trim()},end:{match:/\s*\}/u,pop:1}}},p.lexer=y.default.states(p.states)})(_t),Object.defineProperty(Dt,"__esModule",{value:!0});var Zr=Dt.parse=Dt.ParseError=void 0;let ln=_t,Mt=p=>({offset:p.offset,line:p.line,col:p.col,text:p.text,lineBreaks:p.lineBreaks}),li=p=>p==="plural"||p==="select"||p==="selectordinal";function zo(p,g){let y="",C="";for(let R of g){let q=R.ctx.text;switch(C+=q,R.type){case"content":y+=R.value;break;case"argument":case"function":case"octothorpe":y+=q;break;default:throw new Rr(p,`Unsupported part in strict mode function arg style: ${q}`)}}return[{type:"content",value:y.trim(),ctx:Object.assign({},g[0].ctx,{text:C})}]}let qo=["number","date","time","spellout","ordinal","duration"],Ua=["zero","one","two","few","many","other"];class Rr extends Error{constructor(g,y){super(ln.lexer.formatError(g,y))}}Dt.ParseError=Rr;class Vl{constructor(g,y){var C,I,R,q;this.lexer=ln.lexer.reset(g),this.cardinalKeys=(C=y?.cardinal)!==null&&C!==void 0?C:Ua,this.ordinalKeys=(I=y?.ordinal)!==null&&I!==void 0?I:Ua,this.strict=(R=y?.strict)!==null&&R!==void 0?R:!1,this.strictPluralKeys=(q=y?.strictPluralKeys)!==null&&q!==void 0?q:!0}parse(){return this.parseBody(!1,!0)}checkSelectKey(g,y,C){if(C[0]==="="){if(y==="select")throw new Rr(g,`The case ${C} is not valid with select`)}else if(y!=="select"){let I=y==="plural"?this.cardinalKeys:this.ordinalKeys;if(this.strictPluralKeys&&I.length>0&&!I.includes(C)){let R=`The ${y} case ${C} is not valid in this locale`;throw new Rr(g,R)}}}parseSelect(g,y,C,I){let{value:R}=g,q={type:I,arg:R,cases:[],ctx:C};I==="plural"||I==="selectordinal"?y=!0:this.strict&&(y=!1);for(let se of this.lexer)switch(se.type){case"offset":if(I==="select")throw new Rr(se,"Unexpected plural offset for select");if(q.cases.length>0)throw new Rr(se,"Plural offset must be set before cases");q.pluralOffset=Number(se.value),C.text+=se.text,C.lineBreaks+=se.lineBreaks;break;case"case":{this.checkSelectKey(se,I,se.value),q.cases.push({key:se.value,tokens:this.parseBody(y),ctx:Mt(se)});break}case"end":return q;default:throw new Rr(se,`Unexpected lexer token: ${se.type}`)}throw new Rr(null,"Unexpected message end")}parseArgToken(g,y){let C=Mt(g),I=this.lexer.next();if(!I)throw new Rr(null,"Unexpected message end");if(C.text+=I.text,C.lineBreaks+=I.lineBreaks,this.strict&&(I.type==="func-simple"||I.type==="func-args")&&!qo.includes(I.value)){let R=`Invalid strict mode function arg type: ${I.value}`;throw new Rr(g,R)}switch(I.type){case"end":return{type:"argument",arg:g.value,ctx:C};case"func-simple":{let R=this.lexer.next();if(!R)throw new Rr(null,"Unexpected message end");if(R.type!=="end")throw new Rr(R,`Unexpected lexer token: ${R.type}`);if(C.text+=R.text,li(I.value.toLowerCase()))throw new Rr(I,`Invalid type identifier: ${I.value}`);return{type:"function",arg:g.value,key:I.value,ctx:C}}case"func-args":{if(li(I.value.toLowerCase())){let q=`Invalid type identifier: ${I.value}`;throw new Rr(I,q)}let R=this.parseBody(this.strict?!1:y);return this.strict&&R.length>0&&(R=zo(g,R)),{type:"function",arg:g.value,key:I.value,param:R,ctx:C}}case"select":if(li(I.value))return this.parseSelect(g,y,C,I.value);throw new Rr(I,`Unexpected select type ${I.value}`);default:throw new Rr(I,`Unexpected lexer token: ${I.type}`)}}parseBody(g,y){let C=[],I=null;for(let R of this.lexer)if(R.type==="argument")I&&(I=null),C.push(this.parseArgToken(R,g));else if(R.type==="octothorpe"&&g)I&&(I=null),C.push({type:"octothorpe",ctx:Mt(R)});else{if(R.type==="end"&&!y)return C;{let q=R.value;if(!g&&R.type==="quoted"&&q[0]==="#"){if(q.includes("{")){let se=`Unsupported escape pattern: ${q}`;throw new Rr(R,se)}q=R.text}I?(I.value+=q,I.ctx.text+=R.text,I.ctx.lineBreaks+=R.lineBreaks):(I={type:"content",value:q,ctx:Mt(R)},C.push(I))}}if(y)return C;throw new Rr(null,"Unexpected message end")}}function $l(p){let g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return new Vl(p,g).parse()}Zr=Dt.parse=$l;function Zs(p){return Zs[p]||(Zs[p]=new Intl.NumberFormat(p))}function uh(p,g,y){return Zs(p).format(g-y)}function Mv(p,g,y,C){var I=g-y;if(isNaN(I))throw new Error("`"+C+"` or its offset is not a number");return Zs(p).format(I)}function kv(p,g,y,C,I){if({}.hasOwnProperty.call(C,p))return C[p];g&&(p-=g);var R=y(p,I);return R in C?C[R]:C.other}function Ko(p,g){return{}.hasOwnProperty.call(g,p)?g[p]:g.other}function Xs(p,g){for(var y=0;y<p.length;++y)if(!g||g[p[y]]===void 0)throw new Error("Message requires argument '".concat(p[y],"'"))}var Ga=Object.freeze({__proto__:null,_nf:Zs,number:uh,plural:kv,reqArgs:Xs,select:Ko,strictNumber:Mv});function Jf(p,g,y){var C={day:"numeric",month:"short",year:"numeric"};switch(y){case"full":C.weekday="long";case"long":C.month="long";break;case"short":C.month="numeric"}return new Date(p).toLocaleDateString(g,C)}function Qf(p){if(typeof p!="number"&&(p=Number(p)),!isFinite(p))return String(p);var g="";p<0?(g="-",p=Math.abs(p)):p=Number(p);var y=p%60,C=[Math.round(y)===y?y:y.toFixed(3)];p<60?C.unshift(0):(p=Math.round((p-Number(C[0]))/60),C.unshift(p%60),p>=60&&(p=Math.round((p-Number(C[0]))/60),C.unshift(p)));var I=C.shift();return g+I+":"+C.map(function(R){return Number(R)<10?"0"+String(R):String(R)}).join(":")}var qc={};function Kc(p,g){var y=String(p)+JSON.stringify(g);return qc[y]||(qc[y]=new Intl.NumberFormat(p,g)),qc[y]}function Li(p,g,y,C){var I=y&&y.split(":")||[],R=I[0],q=I[1],se={integer:{maximumFractionDigits:0},percent:{style:"percent"},currency:{style:"currency",currency:q&&q.trim()||C,minimumFractionDigits:2,maximumFractionDigits:2}};return Kc(g,se[R]||{}).format(p)}var fh=function(p,g,y){return Kc(g,{style:"currency",currency:y,minimumFractionDigits:2,maximumFractionDigits:2}).format(p)},M=function(p,g){return Kc(g,{maximumFractionDigits:0}).format(p)},U=function(p,g){return Kc(g,{style:"percent"}).format(p)};function j(p,g,y){var C={second:"numeric",minute:"numeric",hour:"numeric"};switch(y){case"full":case"long":C.timeZoneName="short";break;case"short":delete C.second}return new Date(p).toLocaleTimeString(g,C)}var w=Object.freeze({__proto__:null,date:Jf,duration:Qf,numberCurrency:fh,numberFmt:Li,numberInteger:M,numberPercent:U,time:j}),pe={ES3:{break:!0,continue:!0,delete:!0,else:!0,for:!0,function:!0,if:!0,in:!0,new:!0,return:!0,this:!0,typeof:!0,var:!0,void:!0,while:!0,with:!0,case:!0,catch:!0,default:!0,do:!0,finally:!0,instanceof:!0,switch:!0,throw:!0,try:!0},ESnext:{await:!0,debugger:!0,class:!0,enum:!0,extends:!0,super:!0,const:!0,export:!0,import:!0,null:!0,true:!0,false:!0,implements:!0,let:!0,private:!0,public:!0,yield:!0,interface:!0,package:!0,protected:!0,static:!0}},Pe=Et(pe);function Ke(p){let g=0;for(let y=0;y<p.length;++y){let C=p.charCodeAt(y);g=(g<<5)-g+C,g|=0}return g}function ft(p,g){g&&(p+=" "+Ke(p).toString(36));let y=p.trim().replace(/\W+/g,"_");return Pe.ES3[y]||Pe.ESnext[y]||/^\d/.test(y)?"_"+y:y}function at(p,g){if(/^[A-Z_$][0-9A-Z_$]*$/i.test(g)&&!Pe.ES3[g])return p?p+"."+g:g;{let y=JSON.stringify(g);return p?p+"["+y+"]":y}}var On=["ar","ckb","fa","he","ks($|[^bfh])","lrc","mzn","pa-Arab","ps","ug","ur","uz-Arab","yi"],ht=new RegExp("^"+On.join("|^"));function jt(p,g){var y=ht.test(g),C=JSON.stringify(y?"\u200F":"\u200E");return"".concat(C," + ").concat(p," + ").concat(C)}var Gt="@messageformat/runtime",Xt="@messageformat/runtime/lib/cardinals",Kt="@messageformat/runtime/lib/plurals",Ht="@messageformat/runtime/lib/formatters",qt=function(){function p(g){this.arguments=[],this.runtime={},this.options=g}return p.prototype.compile=function(g,y,C){var I,R,q=this,se=this.options,ye=se.localeCodeFromKey,qe=se.requireAllArguments,Tt=se.strict,Yt=se.strictPluralKeys;if(typeof g=="object"){var sn={};try{for(var lt=e(Object.keys(g)),cr=lt.next();!cr.done;cr=lt.next()){var Ar=cr.value,Kr=ye?ye(Ar):Ar,Ti=C&&Kr&&C[Kr]||y;sn[Ar]=this.compile(g[Ar],Ti,C)}}catch(Gr){I={error:Gr}}finally{try{cr&&!cr.done&&(R=lt.return)&&R.call(lt)}finally{if(I)throw I.error}}return sn}this.plural=y;var Do={cardinal:y.cardinals,ordinal:y.ordinals,strict:Tt,strictPluralKeys:Yt};this.arguments=[];var Ha=Zr(g,Do).map(function(Gr){return q.token(Gr,null)}),ra=this.arguments.length>0,ia=this.concatenate(Ha,!0);if(qe&&ra){this.setRuntimeFn("reqArgs");var oa=JSON.stringify(this.arguments);return"(d) => { reqArgs(".concat(oa,", d); return ").concat(ia,"; }")}return"(".concat(ra?"d":"",") => ").concat(ia)},p.prototype.cases=function(g,y){var C=this,I=!0,R=g.cases.map(function(Tt){var Yt=Tt.key,sn=Tt.tokens;Yt==="other"&&(I=!1);var lt=sn.map(function(cr){return C.token(cr,y)});return"".concat(at(null,Yt.replace(/^=/,"")),": ").concat(C.concatenate(lt,!1))});if(I){var q=g.type,se=this.plural,ye=se.cardinals,qe=se.ordinals;if(q==="select"||q==="plural"&&ye.includes("other")||q==="selectordinal"&&qe.includes("other"))throw new Error("No 'other' form found in ".concat(JSON.stringify(g)))}return"{ ".concat(R.join(", ")," }")},p.prototype.concatenate=function(g,y){var C=this.options.returnType==="values";return C&&(y||g.length>1)?"["+g.join(", ")+"]":g.join(" + ")||'""'},p.prototype.token=function(g,y){if(g.type==="content")return JSON.stringify(g.value);var C=this.plural,I=C.id,R=C.lc,q,se;switch("arg"in g?(this.arguments.push(g.arg),q=[at("d",g.arg)]):q=[],g.type){case"argument":return this.options.biDiSupport?jt(String(q[0]),R):String(q[0]);case"select":se="select",y&&this.options.strict&&(y=null),q.push(this.cases(g,y)),this.setRuntimeFn("select");break;case"selectordinal":se="plural",q.push(g.pluralOffset||0,I,this.cases(g,g),1),this.setLocale(I,!0),this.setRuntimeFn("plural");break;case"plural":se="plural",q.push(g.pluralOffset||0,I,this.cases(g,g)),this.setLocale(I,!1),this.setRuntimeFn("plural");break;case"function":{var ye=this.options.customFormatters[g.key],qe=ye&&"module"in ye&&typeof ye.module=="function";if(!ye){if(g.key==="date"){se=this.setDateFormatter(g,q,y);break}else if(g.key==="number"){se=this.setNumberFormatter(g,q,y);break}}if(q.push(JSON.stringify(this.plural.locale)),g.param){y&&this.options.strict&&(y=null);var Tt=this.getFormatterArg(g,y);Tt&&q.push(Tt)}se=qe?ft("".concat(g.key,"__").concat(this.plural.locale)):g.key,this.setFormatter(se,g.key);break}case"octothorpe":if(!y)return'"#"';q=[JSON.stringify(this.plural.locale),at("d",y.arg),y.pluralOffset||0],this.options.strict?(se="strictNumber",q.push(JSON.stringify(y.arg)),this.setRuntimeFn("strictNumber")):(se="number",this.setRuntimeFn("number"));break}if(!se)throw new Error("Parser error for token "+JSON.stringify(g));return"".concat(se,"(").concat(q.join(", "),")")},p.prototype.runtimeIncludes=function(g,y){if(ft(g)!==g)throw new SyntaxError("Reserved word used as ".concat(y," identifier: ").concat(g));var C=this.runtime[g];if(!C||C.type===y)return C;throw new TypeError("Cannot override ".concat(C.type," runtime function as ").concat(y,": ").concat(g))},p.prototype.setLocale=function(g,y){var C=this.runtimeIncludes(g,"locale"),I=this.plural,R=I.getCardinal,q=I.getPlural,se=I.isDefault,ye,qe,Tt;if(!y&&se&&R){if(C)return;ye=function(Yt){return R(Yt)},qe=Xt,Tt=function(){return String(R)}}else{if(C&&(!se||C.module===Kt))return;ye=function(Yt,sn){return q(Yt,sn)},qe=se?Kt:q.module||null,Tt=function(){return String(q)}}this.runtime[g]=Object.assign(ye,{id:g,module:qe,toString:Tt,type:"locale"})},p.prototype.setRuntimeFn=function(g){this.runtimeIncludes(g,"runtime")||(this.runtime[g]=Object.assign(Ga[g],{id:g,module:Gt,type:"runtime"}))},p.prototype.getFormatterArg=function(g,y){var C,I,R,q,se=this,ye=g.key,qe=g.param,Tt=this.options.customFormatters[ye]||Ut(ye)&&w[ye];if(!Tt||!qe)return null;var Yt="arg"in Tt&&Tt.arg||"string";if(Yt==="options"){var sn="";try{for(var lt=e(qe),cr=lt.next();!cr.done;cr=lt.next()){var Ar=cr.value;if(Ar.type==="content")sn+=Ar.value;else throw new SyntaxError("Expected literal options for ".concat(ye," formatter"))}}catch(sa){C={error:sa}}finally{try{cr&&!cr.done&&(I=lt.return)&&I.call(lt)}finally{if(C)throw C.error}}var Kr={};try{for(var Ti=e(sn.split(",")),Do=Ti.next();!Do.done;Do=Ti.next()){var Ha=Do.value,ra=Ha.indexOf(":");if(ra===-1)Kr[Ha.trim()]=null;else{var ia=Ha.substring(0,ra).trim(),oa=Ha.substring(ra+1).trim();if(oa==="true")Kr[ia]=!0;else if(oa==="false")Kr[ia]=!1;else if(oa==="null")Kr[ia]=null;else{var Gr=Number(oa);Kr[ia]=Number.isFinite(Gr)?Gr:oa}}}}catch(sa){R={error:sa}}finally{try{Do&&!Do.done&&(q=Ti.return)&&q.call(Ti)}finally{if(R)throw R.error}}return JSON.stringify(Kr)}else{var hh=qe.map(function(sa){return se.token(sa,y)});if(Yt==="raw")return"[".concat(hh.join(", "),"]");var mh=hh.join(" + ");return mh?"(".concat(mh,").trim()"):'""'}},p.prototype.setFormatter=function(g,y){if(!this.runtimeIncludes(g,"formatter")){var C=this.options.customFormatters[y||g];if(C){var I=typeof C=="function"?{formatter:C}:C;this.runtime[g]=Object.assign(I.formatter.bind({}),t(t({},I.formatter.prototype),{toString:function(){return String(I.formatter)}}),{type:"formatter"},"module"in C&&C.module&&C.id?{id:ft(C.id),module:typeof C.module=="function"?C.module(this.plural.locale):C.module}:{id:null,module:null})}else if(Ut(g))this.runtime[g]=Object.assign(w[g],{type:"formatter"},{id:g,module:Ht});else throw new Error("Formatting function not found: ".concat(g))}},p.prototype.setDateFormatter=function(g,y,C){var I=this,R=g.param,q=this.plural.locale,se=R&&R.length===1&&R[0];if(se&&se.type==="content"&&/^\s*::/.test(se.value)){var ye=se.value.trim().substr(2),qe=ft("date_".concat(q,"_").concat(ye),!0);if(!this.runtimeIncludes(qe,"formatter")){var Tt=k(q,ye,this.options.timeZone);this.runtime[qe]=Object.assign(Tt,{id:qe,module:null,toString:function(){return $(q,ye,I.options.timeZone)},type:"formatter"})}return qe}if(y.push(JSON.stringify(q)),R&&R.length>0){C&&this.options.strict&&(C=null);var Yt=R.map(function(sn){return I.token(sn,C)});y.push("("+(Yt.join(" + ")||'""')+").trim()")}return this.setFormatter("date"),"date"},p.prototype.setNumberFormatter=function(g,y,C){var I=this,R=g.param,q=this.plural.locale;if(!R||R.length===0)return y.unshift(JSON.stringify(q)),y.push("0"),this.setRuntimeFn("number"),"number";if(y.push(JSON.stringify(q)),R.length===1&&R[0].type==="content"){var se=R[0].value.trim();switch(se){case"currency":return y.push(JSON.stringify(this.options.currency)),this.setFormatter("numberCurrency"),"numberCurrency";case"integer":return this.setFormatter("numberInteger"),"numberInteger";case"percent":return this.setFormatter("numberPercent"),"numberPercent"}var ye=se.match(/^currency:([A-Z]+)$/);if(ye)return y.push(JSON.stringify(ye[1])),this.setFormatter("numberCurrency"),"numberCurrency";var qe=ft("number_".concat(q,"_").concat(se),!0);if(!this.runtimeIncludes(qe,"formatter")){var Tt=this.options.currency,Yt=kn(q,se,Tt);this.runtime[qe]=Object.assign(Yt,{id:null,module:null,toString:function(){return Ir(q,se,Tt)},type:"formatter"})}return qe}C&&this.options.strict&&(C=null);var sn=R.map(function(lt){return I.token(lt,C)});return y.push("("+(sn.join(" + ")||'""')+").trim()"),y.push(JSON.stringify(this.options.currency)),this.setFormatter("numberFmt"),"numberFmt"},p}();function Ut(p){return p in w}let me=p=>p==1?"one":"other",vt=p=>p==0||p==1?"one":"other",it=p=>p>=0&&p<=1?"one":"other",et=p=>{let g=String(p).split("."),y=!g[1];return p==1&&y?"one":"other"},Ge=p=>"other",Xe=p=>p==1?"one":p==2?"two":"other";var G5=Object.freeze({__proto__:null,af:me,ak:vt,am:it,an:me,ar:p=>{let g=String(p).split("."),y=Number(g[0])==p,C=y&&g[0].slice(-2);return p==0?"zero":p==1?"one":p==2?"two":C>=3&&C<=10?"few":C>=11&&C<=99?"many":"other"},ars:p=>{let g=String(p).split("."),y=Number(g[0])==p,C=y&&g[0].slice(-2);return p==0?"zero":p==1?"one":p==2?"two":C>=3&&C<=10?"few":C>=11&&C<=99?"many":"other"},as:it,asa:me,ast:et,az:me,bal:me,be:p=>{let g=String(p).split("."),y=Number(g[0])==p,C=y&&g[0].slice(-1),I=y&&g[0].slice(-2);return C==1&&I!=11?"one":C>=2&&C<=4&&(I<12||I>14)?"few":y&&C==0||C>=5&&C<=9||I>=11&&I<=14?"many":"other"},bem:me,bez:me,bg:me,bho:vt,bm:Ge,bn:it,bo:Ge,br:p=>{let g=String(p).split("."),y=Number(g[0])==p,C=y&&g[0].slice(-1),I=y&&g[0].slice(-2),R=y&&g[0].slice(-6);return C==1&&I!=11&&I!=71&&I!=91?"one":C==2&&I!=12&&I!=72&&I!=92?"two":(C==3||C==4||C==9)&&(I<10||I>19)&&(I<70||I>79)&&(I<90||I>99)?"few":p!=0&&y&&R==0?"many":"other"},brx:me,bs:p=>{let g=String(p).split("."),y=g[0],C=g[1]||"",I=!g[1],R=y.slice(-1),q=y.slice(-2),se=C.slice(-1),ye=C.slice(-2);return I&&R==1&&q!=11||se==1&&ye!=11?"one":I&&R>=2&&R<=4&&(q<12||q>14)||se>=2&&se<=4&&(ye<12||ye>14)?"few":"other"},ca:p=>{let g=String(p).split("."),y=g[0],C=!g[1],I=y.slice(-6);return p==1&&C?"one":y!=0&&I==0&&C?"many":"other"},ce:me,ceb:p=>{let g=String(p).split("."),y=g[0],C=g[1]||"",I=!g[1],R=y.slice(-1),q=C.slice(-1);return I&&(y==1||y==2||y==3)||I&&R!=4&&R!=6&&R!=9||!I&&q!=4&&q!=6&&q!=9?"one":"other"},cgg:me,chr:me,ckb:me,cs:p=>{let g=String(p).split("."),y=g[0],C=!g[1];return p==1&&C?"one":y>=2&&y<=4&&C?"few":C?"other":"many"},cy:p=>p==0?"zero":p==1?"one":p==2?"two":p==3?"few":p==6?"many":"other",da:p=>{let g=String(p).split("."),y=g[0],C=Number(g[0])==p;return p==1||!C&&(y==0||y==1)?"one":"other"},de:et,doi:it,dsb:p=>{let g=String(p).split("."),y=g[0],C=g[1]||"",I=!g[1],R=y.slice(-2),q=C.slice(-2);return I&&R==1||q==1?"one":I&&R==2||q==2?"two":I&&(R==3||R==4)||q==3||q==4?"few":"other"},dv:me,dz:Ge,ee:me,el:me,en:et,eo:me,es:p=>{let g=String(p).split("."),y=g[0],C=!g[1],I=y.slice(-6);return p==1?"one":y!=0&&I==0&&C?"many":"other"},et,eu:me,fa:it,ff:p=>p>=0&&p<2?"one":"other",fi:et,fil:p=>{let g=String(p).split("."),y=g[0],C=g[1]||"",I=!g[1],R=y.slice(-1),q=C.slice(-1);return I&&(y==1||y==2||y==3)||I&&R!=4&&R!=6&&R!=9||!I&&q!=4&&q!=6&&q!=9?"one":"other"},fo:me,fr:p=>{let g=String(p).split("."),y=g[0],C=!g[1],I=y.slice(-6);return p>=0&&p<2?"one":y!=0&&I==0&&C?"many":"other"},fur:me,fy:et,ga:p=>{let g=String(p).split("."),y=Number(g[0])==p;return p==1?"one":p==2?"two":y&&p>=3&&p<=6?"few":y&&p>=7&&p<=10?"many":"other"},gd:p=>{let g=String(p).split("."),y=Number(g[0])==p;return p==1||p==11?"one":p==2||p==12?"two":y&&p>=3&&p<=10||y&&p>=13&&p<=19?"few":"other"},gl:et,gsw:me,gu:it,guw:vt,gv:p=>{let g=String(p).split("."),y=g[0],C=!g[1],I=y.slice(-1),R=y.slice(-2);return C&&I==1?"one":C&&I==2?"two":C&&(R==0||R==20||R==40||R==60||R==80)?"few":C?"other":"many"},ha:me,haw:me,he:p=>{let g=String(p).split("."),y=g[0],C=!g[1];return y==1&&C||y==0&&!C?"one":y==2&&C?"two":"other"},hi:it,hnj:Ge,hr:p=>{let g=String(p).split("."),y=g[0],C=g[1]||"",I=!g[1],R=y.slice(-1),q=y.slice(-2),se=C.slice(-1),ye=C.slice(-2);return I&&R==1&&q!=11||se==1&&ye!=11?"one":I&&R>=2&&R<=4&&(q<12||q>14)||se>=2&&se<=4&&(ye<12||ye>14)?"few":"other"},hsb:p=>{let g=String(p).split("."),y=g[0],C=g[1]||"",I=!g[1],R=y.slice(-2),q=C.slice(-2);return I&&R==1||q==1?"one":I&&R==2||q==2?"two":I&&(R==3||R==4)||q==3||q==4?"few":"other"},hu:me,hy:p=>p>=0&&p<2?"one":"other",ia:et,id:Ge,ig:Ge,ii:Ge,io:et,is:p=>{let g=String(p).split("."),y=g[0],C=(g[1]||"").replace(/0+$/,""),I=Number(g[0])==p,R=y.slice(-1),q=y.slice(-2);return I&&R==1&&q!=11||C%10==1&&C%100!=11?"one":"other"},it:p=>{let g=String(p).split("."),y=g[0],C=!g[1],I=y.slice(-6);return p==1&&C?"one":y!=0&&I==0&&C?"many":"other"},iu:Xe,ja:Ge,jbo:Ge,jgo:me,jmc:me,jv:Ge,jw:Ge,ka:me,kab:p=>p>=0&&p<2?"one":"other",kaj:me,kcg:me,kde:Ge,kea:Ge,kk:me,kkj:me,kl:me,km:Ge,kn:it,ko:Ge,ks:me,ksb:me,ksh:p=>p==0?"zero":p==1?"one":"other",ku:me,kw:p=>{let g=String(p).split("."),y=Number(g[0])==p,C=y&&g[0].slice(-2),I=y&&g[0].slice(-3),R=y&&g[0].slice(-5),q=y&&g[0].slice(-6);return p==0?"zero":p==1?"one":C==2||C==22||C==42||C==62||C==82||y&&I==0&&(R>=1e3&&R<=2e4||R==4e4||R==6e4||R==8e4)||p!=0&&q==1e5?"two":C==3||C==23||C==43||C==63||C==83?"few":p!=1&&(C==1||C==21||C==41||C==61||C==81)?"many":"other"},ky:me,lag:p=>{let g=String(p).split("."),y=g[0];return p==0?"zero":(y==0||y==1)&&p!=0?"one":"other"},lb:me,lg:me,lij:et,lkt:Ge,ln:vt,lo:Ge,lt:p=>{let g=String(p).split("."),y=g[1]||"",C=Number(g[0])==p,I=C&&g[0].slice(-1),R=C&&g[0].slice(-2);return I==1&&(R<11||R>19)?"one":I>=2&&I<=9&&(R<11||R>19)?"few":y!=0?"many":"other"},lv:p=>{let g=String(p).split("."),y=g[1]||"",C=y.length,I=Number(g[0])==p,R=I&&g[0].slice(-1),q=I&&g[0].slice(-2),se=y.slice(-2),ye=y.slice(-1);return I&&R==0||q>=11&&q<=19||C==2&&se>=11&&se<=19?"zero":R==1&&q!=11||C==2&&ye==1&&se!=11||C!=2&&ye==1?"one":"other"},mas:me,mg:vt,mgo:me,mk:p=>{let g=String(p).split("."),y=g[0],C=g[1]||"",I=!g[1],R=y.slice(-1),q=y.slice(-2),se=C.slice(-1),ye=C.slice(-2);return I&&R==1&&q!=11||se==1&&ye!=11?"one":"other"},ml:me,mn:me,mo:p=>{let g=String(p).split("."),y=!g[1],C=Number(g[0])==p,I=C&&g[0].slice(-2);return p==1&&y?"one":!y||p==0||p!=1&&I>=1&&I<=19?"few":"other"},mr:me,ms:Ge,mt:p=>{let g=String(p).split("."),y=Number(g[0])==p,C=y&&g[0].slice(-2);return p==1?"one":p==2?"two":p==0||C>=3&&C<=10?"few":C>=11&&C<=19?"many":"other"},my:Ge,nah:me,naq:Xe,nb:me,nd:me,ne:me,nl:et,nn:me,nnh:me,no:me,nqo:Ge,nr:me,nso:vt,ny:me,nyn:me,om:me,or:me,os:me,osa:Ge,pa:vt,pap:me,pcm:it,pl:p=>{let g=String(p).split("."),y=g[0],C=!g[1],I=y.slice(-1),R=y.slice(-2);return p==1&&C?"one":C&&I>=2&&I<=4&&(R<12||R>14)?"few":C&&y!=1&&(I==0||I==1)||C&&I>=5&&I<=9||C&&R>=12&&R<=14?"many":"other"},prg:p=>{let g=String(p).split("."),y=g[1]||"",C=y.length,I=Number(g[0])==p,R=I&&g[0].slice(-1),q=I&&g[0].slice(-2),se=y.slice(-2),ye=y.slice(-1);return I&&R==0||q>=11&&q<=19||C==2&&se>=11&&se<=19?"zero":R==1&&q!=11||C==2&&ye==1&&se!=11||C!=2&&ye==1?"one":"other"},ps:me,pt:p=>{let g=String(p).split("."),y=g[0],C=!g[1],I=y.slice(-6);return y==0||y==1?"one":y!=0&&I==0&&C?"many":"other"},pt_PT:p=>{let g=String(p).split("."),y=g[0],C=!g[1],I=y.slice(-6);return p==1&&C?"one":y!=0&&I==0&&C?"many":"other"},rm:me,ro:p=>{let g=String(p).split("."),y=!g[1],C=Number(g[0])==p,I=C&&g[0].slice(-2);return p==1&&y?"one":!y||p==0||p!=1&&I>=1&&I<=19?"few":"other"},rof:me,ru:p=>{let g=String(p).split("."),y=g[0],C=!g[1],I=y.slice(-1),R=y.slice(-2);return C&&I==1&&R!=11?"one":C&&I>=2&&I<=4&&(R<12||R>14)?"few":C&&I==0||C&&I>=5&&I<=9||C&&R>=11&&R<=14?"many":"other"},rwk:me,sah:Ge,saq:me,sat:Xe,sc:et,scn:et,sd:me,sdh:me,se:Xe,seh:me,ses:Ge,sg:Ge,sh:p=>{let g=String(p).split("."),y=g[0],C=g[1]||"",I=!g[1],R=y.slice(-1),q=y.slice(-2),se=C.slice(-1),ye=C.slice(-2);return I&&R==1&&q!=11||se==1&&ye!=11?"one":I&&R>=2&&R<=4&&(q<12||q>14)||se>=2&&se<=4&&(ye<12||ye>14)?"few":"other"},shi:p=>{let g=String(p).split("."),y=Number(g[0])==p;return p>=0&&p<=1?"one":y&&p>=2&&p<=10?"few":"other"},si:p=>{let g=String(p).split("."),y=g[0],C=g[1]||"";return p==0||p==1||y==0&&C==1?"one":"other"},sk:p=>{let g=String(p).split("."),y=g[0],C=!g[1];return p==1&&C?"one":y>=2&&y<=4&&C?"few":C?"other":"many"},sl:p=>{let g=String(p).split("."),y=g[0],C=!g[1],I=y.slice(-2);return C&&I==1?"one":C&&I==2?"two":C&&(I==3||I==4)||!C?"few":"other"},sma:Xe,smi:Xe,smj:Xe,smn:Xe,sms:Xe,sn:me,so:me,sq:me,sr:p=>{let g=String(p).split("."),y=g[0],C=g[1]||"",I=!g[1],R=y.slice(-1),q=y.slice(-2),se=C.slice(-1),ye=C.slice(-2);return I&&R==1&&q!=11||se==1&&ye!=11?"one":I&&R>=2&&R<=4&&(q<12||q>14)||se>=2&&se<=4&&(ye<12||ye>14)?"few":"other"},ss:me,ssy:me,st:me,su:Ge,sv:et,sw:et,syr:me,ta:me,te:me,teo:me,th:Ge,ti:vt,tig:me,tk:me,tl:p=>{let g=String(p).split("."),y=g[0],C=g[1]||"",I=!g[1],R=y.slice(-1),q=C.slice(-1);return I&&(y==1||y==2||y==3)||I&&R!=4&&R!=6&&R!=9||!I&&q!=4&&q!=6&&q!=9?"one":"other"},tn:me,to:Ge,tpi:Ge,tr:me,ts:me,tzm:p=>{let g=String(p).split("."),y=Number(g[0])==p;return p==0||p==1||y&&p>=11&&p<=99?"one":"other"},ug:me,uk:p=>{let g=String(p).split("."),y=g[0],C=!g[1],I=y.slice(-1),R=y.slice(-2);return C&&I==1&&R!=11?"one":C&&I>=2&&I<=4&&(R<12||R>14)?"few":C&&I==0||C&&I>=5&&I<=9||C&&R>=11&&R<=14?"many":"other"},und:Ge,ur:et,uz:me,ve:me,vec:p=>{let g=String(p).split("."),y=g[0],C=!g[1],I=y.slice(-6);return p==1&&C?"one":y!=0&&I==0&&C?"many":"other"},vi:Ge,vo:me,vun:me,wa:vt,wae:me,wo:Ge,xh:me,xog:me,yi:et,yo:Ge,yue:Ge,zh:Ge,zu:it});let ea="zero",ot="one",Dr="two",wn="few",Sn="many",Me="other",Le={cardinal:[ot,Me],ordinal:[Me]},Bl={cardinal:[ot,Me],ordinal:[ot,Me]},Xn={cardinal:[Me],ordinal:[Me]},bs={cardinal:[ot,Dr,Me],ordinal:[Me]};var Ix=Object.freeze({__proto__:null,af:Le,ak:Le,am:Le,an:Le,ar:{cardinal:[ea,ot,Dr,wn,Sn,Me],ordinal:[Me]},ars:{cardinal:[ea,ot,Dr,wn,Sn,Me],ordinal:[Me]},as:{cardinal:[ot,Me],ordinal:[ot,Dr,wn,Sn,Me]},asa:Le,ast:Le,az:{cardinal:[ot,Me],ordinal:[ot,wn,Sn,Me]},bal:Bl,be:{cardinal:[ot,wn,Sn,Me],ordinal:[wn,Me]},bem:Le,bez:Le,bg:Le,bho:Le,bm:Xn,bn:{cardinal:[ot,Me],ordinal:[ot,Dr,wn,Sn,Me]},bo:Xn,br:{cardinal:[ot,Dr,wn,Sn,Me],ordinal:[Me]},brx:Le,bs:{cardinal:[ot,wn,Me],ordinal:[Me]},ca:{cardinal:[ot,Sn,Me],ordinal:[ot,Dr,wn,Me]},ce:Le,ceb:Le,cgg:Le,chr:Le,ckb:Le,cs:{cardinal:[ot,wn,Sn,Me],ordinal:[Me]},cy:{cardinal:[ea,ot,Dr,wn,Sn,Me],ordinal:[ea,ot,Dr,wn,Sn,Me]},da:Le,de:Le,doi:Le,dsb:{cardinal:[ot,Dr,wn,Me],ordinal:[Me]},dv:Le,dz:Xn,ee:Le,el:Le,en:{cardinal:[ot,Me],ordinal:[ot,Dr,wn,Me]},eo:Le,es:{cardinal:[ot,Sn,Me],ordinal:[Me]},et:Le,eu:Le,fa:Le,ff:Le,fi:Le,fil:Bl,fo:Le,fr:{cardinal:[ot,Sn,Me],ordinal:[ot,Me]},fur:Le,fy:Le,ga:{cardinal:[ot,Dr,wn,Sn,Me],ordinal:[ot,Me]},gd:{cardinal:[ot,Dr,wn,Me],ordinal:[ot,Dr,wn,Me]},gl:Le,gsw:Le,gu:{cardinal:[ot,Me],ordinal:[ot,Dr,wn,Sn,Me]},guw:Le,gv:{cardinal:[ot,Dr,wn,Sn,Me],ordinal:[Me]},ha:Le,haw:Le,he:bs,hi:{cardinal:[ot,Me],ordinal:[ot,Dr,wn,Sn,Me]},hnj:Xn,hr:{cardinal:[ot,wn,Me],ordinal:[Me]},hsb:{cardinal:[ot,Dr,wn,Me],ordinal:[Me]},hu:Bl,hy:Bl,ia:Le,id:Xn,ig:Xn,ii:Xn,io:Le,is:Le,it:{cardinal:[ot,Sn,Me],ordinal:[Sn,Me]},iu:bs,ja:Xn,jbo:Xn,jgo:Le,jmc:Le,jv:Xn,jw:Xn,ka:{cardinal:[ot,Me],ordinal:[ot,Sn,Me]},kab:Le,kaj:Le,kcg:Le,kde:Xn,kea:Xn,kk:{cardinal:[ot,Me],ordinal:[Sn,Me]},kkj:Le,kl:Le,km:Xn,kn:Le,ko:Xn,ks:Le,ksb:Le,ksh:{cardinal:[ea,ot,Me],ordinal:[Me]},ku:Le,kw:{cardinal:[ea,ot,Dr,wn,Sn,Me],ordinal:[ot,Sn,Me]},ky:Le,lag:{cardinal:[ea,ot,Me],ordinal:[Me]},lb:Le,lg:Le,lij:{cardinal:[ot,Me],ordinal:[Sn,Me]},lkt:Xn,ln:Le,lo:{cardinal:[Me],ordinal:[ot,Me]},lt:{cardinal:[ot,wn,Sn,Me],ordinal:[Me]},lv:{cardinal:[ea,ot,Me],ordinal:[Me]},mas:Le,mg:Le,mgo:Le,mk:{cardinal:[ot,Me],ordinal:[ot,Dr,Sn,Me]},ml:Le,mn:Le,mo:{cardinal:[ot,wn,Me],ordinal:[ot,Me]},mr:{cardinal:[ot,Me],ordinal:[ot,Dr,wn,Me]},ms:{cardinal:[Me],ordinal:[ot,Me]},mt:{cardinal:[ot,Dr,wn,Sn,Me],ordinal:[Me]},my:Xn,nah:Le,naq:bs,nb:Le,nd:Le,ne:Bl,nl:Le,nn:Le,nnh:Le,no:Le,nqo:Xn,nr:Le,nso:Le,ny:Le,nyn:Le,om:Le,or:{cardinal:[ot,Me],ordinal:[ot,Dr,wn,Sn,Me]},os:Le,osa:Xn,pa:Le,pap:Le,pcm:Le,pl:{cardinal:[ot,wn,Sn,Me],ordinal:[Me]},prg:{cardinal:[ea,ot,Me],ordinal:[Me]},ps:Le,pt:{cardinal:[ot,Sn,Me],ordinal:[Me]},pt_PT:{cardinal:[ot,Sn,Me],ordinal:[Me]},rm:Le,ro:{cardinal:[ot,wn,Me],ordinal:[ot,Me]},rof:Le,ru:{cardinal:[ot,wn,Sn,Me],ordinal:[Me]},rwk:Le,sah:Xn,saq:Le,sat:bs,sc:{cardinal:[ot,Me],ordinal:[Sn,Me]},scn:{cardinal:[ot,Me],ordinal:[Sn,Me]},sd:Le,sdh:Le,se:bs,seh:Le,ses:Xn,sg:Xn,sh:{cardinal:[ot,wn,Me],ordinal:[Me]},shi:{cardinal:[ot,wn,Me],ordinal:[Me]},si:Le,sk:{cardinal:[ot,wn,Sn,Me],ordinal:[Me]},sl:{cardinal:[ot,Dr,wn,Me],ordinal:[Me]},sma:bs,smi:bs,smj:bs,smn:bs,sms:bs,sn:Le,so:Le,sq:{cardinal:[ot,Me],ordinal:[ot,Sn,Me]},sr:{cardinal:[ot,wn,Me],ordinal:[Me]},ss:Le,ssy:Le,st:Le,su:Xn,sv:Bl,sw:Le,syr:Le,ta:Le,te:Le,teo:Le,th:Xn,ti:Le,tig:Le,tk:{cardinal:[ot,Me],ordinal:[wn,Me]},tl:Bl,tn:Le,to:Xn,tpi:Xn,tr:Le,ts:Le,tzm:Le,ug:Le,uk:{cardinal:[ot,wn,Sn,Me],ordinal:[wn,Me]},und:Xn,ur:Le,uz:Le,ve:Le,vec:{cardinal:[ot,Sn,Me],ordinal:[Sn,Me]},vi:{cardinal:[Me],ordinal:[ot,Me]},vo:Le,vun:Le,wa:Le,wae:Le,wo:Xn,xh:Le,xog:Le,yi:Le,yo:Xn,yue:Xn,zh:Xn,zu:Le});let st=(p,g)=>g?"other":p==1?"one":"other",ta=(p,g)=>g?"other":p==0||p==1?"one":"other",Yc=(p,g)=>g?"other":p>=0&&p<=1?"one":"other",Io=(p,g)=>{let y=String(p).split("."),C=!y[1];return g?"other":p==1&&C?"one":"other"},er=(p,g)=>"other",na=(p,g)=>g?"other":p==1?"one":p==2?"two":"other";var dh=Object.freeze({__proto__:null,af:st,ak:ta,am:Yc,an:st,ar:(p,g)=>{let y=String(p).split("."),C=Number(y[0])==p,I=C&&y[0].slice(-2);return g?"other":p==0?"zero":p==1?"one":p==2?"two":I>=3&&I<=10?"few":I>=11&&I<=99?"many":"other"},ars:(p,g)=>{let y=String(p).split("."),C=Number(y[0])==p,I=C&&y[0].slice(-2);return g?"other":p==0?"zero":p==1?"one":p==2?"two":I>=3&&I<=10?"few":I>=11&&I<=99?"many":"other"},as:(p,g)=>g?p==1||p==5||p==7||p==8||p==9||p==10?"one":p==2||p==3?"two":p==4?"few":p==6?"many":"other":p>=0&&p<=1?"one":"other",asa:st,ast:Io,az:(p,g)=>{let y=String(p).split("."),C=y[0],I=C.slice(-1),R=C.slice(-2),q=C.slice(-3);return g?I==1||I==2||I==5||I==7||I==8||R==20||R==50||R==70||R==80?"one":I==3||I==4||q==100||q==200||q==300||q==400||q==500||q==600||q==700||q==800||q==900?"few":C==0||I==6||R==40||R==60||R==90?"many":"other":p==1?"one":"other"},bal:(p,g)=>p==1?"one":"other",be:(p,g)=>{let y=String(p).split("."),C=Number(y[0])==p,I=C&&y[0].slice(-1),R=C&&y[0].slice(-2);return g?(I==2||I==3)&&R!=12&&R!=13?"few":"other":I==1&&R!=11?"one":I>=2&&I<=4&&(R<12||R>14)?"few":C&&I==0||I>=5&&I<=9||R>=11&&R<=14?"many":"other"},bem:st,bez:st,bg:st,bho:ta,bm:er,bn:(p,g)=>g?p==1||p==5||p==7||p==8||p==9||p==10?"one":p==2||p==3?"two":p==4?"few":p==6?"many":"other":p>=0&&p<=1?"one":"other",bo:er,br:(p,g)=>{let y=String(p).split("."),C=Number(y[0])==p,I=C&&y[0].slice(-1),R=C&&y[0].slice(-2),q=C&&y[0].slice(-6);return g?"other":I==1&&R!=11&&R!=71&&R!=91?"one":I==2&&R!=12&&R!=72&&R!=92?"two":(I==3||I==4||I==9)&&(R<10||R>19)&&(R<70||R>79)&&(R<90||R>99)?"few":p!=0&&C&&q==0?"many":"other"},brx:st,bs:(p,g)=>{let y=String(p).split("."),C=y[0],I=y[1]||"",R=!y[1],q=C.slice(-1),se=C.slice(-2),ye=I.slice(-1),qe=I.slice(-2);return g?"other":R&&q==1&&se!=11||ye==1&&qe!=11?"one":R&&q>=2&&q<=4&&(se<12||se>14)||ye>=2&&ye<=4&&(qe<12||qe>14)?"few":"other"},ca:(p,g)=>{let y=String(p).split("."),C=y[0],I=!y[1],R=C.slice(-6);return g?p==1||p==3?"one":p==2?"two":p==4?"few":"other":p==1&&I?"one":C!=0&&R==0&&I?"many":"other"},ce:st,ceb:(p,g)=>{let y=String(p).split("."),C=y[0],I=y[1]||"",R=!y[1],q=C.slice(-1),se=I.slice(-1);return g?"other":R&&(C==1||C==2||C==3)||R&&q!=4&&q!=6&&q!=9||!R&&se!=4&&se!=6&&se!=9?"one":"other"},cgg:st,chr:st,ckb:st,cs:(p,g)=>{let y=String(p).split("."),C=y[0],I=!y[1];return g?"other":p==1&&I?"one":C>=2&&C<=4&&I?"few":I?"other":"many"},cy:(p,g)=>g?p==0||p==7||p==8||p==9?"zero":p==1?"one":p==2?"two":p==3||p==4?"few":p==5||p==6?"many":"other":p==0?"zero":p==1?"one":p==2?"two":p==3?"few":p==6?"many":"other",da:(p,g)=>{let y=String(p).split("."),C=y[0],I=Number(y[0])==p;return g?"other":p==1||!I&&(C==0||C==1)?"one":"other"},de:Io,doi:Yc,dsb:(p,g)=>{let y=String(p).split("."),C=y[0],I=y[1]||"",R=!y[1],q=C.slice(-2),se=I.slice(-2);return g?"other":R&&q==1||se==1?"one":R&&q==2||se==2?"two":R&&(q==3||q==4)||se==3||se==4?"few":"other"},dv:st,dz:er,ee:st,el:st,en:(p,g)=>{let y=String(p).split("."),C=!y[1],I=Number(y[0])==p,R=I&&y[0].slice(-1),q=I&&y[0].slice(-2);return g?R==1&&q!=11?"one":R==2&&q!=12?"two":R==3&&q!=13?"few":"other":p==1&&C?"one":"other"},eo:st,es:(p,g)=>{let y=String(p).split("."),C=y[0],I=!y[1],R=C.slice(-6);return g?"other":p==1?"one":C!=0&&R==0&&I?"many":"other"},et:Io,eu:st,fa:Yc,ff:(p,g)=>g?"other":p>=0&&p<2?"one":"other",fi:Io,fil:(p,g)=>{let y=String(p).split("."),C=y[0],I=y[1]||"",R=!y[1],q=C.slice(-1),se=I.slice(-1);return g?p==1?"one":"other":R&&(C==1||C==2||C==3)||R&&q!=4&&q!=6&&q!=9||!R&&se!=4&&se!=6&&se!=9?"one":"other"},fo:st,fr:(p,g)=>{let y=String(p).split("."),C=y[0],I=!y[1],R=C.slice(-6);return g?p==1?"one":"other":p>=0&&p<2?"one":C!=0&&R==0&&I?"many":"other"},fur:st,fy:Io,ga:(p,g)=>{let y=String(p).split("."),C=Number(y[0])==p;return g?p==1?"one":"other":p==1?"one":p==2?"two":C&&p>=3&&p<=6?"few":C&&p>=7&&p<=10?"many":"other"},gd:(p,g)=>{let y=String(p).split("."),C=Number(y[0])==p;return g?p==1||p==11?"one":p==2||p==12?"two":p==3||p==13?"few":"other":p==1||p==11?"one":p==2||p==12?"two":C&&p>=3&&p<=10||C&&p>=13&&p<=19?"few":"other"},gl:Io,gsw:st,gu:(p,g)=>g?p==1?"one":p==2||p==3?"two":p==4?"few":p==6?"many":"other":p>=0&&p<=1?"one":"other",guw:ta,gv:(p,g)=>{let y=String(p).split("."),C=y[0],I=!y[1],R=C.slice(-1),q=C.slice(-2);return g?"other":I&&R==1?"one":I&&R==2?"two":I&&(q==0||q==20||q==40||q==60||q==80)?"few":I?"other":"many"},ha:st,haw:st,he:(p,g)=>{let y=String(p).split("."),C=y[0],I=!y[1];return g?"other":C==1&&I||C==0&&!I?"one":C==2&&I?"two":"other"},hi:(p,g)=>g?p==1?"one":p==2||p==3?"two":p==4?"few":p==6?"many":"other":p>=0&&p<=1?"one":"other",hnj:er,hr:(p,g)=>{let y=String(p).split("."),C=y[0],I=y[1]||"",R=!y[1],q=C.slice(-1),se=C.slice(-2),ye=I.slice(-1),qe=I.slice(-2);return g?"other":R&&q==1&&se!=11||ye==1&&qe!=11?"one":R&&q>=2&&q<=4&&(se<12||se>14)||ye>=2&&ye<=4&&(qe<12||qe>14)?"few":"other"},hsb:(p,g)=>{let y=String(p).split("."),C=y[0],I=y[1]||"",R=!y[1],q=C.slice(-2),se=I.slice(-2);return g?"other":R&&q==1||se==1?"one":R&&q==2||se==2?"two":R&&(q==3||q==4)||se==3||se==4?"few":"other"},hu:(p,g)=>g?p==1||p==5?"one":"other":p==1?"one":"other",hy:(p,g)=>g?p==1?"one":"other":p>=0&&p<2?"one":"other",ia:Io,id:er,ig:er,ii:er,io:Io,is:(p,g)=>{let y=String(p).split("."),C=y[0],I=(y[1]||"").replace(/0+$/,""),R=Number(y[0])==p,q=C.slice(-1),se=C.slice(-2);return g?"other":R&&q==1&&se!=11||I%10==1&&I%100!=11?"one":"other"},it:(p,g)=>{let y=String(p).split("."),C=y[0],I=!y[1],R=C.slice(-6);return g?p==11||p==8||p==80||p==800?"many":"other":p==1&&I?"one":C!=0&&R==0&&I?"many":"other"},iu:na,ja:er,jbo:er,jgo:st,jmc:st,jv:er,jw:er,ka:(p,g)=>{let y=String(p).split("."),C=y[0],I=C.slice(-2);return g?C==1?"one":C==0||I>=2&&I<=20||I==40||I==60||I==80?"many":"other":p==1?"one":"other"},kab:(p,g)=>g?"other":p>=0&&p<2?"one":"other",kaj:st,kcg:st,kde:er,kea:er,kk:(p,g)=>{let y=String(p).split("."),C=Number(y[0])==p,I=C&&y[0].slice(-1);return g?I==6||I==9||C&&I==0&&p!=0?"many":"other":p==1?"one":"other"},kkj:st,kl:st,km:er,kn:Yc,ko:er,ks:st,ksb:st,ksh:(p,g)=>g?"other":p==0?"zero":p==1?"one":"other",ku:st,kw:(p,g)=>{let y=String(p).split("."),C=Number(y[0])==p,I=C&&y[0].slice(-2),R=C&&y[0].slice(-3),q=C&&y[0].slice(-5),se=C&&y[0].slice(-6);return g?C&&p>=1&&p<=4||I>=1&&I<=4||I>=21&&I<=24||I>=41&&I<=44||I>=61&&I<=64||I>=81&&I<=84?"one":p==5||I==5?"many":"other":p==0?"zero":p==1?"one":I==2||I==22||I==42||I==62||I==82||C&&R==0&&(q>=1e3&&q<=2e4||q==4e4||q==6e4||q==8e4)||p!=0&&se==1e5?"two":I==3||I==23||I==43||I==63||I==83?"few":p!=1&&(I==1||I==21||I==41||I==61||I==81)?"many":"other"},ky:st,lag:(p,g)=>{let y=String(p).split("."),C=y[0];return g?"other":p==0?"zero":(C==0||C==1)&&p!=0?"one":"other"},lb:st,lg:st,lij:(p,g)=>{let y=String(p).split("."),C=!y[1],I=Number(y[0])==p;return g?p==11||p==8||I&&p>=80&&p<=89||I&&p>=800&&p<=899?"many":"other":p==1&&C?"one":"other"},lkt:er,ln:ta,lo:(p,g)=>g&&p==1?"one":"other",lt:(p,g)=>{let y=String(p).split("."),C=y[1]||"",I=Number(y[0])==p,R=I&&y[0].slice(-1),q=I&&y[0].slice(-2);return g?"other":R==1&&(q<11||q>19)?"one":R>=2&&R<=9&&(q<11||q>19)?"few":C!=0?"many":"other"},lv:(p,g)=>{let y=String(p).split("."),C=y[1]||"",I=C.length,R=Number(y[0])==p,q=R&&y[0].slice(-1),se=R&&y[0].slice(-2),ye=C.slice(-2),qe=C.slice(-1);return g?"other":R&&q==0||se>=11&&se<=19||I==2&&ye>=11&&ye<=19?"zero":q==1&&se!=11||I==2&&qe==1&&ye!=11||I!=2&&qe==1?"one":"other"},mas:st,mg:ta,mgo:st,mk:(p,g)=>{let y=String(p).split("."),C=y[0],I=y[1]||"",R=!y[1],q=C.slice(-1),se=C.slice(-2),ye=I.slice(-1),qe=I.slice(-2);return g?q==1&&se!=11?"one":q==2&&se!=12?"two":(q==7||q==8)&&se!=17&&se!=18?"many":"other":R&&q==1&&se!=11||ye==1&&qe!=11?"one":"other"},ml:st,mn:st,mo:(p,g)=>{let y=String(p).split("."),C=!y[1],I=Number(y[0])==p,R=I&&y[0].slice(-2);return g?p==1?"one":"other":p==1&&C?"one":!C||p==0||p!=1&&R>=1&&R<=19?"few":"other"},mr:(p,g)=>g?p==1?"one":p==2||p==3?"two":p==4?"few":"other":p==1?"one":"other",ms:(p,g)=>g&&p==1?"one":"other",mt:(p,g)=>{let y=String(p).split("."),C=Number(y[0])==p,I=C&&y[0].slice(-2);return g?"other":p==1?"one":p==2?"two":p==0||I>=3&&I<=10?"few":I>=11&&I<=19?"many":"other"},my:er,nah:st,naq:na,nb:st,nd:st,ne:(p,g)=>{let y=String(p).split("."),C=Number(y[0])==p;return g?C&&p>=1&&p<=4?"one":"other":p==1?"one":"other"},nl:Io,nn:st,nnh:st,no:st,nqo:er,nr:st,nso:ta,ny:st,nyn:st,om:st,or:(p,g)=>{let y=String(p).split("."),C=Number(y[0])==p;return g?p==1||p==5||C&&p>=7&&p<=9?"one":p==2||p==3?"two":p==4?"few":p==6?"many":"other":p==1?"one":"other"},os:st,osa:er,pa:ta,pap:st,pcm:Yc,pl:(p,g)=>{let y=String(p).split("."),C=y[0],I=!y[1],R=C.slice(-1),q=C.slice(-2);return g?"other":p==1&&I?"one":I&&R>=2&&R<=4&&(q<12||q>14)?"few":I&&C!=1&&(R==0||R==1)||I&&R>=5&&R<=9||I&&q>=12&&q<=14?"many":"other"},prg:(p,g)=>{let y=String(p).split("."),C=y[1]||"",I=C.length,R=Number(y[0])==p,q=R&&y[0].slice(-1),se=R&&y[0].slice(-2),ye=C.slice(-2),qe=C.slice(-1);return g?"other":R&&q==0||se>=11&&se<=19||I==2&&ye>=11&&ye<=19?"zero":q==1&&se!=11||I==2&&qe==1&&ye!=11||I!=2&&qe==1?"one":"other"},ps:st,pt:(p,g)=>{let y=String(p).split("."),C=y[0],I=!y[1],R=C.slice(-6);return g?"other":C==0||C==1?"one":C!=0&&R==0&&I?"many":"other"},pt_PT:(p,g)=>{let y=String(p).split("."),C=y[0],I=!y[1],R=C.slice(-6);return g?"other":p==1&&I?"one":C!=0&&R==0&&I?"many":"other"},rm:st,ro:(p,g)=>{let y=String(p).split("."),C=!y[1],I=Number(y[0])==p,R=I&&y[0].slice(-2);return g?p==1?"one":"other":p==1&&C?"one":!C||p==0||p!=1&&R>=1&&R<=19?"few":"other"},rof:st,ru:(p,g)=>{let y=String(p).split("."),C=y[0],I=!y[1],R=C.slice(-1),q=C.slice(-2);return g?"other":I&&R==1&&q!=11?"one":I&&R>=2&&R<=4&&(q<12||q>14)?"few":I&&R==0||I&&R>=5&&R<=9||I&&q>=11&&q<=14?"many":"other"},rwk:st,sah:er,saq:st,sat:na,sc:(p,g)=>{let y=String(p).split("."),C=!y[1];return g?p==11||p==8||p==80||p==800?"many":"other":p==1&&C?"one":"other"},scn:(p,g)=>{let y=String(p).split("."),C=!y[1];return g?p==11||p==8||p==80||p==800?"many":"other":p==1&&C?"one":"other"},sd:st,sdh:st,se:na,seh:st,ses:er,sg:er,sh:(p,g)=>{let y=String(p).split("."),C=y[0],I=y[1]||"",R=!y[1],q=C.slice(-1),se=C.slice(-2),ye=I.slice(-1),qe=I.slice(-2);return g?"other":R&&q==1&&se!=11||ye==1&&qe!=11?"one":R&&q>=2&&q<=4&&(se<12||se>14)||ye>=2&&ye<=4&&(qe<12||qe>14)?"few":"other"},shi:(p,g)=>{let y=String(p).split("."),C=Number(y[0])==p;return g?"other":p>=0&&p<=1?"one":C&&p>=2&&p<=10?"few":"other"},si:(p,g)=>{let y=String(p).split("."),C=y[0],I=y[1]||"";return g?"other":p==0||p==1||C==0&&I==1?"one":"other"},sk:(p,g)=>{let y=String(p).split("."),C=y[0],I=!y[1];return g?"other":p==1&&I?"one":C>=2&&C<=4&&I?"few":I?"other":"many"},sl:(p,g)=>{let y=String(p).split("."),C=y[0],I=!y[1],R=C.slice(-2);return g?"other":I&&R==1?"one":I&&R==2?"two":I&&(R==3||R==4)||!I?"few":"other"},sma:na,smi:na,smj:na,smn:na,sms:na,sn:st,so:st,sq:(p,g)=>{let y=String(p).split("."),C=Number(y[0])==p,I=C&&y[0].slice(-1),R=C&&y[0].slice(-2);return g?p==1?"one":I==4&&R!=14?"many":"other":p==1?"one":"other"},sr:(p,g)=>{let y=String(p).split("."),C=y[0],I=y[1]||"",R=!y[1],q=C.slice(-1),se=C.slice(-2),ye=I.slice(-1),qe=I.slice(-2);return g?"other":R&&q==1&&se!=11||ye==1&&qe!=11?"one":R&&q>=2&&q<=4&&(se<12||se>14)||ye>=2&&ye<=4&&(qe<12||qe>14)?"few":"other"},ss:st,ssy:st,st,su:er,sv:(p,g)=>{let y=String(p).split("."),C=!y[1],I=Number(y[0])==p,R=I&&y[0].slice(-1),q=I&&y[0].slice(-2);return g?(R==1||R==2)&&q!=11&&q!=12?"one":"other":p==1&&C?"one":"other"},sw:Io,syr:st,ta:st,te:st,teo:st,th:er,ti:ta,tig:st,tk:(p,g)=>{let y=String(p).split("."),C=Number(y[0])==p,I=C&&y[0].slice(-1);return g?I==6||I==9||p==10?"few":"other":p==1?"one":"other"},tl:(p,g)=>{let y=String(p).split("."),C=y[0],I=y[1]||"",R=!y[1],q=C.slice(-1),se=I.slice(-1);return g?p==1?"one":"other":R&&(C==1||C==2||C==3)||R&&q!=4&&q!=6&&q!=9||!R&&se!=4&&se!=6&&se!=9?"one":"other"},tn:st,to:er,tpi:er,tr:st,ts:st,tzm:(p,g)=>{let y=String(p).split("."),C=Number(y[0])==p;return g?"other":p==0||p==1||C&&p>=11&&p<=99?"one":"other"},ug:st,uk:(p,g)=>{let y=String(p).split("."),C=y[0],I=!y[1],R=Number(y[0])==p,q=R&&y[0].slice(-1),se=R&&y[0].slice(-2),ye=C.slice(-1),qe=C.slice(-2);return g?q==3&&se!=13?"few":"other":I&&ye==1&&qe!=11?"one":I&&ye>=2&&ye<=4&&(qe<12||qe>14)?"few":I&&ye==0||I&&ye>=5&&ye<=9||I&&qe>=11&&qe<=14?"many":"other"},und:er,ur:Io,uz:st,ve:st,vec:(p,g)=>{let y=String(p).split("."),C=y[0],I=!y[1],R=C.slice(-6);return g?p==11||p==8||p==80||p==800?"many":"other":p==1&&I?"one":C!=0&&R==0&&I?"many":"other"},vi:(p,g)=>g&&p==1?"one":"other",vo:st,vun:st,wa:ta,wae:st,wo:er,xh:st,xog:st,yi:Io,yo:er,yue:er,zh:er,zu:Yc});function Pv(p){if(typeof p!="string"||p.length<2)throw new RangeError("Invalid language tag: ".concat(p));if(p.startsWith("pt-PT"))return"pt-PT";var g=p.match(/.+?(?=[-_])/);return g?g[0]:p}function ph(p){if(typeof p=="function"){var g=Pv(p.name);return{isDefault:!1,id:ft(g),lc:g,locale:p.name,getPlural:p,cardinals:p.cardinals||[],ordinals:p.ordinals||[]}}var y=Pv(p),C=ft(y);return z5(C)?{isDefault:!0,id:C,lc:y,locale:p,getCardinal:G5[C],getPlural:dh[C],cardinals:Ix[C].cardinal,ordinals:Ix[C].ordinal}:null}function H5(p){var g=Object.keys(dh).filter(function(y){return y!==p});return g.unshift(p),g.map(ph)}function W5(p){var g=Pv(p);return ft(g)in dh}function z5(p){return p in dh}var q5=function(){function p(g,y){if(this.plurals=[],this.options=Object.assign({biDiSupport:!1,currency:"USD",customFormatters:{},localeCodeFromKey:null,requireAllArguments:!1,returnType:"string",strict:y&&y.strictNumberSign||!1,strictPluralKeys:!0},y),g==="*")this.plurals=H5(p.defaultLocale);else if(Array.isArray(g))this.plurals=g.map(ph).filter(Boolean);else if(g){var C=ph(g);C&&(this.plurals=[C])}if(this.plurals.length===0){var C=ph(p.defaultLocale);this.plurals=[C]}}return p.escape=function(g,y){var C=y?/[#{}]/g:/[{}]/g;return String(g).replace(C,"'$&'")},p.supportedLocalesOf=function(g){var y=Array.isArray(g)?g:[g];return y.filter(W5)},p.prototype.resolvedOptions=function(){return t(t({},this.options),{locale:this.plurals[0].locale,plurals:this.plurals})},p.prototype.compile=function(g){var y,C,I=new qt(this.options),R="return "+I.compile(g,this.plurals[0]),q=[],se=[];try{for(var ye=e(Object.entries(I.runtime)),qe=ye.next();!qe.done;qe=ye.next()){var Tt=n(qe.value,2),Yt=Tt[0],sn=Tt[1];q.push(Yt),se.push(sn)}}catch(cr){y={error:cr}}finally{try{qe&&!qe.done&&(C=ye.return)&&C.call(ye)}finally{if(y)throw y.error}}var lt=new(Function.bind.apply(Function,r(r([void 0],n(q),!1),[R],!1)));return lt.apply(void 0,r([],n(se),!1))},p.defaultLocale="en",p}();return q5})});function Px(t,e){return Object.is(t,e)}var ci=null,bh=!1,Ov=1,uo=Symbol("SIGNAL");function Un(t){let e=ci;return ci=t,e}function Nx(){return ci}var td={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Ch(t){if(bh)throw new Error("");if(ci===null)return;ci.consumerOnSignalRead(t);let e=ci.nextProducerIndex++;if(Sh(ci),e<ci.producerNode.length&&ci.producerNode[e]!==t&&ed(ci)){let n=ci.producerNode[e];xh(n,ci.producerIndexOfThis[e])}ci.producerNode[e]!==t&&(ci.producerNode[e]=t,ci.producerIndexOfThis[e]=ed(ci)?Lx(t,ci,e):0),ci.producerLastReadVersion[e]=t.version}function rP(){Ov++}function Rx(t){if(!(ed(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===Ov)){if(!t.producerMustRecompute(t)&&!Vv(t)){kx(t);return}t.producerRecomputeValue(t),kx(t)}}function Fx(t){if(t.liveConsumerNode===void 0)return;let e=bh;bh=!0;try{for(let n of t.liveConsumerNode)n.dirty||iP(n)}finally{bh=e}}function Ox(){return ci?.consumerAllowSignalWrites!==!1}function iP(t){t.dirty=!0,Fx(t),t.consumerMarkedDirty?.(t)}function kx(t){t.dirty=!1,t.lastCleanEpoch=Ov}function _h(t){return t&&(t.nextProducerIndex=0),Un(t)}function Lv(t,e){if(Un(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(ed(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)xh(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function Vv(t){Sh(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(Rx(n),r!==n.version))return!0}return!1}function $v(t){if(Sh(t),ed(t))for(let e=0;e<t.producerNode.length;e++)xh(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function Lx(t,e,n){if(Vx(t),t.liveConsumerNode.length===0&&$x(t))for(let r=0;r<t.producerNode.length;r++)t.producerIndexOfThis[r]=Lx(t.producerNode[r],t,r);return t.liveConsumerIndexOfThis.push(n),t.liveConsumerNode.push(e)-1}function xh(t,e){if(Vx(t),t.liveConsumerNode.length===1&&$x(t))for(let r=0;r<t.producerNode.length;r++)xh(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];Sh(i),i.producerIndexOfThis[r]=e}}function ed(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Sh(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function Vx(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function $x(t){return t.producerNode!==void 0}function Bx(t){let e=Object.create(oP);e.computation=t;let n=()=>{if(Rx(e),Ch(e),e.value===wh)throw e.error;return e.value};return n[uo]=e,n}var Rv=Symbol("UNSET"),Fv=Symbol("COMPUTING"),wh=Symbol("ERRORED"),oP=kt(Ne({},td),{value:Rv,dirty:!0,error:null,equal:Px,kind:"computed",producerMustRecompute(t){return t.value===Rv||t.value===Fv},producerRecomputeValue(t){if(t.value===Fv)throw new Error("Detected cycle in computations.");let e=t.value;t.value=Fv;let n=_h(t),r,i=!1;try{r=t.computation(),Un(null),i=e!==Rv&&e!==wh&&r!==wh&&t.equal(e,r)}catch(o){r=wh,t.error=o}finally{Lv(t,n)}if(i){t.value=e;return}t.value=r,t.version++}});function sP(){throw new Error}var jx=sP;function Ux(){jx()}function Gx(t){jx=t}var aP=null;function Hx(t){let e=Object.create(Bv);e.value=t;let n=()=>(Ch(e),e.value);return n[uo]=e,n}function Eh(t,e){Ox()||Ux(),t.equal(t.value,e)||(t.value=e,lP(t))}function Wx(t,e){Ox()||Ux(),Eh(t,e(t.value))}var Bv=kt(Ne({},td),{equal:Px,value:void 0,kind:"signal"});function lP(t){t.version++,rP(),Fx(t),aP?.()}function an(t){return typeof t=="function"}function Zc(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Th=Zc(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function zl(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var nr=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(an(r))try{r()}catch(o){e=o instanceof Th?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{zx(o)}catch(s){e=e??[],s instanceof Th?e=[...e,...s.errors]:e.push(s)}}if(e)throw new Th(e)}}add(e){var n;if(e&&e!==this)if(this.closed)zx(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&zl(n,e)}remove(e){let{_finalizers:n}=this;n&&zl(n,e),e instanceof t&&e._removeParent(this)}};nr.EMPTY=(()=>{let t=new nr;return t.closed=!0,t})();var jv=nr.EMPTY;function Ih(t){return t instanceof nr||t&&"closed"in t&&an(t.remove)&&an(t.add)&&an(t.unsubscribe)}function zx(t){an(t)?t():t.unsubscribe()}var Jo={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Xc={setTimeout(t,e,...n){let{delegate:r}=Xc;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=Xc;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function Dh(t){Xc.setTimeout(()=>{let{onUnhandledError:e}=Jo;if(e)e(t);else throw t})}function nd(){}var qx=Uv("C",void 0,void 0);function Kx(t){return Uv("E",void 0,t)}function Yx(t){return Uv("N",t,void 0)}function Uv(t,e,n){return{kind:t,value:e,error:n}}var ql=null;function eu(t){if(Jo.useDeprecatedSynchronousErrorHandling){let e=!ql;if(e&&(ql={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=ql;if(ql=null,n)throw r}}else t()}function Jx(t){Jo.useDeprecatedSynchronousErrorHandling&&ql&&(ql.errorThrown=!0,ql.error=t)}var Kl=class extends nr{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Ih(e)&&e.add(this)):this.destination=fP}static create(e,n,r){return new Qo(e,n,r)}next(e){this.isStopped?Hv(Yx(e),this):this._next(e)}error(e){this.isStopped?Hv(Kx(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Hv(qx,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},cP=Function.prototype.bind;function Gv(t,e){return cP.call(t,e)}var Wv=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){Ah(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){Ah(r)}else Ah(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){Ah(n)}}},Qo=class extends Kl{constructor(e,n,r){super();let i;if(an(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&Jo.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Gv(e.next,o),error:e.error&&Gv(e.error,o),complete:e.complete&&Gv(e.complete,o)}):i=e}this.destination=new Wv(i)}};function Ah(t){Jo.useDeprecatedSynchronousErrorHandling?Jx(t):Dh(t)}function uP(t){throw t}function Hv(t,e){let{onStoppedNotification:n}=Jo;n&&Xc.setTimeout(()=>n(t,e))}var fP={closed:!0,next:nd,error:uP,complete:nd};var tu=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Vi(t){return t}function zv(...t){return qv(t)}function qv(t){return t.length===0?Vi:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var en=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let o=pP(n)?n:new Qo(n,r,i);return eu(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=Qx(r),new r((i,o)=>{let s=new Qo({next:a=>{try{n(a)}catch(l){o(l),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[tu](){return this}pipe(...n){return qv(n)(this)}toPromise(n){return n=Qx(n),new n((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return t.create=e=>new t(e),t})();function Qx(t){var e;return(e=t??Jo.Promise)!==null&&e!==void 0?e:Promise}function dP(t){return t&&an(t.next)&&an(t.error)&&an(t.complete)}function pP(t){return t&&t instanceof Kl||dP(t)&&Ih(t)}function Kv(t){return an(t?.lift)}function Dn(t){return e=>{if(Kv(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function En(t,e,n,r,i){return new Yv(t,e,n,r,i)}var Yv=class extends Kl{constructor(e,n,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(l){e.error(l)}}:super._next,this._error=i?function(a){try{i(a)}catch(l){e.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function nu(){return Dn((t,e)=>{let n=null;t._refCount++;let r=En(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var ru=class extends en{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,Kv(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new nr;let n=this.getSubject();e.add(this.source.subscribe(En(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=nr.EMPTY)}return e}refCount(){return nu()(this)}};var Zx=Zc(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Wn=(()=>{class t extends en{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new Mh(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new Zx}next(n){eu(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){eu(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){eu(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:o}=this;return r||i?jv:(this.currentObservers=null,o.push(n),new nr(()=>{this.currentObservers=null,zl(o,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){let n=new en;return n.source=this,n}}return t.create=(e,n)=>new Mh(e,n),t})(),Mh=class extends Wn{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:jv}};var Vr=class extends Wn{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var rd={now(){return(rd.delegate||Date).now()},delegate:void 0};var id=class extends Wn{constructor(e=1/0,n=1/0,r=rd){super(),this._bufferSize=e,this._windowTime=n,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=n===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,n)}next(e){let{isStopped:n,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:o,_windowTime:s}=this;n||(r.push(e),!i&&r.push(o.now()+s)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();let n=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,o=i.slice();for(let s=0;s<o.length&&!e.closed;s+=r?1:2)e.next(o[s]);return this._checkFinalizedStatuses(e),n}_trimBuffer(){let{_bufferSize:e,_timestampProvider:n,_buffer:r,_infiniteTimeWindow:i}=this,o=(i?1:2)*e;if(e<1/0&&o<r.length&&r.splice(0,r.length-o),!i){let s=n.now(),a=0;for(let l=1;l<r.length&&r[l]<=s;l+=2)a=l;a&&r.splice(0,a+1)}}};var kh=class extends nr{constructor(e,n){super()}schedule(e,n=0){return this}};var od={setInterval(t,e,...n){let{delegate:r}=od;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=od;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var Ph=class extends kh{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,n),this}requestAsyncId(e,n,r=0){return od.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&od.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,zl(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var iu=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};iu.now=rd.now;var Nh=class extends iu{constructor(e,n=iu.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var Jv=new Nh(Ph),Xx=Jv;var Ii=new en(t=>t.complete());function Rh(t){return t&&an(t.schedule)}function eS(t){return t[t.length-1]}function Fh(t){return an(eS(t))?t.pop():void 0}function za(t){return Rh(eS(t))?t.pop():void 0}function nS(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(u){try{c(r.next(u))}catch(f){s(f)}}function l(u){try{c(r.throw(u))}catch(f){s(f)}}function c(u){u.done?o(u.value):i(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})}function tS(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Yl(t){return this instanceof Yl?(this.v=t,this):new Yl(t)}function rS(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(h){return function(m){return Promise.resolve(m).then(h,f)}}function a(h,m){r[h]&&(i[h]=function(v){return new Promise(function(P,b){o.push([h,v,P,b])>1||l(h,v)})},m&&(i[h]=m(i[h])))}function l(h,m){try{c(r[h](m))}catch(v){d(o[0][3],v)}}function c(h){h.value instanceof Yl?Promise.resolve(h.value.v).then(u,f):d(o[0][2],h)}function u(h){l("next",h)}function f(h){l("throw",h)}function d(h,m){h(m),o.shift(),o.length&&l(o[0][0],o[0][1])}}function iS(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof tS=="function"?tS(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(s){return new Promise(function(a,l){s=t[o](s),i(a,l,s.done,s.value)})}}function i(o,s,a,l){Promise.resolve(l).then(function(c){o({value:c,done:a})},s)}}var Oh=t=>t&&typeof t.length=="number"&&typeof t!="function";function Lh(t){return an(t?.then)}function Vh(t){return an(t[tu])}function $h(t){return Symbol.asyncIterator&&an(t?.[Symbol.asyncIterator])}function Bh(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function hP(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var jh=hP();function Uh(t){return an(t?.[jh])}function Gh(t){return rS(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield Yl(n.read());if(i)return yield Yl(void 0);yield yield Yl(r)}}finally{n.releaseLock()}})}function Hh(t){return an(t?.getReader)}function _r(t){if(t instanceof en)return t;if(t!=null){if(Vh(t))return mP(t);if(Oh(t))return gP(t);if(Lh(t))return vP(t);if($h(t))return oS(t);if(Uh(t))return yP(t);if(Hh(t))return bP(t)}throw Bh(t)}function mP(t){return new en(e=>{let n=t[tu]();if(an(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function gP(t){return new en(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function vP(t){return new en(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,Dh)})}function yP(t){return new en(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function oS(t){return new en(e=>{wP(t,e).catch(n=>e.error(n))})}function bP(t){return oS(Gh(t))}function wP(t,e){var n,r,i,o;return nS(this,void 0,void 0,function*(){try{for(n=iS(t);r=yield n.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}e.complete()})}function qi(t,e,n,r=0,i=!1){let o=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(o),!i)return o}function Wh(t,e=0){return Dn((n,r)=>{n.subscribe(En(r,i=>qi(r,t,()=>r.next(i),e),()=>qi(r,t,()=>r.complete(),e),i=>qi(r,t,()=>r.error(i),e)))})}function zh(t,e=0){return Dn((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function sS(t,e){return _r(t).pipe(zh(e),Wh(e))}function aS(t,e){return _r(t).pipe(zh(e),Wh(e))}function lS(t,e){return new en(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function cS(t,e){return new en(n=>{let r;return qi(n,e,()=>{r=t[jh](),qi(n,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){n.error(s);return}o?n.complete():n.next(i)},0,!0)}),()=>an(r?.return)&&r.return()})}function qh(t,e){if(!t)throw new Error("Iterable cannot be null");return new en(n=>{qi(n,e,()=>{let r=t[Symbol.asyncIterator]();qi(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function uS(t,e){return qh(Gh(t),e)}function fS(t,e){if(t!=null){if(Vh(t))return sS(t,e);if(Oh(t))return lS(t,e);if(Lh(t))return aS(t,e);if($h(t))return qh(t,e);if(Uh(t))return cS(t,e);if(Hh(t))return uS(t,e)}throw Bh(t)}function ur(t,e){return e?fS(t,e):_r(t)}function Lt(...t){let e=za(t);return ur(t,e)}function ou(t,e){let n=an(t)?t:()=>t,r=i=>i.error(n());return new en(e?i=>e.schedule(r,0,i):r)}function Qv(t){return!!t&&(t instanceof en||an(t.lift)&&an(t.subscribe))}var Zo=Zc(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function Kh(t,e){let n=typeof e=="object";return new Promise((r,i)=>{let o=new Qo({next:s=>{r(s),o.unsubscribe()},error:i,complete:()=>{n?r(e.defaultValue):i(new Zo)}});t.subscribe(o)})}function dS(t){return t instanceof Date&&!isNaN(t)}function Ft(t,e){return Dn((n,r)=>{let i=0;n.subscribe(En(r,o=>{r.next(t.call(e,o,i++))}))})}var{isArray:CP}=Array;function _P(t,e){return CP(e)?t(...e):t(e)}function Yh(t){return Ft(e=>_P(t,e))}var{isArray:xP}=Array,{getPrototypeOf:SP,prototype:EP,keys:TP}=Object;function Jh(t){if(t.length===1){let e=t[0];if(xP(e))return{args:e,keys:null};if(IP(e)){let n=TP(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function IP(t){return t&&typeof t=="object"&&SP(t)===EP}function Qh(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function Jl(...t){let e=za(t),n=Fh(t),{args:r,keys:i}=Jh(t);if(r.length===0)return ur([],e);let o=new en(DP(r,e,i?s=>Qh(i,s):Vi));return n?o.pipe(Yh(n)):o}function DP(t,e,n=Vi){return r=>{pS(e,()=>{let{length:i}=t,o=new Array(i),s=i,a=i;for(let l=0;l<i;l++)pS(e,()=>{let c=ur(t[l],e),u=!1;c.subscribe(En(r,f=>{o[l]=f,u||(u=!0,a--),a||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function pS(t,e,n){t?qi(n,t,e):e()}function hS(t,e,n,r,i,o,s,a){let l=[],c=0,u=0,f=!1,d=()=>{f&&!l.length&&!c&&e.complete()},h=v=>c<r?m(v):l.push(v),m=v=>{o&&e.next(v),c++;let P=!1;_r(n(v,u++)).subscribe(En(e,b=>{i?.(b),o?h(b):e.next(b)},()=>{P=!0},void 0,()=>{if(P)try{for(c--;l.length&&c<r;){let b=l.shift();s?qi(e,s,()=>m(b)):m(b)}d()}catch(b){e.error(b)}}))};return t.subscribe(En(e,h,()=>{f=!0,d()})),()=>{a?.()}}function Yr(t,e,n=1/0){return an(e)?Yr((r,i)=>Ft((o,s)=>e(r,o,i,s))(_r(t(r,i))),n):(typeof e=="number"&&(n=e),Dn((r,i)=>hS(r,i,t,n)))}function Zv(t=1/0){return Yr(Vi,t)}function mS(){return Zv(1)}function su(...t){return mS()(ur(t,za(t)))}function au(t){return new en(e=>{_r(t()).subscribe(e)})}function lu(...t){let e=Fh(t),{args:n,keys:r}=Jh(t),i=new en(o=>{let{length:s}=n;if(!s){o.complete();return}let a=new Array(s),l=s,c=s;for(let u=0;u<s;u++){let f=!1;_r(n[u]).subscribe(En(o,d=>{f||(f=!0,c--),a[u]=d},()=>l--,void 0,()=>{(!l||!f)&&(c||o.next(r?Qh(r,a):a),o.complete())}))}});return e?i.pipe(Yh(e)):i}function Ql(t=0,e,n=Xx){let r=-1;return e!=null&&(Rh(e)?n=e:r=e),new en(i=>{let o=dS(t)?+t-n.now():t;o<0&&(o=0);let s=0;return n.schedule(function(){i.closed||(i.next(s++),0<=r?this.schedule(void 0,r):i.complete())},o)})}function sd(t=0,e=Jv){return t<0&&(t=0),Ql(t,t,e)}function $r(t,e){return Dn((n,r)=>{let i=0;n.subscribe(En(r,o=>t.call(e,o,i++)&&r.next(o)))})}function Xo(t){return Dn((e,n)=>{let r=null,i=!1,o;r=e.subscribe(En(n,void 0,void 0,s=>{o=_r(t(s,Xo(t)(e))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function gS(t,e,n,r,i){return(o,s)=>{let a=n,l=e,c=0;o.subscribe(En(s,u=>{let f=c++;l=a?t(l,u,f):(a=!0,u),r&&s.next(l)},i&&(()=>{a&&s.next(l),s.complete()})))}}function qa(t,e){return an(e)?Yr(t,e,1):Yr(t,1)}function Ka(t){return Dn((e,n)=>{let r=!1;e.subscribe(En(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function fo(t){return t<=0?()=>Ii:Dn((e,n)=>{let r=0;e.subscribe(En(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function Zh(t=AP){return Dn((e,n)=>{let r=!1;e.subscribe(En(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function AP(){return new Zo}function Zl(t){return Dn((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function aa(t,e){let n=arguments.length>=2;return r=>r.pipe(t?$r((i,o)=>t(i,o,r)):Vi,fo(1),n?Ka(e):Zh(()=>new Zo))}function cu(t){return t<=0?()=>Ii:Dn((e,n)=>{let r=[];e.subscribe(En(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function Xv(t,e){let n=arguments.length>=2;return r=>r.pipe(t?$r((i,o)=>t(i,o,r)):Vi,cu(1),n?Ka(e):Zh(()=>new Zo))}function ey(t=1/0){let e;t&&typeof t=="object"?e=t:e={count:t};let{count:n=1/0,delay:r,resetOnSuccess:i=!1}=e;return n<=0?Vi:Dn((o,s)=>{let a=0,l,c=()=>{let u=!1;l=o.subscribe(En(s,f=>{i&&(a=0),s.next(f)},void 0,f=>{if(a++<n){let d=()=>{l?(l.unsubscribe(),l=null,c()):u=!0};if(r!=null){let h=typeof r=="number"?Ql(r):_r(r(f,a)),m=En(s,()=>{m.unsubscribe(),d()},()=>{s.complete()});h.subscribe(m)}else d()}else s.error(f)})),u&&(l.unsubscribe(),l=null,c())};c()})}function ty(t,e){return Dn(gS(t,e,arguments.length>=2,!0))}function vS(t={}){let{connector:e=()=>new Wn,resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=t;return o=>{let s,a,l,c=0,u=!1,f=!1,d=()=>{a?.unsubscribe(),a=void 0},h=()=>{d(),s=l=void 0,u=f=!1},m=()=>{let v=s;h(),v?.unsubscribe()};return Dn((v,P)=>{c++,!f&&!u&&d();let b=l=l??e();P.add(()=>{c--,c===0&&!f&&!u&&(a=ny(m,i))}),b.subscribe(P),!s&&c>0&&(s=new Qo({next:x=>b.next(x),error:x=>{f=!0,d(),a=ny(h,n,x),b.error(x)},complete:()=>{u=!0,d(),a=ny(h,r),b.complete()}}),_r(v).subscribe(s))})(o)}}function ny(t,e,...n){if(e===!0){t();return}if(e===!1)return;let r=new Qo({next:()=>{r.unsubscribe(),t()}});return _r(e(...n)).subscribe(r)}function uu(t,e,n){let r,i=!1;return t&&typeof t=="object"?{bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:n}=t:r=t??1/0,vS({connector:()=>new id(r,e,n),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function ry(...t){let e=za(t);return Dn((n,r)=>{(e?su(t,n,e):su(t,n)).subscribe(r)})}function Br(t,e){return Dn((n,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();n.subscribe(En(r,l=>{i?.unsubscribe();let c=0,u=o++;_r(t(l,u)).subscribe(i=En(r,f=>r.next(e?e(l,f,u,c++):f),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function ad(t){return Dn((e,n)=>{_r(t).subscribe(En(n,()=>n.complete(),nd)),!n.closed&&e.subscribe(n)})}function xr(t,e,n){let r=an(t)||e||n?{next:t,error:e,complete:n}:t;return r?Dn((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(En(o,l=>{var c;(c=r.next)===null||c===void 0||c.call(r,l),o.next(l)},()=>{var l;a=!1,(l=r.complete)===null||l===void 0||l.call(r),o.complete()},l=>{var c;a=!1,(c=r.error)===null||c===void 0||c.call(r,l),o.error(l)},()=>{var l,c;a&&((l=r.unsubscribe)===null||l===void 0||l.call(r)),(c=r.finalize)===null||c===void 0||c.call(r)}))}):Vi}var i4="https://g.co/ng/security#xss",Ue=class extends Error{code;constructor(e,n){super(Nm(e,n)),this.code=e}};function Nm(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}var o4=Symbol("InputSignalNode#UNSET"),MP=kt(Ne({},Bv),{transformFn:void 0,applyValueToInputSignal(t,e){Eh(t,e)}});function s4(t,e){let n=Object.create(MP);n.value=t,n.transformFn=e?.transform;function r(){if(Ch(n),n.value===o4)throw new Ue(-950,!1);return n.value}return r[uo]=n,r}function _d(t){return{toString:t}.toString()}var Xh="__parameters__";function kP(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function a4(t,e,n){return _d(()=>{let r=kP(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(l,c,u){let f=l.hasOwnProperty(Xh)?l[Xh]:Object.defineProperty(l,Xh,{value:[]})[Xh];for(;f.length<=u;)f.push(null);return(f[u]=f[u]||[]).push(s),l}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var dd=globalThis;function pr(t){for(let e in t)if(t[e]===pr)return e;throw Error("Could not find renamed property on target object.")}function PP(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function Bi(t){if(typeof t=="string")return t;if(Array.isArray(t))return`[${t.map(Bi).join(", ")}]`;if(t==null)return""+t;let e=t.overriddenName||t.name;if(e)return`${e}`;let n=t.toString();if(n==null)return""+n;let r=n.indexOf(`
`);return r>=0?n.slice(0,r):n}function vy(t,e){return t?e?`${t} ${e}`:t:e||""}var NP=pr({__forward_ref__:pr});function da(t){return t.__forward_ref__=da,t.toString=function(){return Bi(this())},t}function $i(t){return l4(t)?t():t}function l4(t){return typeof t=="function"&&t.hasOwnProperty(NP)&&t.__forward_ref__===da}function Ve(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function rs(t){return{providers:t.providers||[],imports:t.imports||[]}}function Rm(t){return yS(t,u4)||yS(t,f4)}function c4(t){return Rm(t)!==null}function yS(t,e){return t.hasOwnProperty(e)?t[e]:null}function RP(t){let e=t&&(t[u4]||t[f4]);return e||null}function bS(t){return t&&(t.hasOwnProperty(wS)||t.hasOwnProperty(FP))?t[wS]:null}var u4=pr({\u0275prov:pr}),wS=pr({\u0275inj:pr}),f4=pr({ngInjectableDef:pr}),FP=pr({ngInjectorDef:pr}),ct=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,n){this._desc=e,this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=Ve({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function d4(t){return t&&!!t.\u0275providers}var OP=pr({\u0275cmp:pr}),LP=pr({\u0275dir:pr}),VP=pr({\u0275pipe:pr}),$P=pr({\u0275mod:pr}),um=pr({\u0275fac:pr}),fd=pr({__NG_ELEMENT_ID__:pr}),CS=pr({__NG_ENV_ID__:pr});function Cs(t){return typeof t=="string"?t:t==null?"":String(t)}function BP(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():Cs(t)}function jP(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new Ue(-200,t)}function _b(t,e){throw new Ue(-201,!1)}var Tn=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(Tn||{}),yy;function p4(){return yy}function Ki(t){let e=yy;return yy=t,e}function h4(t,e,n){let r=Rm(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&Tn.Optional)return null;if(e!==void 0)return e;_b(t,"Injector")}var UP={},pd=UP,by="__NG_DI_FLAG__",fm="ngTempTokenPath",GP="ngTokenPath",HP=/\n/gm,WP="\u0275",_S="__source",hu;function zP(){return hu}function Ya(t){let e=hu;return hu=t,e}function qP(t,e=Tn.Default){if(hu===void 0)throw new Ue(-203,!1);return hu===null?h4(t,void 0,e):hu.get(t,e&Tn.Optional?null:void 0,e)}function Je(t,e=Tn.Default){return(p4()||qP)($i(t),e)}function He(t,e=Tn.Default){return Je(t,Fm(e))}function Fm(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function wy(t){let e=[];for(let n=0;n<t.length;n++){let r=$i(t[n]);if(Array.isArray(r)){if(r.length===0)throw new Ue(900,!1);let i,o=Tn.Default;for(let s=0;s<r.length;s++){let a=r[s],l=KP(a);typeof l=="number"?l===-1?i=a.token:o|=l:i=a}e.push(Je(i,o))}else e.push(Je(r))}return e}function m4(t,e){return t[by]=e,t.prototype[by]=e,t}function KP(t){return t[by]}function YP(t,e,n,r){let i=t[fm];throw e[_S]&&i.unshift(e[_S]),t.message=JP(`
`+t.message,i,n,r),t[GP]=i,t[fm]=null,t}function JP(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==WP?t.slice(2):t;let i=Bi(e);if(Array.isArray(e))i=e.map(Bi).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):Bi(a)))}i=`{${o.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(HP,`
  `)}`}var xb=m4(a4("Optional"),8);var g4=m4(a4("SkipSelf"),4);function ec(t,e){let n=t.hasOwnProperty(um);return n?t[um]:null}function QP(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],o=e[r];if(n&&(i=n(i),o=n(o)),o!==i)return!1}return!0}function ZP(t){return t.flat(Number.POSITIVE_INFINITY)}function Sb(t,e){t.forEach(n=>Array.isArray(n)?Sb(n,e):e(n))}function v4(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function dm(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function XP(t,e){let n=[];for(let r=0;r<t;r++)n.push(e);return n}function e6(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let o=i-2;t[i]=t[o],i--}t[e]=n,t[e+1]=r}}function Om(t,e,n){let r=xd(t,e);return r>=0?t[r|1]=n:(r=~r,e6(t,r,e,n)),r}function iy(t,e){let n=xd(t,e);if(n>=0)return t[n|1]}function xd(t,e){return t6(t,e,1)}function t6(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let o=r+(i-r>>1),s=t[o<<n];if(e===s)return o<<n;s>e?i=o:r=o+1}return~(i<<n)}var tc={},Yi=[],gu=new ct(""),y4=new ct("",-1),b4=new ct(""),pm=class{get(e,n=pd){if(n===pd){let r=new Error(`NullInjectorError: No provider for ${Bi(e)}!`);throw r.name="NullInjectorError",r}return n}};function w4(t,e){let n=t[$P]||null;if(!n&&e===!0)throw new Error(`Type ${Bi(t)} does not have '\u0275mod' property.`);return n}function Za(t){return t[OP]||null}function C4(t){return t[LP]||null}function _4(t){return t[VP]||null}function x4(t){let e=Za(t)||C4(t)||_4(t);return e!==null&&e.standalone}function ji(t){return{\u0275providers:t}}function n6(...t){return{\u0275providers:S4(!0,t),\u0275fromNgModule:!0}}function S4(t,...e){let n=[],r=new Set,i,o=s=>{n.push(s)};return Sb(e,s=>{let a=s;Cy(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&E4(i,o),n}function E4(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];Eb(i,o=>{e(o,r)})}}function Cy(t,e,n,r){if(t=$i(t),!t)return!1;let i=null,o=bS(t),s=!o&&Za(t);if(!o&&!s){let l=t.ngModule;if(o=bS(l),o)i=l;else return!1}else{if(s&&!s.standalone)return!1;i=t}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let l=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let c of l)Cy(c,e,n,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let c;try{Sb(o.imports,u=>{Cy(u,e,n,r)&&(c||=[],c.push(u))})}finally{}c!==void 0&&E4(c,e)}if(!a){let c=ec(i)||(()=>new i);e({provide:i,useFactory:c,deps:Yi},i),e({provide:b4,useValue:i,multi:!0},i),e({provide:gu,useValue:()=>Je(i),multi:!0},i)}let l=o.providers;if(l!=null&&!a){let c=t;Eb(l,u=>{e(u,c)})}}else return!1;return i!==t&&t.providers!==void 0}function Eb(t,e){for(let n of t)d4(n)&&(n=n.\u0275providers),Array.isArray(n)?Eb(n,e):e(n)}var r6=pr({provide:String,useValue:pr});function T4(t){return t!==null&&typeof t=="object"&&r6 in t}function i6(t){return!!(t&&t.useExisting)}function o6(t){return!!(t&&t.useFactory)}function vu(t){return typeof t=="function"}function s6(t){return!!t.useClass}var Lm=new ct(""),im={},a6={},oy;function Tb(){return oy===void 0&&(oy=new pm),oy}var Ji=class{},hd=class extends Ji{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,xy(e,s=>this.processProvider(s)),this.records.set(y4,fu(void 0,this)),i.has("environment")&&this.records.set(Ji,fu(void 0,this));let o=this.records.get(Lm);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(b4,Yi,Tn.Self))}destroy(){cd(this),this._destroyed=!0;let e=Un(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),Un(e)}}onDestroy(e){return cd(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){cd(this);let n=Ya(this),r=Ki(void 0),i;try{return e()}finally{Ya(n),Ki(r)}}get(e,n=pd,r=Tn.Default){if(cd(this),e.hasOwnProperty(CS))return e[CS](this);r=Fm(r);let i,o=Ya(this),s=Ki(void 0);try{if(!(r&Tn.SkipSelf)){let l=this.records.get(e);if(l===void 0){let c=d6(e)&&Rm(e);c&&this.injectableDefInScope(c)?l=fu(_y(e),im):l=null,this.records.set(e,l)}if(l!=null)return this.hydrate(e,l)}let a=r&Tn.Self?Tb():this.parent;return n=r&Tn.Optional&&n===pd?null:n,a.get(e,n)}catch(a){if(a.name==="NullInjectorError"){if((a[fm]=a[fm]||[]).unshift(Bi(e)),o)throw a;return YP(a,e,"R3InjectorError",this.source)}else throw a}finally{Ki(s),Ya(o)}}resolveInjectorInitializers(){let e=Un(null),n=Ya(this),r=Ki(void 0),i;try{let o=this.get(gu,Yi,Tn.Self);for(let s of o)s()}finally{Ya(n),Ki(r),Un(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(Bi(r));return`R3Injector[${e.join(", ")}]`}processProvider(e){e=$i(e);let n=vu(e)?e:$i(e&&e.provide),r=c6(e);if(!vu(e)&&e.multi===!0){let i=this.records.get(n);i||(i=fu(void 0,im,!0),i.factory=()=>wy(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){let r=Un(null);try{return n.value===im&&(n.value=a6,n.value=n.factory()),typeof n.value=="object"&&n.value&&f6(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{Un(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=$i(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function _y(t){let e=Rm(t),n=e!==null?e.factory:ec(t);if(n!==null)return n;if(t instanceof ct)throw new Ue(204,!1);if(t instanceof Function)return l6(t);throw new Ue(204,!1)}function l6(t){if(t.length>0)throw new Ue(204,!1);let n=RP(t);return n!==null?()=>n.factory(t):()=>new t}function c6(t){if(T4(t))return fu(void 0,t.useValue);{let e=I4(t);return fu(e,im)}}function I4(t,e,n){let r;if(vu(t)){let i=$i(t);return ec(i)||_y(i)}else if(T4(t))r=()=>$i(t.useValue);else if(o6(t))r=()=>t.useFactory(...wy(t.deps||[]));else if(i6(t))r=()=>Je($i(t.useExisting));else{let i=$i(t&&(t.useClass||t.provide));if(u6(t))r=()=>new i(...wy(t.deps));else return ec(i)||_y(i)}return r}function cd(t){if(t.destroyed)throw new Ue(205,!1)}function fu(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function u6(t){return!!t.deps}function f6(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function d6(t){return typeof t=="function"||typeof t=="object"&&t instanceof ct}function xy(t,e){for(let n of t)Array.isArray(n)?xy(n,e):n&&d4(n)?xy(n.\u0275providers,e):e(n)}function Qi(t,e){t instanceof hd&&cd(t);let n,r=Ya(t),i=Ki(void 0);try{return e()}finally{Ya(r),Ki(i)}}function D4(){return p4()!==void 0||zP()!=null}function Ib(t){if(!D4())throw new Ue(-203,!1)}function p6(t){return typeof t=="function"}var pa=0,An=1,tn=2,Di=3,ns=4,Zi=5,md=6,hm=7,Mo=8,gd=9,la=10,Hr=11,vd=12,xS=13,Eu=14,ko=15,nc=16,du=17,ca=18,Vm=19,A4=20,Ja=21,sy=22,mm=23,po=24,Ai=25,M4=1;var rc=7,gm=8,yu=9,ho=10;function Qa(t){return Array.isArray(t)&&typeof t[M4]=="object"}function ha(t){return Array.isArray(t)&&t[M4]===!0}function Db(t){return(t.flags&4)!==0}function cc(t){return t.componentOffset>-1}function $m(t){return(t.flags&1)===1}function ua(t){return!!t.template}function vm(t){return(t[tn]&512)!==0}function Sd(t){return(t[tn]&256)===256}var Sy=class{previousValue;currentValue;firstChange;constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function k4(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}var zn=(()=>{let t=()=>P4;return t.ngInherit=!0,t})();function P4(t){return t.type.prototype.ngOnChanges&&(t.setInput=m6),h6}function h6(){let t=R4(this),e=t?.current;if(e){let n=t.previous;if(n===tc)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function m6(t,e,n,r,i){let o=this.declaredInputs[r],s=R4(t)||g6(t,{previous:tc,current:null}),a=s.current||(s.current={}),l=s.previous,c=l[o];a[o]=new Sy(c&&c.currentValue,n,l===tc),k4(t,e,i,n)}var N4="__ngSimpleChanges__";function R4(t){return t[N4]||null}function g6(t,e){return t[N4]=e}var SS=null;var Ao=function(t,e,n){SS?.(t,e,n)},F4="svg",v6="math";function _s(t){for(;Array.isArray(t);)t=t[pa];return t}function O4(t,e){return _s(e[t])}function is(t,e){return _s(e[t.index])}function L4(t,e){return t.data[e]}function Ab(t,e){return t[e]}function xs(t,e){let n=e[t];return Qa(n)?n:n[pa]}function y6(t){return(t[tn]&4)===4}function Mb(t){return(t[tn]&128)===128}function b6(t){return ha(t[Di])}function bu(t,e){return e==null?null:t[e]}function V4(t){t[du]=0}function kb(t){t[tn]&1024||(t[tn]|=1024,Mb(t)&&jm(t))}function w6(t,e){for(;t>0;)e=e[Eu],t--;return e}function Bm(t){return!!(t[tn]&9216||t[po]?.dirty)}function Ey(t){t[la].changeDetectionScheduler?.notify(9),t[tn]&64&&(t[tn]|=1024),Bm(t)&&jm(t)}function jm(t){t[la].changeDetectionScheduler?.notify(0);let e=ic(t);for(;e!==null&&!(e[tn]&8192||(e[tn]|=8192,!Mb(e)));)e=ic(e)}function $4(t,e){if(Sd(t))throw new Ue(911,!1);t[Ja]===null&&(t[Ja]=[]),t[Ja].push(e)}function C6(t,e){if(t[Ja]===null)return;let n=t[Ja].indexOf(e);n!==-1&&t[Ja].splice(n,1)}function ic(t){let e=t[Di];return ha(e)?e[Di]:e}function B4(t){return t[hm]??=[]}function j4(t){return t.cleanup??=[]}function _6(t,e,n,r){let i=B4(e);i.push(n),t.firstCreatePass&&j4(t).push(r,i.length-1)}var fn={lFrame:Y4(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var Ty=!1;function x6(){return fn.lFrame.elementDepthCount}function S6(){fn.lFrame.elementDepthCount++}function E6(){fn.lFrame.elementDepthCount--}function Um(){return fn.bindingsEnabled}function U4(){return fn.skipHydrationRootTNode!==null}function T6(t){return fn.skipHydrationRootTNode===t}function I6(){fn.skipHydrationRootTNode=null}function dn(){return fn.lFrame.lView}function ei(){return fn.lFrame.tView}function ue(t){return fn.lFrame.contextLView=t,t[Mo]}function fe(t){return fn.lFrame.contextLView=null,t}function Xi(){let t=G4();for(;t!==null&&t.type===64;)t=t.parent;return t}function G4(){return fn.lFrame.currentTNode}function D6(){let t=fn.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function uc(t,e){let n=fn.lFrame;n.currentTNode=t,n.isParent=e}function Pb(){return fn.lFrame.isParent}function Nb(){fn.lFrame.isParent=!1}function A6(){return fn.lFrame.contextLView}function H4(){return Ty}function ES(t){let e=Ty;return Ty=t,e}function fc(){let t=fn.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function W4(){return fn.lFrame.bindingIndex}function M6(t){return fn.lFrame.bindingIndex=t}function Gm(){return fn.lFrame.bindingIndex++}function Hm(t){let e=fn.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function k6(){return fn.lFrame.inI18n}function P6(t,e){let n=fn.lFrame;n.bindingIndex=n.bindingRootIndex=t,Iy(e)}function N6(){return fn.lFrame.currentDirectiveIndex}function Iy(t){fn.lFrame.currentDirectiveIndex=t}function R6(t){let e=fn.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function z4(){return fn.lFrame.currentQueryIndex}function Rb(t){fn.lFrame.currentQueryIndex=t}function F6(t){let e=t[An];return e.type===2?e.declTNode:e.type===1?t[Zi]:null}function q4(t,e,n){if(n&Tn.SkipSelf){let i=e,o=t;for(;i=i.parent,i===null&&!(n&Tn.Host);)if(i=F6(o),i===null||(o=o[Eu],i.type&10))break;if(i===null)return!1;e=i,t=o}let r=fn.lFrame=K4();return r.currentTNode=e,r.lView=t,!0}function Fb(t){let e=K4(),n=t[An];fn.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function K4(){let t=fn.lFrame,e=t===null?null:t.child;return e===null?Y4(t):e}function Y4(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function J4(){let t=fn.lFrame;return fn.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var Q4=J4;function Ob(){let t=J4();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function O6(t){return(fn.lFrame.contextLView=w6(t,fn.lFrame.contextLView))[Mo]}function ma(){return fn.lFrame.selectedIndex}function oc(t){fn.lFrame.selectedIndex=t}function Lb(){let t=fn.lFrame;return L4(t.tView,t.selectedIndex)}function qn(){fn.lFrame.currentNamespace=F4}function ti(){L6()}function L6(){fn.lFrame.currentNamespace=null}function V6(){return fn.lFrame.currentNamespace}var Z4=!0;function Wm(){return Z4}function zm(t){Z4=t}function $6(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=P4(e);(n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s)}i&&(n.preOrderHooks??=[]).push(0-t,i),o&&((n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o))}function Vb(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let o=t.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:u}=o;s&&(t.contentHooks??=[]).push(-n,s),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),l&&(t.viewHooks??=[]).push(-n,l),c&&((t.viewHooks??=[]).push(n,c),(t.viewCheckHooks??=[]).push(n,c)),u!=null&&(t.destroyHooks??=[]).push(n,u)}}function om(t,e,n){X4(t,e,3,n)}function sm(t,e,n,r){(t[tn]&3)===n&&X4(t,e,n,r)}function ay(t,e){let n=t[tn];(n&3)===e&&(n&=16383,n+=1,t[tn]=n)}function X4(t,e,n,r){let i=r!==void 0?t[du]&65535:0,o=r??-1,s=e.length-1,a=0;for(let l=i;l<s;l++)if(typeof e[l+1]=="number"){if(a=e[l],r!=null&&a>=r)break}else e[l]<0&&(t[du]+=65536),(a<o||o==-1)&&(B6(t,n,e,l),t[du]=(t[du]&4294901760)+l+2),l++}function TS(t,e){Ao(4,t,e);let n=Un(null);try{e.call(t)}finally{Un(n),Ao(5,t,e)}}function B6(t,e,n,r){let i=n[r]<0,o=n[r+1],s=i?-n[r]:n[r],a=t[s];i?t[tn]>>14<t[du]>>16&&(t[tn]&3)===e&&(t[tn]+=16384,TS(a,o)):TS(a,o)}var mu=-1,sc=class{factory;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,n,r){this.factory=e,this.canSeeViewProviders=n,this.injectImpl=r}};function j6(t){return t instanceof sc}function U6(t){return(t.flags&8)!==0}function G6(t){return(t.flags&16)!==0}function H6(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let o=n[r++],s=n[r++],a=n[r++];t.setAttribute(e,s,a,o)}else{let o=i,s=n[++r];W6(o)?t.setProperty(e,o,s):t.setAttribute(e,o,s),r++}}return r}function eE(t){return t===3||t===4||t===6}function W6(t){return t.charCodeAt(0)===64}function wu(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?IS(t,n,i,null,e[++r]):IS(t,n,i,null,null))}}return t}function IS(t,e,n,r,i){let o=0,s=t.length;if(e===-1)s=-1;else for(;o<t.length;){let a=t[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<t.length;){let a=t[o];if(typeof a=="number")break;if(a===n){if(r===null){i!==null&&(t[o+1]=i);return}else if(r===t[o+1]){t[o+2]=i;return}}o++,r!==null&&o++,i!==null&&o++}s!==-1&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),r!==null&&t.splice(o++,0,r),i!==null&&t.splice(o++,0,i)}var ly={},Dy=class{injector;parentInjector;constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=Fm(r);let i=this.injector.get(e,ly,r);return i!==ly||n===ly?i:this.parentInjector.get(e,n,r)}};function tE(t){return t!==mu}function ym(t){return t&32767}function z6(t){return t>>16}function bm(t,e){let n=z6(t),r=e;for(;n>0;)r=r[Eu],n--;return r}var Ay=!0;function wm(t){let e=Ay;return Ay=t,e}var q6=256,nE=q6-1,rE=5,K6=0,ws={};function Y6(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(fd)&&(r=n[fd]),r==null&&(r=n[fd]=K6++);let i=r&nE,o=1<<i;e.data[t+(i>>rE)]|=o}function Cm(t,e){let n=iE(t,e);if(n!==-1)return n;let r=e[An];r.firstCreatePass&&(t.injectorIndex=e.length,cy(r.data,t),cy(e,null),cy(r.blueprint,null));let i=$b(t,e),o=t.injectorIndex;if(tE(i)){let s=ym(i),a=bm(i,e),l=a[An].data;for(let c=0;c<8;c++)e[o+c]=a[s+c]|l[s+c]}return e[o+8]=i,o}function cy(t,e){t.push(0,0,0,0,0,0,0,0,e)}function iE(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function $b(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=cE(i),r===null)return mu;if(n++,i=i[Eu],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return mu}function My(t,e,n){Y6(t,e,n)}function J6(t,e){if(e==="class")return t.classes;if(e==="style")return t.styles;let n=t.attrs;if(n){let r=n.length,i=0;for(;i<r;){let o=n[i];if(eE(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof n[i]=="string";)i++;else{if(o===e)return n[i+1];i=i+2}}}return null}function oE(t,e,n){if(n&Tn.Optional||t!==void 0)return t;_b(e,"NodeInjector")}function sE(t,e,n,r){if(n&Tn.Optional&&r===void 0&&(r=null),(n&(Tn.Self|Tn.Host))===0){let i=t[gd],o=Ki(void 0);try{return i?i.get(e,r,n&Tn.Optional):h4(e,r,n&Tn.Optional)}finally{Ki(o)}}return oE(r,e,n)}function aE(t,e,n,r=Tn.Default,i){if(t!==null){if(e[tn]&2048&&!(r&Tn.Self)){let s=eN(t,e,n,r,ws);if(s!==ws)return s}let o=lE(t,e,n,r,ws);if(o!==ws)return o}return sE(e,n,r,i)}function lE(t,e,n,r,i){let o=Z6(n);if(typeof o=="function"){if(!q4(e,t,r))return r&Tn.Host?oE(i,n,r):sE(e,n,r,i);try{let s;if(s=o(r),s==null&&!(r&Tn.Optional))_b(n);else return s}finally{Q4()}}else if(typeof o=="number"){let s=null,a=iE(t,e),l=mu,c=r&Tn.Host?e[ko][Zi]:null;for((a===-1||r&Tn.SkipSelf)&&(l=a===-1?$b(t,e):e[a+8],l===mu||!AS(r,!1)?a=-1:(s=e[An],a=ym(l),e=bm(l,e)));a!==-1;){let u=e[An];if(DS(o,a,u.data)){let f=Q6(a,e,n,s,r,c);if(f!==ws)return f}l=e[a+8],l!==mu&&AS(r,e[An].data[a+8]===c)&&DS(o,a,e)?(s=u,a=ym(l),e=bm(l,e)):a=-1}}return i}function Q6(t,e,n,r,i,o){let s=e[An],a=s.data[t+8],l=r==null?cc(a)&&Ay:r!=s&&(a.type&3)!==0,c=i&Tn.Host&&o===a,u=am(a,s,n,l,c);return u!==null?yd(e,s,u,a):ws}function am(t,e,n,r,i){let o=t.providerIndexes,s=e.data,a=o&1048575,l=t.directiveStart,c=t.directiveEnd,u=o>>20,f=r?a:a+u,d=i?a+u:c;for(let h=f;h<d;h++){let m=s[h];if(h<l&&n===m||h>=l&&m.type===n)return h}if(i){let h=s[l];if(h&&ua(h)&&h.type===n)return l}return null}function yd(t,e,n,r){let i=t[n],o=e.data;if(j6(i)){let s=i;s.resolving&&jP(BP(o[n]));let a=wm(s.canSeeViewProviders);s.resolving=!0;let l,c=s.injectImpl?Ki(s.injectImpl):null,u=q4(t,r,Tn.Default);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&$6(n,o[n],e)}finally{c!==null&&Ki(c),wm(a),s.resolving=!1,Q4()}}return i}function Z6(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(fd)?t[fd]:void 0;return typeof e=="number"?e>=0?e&nE:X6:e}function DS(t,e,n){let r=1<<t;return!!(n[e+(t>>rE)]&r)}function AS(t,e){return!(t&Tn.Self)&&!(t&Tn.Host&&e)}var Xl=class{_tNode;_lView;constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return aE(this._tNode,this._lView,e,Fm(r),n)}};function X6(){return new Xl(Xi(),dn())}function Ds(t){return _d(()=>{let e=t.prototype.constructor,n=e[um]||ky(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let o=i[um]||ky(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function ky(t){return l4(t)?()=>{let e=ky($i(t));return e&&e()}:ec(t)}function eN(t,e,n,r,i){let o=t,s=e;for(;o!==null&&s!==null&&s[tn]&2048&&!vm(s);){let a=lE(o,s,n,r|Tn.Self,ws);if(a!==ws)return a;let l=o.parent;if(!l){let c=s[A4];if(c){let u=c.get(n,ws,r);if(u!==ws)return u}l=cE(s),s=s[Eu]}o=l}return i}function cE(t){let e=t[An],n=e.type;return n===2?e.declTNode:n===1?t[Zi]:null}function Bb(t){return J6(Xi(),t)}function MS(t,e=null,n=null,r){let i=uE(t,e,n,r);return i.resolveInjectorInitializers(),i}function uE(t,e=null,n=null,r,i=new Set){let o=[n||Yi,n6(t)];return r=r||(typeof t=="object"?void 0:Bi(t)),new hd(o,e||Tb(),r||null,i)}var mo=class t{static THROW_IF_NOT_FOUND=pd;static NULL=new pm;static create(e,n){if(Array.isArray(e))return MS({name:""},n,e,"");{let r=e.name??"";return MS({name:r},e.parent,e.providers,r)}}static \u0275prov=Ve({token:t,providedIn:"any",factory:()=>Je(y4)});static __NG_ELEMENT_ID__=-1};var tN=new ct("");tN.__NG_ELEMENT_ID__=t=>{let e=Xi();if(e===null)throw new Ue(204,!1);if(e.type&2)return e.value;if(t&Tn.Optional)return null;throw new Ue(204,!1)};var fE=!1,nl=(()=>{class t{static __NG_ELEMENT_ID__=nN;static __NG_ENV_ID__=n=>n}return t})(),Py=class extends nl{_lView;constructor(e){super(),this._lView=e}onDestroy(e){return $4(this._lView,e),()=>C6(this._lView,e)}};function nN(){return new Py(dn())}var bd=class{},qm=new ct("",{providedIn:"root",factory:()=>!1});var dE=new ct(""),pE=new ct(""),rl=(()=>{class t{taskId=0;pendingTasks=new Set;get _hasPendingTasks(){return this.hasPendingTasks.value}hasPendingTasks=new Vr(!1);add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}has(n){return this.pendingTasks.has(n)}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static \u0275prov=Ve({token:t,providedIn:"root",factory:()=>new t})}return t})();var Ny=class extends Wn{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,D4()&&(this.destroyRef=He(nl,{optional:!0})??void 0,this.pendingTasks=He(rl,{optional:!0})??void 0)}emit(e){let n=Un(null);try{super.next(e)}finally{Un(n)}}subscribe(e,n,r){let i=e,o=n||(()=>null),s=r;if(e&&typeof e=="object"){let l=e;i=l.next?.bind(l),o=l.error?.bind(l),s=l.complete?.bind(l)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof nr&&e.add(a),a}wrapInTimeout(e){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{e(n),r!==void 0&&this.pendingTasks?.remove(r)})}}},yt=Ny;function _m(...t){}function hE(t){let e,n;function r(){t=_m;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{t(),r()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{t(),r()})),()=>r()}function kS(t){return queueMicrotask(()=>t()),()=>{t=_m}}var jb="isAngularZone",xm=jb+"_ID",rN=0,kr=class t{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new yt(!1);onMicrotaskEmpty=new yt(!1);onStable=new yt(!1);onError=new yt(!1);constructor(e){let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=fE}=e;if(typeof Zone>"u")throw new Ue(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,sN(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(jb)===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new Ue(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new Ue(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,iN,_m,_m);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},iN={};function Ub(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function oN(t){if(t.isCheckStableRunning||t.callbackScheduled)return;t.callbackScheduled=!0;function e(){hE(()=>{t.callbackScheduled=!1,Ry(t),t.isCheckStableRunning=!0,Ub(t),t.isCheckStableRunning=!1})}t.scheduleInRootZone?Zone.root.run(()=>{e()}):t._outer.run(()=>{e()}),Ry(t)}function sN(t){let e=()=>{oN(t)},n=rN++;t._inner=t._inner.fork({name:"angular",properties:{[jb]:!0,[xm]:n,[xm+n]:!0},onInvokeTask:(r,i,o,s,a,l)=>{if(aN(l))return r.invokeTask(o,s,a,l);try{return PS(t),r.invokeTask(o,s,a,l)}finally{(t.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),NS(t)}},onInvoke:(r,i,o,s,a,l,c)=>{try{return PS(t),r.invoke(o,s,a,l,c)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!lN(l)&&e(),NS(t)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(t._hasPendingMicrotasks=s.microTask,Ry(t),Ub(t)):s.change=="macroTask"&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}function Ry(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function PS(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function NS(t){t._nesting--,Ub(t)}var Fy=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new yt;onMicrotaskEmpty=new yt;onStable=new yt;onError=new yt;run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}};function aN(t){return mE(t,"__ignore_ng_zone__")}function lN(t){return mE(t,"__scheduler_tick__")}function mE(t,e){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[e]===!0}var Xa=class{_console=console;handleError(e){this._console.error("ERROR",e)}},cN=new ct("",{providedIn:"root",factory:()=>{let t=He(kr),e=He(Xa);return n=>t.runOutsideAngular(()=>e.handleError(n))}});function RS(t,e){return s4(t,e)}function uN(t){return s4(o4,t)}var il=(RS.required=uN,RS);function fN(){return Tu(Xi(),dn())}function Tu(t,e){return new xi(is(t,e))}var xi=(()=>{class t{nativeElement;constructor(n){this.nativeElement=n}static __NG_ELEMENT_ID__=fN}return t})();function dN(t){return t instanceof xi?t.nativeElement:t}var FS=new Set;function ol(t){FS.has(t)||(FS.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function gE(t){return typeof t=="function"&&t[uo]!==void 0}function dc(t,e){ol("NgSignals");let n=Hx(t),r=n[uo];return e?.equal&&(r.equal=e.equal),n.set=i=>Eh(r,i),n.update=i=>Wx(r,i),n.asReadonly=pN.bind(n),n}function pN(){let t=this[uo];if(t.readonlyFn===void 0){let e=()=>this();e[uo]=t,t.readonlyFn=e}return t.readonlyFn}function vE(t){return gE(t)&&typeof t.set=="function"}function hN(){return this._results[Symbol.iterator]()}var Oy=class{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new Wn}constructor(e=!1){this._emitDistinctChangesOnly=e}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){this.dirty=!1;let r=ZP(e);(this._changesDetected=!QP(this._results,r,n))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=hN};function yE(t){return(t.flags&128)===128}var bE=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(bE||{}),wE=new Map,mN=0;function gN(){return mN++}function vN(t){wE.set(t[Vm],t)}function Ly(t){wE.delete(t[Vm])}var OS="__ngContext__";function pc(t,e){Qa(e)?(t[OS]=e[Vm],vN(e)):t[OS]=e}function CE(t){return xE(t[vd])}function _E(t){return xE(t[ns])}function xE(t){for(;t!==null&&!ha(t);)t=t[ns];return t}var Vy;function SE(t){Vy=t}function EE(){if(Vy!==void 0)return Vy;if(typeof document<"u")return document;throw new Ue(210,!1)}var Gb=new ct("",{providedIn:"root",factory:()=>yN}),yN="ng",Hb=new ct(""),ga=new ct("",{providedIn:"platform",factory:()=>"unknown"});var Wb=new ct(""),zb=new ct("",{providedIn:"root",factory:()=>EE().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var bN="h",wN="b";var TE=!1,CN=new ct("",{providedIn:"root",factory:()=>TE});var IE=function(t){return t[t.CHANGE_DETECTION=0]="CHANGE_DETECTION",t[t.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",t}(IE||{}),Km=new ct("");var _N=(()=>{class t{impl=null;execute(){this.impl?.execute()}static \u0275prov=Ve({token:t,providedIn:"root",factory:()=>new t})}return t})();var xN=()=>null;function DE(t,e,n=!1){return xN(t,e,n)}function AE(t,e){let n=t.contentQueries;if(n!==null){let r=Un(null);try{for(let i=0;i<n.length;i+=2){let o=n[i],s=n[i+1];if(s!==-1){let a=t.data[s];Rb(o),a.contentQueries(2,e[s],s)}}}finally{Un(r)}}}function $y(t,e,n){Rb(0);let r=Un(null);try{e(t,n)}finally{Un(r)}}function qb(t,e,n){if(Db(e)){let r=Un(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=t.data[s];if(a.contentQueries){let l=n[s];a.contentQueries(1,l,s)}}}finally{Un(r)}}}var Ss=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Ss||{}),em;function SN(){if(em===void 0&&(em=null,dd.trustedTypes))try{em=dd.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return em}function Ym(t){return SN()?.createHTML(t)||t}var tm;function ME(){if(tm===void 0&&(tm=null,dd.trustedTypes))try{tm=dd.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return tm}function LS(t){return ME()?.createHTML(t)||t}function VS(t){return ME()?.createScriptURL(t)||t}var Sm=class{changingThisBreaksApplicationSecurity;constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${i4})`}};function hc(t){return t instanceof Sm?t.changingThisBreaksApplicationSecurity:t}function Jm(t,e){let n=EN(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${i4})`)}return n===e}function EN(t){return t instanceof Sm&&t.getTypeName()||null}function TN(t){let e=new jy(t);return IN()?new By(e):e}var By=class{inertDocumentHelper;constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{let n=new window.DOMParser().parseFromString(Ym(e),"text/html").body;return n===null?this.inertDocumentHelper.getInertBodyElement(e):(n.firstChild?.remove(),n)}catch{return null}}},jy=class{defaultDoc;inertDocument;constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){let n=this.inertDocument.createElement("template");return n.innerHTML=Ym(e),n}};function IN(){try{return!!new window.DOMParser().parseFromString(Ym(""),"text/html")}catch{return!1}}var DN=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Kb(t){return t=String(t),t.match(DN)?t:"unsafe:"+t}function va(t){let e={};for(let n of t.split(","))e[n]=!0;return e}function Ed(...t){let e={};for(let n of t)for(let r in n)n.hasOwnProperty(r)&&(e[r]=!0);return e}var kE=va("area,br,col,hr,img,wbr"),PE=va("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),NE=va("rp,rt"),AN=Ed(NE,PE),MN=Ed(PE,va("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),kN=Ed(NE,va("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),$S=Ed(kE,MN,kN,AN),RE=va("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),PN=va("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),NN=va("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),RN=Ed(RE,PN,NN),FN=va("script,style,template"),Uy=class{sanitizedSomething=!1;buf=[];sanitizeChildren(e){let n=e.firstChild,r=!0,i=[];for(;n;){if(n.nodeType===Node.ELEMENT_NODE?r=this.startElement(n):n.nodeType===Node.TEXT_NODE?this.chars(n.nodeValue):this.sanitizedSomething=!0,r&&n.firstChild){i.push(n),n=VN(n);continue}for(;n;){n.nodeType===Node.ELEMENT_NODE&&this.endElement(n);let o=LN(n);if(o){n=o;break}n=i.pop()}}return this.buf.join("")}startElement(e){let n=BS(e).toLowerCase();if(!$S.hasOwnProperty(n))return this.sanitizedSomething=!0,!FN.hasOwnProperty(n);this.buf.push("<"),this.buf.push(n);let r=e.attributes;for(let i=0;i<r.length;i++){let o=r.item(i),s=o.name,a=s.toLowerCase();if(!RN.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let l=o.value;RE[a]&&(l=Kb(l)),this.buf.push(" ",s,'="',jS(l),'"')}return this.buf.push(">"),!0}endElement(e){let n=BS(e).toLowerCase();$S.hasOwnProperty(n)&&!kE.hasOwnProperty(n)&&(this.buf.push("</"),this.buf.push(n),this.buf.push(">"))}chars(e){this.buf.push(jS(e))}};function ON(t,e){return(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}function LN(t){let e=t.nextSibling;if(e&&t!==e.previousSibling)throw FE(e);return e}function VN(t){let e=t.firstChild;if(e&&ON(t,e))throw FE(e);return e}function BS(t){let e=t.nodeName;return typeof e=="string"?e:"FORM"}function FE(t){return new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`)}var $N=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,BN=/([^\#-~ |!])/g;function jS(t){return t.replace(/&/g,"&amp;").replace($N,function(e){let n=e.charCodeAt(0),r=e.charCodeAt(1);return"&#"+((n-55296)*1024+(r-56320)+65536)+";"}).replace(BN,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}var nm;function OE(t,e){let n=null;try{nm=nm||TN(t);let r=e?String(e):"";n=nm.getInertBodyElement(r);let i=5,o=r;do{if(i===0)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=n.innerHTML,n=nm.getInertBodyElement(r)}while(r!==o);let a=new Uy().sanitizeChildren(US(n)||n);return Ym(a)}finally{if(n){let r=US(n)||n;for(;r.firstChild;)r.firstChild.remove()}}}function US(t){return"content"in t&&jN(t)?t.content:null}function jN(t){return t.nodeType===Node.ELEMENT_NODE&&t.nodeName==="TEMPLATE"}var Td=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(Td||{});function Yb(t){let e=Jb();return e?LS(e.sanitize(Td.HTML,t)||""):Jm(t,"HTML")?LS(hc(t)):OE(EE(),Cs(t))}function Gn(t){let e=Jb();return e?e.sanitize(Td.URL,t)||"":Jm(t,"URL")?hc(t):Kb(Cs(t))}function UN(t){let e=Jb();if(e)return VS(e.sanitize(Td.RESOURCE_URL,t)||"");if(Jm(t,"ResourceURL"))return VS(hc(t));throw new Ue(904,!1)}function GN(t,e){return e==="src"&&(t==="embed"||t==="frame"||t==="iframe"||t==="media"||t==="script")||e==="href"&&(t==="base"||t==="link")?UN:Gn}function LE(t,e,n){return GN(e,n)(t)}function Jb(){let t=dn();return t&&t[la].sanitizer}var HN=/^>|^->|<!--|-->|--!>|<!-$/g,WN=/(<|>)/g,zN="\u200B$1\u200B";function qN(t){return t.replace(HN,e=>e.replace(WN,zN))}function VE(t){return t instanceof Function?t():t}function KN(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}var $E="ng-template";function YN(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&KN(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(Qb(t))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===n)return!0}return!1}function Qb(t){return t.type===4&&t.value!==$E}function JN(t,e,n){let r=t.type===4&&!n?$E:t.value;return e===r}function QN(t,e,n){let r=4,i=t.attrs,o=i!==null?eR(i):0,s=!1;for(let a=0;a<e.length;a++){let l=e[a];if(typeof l=="number"){if(!s&&!es(r)&&!es(l))return!1;if(s&&es(l))continue;s=!1,r=l|r&1;continue}if(!s)if(r&4){if(r=2|r&1,l!==""&&!JN(t,l,n)||l===""&&e.length===1){if(es(r))return!1;s=!0}}else if(r&8){if(i===null||!YN(t,i,l,n)){if(es(r))return!1;s=!0}}else{let c=e[++a],u=ZN(l,i,Qb(t),n);if(u===-1){if(es(r))return!1;s=!0;continue}if(c!==""){let f;if(u>o?f="":f=i[u+1].toLowerCase(),r&2&&c!==f){if(es(r))return!1;s=!0}}}}return es(r)||s}function es(t){return(t&1)===0}function ZN(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let o=!1;for(;i<e.length;){let s=e[i];if(s===t)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return tR(e,t)}function BE(t,e,n=!1){for(let r=0;r<e.length;r++)if(QN(t,e[r],n))return!0;return!1}function XN(t){let e=t.attrs;if(e!=null){let n=e.indexOf(5);if((n&1)===0)return e[n+1]}return null}function eR(t){for(let e=0;e<t.length;e++){let n=t[e];if(eE(n))return e}return t.length}function tR(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function nR(t,e){e:for(let n=0;n<e.length;n++){let r=e[n];if(t.length===r.length){for(let i=0;i<t.length;i++)if(t[i]!==r[i])continue e;return!0}}return!1}function GS(t,e){return t?":not("+e.trim()+")":e}function rR(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if(typeof s=="string")if(r&2){let a=t[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!es(s)&&(e+=GS(o,i),i=""),r=s,o=o||!es(r);n++}return i!==""&&(e+=GS(o,i)),e}function iR(t){return t.map(rR).join(",")}function oR(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let o=t[r];if(typeof o=="string")i===2?o!==""&&e.push(o,t[++r]):i===8&&n.push(o);else{if(!es(i))break;i=o}r++}return n.length&&e.push(1,...n),e}var eo={};function sR(t,e){return t.createText(e)}function aR(t,e,n){t.setValue(e,n)}function lR(t,e){return t.createComment(qN(e))}function jE(t,e,n){return t.createElement(e,n)}function Em(t,e,n,r,i){t.insertBefore(e,n,r,i)}function UE(t,e,n){t.appendChild(e,n)}function HS(t,e,n,r,i){r!==null?Em(t,e,n,r,i):UE(t,e,n)}function cR(t,e,n){t.removeChild(null,e,n)}function uR(t,e,n){t.setAttribute(e,"style",n)}function fR(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function GE(t,e,n){let{mergedAttrs:r,classes:i,styles:o}=n;r!==null&&H6(t,e,r),i!==null&&fR(t,e,i),o!==null&&uR(t,e,o)}function Zb(t,e,n,r,i,o,s,a,l,c,u){let f=Ai+r,d=f+i,h=dR(f,d),m=typeof c=="function"?c():c;return h[An]={type:t,blueprint:h,template:n,queries:null,viewQuery:a,declTNode:e,data:h.slice().fill(null,f),bindingStartIndex:f,expandoStartIndex:d,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:l,consts:m,incompleteFirstPass:!1,ssrId:u}}function dR(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:eo);return n}function pR(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=Zb(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function Xb(t,e,n,r,i,o,s,a,l,c,u){let f=e.blueprint.slice();return f[pa]=i,f[tn]=r|4|128|8|64|1024,(c!==null||t&&t[tn]&2048)&&(f[tn]|=2048),V4(f),f[Di]=f[Eu]=t,f[Mo]=n,f[la]=s||t&&t[la],f[Hr]=a||t&&t[Hr],f[gd]=l||t&&t[gd]||null,f[Zi]=o,f[Vm]=gN(),f[md]=u,f[A4]=c,f[ko]=e.type==2?t[ko]:f,f}function hR(t,e,n){let r=is(e,t),i=pR(n),o=t[la].rendererFactory,s=ew(t,Xb(t,i,null,HE(n),r,e,null,o.createRenderer(r,n),null,null,null));return t[e.index]=s}function HE(t){let e=16;return t.signals?e=4096:t.onPush&&(e=64),e}function WE(t,e,n,r){if(n===0)return-1;let i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function ew(t,e){return t[vd]?t[xS][ns]=e:t[vd]=e,t[xS]=e,e}function E(t=1){zE(ei(),dn(),ma()+t,!1)}function zE(t,e,n,r){if(!r)if((e[tn]&3)===3){let o=t.preOrderCheckHooks;o!==null&&om(e,o,n)}else{let o=t.preOrderHooks;o!==null&&sm(e,o,0,n)}oc(n)}var Qm=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(Qm||{});function qE(t,e,n,r){let i=Un(null);try{let[o,s,a]=t.inputs[n],l=null;(s&Qm.SignalBased)!==0&&(l=e[o][uo]),l!==null&&l.transformFn!==void 0?r=l.transformFn(r):a!==null&&(r=a.call(e,r)),t.setInput!==null?t.setInput(e,l,r,n,o):k4(e,l,o,r)}finally{Un(i)}}function KE(t,e,n,r,i){let o=ma(),s=r&2;try{oc(-1),s&&e.length>Ai&&zE(t,e,Ai,!1),Ao(s?2:0,i),n(r,i)}finally{oc(o),Ao(s?3:1,i)}}function tw(t,e,n){Um()&&(pc(is(n,e),e),YE(t,e,n))}function YE(t,e,n){wR(t,e,n),(n.flags&64)===64&&CR(t,e,n)}function nw(t,e,n=is){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?n(e,t):t[s];t[i++]=a}}}function mR(t,e,n,r){let o=r.get(CN,TE)||n===Ss.ShadowDom,s=t.selectRootElement(e,o);return gR(s),s}function gR(t){vR(t)}var vR=()=>null;function yR(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function JE(t,e,n,r,i,o,s,a){let l=e.inputs,c;if(!a&&l!=null&&(c=l[r]))iw(t,n,c,r,i),cc(e)&&bR(n,e.index);else if(e.type&3){let u=is(e,n);r=yR(r),i=s!=null?s(i,e.value||"",r):i,o.setProperty(u,r,i)}else e.type&12}function bR(t,e){let n=xs(e,t);n[tn]&16||(n[tn]|=64)}function wR(t,e,n){let r=n.directiveStart,i=n.directiveEnd;cc(n)&&hR(e,n,t.data[r+n.componentOffset]),t.firstCreatePass||Cm(n,e);let o=n.initialInputs;for(let s=r;s<i;s++){let a=t.data[s],l=yd(e,t,s,n);if(pc(l,e),o!==null&&ER(e,s-r,l,a,n,o),ua(a)){let c=xs(n.index,e);c[Mo]=yd(e,t,s,n)}}}function CR(t,e,n){let r=n.directiveStart,i=n.directiveEnd,o=n.index,s=N6();try{oc(o);for(let a=r;a<i;a++){let l=t.data[a],c=e[a];Iy(a),(l.hostBindings!==null||l.hostVars!==0||l.hostAttrs!==null)&&_R(l,c)}}finally{oc(-1),Iy(s)}}function _R(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function rw(t,e){let n=t.directiveRegistry,r=null;if(n)for(let i=0;i<n.length;i++){let o=n[i];BE(e,o.selectors,!1)&&(r??=[],ua(o)?r.unshift(o):r.push(o))}return r}function xR(t,e,n,r,i,o){let s=is(t,e);SR(e[Hr],s,o,t.value,n,r,i)}function SR(t,e,n,r,i,o,s){if(o==null)t.removeAttribute(e,i,n);else{let a=s==null?Cs(o):s(o,r||"",i);t.setAttribute(e,i,a,n)}}function ER(t,e,n,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;a+=2){let l=s[a],c=s[a+1];qE(r,n,l,c)}}function QE(t,e){let n=t[gd],r=n?n.get(Xa,null):null;r&&r.handleError(e)}function iw(t,e,n,r,i){for(let o=0;o<n.length;o+=2){let s=n[o],a=n[o+1],l=e[s],c=t.data[s];qE(c,l,a,i)}}function TR(t,e){let n=xs(e,t),r=n[An];IR(r,n);let i=n[pa];i!==null&&n[md]===null&&(n[md]=DE(i,n[gd])),ow(r,n,n[Mo])}function IR(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function ow(t,e,n){Fb(e);try{let r=t.viewQuery;r!==null&&$y(1,r,n);let i=t.template;i!==null&&KE(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[ca]?.finishViewCreation(t),t.staticContentQueries&&AE(t,e),t.staticViewQueries&&$y(2,t.viewQuery,n);let o=t.components;o!==null&&DR(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[tn]&=-5,Ob()}}function DR(t,e){for(let n=0;n<e.length;n++)TR(t,e[n])}function ZE(t,e,n,r){let i=Un(null);try{let o=e.tView,a=t[tn]&4096?4096:16,l=Xb(t,o,n,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),c=t[e.index];l[nc]=c;let u=t[ca];return u!==null&&(l[ca]=u.createEmbeddedView(o)),ow(o,l,n),l}finally{Un(i)}}function Gy(t,e){return!e||e.firstChild===null||yE(t)}var AR;function sw(t,e){return AR(t,e)}var Es=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Es||{});function aw(t){return(t.flags&32)===32}function pu(t,e,n,r,i){if(r!=null){let o,s=!1;ha(r)?o=r:Qa(r)&&(s=!0,r=r[pa]);let a=_s(r);t===0&&n!==null?i==null?UE(e,n,a):Em(e,n,a,i||null,!0):t===1&&n!==null?Em(e,n,a,i||null,!0):t===2?cR(e,a,s):t===3&&e.destroyNode(a),o!=null&&$R(e,t,o,n,i)}}function MR(t,e){XE(t,e),e[pa]=null,e[Zi]=null}function kR(t,e,n,r,i,o){r[pa]=i,r[Zi]=e,Xm(t,r,n,1,i,o)}function XE(t,e){e[la].changeDetectionScheduler?.notify(10),Xm(t,e,e[Hr],2,null,null)}function PR(t){let e=t[vd];if(!e)return uy(t[An],t);for(;e;){let n=null;if(Qa(e))n=e[vd];else{let r=e[ho];r&&(n=r)}if(!n){for(;e&&!e[ns]&&e!==t;)Qa(e)&&uy(e[An],e),e=e[Di];e===null&&(e=t),Qa(e)&&uy(e[An],e),n=e&&e[ns]}e=n}}function lw(t,e){let n=t[yu],r=n.indexOf(e);n.splice(r,1)}function e3(t,e){if(Sd(e))return;let n=e[Hr];n.destroyNode&&Xm(t,e,n,3,null,null),PR(e)}function uy(t,e){if(Sd(e))return;let n=Un(null);try{e[tn]&=-129,e[tn]|=256,e[po]&&$v(e[po]),RR(t,e),NR(t,e),e[An].type===1&&e[Hr].destroy();let r=e[nc];if(r!==null&&ha(e[Di])){r!==e[Di]&&lw(r,e);let i=e[ca];i!==null&&i.detachView(t)}Ly(e)}finally{Un(n)}}function NR(t,e){let n=t.cleanup,r=e[hm];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let a=n[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else{let a=r[n[s+1]];n[s].call(a)}r!==null&&(e[hm]=null);let i=e[Ja];if(i!==null){e[Ja]=null;for(let s=0;s<i.length;s++){let a=i[s];a()}}let o=e[mm];if(o!==null){e[mm]=null;for(let s of o)s.destroy()}}function RR(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof sc)){let o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],l=o[s+1];Ao(4,a,l);try{l.call(a)}finally{Ao(5,a,l)}}else{Ao(4,i,o);try{o.call(i)}finally{Ao(5,i,o)}}}}}function t3(t,e,n){return FR(t,e.parent,n)}function FR(t,e,n){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return n[pa];if(cc(r)){let{encapsulation:i}=t.data[r.directiveStart+r.componentOffset];if(i===Ss.None||i===Ss.Emulated)return null}return is(r,n)}function n3(t,e,n){return LR(t,e,n)}function OR(t,e,n){return t.type&40?is(t,n):null}var LR=OR,WS;function Zm(t,e,n,r){let i=t3(t,r,e),o=e[Hr],s=r.parent||e[Zi],a=n3(s,r,e);if(i!=null)if(Array.isArray(n))for(let l=0;l<n.length;l++)HS(o,i,n[l],a,!1);else HS(o,i,n,a,!1);WS!==void 0&&WS(o,r,e,n,i)}function ud(t,e){if(e!==null){let n=e.type;if(n&3)return is(e,t);if(n&4)return Hy(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return ud(t,r);{let i=t[e.index];return ha(i)?Hy(-1,i):_s(i)}}else{if(n&128)return ud(t,e.next);if(n&32)return sw(e,t)()||_s(t[e.index]);{let r=r3(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=ic(t[ko]);return ud(i,r)}else return ud(t,e.next)}}}return null}function r3(t,e){if(e!==null){let r=t[ko][Zi],i=e.projection;return r.projection[i]}return null}function Hy(t,e){let n=ho+t+1;if(n<e.length){let r=e[n],i=r[An].firstChild;if(i!==null)return ud(r,i)}return e[rc]}function cw(t,e,n,r,i,o,s){for(;n!=null;){if(n.type===128){n=n.next;continue}let a=r[n.index],l=n.type;if(s&&e===0&&(a&&pc(_s(a),r),n.flags|=2),!aw(n))if(l&8)cw(t,e,n.child,r,i,o,!1),pu(e,t,i,a,o);else if(l&32){let c=sw(n,r),u;for(;u=c();)pu(e,t,i,u,o);pu(e,t,i,a,o)}else l&16?i3(t,e,r,n,i,o):pu(e,t,i,a,o);n=s?n.projectionNext:n.next}}function Xm(t,e,n,r,i,o){cw(n,r,t.firstChild,e,i,o,!1)}function VR(t,e,n){let r=e[Hr],i=t3(t,n,e),o=n.parent||e[Zi],s=n3(o,n,e);i3(r,0,e,n,i,s)}function i3(t,e,n,r,i,o){let s=n[ko],l=s[Zi].projection[r.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++){let u=l[c];pu(e,t,i,u,o)}else{let c=l,u=s[Di];yE(r)&&(c.flags|=128),cw(t,e,c,u,i,o,!0)}}function $R(t,e,n,r,i){let o=n[rc],s=_s(n);o!==s&&pu(e,t,r,o,i);for(let a=ho;a<n.length;a++){let l=n[a];Xm(l[An],l,t,e,r,o)}}function BR(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let o=r.indexOf("-")===-1?void 0:Es.DashCase;i==null?t.removeStyle(n,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=Es.Important),t.setStyle(n,r,i,o))}}function Tm(t,e,n,r,i=!1){for(;n!==null;){if(n.type===128){n=i?n.projectionNext:n.next;continue}let o=e[n.index];o!==null&&r.push(_s(o)),ha(o)&&jR(o,r);let s=n.type;if(s&8)Tm(t,e,n.child,r);else if(s&32){let a=sw(n,e),l;for(;l=a();)r.push(l)}else if(s&16){let a=r3(e,n);if(Array.isArray(a))r.push(...a);else{let l=ic(e[ko]);Tm(l[An],l,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function jR(t,e){for(let n=ho;n<t.length;n++){let r=t[n],i=r[An].firstChild;i!==null&&Tm(r[An],r,i,e)}t[rc]!==t[pa]&&e.push(t[rc])}var o3=[];function UR(t){return t[po]??GR(t)}function GR(t){let e=o3.pop()??Object.create(WR);return e.lView=t,e}function HR(t){t.lView[po]!==t&&(t.lView=null,o3.push(t))}var WR=kt(Ne({},td),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{jm(t.lView)},consumerOnSignalRead(){this.lView[po]=this}});function zR(t){let e=t[po]??Object.create(qR);return e.lView=t,e}var qR=kt(Ne({},td),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{let e=ic(t.lView);for(;e&&!s3(e[An]);)e=ic(e);e&&kb(e)},consumerOnSignalRead(){this.lView[po]=this}});function s3(t){return t.type!==2}function a3(t){if(t[mm]===null)return;let e=!0;for(;e;){let n=!1;for(let r of t[mm])r.dirty&&(n=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));e=n&&!!(t[tn]&8192)}}var KR=100;function l3(t,e=!0,n=0){let i=t[la].rendererFactory,o=!1;o||i.begin?.();try{YR(t,n)}catch(s){throw e&&QE(t,s),s}finally{o||i.end?.()}}function YR(t,e){let n=H4();try{ES(!0),Wy(t,e);let r=0;for(;Bm(t);){if(r===KR)throw new Ue(103,!1);r++,Wy(t,1)}}finally{ES(n)}}function JR(t,e,n,r){if(Sd(e))return;let i=e[tn],o=!1,s=!1;Fb(e);let a=!0,l=null,c=null;o||(s3(t)?(c=UR(e),l=_h(c)):Nx()===null?(a=!1,c=zR(e),l=_h(c)):e[po]&&($v(e[po]),e[po]=null));try{V4(e),M6(t.bindingStartIndex),n!==null&&KE(t,e,n,2,r);let u=(i&3)===3;if(!o)if(u){let h=t.preOrderCheckHooks;h!==null&&om(e,h,null)}else{let h=t.preOrderHooks;h!==null&&sm(e,h,0,null),ay(e,0)}if(s||QR(e),a3(e),c3(e,0),t.contentQueries!==null&&AE(t,e),!o)if(u){let h=t.contentCheckHooks;h!==null&&om(e,h)}else{let h=t.contentHooks;h!==null&&sm(e,h,1),ay(e,1)}XR(t,e);let f=t.components;f!==null&&f3(e,f,0);let d=t.viewQuery;if(d!==null&&$y(2,d,r),!o)if(u){let h=t.viewCheckHooks;h!==null&&om(e,h)}else{let h=t.viewHooks;h!==null&&sm(e,h,2),ay(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[sy]){for(let h of e[sy])h();e[sy]=null}o||(e[tn]&=-73)}catch(u){throw o||jm(e),u}finally{c!==null&&(Lv(c,l),a&&HR(c)),Ob()}}function c3(t,e){for(let n=CE(t);n!==null;n=_E(n))for(let r=ho;r<n.length;r++){let i=n[r];u3(i,e)}}function QR(t){for(let e=CE(t);e!==null;e=_E(e)){if(!(e[tn]&2))continue;let n=e[yu];for(let r=0;r<n.length;r++){let i=n[r];kb(i)}}}function ZR(t,e,n){let r=xs(e,t);u3(r,n)}function u3(t,e){Mb(t)&&Wy(t,e)}function Wy(t,e){let r=t[An],i=t[tn],o=t[po],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&Vv(o)),s||=!1,o&&(o.dirty=!1),t[tn]&=-9217,s)JR(r,t,r.template,t[Mo]);else if(i&8192){a3(t),c3(t,1);let a=r.components;a!==null&&f3(t,a,1)}}function f3(t,e,n){for(let r=0;r<e.length;r++)ZR(t,e[r],n)}function XR(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)oc(~i);else{let o=i,s=n[++r],a=n[++r];P6(s,o);let l=e[o];Ao(24,l),a(2,l),Ao(25,l)}}}finally{oc(-1)}}function uw(t,e){let n=H4()?64:1088;for(t[la].changeDetectionScheduler?.notify(e);t;){t[tn]|=n;let r=ic(t);if(vm(t)&&!r)return t;t=r}return null}function d3(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function p3(t,e,n,r=!0){let i=e[An];if(e8(i,e,t,n),r){let s=Hy(n,t),a=e[Hr],l=a.parentNode(t[rc]);l!==null&&kR(i,t[Zi],a,e,l,s)}let o=e[md];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function zy(t,e){if(t.length<=ho)return;let n=ho+e,r=t[n];if(r){let i=r[nc];i!==null&&i!==t&&lw(i,r),e>0&&(t[n-1][ns]=r[ns]);let o=dm(t,ho+e);MR(r[An],r);let s=o[ca];s!==null&&s.detachView(o[An]),r[Di]=null,r[ns]=null,r[tn]&=-129}return r}function e8(t,e,n,r){let i=ho+r,o=n.length;r>0&&(n[i-1][ns]=e),r<o-ho?(e[ns]=n[i],v4(n,ho+r,e)):(n.push(e),e[ns]=null),e[Di]=n;let s=e[nc];s!==null&&n!==s&&h3(s,e);let a=e[ca];a!==null&&a.insertView(t),Ey(e),e[tn]|=128}function h3(t,e){let n=t[yu],r=e[Di];if(Qa(r))t[tn]|=2;else{let i=r[Di][ko];e[ko]!==i&&(t[tn]|=2)}n===null?t[yu]=[e]:n.push(e)}var ac=class{_lView;_cdRefInjectingView;notifyErrorHandler;_appRef=null;_attachedToViewContainer=!1;get rootNodes(){let e=this._lView,n=e[An];return Tm(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r}get context(){return this._lView[Mo]}get dirty(){return!!(this._lView[tn]&9280)||!!this._lView[po]?.dirty}set context(e){this._lView[Mo]=e}get destroyed(){return Sd(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[Di];if(ha(e)){let n=e[gm],r=n?n.indexOf(this):-1;r>-1&&(zy(e,r),dm(n,r))}this._attachedToViewContainer=!1}e3(this._lView[An],this._lView)}onDestroy(e){$4(this._lView,e)}markForCheck(){uw(this._cdRefInjectingView||this._lView,4)}markForRefresh(){kb(this._cdRefInjectingView||this._lView)}detach(){this._lView[tn]&=-129}reattach(){Ey(this._lView),this._lView[tn]|=128}detectChanges(){this._lView[tn]|=1024,l3(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Ue(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=vm(this._lView),n=this._lView[nc];n!==null&&!e&&lw(n,this._lView),XE(this._lView[An],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new Ue(902,!1);this._appRef=e;let n=vm(this._lView),r=this._lView[nc];r!==null&&!n&&h3(r,this._lView),Ey(this._lView)}},Ts=(()=>{class t{static __NG_ELEMENT_ID__=r8}return t})(),t8=Ts,n8=class extends t8{_declarationLView;_declarationTContainer;elementRef;constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){let i=ZE(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:n,dehydratedView:r});return new ac(i)}};function r8(){return eg(Xi(),dn())}function eg(t,e){return t.type&4?new n8(e,t,Tu(t,e)):null}function Id(t,e,n,r,i){let o=t.data[e];if(o===null)o=i8(t,e,n,r,i),k6()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=r,o.attrs=i;let s=D6();o.injectorIndex=s===null?-1:s.injectorIndex}return uc(o,!0),o}function i8(t,e,n,r,i){let o=G4(),s=Pb(),a=s?o:o&&o.parent,l=t.data[e]=s8(t,a,n,e,r,i);return o8(t,l,o,s),l}function o8(t,e,n,r){t.firstChild===null&&(t.firstChild=e),n!==null&&(r?n.child==null&&e.parent!==null&&(n.child=e):n.next===null&&(n.next=e,e.prev=n))}function s8(t,e,n,r,i,o){let s=e?e.injectorIndex:-1,a=0;return U4()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var t1e=new RegExp(`^(\\d+)*(${wN}|${bN})*(.*)`);var a8=()=>null;function qy(t,e){return a8(t,e)}var Ky=class{},Im=class{},Yy=class{resolveComponentFactory(e){throw Error(`No component factory found for ${Bi(e)}.`)}},Cu=class{static NULL=new Yy},el=class{},As=(()=>{class t{destroyNode=null;static __NG_ELEMENT_ID__=()=>l8()}return t})();function l8(){let t=dn(),e=Xi(),n=xs(e.index,t);return(Qa(n)?n:t)[Hr]}var c8=(()=>{class t{static \u0275prov=Ve({token:t,providedIn:"root",factory:()=>null})}return t})();function Jy(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=vy(i,a);else if(o==2){let l=a,c=e[++s];r=vy(r,l+": "+c+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}function ne(t,e=Tn.Default){let n=dn();if(n===null)return Je(t,e);let r=Xi();return aE(r,n,$i(t),e)}function fw(t,e,n,r,i){let o=r===null?null:{"":-1},s=i(t,n);if(s!==null){let[a,l]=f8(t,n,s);p8(t,e,n,a,o,l)}o!==null&&r!==null&&u8(n,r,o)}function u8(t,e,n){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let o=n[e[i+1]];if(o==null)throw new Ue(-301,!1);r.push(e[i],o)}}function f8(t,e,n){let r=[],i=null;for(let o of n)o.findHostDirectiveDefs!==null&&(i??=new Map,o.findHostDirectiveDefs(o,r,i)),ua(o)&&(r.push(o),d8(t,e,r.length-1));return cc(e)?r.push(...n.slice(1)):r.push(...n),[r,i]}function d8(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function p8(t,e,n,r,i,o){for(let c=0;c<r.length;c++)My(Cm(n,e),t,r[c].type);w8(n,t.data.length,r.length);for(let c=0;c<r.length;c++){let u=r[c];u.providersResolver&&u.providersResolver(u)}let s=!1,a=!1,l=WE(t,e,r.length,null);for(let c=0;c<r.length;c++){let u=r[c];n.mergedAttrs=wu(n.mergedAttrs,u.hostAttrs),g8(t,n,e,l,u),b8(l,u,i),u.contentQueries!==null&&(n.flags|=4),(u.hostBindings!==null||u.hostAttrs!==null||u.hostVars!==0)&&(n.flags|=64);let f=u.type.prototype;!s&&(f.ngOnChanges||f.ngOnInit||f.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),s=!0),!a&&(f.ngOnChanges||f.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),l++}h8(t,n,o)}function h8(t,e,n){let r=e.directiveStart,i=e.directiveEnd,o=t.data,s=e.attrs,a=[],l=null,c=null;for(let u=r;u<i;u++){let f=o[u],d=n?n.get(f):null,h=d?d.inputs:null,m=d?d.outputs:null;l=zS(0,f.inputs,u,l,h),c=zS(1,f.outputs,u,c,m);let v=l!==null&&s!==null&&!Qb(e)?m8(l,u,s):null;a.push(v)}l!==null&&(l.hasOwnProperty("class")&&(e.flags|=8),l.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=l,e.outputs=c}function zS(t,e,n,r,i){for(let o in e){if(!e.hasOwnProperty(o))continue;let s=e[o];if(s===void 0)continue;r??={};let a=o;if(i!==null){if(!i.hasOwnProperty(o))continue;a=i[o]}t===0?qS(r,n,a,o):qS(r,n,a,s)}return r}function qS(t,e,n,r){t.hasOwnProperty(n)?t[n].push(e,r):t[n]=[e,r]}function m8(t,e,n){let r=null,i=0;for(;i<n.length;){let o=n[i];if(o===0){i+=4;continue}else if(o===5){i+=2;continue}if(typeof o=="number")break;if(t.hasOwnProperty(o)){let s=t[o];for(let a=0;a<s.length;a+=2)if(s[a]===e){r??=[],r.push(s[a+1],n[i+1]);break}}i+=2}return r}function g8(t,e,n,r,i){t.data[r]=i;let o=i.factory||(i.factory=ec(i.type,!0)),s=new sc(o,ua(i),ne);t.blueprint[r]=s,n[r]=s,v8(t,e,r,WE(t,n,i.hostVars,eo),i)}function v8(t,e,n,r,i){let o=i.hostBindings;if(o){let s=t.hostBindingOpCodes;s===null&&(s=t.hostBindingOpCodes=[]);let a=~e.index;y8(s)!=a&&s.push(a),s.push(n,r,o)}}function y8(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function b8(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;ua(e)&&(n[""]=t)}}function w8(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function m3(t,e,n,r,i,o,s,a){let l=e.consts,c=bu(l,s),u=Id(e,t,2,r,c);return o&&fw(e,n,u,bu(l,a),i),u.mergedAttrs=wu(u.mergedAttrs,u.attrs),u.attrs!==null&&Jy(u,u.attrs,!1),u.mergedAttrs!==null&&Jy(u,u.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,u),u}function g3(t,e){Vb(t,e),Db(e)&&t.queries.elementEnd(e)}var Dm=class extends Cu{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=Za(e);return new _u(n,this.ngModule)}};function C8(t){return Object.keys(t).map(e=>{let[n,r,i]=t[e],o={propName:n,templateName:e,isSignal:(r&Qm.SignalBased)!==0};return i&&(o.transform=i),o})}function _8(t){return Object.keys(t).map(e=>({propName:t[e],templateName:e}))}function x8(t,e,n){let r=e instanceof Ji?e:e?.injector;return r&&t.getStandaloneInjector!==null&&(r=t.getStandaloneInjector(r)||r),r?new Dy(n,r):n}function S8(t){let e=t.get(el,null);if(e===null)throw new Ue(407,!1);let n=t.get(c8,null),r=t.get(bd,null);return{rendererFactory:e,sanitizer:n,changeDetectionScheduler:r}}function E8(t,e){let n=(t.selectors[0][0]||"div").toLowerCase();return jE(e,n,n==="svg"?F4:n==="math"?v6:null)}var _u=class extends Im{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;get inputs(){return C8(this.componentDef.inputs)}get outputs(){return _8(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=iR(e.selectors),this.ngContentSelectors=e.ngContentSelectors??[],this.isBoundToModule=!!n}create(e,n,r,i){let o=Un(null);try{let s=this.componentDef,a=r?["ng-version","19.1.7"]:oR(this.componentDef.selectors[0]),l=Zb(0,null,null,1,0,null,null,null,null,[a],null),c=x8(s,i||this.ngModule,e),u=S8(c),f=u.rendererFactory.createRenderer(null,s),d=r?mR(f,r,s.encapsulation,c):E8(s,f),h=Xb(null,l,null,512|HE(s),null,null,u,f,c,null,DE(d,c,!0));h[Ai]=d,Fb(h);let m=null;try{let v=m3(Ai,l,h,"#host",()=>[this.componentDef],!0,0);d&&(GE(f,d,v),pc(d,h)),YE(l,h,v),qb(l,v,h),g3(l,v),n!==void 0&&T8(v,this.ngContentSelectors,n),m=xs(v.index,h),h[Mo]=m[Mo],ow(l,h,null)}catch(v){throw m!==null&&Ly(m),Ly(h),v}finally{Ob()}return new Qy(this.componentType,h)}finally{Un(o)}}},Qy=class extends Ky{_rootLView;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(e,n){super(),this._rootLView=n,this._tNode=L4(n[An],Ai),this.location=Tu(this._tNode,n),this.instance=xs(this._tNode.index,n)[Mo],this.hostView=this.changeDetectorRef=new ac(n,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let o=this._rootLView;iw(o[An],o,i,e,n),this.previousInputValues.set(e,n);let s=xs(this._tNode.index,o);uw(s,1)}}get injector(){return new Xl(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function T8(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let o=n[i];r.push(o!=null&&o.length?Array.from(o):null)}}var Po=(()=>{class t{static __NG_ELEMENT_ID__=I8}return t})();function I8(){let t=Xi();return y3(t,dn())}var D8=Po,v3=class extends D8{_lContainer;_hostTNode;_hostLView;constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return Tu(this._hostTNode,this._hostLView)}get injector(){return new Xl(this._hostTNode,this._hostLView)}get parentInjector(){let e=$b(this._hostTNode,this._hostLView);if(tE(e)){let n=bm(e,this._hostLView),r=ym(e),i=n[An].data[r+8];return new Xl(i,n)}else return new Xl(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=KS(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-ho}createEmbeddedView(e,n,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=qy(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},o,s);return this.insertImpl(a,i,Gy(this._hostTNode,s)),a}createComponent(e,n,r,i,o){let s=e&&!p6(e),a;if(s)a=n;else{let m=n||{};a=m.index,r=m.injector,i=m.projectableNodes,o=m.environmentInjector||m.ngModuleRef}let l=s?e:new _u(Za(e)),c=r||this.parentInjector;if(!o&&l.ngModule==null){let v=(s?c:this.parentInjector).get(Ji,null);v&&(o=v)}let u=Za(l.componentType??{}),f=qy(this._lContainer,u?.id??null),d=f?.firstChild??null,h=l.create(c,i,d,o);return this.insertImpl(h.hostView,a,Gy(this._hostTNode,f)),h}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(b6(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let l=i[Di],c=new v3(l,l[Zi],l[Di]);c.detach(c.indexOf(e))}}let o=this._adjustIndex(n),s=this._lContainer;return p3(s,i,o,r),e.attachToViewContainerRef(),v4(fy(s),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=KS(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=zy(this._lContainer,n);r&&(dm(fy(this._lContainer),n),e3(r[An],r))}detach(e){let n=this._adjustIndex(e,-1),r=zy(this._lContainer,n);return r&&dm(fy(this._lContainer),n)!=null?new ac(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function KS(t){return t[gm]}function fy(t){return t[gm]||(t[gm]=[])}function y3(t,e){let n,r=e[t.index];return ha(r)?n=r:(n=d3(r,e,null,t),e[t.index]=n,ew(e,n)),M8(n,e,t,r),new v3(n,t,e)}function A8(t,e){let n=t[Hr],r=n.createComment(""),i=is(e,t),o=n.parentNode(i);return Em(n,o,r,n.nextSibling(i),!1),r}var M8=N8,k8=()=>!1;function P8(t,e,n){return k8(t,e,n)}function N8(t,e,n,r){if(t[rc])return;let i;n.type&8?i=_s(r):i=A8(e,n),t[rc]=i}var Zy=class t{queryList;matches=null;constructor(e){this.queryList=e}clone(){return new t(this.queryList)}setDirty(){this.queryList.setDirty()}},Xy=class t{queries;constructor(e=[]){this.queries=e}createEmbeddedView(e){let n=e.queries;if(n!==null){let r=e.contentQueries!==null?e.contentQueries[0]:n.length,i=[];for(let o=0;o<r;o++){let s=n.getByIndex(o),a=this.queries[s.indexInDeclarationView];i.push(a.clone())}return new t(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)dw(e,n).matches!==null&&this.queries[n].setDirty()}},eb=class{flags;read;predicate;constructor(e,n,r=null){this.flags=n,this.read=r,typeof e=="string"?this.predicate=j8(e):this.predicate=e}},tb=class t{queries;constructor(e=[]){this.queries=e}elementStart(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let r=0;r<this.length;r++){let i=n!==null?n.length:0,o=this.getByIndex(r).embeddedTView(e,i);o&&(o.indexInDeclarationView=r,n!==null?n.push(o):n=[o])}return n!==null?new t(n):null}template(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},nb=class t{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(e,n=-1){this.metadata=e,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new t(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let n=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==n;)r=r.parent;return n===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,n){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let o=r[i];this.matchTNodeWithReadOption(e,n,R8(n,o)),this.matchTNodeWithReadOption(e,n,am(n,e,o,!1,!1))}else r===Ts?n.type&4&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,am(n,e,r,!1,!1))}matchTNodeWithReadOption(e,n,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===xi||i===Po||i===Ts&&n.type&4)this.addMatch(n.index,-2);else{let o=am(n,e,i,!1,!1);o!==null&&this.addMatch(n.index,o)}else this.addMatch(n.index,r)}}addMatch(e,n){this.matches===null?this.matches=[e,n]:this.matches.push(e,n)}};function R8(t,e){let n=t.localNames;if(n!==null){for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1]}return null}function F8(t,e){return t.type&11?Tu(t,e):t.type&4?eg(t,e):null}function O8(t,e,n,r){return n===-1?F8(e,t):n===-2?L8(t,e,r):yd(t,t[An],n,e)}function L8(t,e,n){if(n===xi)return Tu(e,t);if(n===Ts)return eg(e,t);if(n===Po)return y3(e,t)}function b3(t,e,n,r){let i=e[ca].queries[r];if(i.matches===null){let o=t.data,s=n.matches,a=[];for(let l=0;s!==null&&l<s.length;l+=2){let c=s[l];if(c<0)a.push(null);else{let u=o[c];a.push(O8(e,u,s[l+1],n.metadata.read))}}i.matches=a}return i.matches}function rb(t,e,n,r){let i=t.queries.getByIndex(n),o=i.matches;if(o!==null){let s=b3(t,e,i,n);for(let a=0;a<o.length;a+=2){let l=o[a];if(l>0)r.push(s[a/2]);else{let c=o[a+1],u=e[-l];for(let f=ho;f<u.length;f++){let d=u[f];d[nc]===d[Di]&&rb(d[An],d,c,r)}if(u[yu]!==null){let f=u[yu];for(let d=0;d<f.length;d++){let h=f[d];rb(h[An],h,c,r)}}}}}return r}function V8(t,e){return t[ca].queries[e].queryList}function $8(t,e,n){let r=new Oy((n&4)===4);return _6(t,e,r,r.destroy),(e[ca]??=new Xy).queries.push(new Zy(r))-1}function B8(t,e,n){let r=ei();return r.firstCreatePass&&(U8(r,new eb(t,e,n),-1),(e&2)===2&&(r.staticViewQueries=!0)),$8(r,dn(),e)}function j8(t){return t.split(",").map(e=>e.trim())}function U8(t,e,n){t.queries===null&&(t.queries=new tb),t.queries.track(new nb(e,n))}function dw(t,e){return t.queries.getByIndex(e)}function G8(t,e){let n=t[An],r=dw(n,e);return r.crossesNgTemplate?rb(n,t,e,[]):b3(n,t,r,e)}var tl=class{},wd=class{};var ib=class extends tl{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new Dm(this);constructor(e,n,r,i=!0){super(),this.ngModuleType=e,this._parent=n;let o=w4(e);this._bootstrapComponents=VE(o.bootstrap),this._r3Injector=uE(e,n,[{provide:tl,useValue:this},{provide:Cu,useValue:this.componentFactoryResolver},...r],Bi(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},sb=class extends wd{moduleType;constructor(e){super(),this.moduleType=e}create(e){return new ib(this.moduleType,e,[])}};var Am=class extends tl{injector;componentFactoryResolver=new Dm(this);instance=null;constructor(e){super();let n=new hd([...e.providers,{provide:tl,useValue:this},{provide:Cu,useValue:this.componentFactoryResolver}],e.parent||Tb(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function pw(t,e,n=null){return new Am({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var H8=(()=>{class t{_injector;cachedInjectors=new Map;constructor(n){this._injector=n}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let r=S4(!1,n.type),i=r.length>0?pw([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=Ve({token:t,providedIn:"environment",factory:()=>new t(Je(Ji))})}return t})();function xe(t){return _d(()=>{let e=w3(t),n=kt(Ne({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===bE.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:e.standalone?i=>i.get(H8).getOrCreateStandaloneInjector(n):null,getExternalStyles:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Ss.Emulated,styles:t.styles||Yi,_:null,schemas:t.schemas||null,tView:null,id:""});e.standalone&&ol("NgStandalone"),C3(n);let r=t.dependencies;return n.directiveDefs=YS(r,!1),n.pipeDefs=YS(r,!0),n.id=Y8(n),n})}function W8(t){return Za(t)||C4(t)}function z8(t){return t!==null}function os(t){return _d(()=>({type:t.type,bootstrap:t.bootstrap||Yi,declarations:t.declarations||Yi,imports:t.imports||Yi,exports:t.exports||Yi,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function q8(t,e){if(t==null)return tc;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],o,s,a,l;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o,l=i[3]||null):(o=i,s=i,a=Qm.None,l=null),n[o]=[r,a,l],e[o]=s}return n}function K8(t){if(t==null)return tc;let e={};for(let n in t)t.hasOwnProperty(n)&&(e[t[n]]=n);return e}function fr(t){return _d(()=>{let e=w3(t);return C3(e),e})}function hw(t){return{type:t.type,name:t.name,factory:null,pure:t.pure!==!1,standalone:t.standalone??!0,onDestroy:t.type.prototype.ngOnDestroy||null}}function w3(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputConfig:t.inputs||tc,exportAs:t.exportAs||null,standalone:t.standalone??!0,signals:t.signals===!0,selectors:t.selectors||Yi,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:q8(t.inputs,e),outputs:K8(t.outputs),debugInfo:null}}function C3(t){t.features?.forEach(e=>e(t))}function YS(t,e){if(!t)return null;let n=e?_4:W8;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(z8)}function Y8(t){let e=0,n=typeof t.consts=="function"?"":t.consts,r=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,n,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery];for(let o of r.join("|"))e=Math.imul(31,e)+o.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function J8(t){return Object.getPrototypeOf(t.prototype).constructor}function go(t){let e=J8(t.type),n=!0,r=[t];for(;e;){let i;if(ua(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Ue(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let s=t;s.inputs=dy(t.inputs),s.declaredInputs=dy(t.declaredInputs),s.outputs=dy(t.outputs);let a=i.hostBindings;a&&tF(t,a);let l=i.viewQuery,c=i.contentQueries;if(l&&X8(t,l),c&&eF(t,c),Q8(t,i),PP(t.outputs,i.outputs),ua(i)&&i.data.animation){let u=t.data;u.animation=(u.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(t),a===go&&(n=!1)}}e=Object.getPrototypeOf(e)}Z8(r)}function Q8(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n])}}function Z8(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=wu(i.hostAttrs,n=wu(n,i.hostAttrs))}}function dy(t){return t===tc?{}:t===Yi?[]:t}function X8(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function eF(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,o)=>{e(r,i,o),n(r,i,o)}:t.contentQueries=e}function tF(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}function _3(t){return mw(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function nF(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{let n=t[Symbol.iterator](),r;for(;!(r=n.next()).done;)e(r.value)}}function mw(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function Dd(t,e,n){return t[e]=n}function x3(t,e){return t[e]}function Is(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function xu(t,e,n,r){let i=Is(t,e,n);return Is(t,e+1,r)||i}function S3(t,e,n,r,i){let o=xu(t,e,n,r);return Is(t,e+2,i)||o}function rF(t,e,n,r,i,o){let s=xu(t,e,n,r);return xu(t,e+2,i,o)||s}function iF(t,e,n,r,i,o,s,a,l){let c=e.consts,u=Id(e,t,4,s||null,a||null);Um()&&fw(e,n,u,bu(c,l),rw),u.mergedAttrs=wu(u.mergedAttrs,u.attrs),Vb(e,u);let f=u.tView=Zb(2,u,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c,null);return e.queries!==null&&(e.queries.template(e,u),f.queries=e.queries.embeddedTView(u)),u}function E3(t,e,n,r,i,o,s,a,l,c){let u=n+Ai,f=e.firstCreatePass?iF(u,e,t,r,i,o,s,a,l):e.data[u];uc(f,!1);let d=oF(e,t,f,n);Wm()&&Zm(e,t,d,f),pc(d,t);let h=d3(d,t,d,f);return t[u]=h,ew(t,h),P8(h,f,t),$m(f)&&tw(e,t,f),l!=null&&nw(t,f,c),f}function oe(t,e,n,r,i,o,s,a){let l=dn(),c=ei(),u=bu(c.consts,o);return E3(l,c,t,e,n,r,i,u,s,a),oe}var oF=sF;function sF(t,e,n,r){return zm(!0),e[Hr].createComment("")}var gw=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=Ve({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();var T3=new ct("");function ya(t){return!!t&&typeof t.then=="function"}function I3(t){return!!t&&typeof t.subscribe=="function"}var vw=new ct("");var D3=(()=>{class t{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r});appInits=He(vw,{optional:!0})??[];injector=He(mo);constructor(){}runInitializers(){if(this.initialized)return;let n=[];for(let i of this.appInits){let o=Qi(this.injector,i);if(ya(o))n.push(o);else if(I3(o)){let s=new Promise((a,l)=>{o.subscribe({complete:a,error:l})});n.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),n.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||t)};static \u0275prov=Ve({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),aF=(()=>{class t{static \u0275prov=Ve({token:t,providedIn:"root",factory:()=>new ab})}return t})(),ab=class{queuedEffectCount=0;queues=new Map;schedule(e){this.enqueue(e)}remove(e){let n=e.zone,r=this.queues.get(n);r.has(e)&&(r.delete(e),this.queuedEffectCount--)}enqueue(e){let n=e.zone;this.queues.has(n)||this.queues.set(n,new Set);let r=this.queues.get(n);r.has(e)||(this.queuedEffectCount++,r.add(e))}flush(){for(;this.queuedEffectCount>0;)for(let[e,n]of this.queues)e===null?this.flushQueue(n):e.run(()=>this.flushQueue(n))}flushQueue(e){for(let n of e)e.delete(n),this.queuedEffectCount--,n.run()}},tg=new ct("");function lF(){Gx(()=>{throw new Ue(600,!1)})}function cF(t){return t.isBoundToModule}var uF=10;var fa=(()=>{class t{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=He(cN);afterRenderManager=He(_N);zonelessEnabled=He(qm);rootEffectScheduler=He(aF);dirtyFlags=0;deferredDirtyFlags=0;tracingSnapshot=null;externalTestViews=new Set;afterTick=new Wn;get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];isStable=He(rl).hasPendingTasks.pipe(Ft(n=>!n));constructor(){He(Km,{optional:!0})}whenStable(){let n;return new Promise(r=>{n=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{n.unsubscribe()})}_injector=He(Ji);_rendererFactory=null;get injector(){return this._injector}bootstrap(n,r){let i=n instanceof Im;if(!this._injector.get(D3).done){let d=!i&&x4(n),h=!1;throw new Ue(405,h)}let s;i?s=n:s=this._injector.get(Cu).resolveComponentFactory(n),this.componentTypes.push(s.componentType);let a=cF(s)?void 0:this._injector.get(tl),l=r||s.selector,c=s.create(mo.NULL,[],l,a),u=c.location.nativeElement,f=c.injector.get(T3,null);return f?.registerApplication(u),c.onDestroy(()=>{this.detachView(c.hostView),lm(this.components,c),f?.unregisterApplication(u)}),this._loadComponent(c),c}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick=()=>{if(this.tracingSnapshot!==null){let r=this.tracingSnapshot;this.tracingSnapshot=null,r.run(IE.CHANGE_DETECTION,this._tick),r.dispose();return}if(this._runningTick)throw new Ue(101,!1);let n=Un(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,Un(n),this.afterTick.next()}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(el,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let n=0;for(;this.dirtyFlags!==0&&n++<uF;)this.synchronizeOnce()}synchronizeOnce(){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush()),this.dirtyFlags&7){let n=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:r,notifyErrorHandler:i}of this.allViews)fF(r,i,n,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}else this._rendererFactory?.begin?.(),this._rendererFactory?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:n})=>Bm(n))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(n){let r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){let r=n;lm(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n),this._injector.get(tg,[]).forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>lm(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new Ue(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||t)};static \u0275prov=Ve({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function lm(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function fF(t,e,n,r){if(!n&&!Bm(t))return;l3(t,e,n&&!r?0:1)}function mc(t,e,n,r){let i=dn(),o=Gm();if(Is(i,o,e)){let s=ei(),a=Lb();xR(a,i,t,e,n,r)}return mc}function A3(t,e,n,r){return Is(t,Gm(),n)?e+Cs(n)+r:eo}function dF(t,e,n,r,i,o){let s=W4(),a=xu(t,s,n,i);return Hm(2),a?e+Cs(n)+r+Cs(i)+o:eo}function pF(t,e,n,r,i,o,s,a){let l=W4(),c=S3(t,l,n,i,s);return Hm(3),c?e+Cs(n)+r+Cs(i)+o+Cs(s)+a:eo}function rm(t,e){return t<<17|e<<2}function lc(t){return t>>17&32767}function hF(t){return(t&2)==2}function mF(t,e){return t&131071|e<<17}function lb(t){return t|2}function Su(t){return(t&131068)>>2}function py(t,e){return t&-131069|e<<2}function gF(t){return(t&1)===1}function cb(t){return t|1}function vF(t,e,n,r,i,o){let s=o?e.classBindings:e.styleBindings,a=lc(s),l=Su(s);t[r]=n;let c=!1,u;if(Array.isArray(n)){let f=n;u=f[1],(u===null||xd(f,u)>0)&&(c=!0)}else u=n;if(i)if(l!==0){let d=lc(t[a+1]);t[r+1]=rm(d,a),d!==0&&(t[d+1]=py(t[d+1],r)),t[a+1]=mF(t[a+1],r)}else t[r+1]=rm(a,0),a!==0&&(t[a+1]=py(t[a+1],r)),a=r;else t[r+1]=rm(l,0),a===0?a=r:t[l+1]=py(t[l+1],r),l=r;c&&(t[r+1]=lb(t[r+1])),JS(t,u,r,!0),JS(t,u,r,!1),yF(e,u,t,r,o),s=rm(a,l),o?e.classBindings=s:e.styleBindings=s}function yF(t,e,n,r,i){let o=i?t.residualClasses:t.residualStyles;o!=null&&typeof e=="string"&&xd(o,e)>=0&&(n[r+1]=cb(n[r+1]))}function JS(t,e,n,r){let i=t[n+1],o=e===null,s=r?lc(i):Su(i),a=!1;for(;s!==0&&(a===!1||o);){let l=t[s],c=t[s+1];bF(l,e)&&(a=!0,t[s+1]=r?cb(c):lb(c)),s=r?lc(c):Su(c)}a&&(t[n+1]=r?lb(i):cb(i))}function bF(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?xd(t,e)>=0:!1}var ts={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function wF(t){return t.substring(ts.key,ts.keyEnd)}function CF(t){return _F(t),M3(t,k3(t,0,ts.textEnd))}function M3(t,e){let n=ts.textEnd;return n===e?-1:(e=ts.keyEnd=xF(t,ts.key=e,n),k3(t,e,n))}function _F(t){ts.key=0,ts.keyEnd=0,ts.value=0,ts.valueEnd=0,ts.textEnd=t.length}function k3(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function xF(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}function O(t,e,n){let r=dn(),i=Gm();if(Is(r,i,e)){let o=ei(),s=Lb();JE(o,s,r,t,e,r[Hr],n,!1)}return O}function ub(t,e,n,r,i){let o=e.inputs,s=i?"class":"style";iw(t,n,o[s],s,r)}function Wr(t,e,n){return R3(t,e,n,!1),Wr}function vr(t,e){return R3(t,e,null,!0),vr}function P3(t){F3(AF,N3,t,!0)}function N3(t,e){for(let n=CF(e);n>=0;n=M3(e,n))Om(t,wF(e),!0)}function R3(t,e,n,r){let i=dn(),o=ei(),s=Hm(2);if(o.firstUpdatePass&&L3(o,t,s,r),e!==eo&&Is(i,s,e)){let a=o.data[ma()];V3(o,a,i,i[Hr],t,i[s+1]=kF(e,n),r,s)}}function F3(t,e,n,r){let i=ei(),o=Hm(2);i.firstUpdatePass&&L3(i,null,o,r);let s=dn();if(n!==eo&&Is(s,o,n)){let a=i.data[ma()];if($3(a,r)&&!O3(i,o)){let l=r?a.classesWithoutHost:a.stylesWithoutHost;l!==null&&(n=vy(l,n||"")),ub(i,a,s,n,r)}else MF(i,a,s,s[Hr],s[o+1],s[o+1]=DF(t,e,n),r,o)}}function O3(t,e){return e>=t.expandoStartIndex}function L3(t,e,n,r){let i=t.data;if(i[n+1]===null){let o=i[ma()],s=O3(t,n);$3(o,r)&&e===null&&!s&&(e=!1),e=SF(i,o,e,r),vF(i,o,e,n,s,r)}}function SF(t,e,n,r){let i=R6(t),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=hy(null,t,e,n,r),n=Cd(n,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||t[s]!==i)if(n=hy(i,t,e,n,r),o===null){let l=EF(t,e,r);l!==void 0&&Array.isArray(l)&&(l=hy(null,t,e,l[1],r),l=Cd(l,e.attrs,r),TF(t,e,r,l))}else o=IF(t,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),n}function EF(t,e,n){let r=n?e.classBindings:e.styleBindings;if(Su(r)!==0)return t[lc(r)]}function TF(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[lc(i)]=r}function IF(t,e,n){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=t[o].hostAttrs;r=Cd(r,s,n)}return Cd(r,e.attrs,n)}function hy(t,e,n,r,i){let o=null,s=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<s&&(o=e[a],r=Cd(r,o.hostAttrs,i),o!==t);)a++;return t!==null&&(n.directiveStylingLast=a),r}function Cd(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),Om(t,s,n?!0:e[++o]))}return t===void 0?null:t}function DF(t,e,n){if(n==null||n==="")return Yi;let r=[],i=hc(n);if(Array.isArray(i))for(let o=0;o<i.length;o++)t(r,i[o],!0);else if(typeof i=="object")for(let o in i)i.hasOwnProperty(o)&&t(r,o,i[o]);else typeof i=="string"&&e(r,i);return r}function AF(t,e,n){let r=String(e);r!==""&&!r.includes(" ")&&Om(t,r,n)}function MF(t,e,n,r,i,o,s,a){i===eo&&(i=Yi);let l=0,c=0,u=0<i.length?i[0]:null,f=0<o.length?o[0]:null;for(;u!==null||f!==null;){let d=l<i.length?i[l+1]:void 0,h=c<o.length?o[c+1]:void 0,m=null,v;u===f?(l+=2,c+=2,d!==h&&(m=f,v=h)):f===null||u!==null&&u<f?(l+=2,m=u):(c+=2,m=f,v=h),m!==null&&V3(t,e,n,r,m,v,s,a),u=l<i.length?i[l]:null,f=c<o.length?o[c]:null}}function V3(t,e,n,r,i,o,s,a){if(!(e.type&3))return;let l=t.data,c=l[a+1],u=gF(c)?QS(l,e,n,i,Su(c),s):void 0;if(!Mm(u)){Mm(o)||hF(c)&&(o=QS(l,null,n,i,a,s));let f=O4(ma(),n);BR(r,s,f,i,o)}}function QS(t,e,n,r,i,o){let s=e===null,a;for(;i>0;){let l=t[i],c=Array.isArray(l),u=c?l[1]:l,f=u===null,d=n[i+1];d===eo&&(d=f?Yi:void 0);let h=f?iy(d,r):u===r?d:void 0;if(c&&!Mm(h)&&(h=iy(l,r)),Mm(h)&&(a=h,s))return a;let m=t[i+1];i=s?lc(m):Su(m)}if(e!==null){let l=o?e.residualClasses:e.residualStyles;l!=null&&(a=iy(l,r))}return a}function Mm(t){return t!==void 0}function kF(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=Bi(hc(t)))),t}function $3(t,e){return(t.flags&(e?8:16))!==0}function B3(t,e,n){let r=dn(),i=A3(r,t,e,n);F3(Om,N3,i,!0)}function S(t,e,n,r){let i=dn(),o=ei(),s=Ai+t,a=i[Hr],l=o.firstCreatePass?m3(s,o,i,e,rw,Um(),n,r):o.data[s],c=PF(o,i,l,a,e,t);i[s]=c;let u=$m(l);return uc(l,!0),GE(a,c,l),!aw(l)&&Wm()&&Zm(o,i,c,l),x6()===0&&pc(c,i),S6(),u&&(tw(o,i,l),qb(o,l,i)),r!==null&&nw(i,l),S}function A(){let t=Xi();Pb()?Nb():(t=t.parent,uc(t,!1));let e=t;T6(e)&&I6(),E6();let n=ei();return n.firstCreatePass&&g3(n,e),e.classesWithoutHost!=null&&U6(e)&&ub(n,e,dn(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&G6(e)&&ub(n,e,dn(),e.stylesWithoutHost,!1),A}function Y(t,e,n,r){return S(t,e,n,r),A(),Y}var PF=(t,e,n,r,i,o)=>(zm(!0),jE(r,i,V6()));function NF(t,e,n,r,i){let o=e.consts,s=bu(o,r),a=Id(e,t,8,"ng-container",s);s!==null&&Jy(a,s,!0);let l=bu(o,i);return Um()&&fw(e,n,a,l,rw),a.mergedAttrs=wu(a.mergedAttrs,a.attrs),e.queries!==null&&e.queries.elementStart(e,a),a}function nt(t,e,n){let r=dn(),i=ei(),o=t+Ai,s=i.firstCreatePass?NF(o,i,r,e,n):i.data[o];uc(s,!0);let a=RF(i,r,s,t);return r[o]=a,Wm()&&Zm(i,r,a,s),pc(a,r),$m(s)&&(tw(i,r,s),qb(i,s,r)),n!=null&&nw(r,s),nt}function rt(){let t=Xi(),e=ei();return Pb()?Nb():(t=t.parent,uc(t,!1)),e.firstCreatePass&&(Vb(e,t),Db(t)&&e.queries.elementEnd(t)),rt}function ni(t,e,n){return nt(t,e,n),rt(),ni}var RF=(t,e,n,r)=>(zm(!0),lR(e[Hr],""));function Be(){return dn()}var km="en-US";var FF=km;function OF(t){typeof t=="string"&&(FF=t.toLowerCase().replace(/_/g,"-"))}var LF=(t,e,n)=>{};function re(t,e,n,r){let i=dn(),o=ei(),s=Xi();return j3(o,i,i[Hr],s,t,e,r),re}function VF(t,e,n,r){let i=t.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===n&&i[o+1]===r){let a=e[hm],l=i[o+2];return a.length>l?a[l]:null}typeof s=="string"&&(o+=2)}return null}function j3(t,e,n,r,i,o,s){let a=$m(r),c=t.firstCreatePass&&j4(t),u=e[Mo],f=B4(e),d=!0;if(r.type&3||s){let v=is(r,e),P=s?s(v):v,b=f.length,x=s?T=>s(_s(T[r.index])):r.index,_=null;if(!s&&a&&(_=VF(t,e,i,r.index)),_!==null){let T=_.__ngLastListenerFn__||_;T.__ngNextListenerFn__=o,_.__ngLastListenerFn__=o,d=!1}else{o=XS(r,e,u,o),LF(v,i,o);let T=n.listen(P,i,o);f.push(o,T),c&&c.push(i,x,b,b+1)}}else o=XS(r,e,u,o);let h=r.outputs,m;if(d&&h!==null&&(m=h[i])){let v=m.length;if(v)for(let P=0;P<v;P+=2){let b=m[P],x=m[P+1],k=e[b][x].subscribe(o),$=f.length;f.push(o,k),c&&c.push(i,r.index,$,-($+1))}}}function ZS(t,e,n,r){let i=Un(null);try{return Ao(6,e,n),n(r)!==!1}catch(o){return QE(t,o),!1}finally{Ao(7,e,n),Un(i)}}function XS(t,e,n,r){return function i(o){if(o===Function)return r;let s=cc(t)?xs(t.index,e):e;uw(s,5);let a=ZS(e,n,r,o),l=i.__ngNextListenerFn__;for(;l;)a=ZS(e,n,l,o)&&a,l=l.__ngNextListenerFn__;return a}}function Q(t=1){return O6(t)}function $F(t,e){let n=null,r=XN(t);for(let i=0;i<e.length;i++){let o=e[i];if(o==="*"){n=i;continue}if(r===null?BE(t,o,!0):nR(r,o))return i}return n}function Ms(t){let e=dn()[ko][Zi];if(!e.projection){let n=t?t.length:1,r=e.projection=XP(n,null),i=r.slice(),o=e.child;for(;o!==null;){if(o.type!==128){let s=t?$F(o,t):0;s!==null&&(i[s]?i[s].projectionNext=o:r[s]=o,i[s]=o)}o=o.next}}}function ss(t,e=0,n,r,i,o){let s=dn(),a=ei(),l=r?t+1:null;l!==null&&E3(s,a,l,r,i,o,null,n);let c=Id(a,Ai+t,16,null,n||null);c.projection===null&&(c.projection=e),Nb();let f=!s[md]||U4();s[ko][Zi].projection[c.projection]===null&&l!==null?BF(s,a,l):f&&!aw(c)&&VR(a,s,c)}function BF(t,e,n){let r=Ai+n,i=e.data[r],o=t[r],s=qy(o,i.tView.ssrId),a=ZE(t,i,void 0,{dehydratedView:s});p3(o,a,0,Gy(i,s))}function Fn(t,e,n){B8(t,e,n)}function Pn(t){let e=dn(),n=ei(),r=z4();Rb(r+1);let i=dw(n,r);if(t.dirty&&y6(e)===((i.metadata.flags&2)===2)){if(i.matches===null)t.reset([]);else{let o=G8(e,r);t.reset(o,dN),t.notifyOnChanges()}return!0}return!1}function Nn(){return V8(dn(),z4())}function jF(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}function xt(t){let e=A6();return Ab(e,Ai+t)}function K(t,e=""){let n=dn(),r=ei(),i=t+Ai,o=r.firstCreatePass?Id(r,i,1,e,null):r.data[i],s=UF(r,n,o,e,t);n[i]=s,Wm()&&Zm(r,n,s,o),uc(o,!1)}var UF=(t,e,n,r,i)=>(zm(!0),sR(e[Hr],r));function Ie(t){return Te("",t,""),Ie}function Te(t,e,n){let r=dn(),i=A3(r,t,e,n);return i!==eo&&bw(r,ma(),i),Te}function ba(t,e,n,r,i){let o=dn(),s=dF(o,t,e,n,r,i);return s!==eo&&bw(o,ma(),s),ba}function yw(t,e,n,r,i,o,s){let a=dn(),l=pF(a,t,e,n,r,i,o,s);return l!==eo&&bw(a,ma(),l),yw}function bw(t,e,n){let r=O4(e,t);aR(t[Hr],r,n)}function Mi(t,e,n){vE(e)&&(e=e());let r=dn(),i=Gm();if(Is(r,i,e)){let o=ei(),s=Lb();JE(o,s,r,t,e,r[Hr],n,!1)}return Mi}function Ui(t,e){let n=vE(t);return n&&t.set(e),n}function ki(t,e){let n=dn(),r=ei(),i=Xi();return j3(r,n,n[Hr],i,t,e),ki}function GF(t,e,n){let r=ei();if(r.firstCreatePass){let i=ua(t);fb(n,r.data,r.blueprint,i,!0),fb(e,r.data,r.blueprint,i,!1)}}function fb(t,e,n,r,i){if(t=$i(t),Array.isArray(t))for(let o=0;o<t.length;o++)fb(t[o],e,n,r,i);else{let o=ei(),s=dn(),a=Xi(),l=vu(t)?t:$i(t.provide),c=I4(t),u=a.providerIndexes&1048575,f=a.directiveStart,d=a.providerIndexes>>20;if(vu(t)||!t.multi){let h=new sc(c,i,ne),m=gy(l,e,i?u:u+d,f);m===-1?(My(Cm(a,s),o,l),my(o,t,e.length),e.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(h),s.push(h)):(n[m]=h,s[m]=h)}else{let h=gy(l,e,u+d,f),m=gy(l,e,u,u+d),v=h>=0&&n[h],P=m>=0&&n[m];if(i&&!P||!i&&!v){My(Cm(a,s),o,l);let b=zF(i?WF:HF,n.length,i,r,c);!i&&P&&(n[m].providerFactory=b),my(o,t,e.length,0),e.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(b),s.push(b)}else{let b=U3(n[i?m:h],c,!i&&r);my(o,t,h>-1?h:m,b)}!i&&r&&P&&n[m].componentProviders++}}}function my(t,e,n,r){let i=vu(e),o=s6(e);if(i||o){let l=(o?$i(e.useClass):e).prototype.ngOnDestroy;if(l){let c=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let u=c.indexOf(n);u===-1?c.push(n,[r,l]):c[u+1].push(r,l)}else c.push(n,l)}}}function U3(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function gy(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function HF(t,e,n,r){return db(this.multi,[])}function WF(t,e,n,r){let i=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,a=yd(n,n[An],this.providerFactory.index,r);o=a.slice(0,s),db(i,o);for(let l=s;l<a.length;l++)o.push(a[l])}else o=[],db(i,o);return o}function db(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function zF(t,e,n,r,i){let o=new sc(t,n,ne);return o.multi=[],o.index=e,o.componentProviders=0,U3(o,i,r&&!n),o}function gc(t,e=[]){return n=>{n.providersResolver=(r,i)=>GF(r,i?i(t):t,e)}}function zr(t,e,n){let r=fc()+t,i=dn();return i[r]===eo?Dd(i,r,n?e.call(n):e()):x3(i,r)}function ui(t,e,n,r){return W3(dn(),fc(),t,e,n,r)}function sr(t,e,n,r,i){return z3(dn(),fc(),t,e,n,r,i)}function G3(t,e,n,r,i,o){return qF(dn(),fc(),t,e,n,r,i,o)}function H3(t,e,n,r,i,o,s,a,l){let c=fc()+t,u=dn(),f=rF(u,c,n,r,i,o);return xu(u,c+4,s,a)||f?Dd(u,c+6,l?e.call(l,n,r,i,o,s,a):e(n,r,i,o,s,a)):x3(u,c+6)}function ww(t,e){let n=t[e];return n===eo?void 0:n}function W3(t,e,n,r,i,o){let s=e+n;return Is(t,s,i)?Dd(t,s+1,o?r.call(o,i):r(i)):ww(t,s+1)}function z3(t,e,n,r,i,o,s){let a=e+n;return xu(t,a,i,o)?Dd(t,a+2,s?r.call(s,i,o):r(i,o)):ww(t,a+2)}function qF(t,e,n,r,i,o,s,a){let l=e+n;return S3(t,l,i,o,s)?Dd(t,l+3,a?r.call(a,i,o,s):r(i,o,s)):ww(t,l+3)}function de(t,e){let n=ei(),r,i=t+Ai;n.firstCreatePass?(r=KF(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];let o=r.factory||(r.factory=ec(r.type,!0)),s,a=Ki(ne);try{let l=wm(!1),c=o();return wm(l),jF(n,dn(),i,c),c}finally{Ki(a)}}function KF(t,e){if(e)for(let n=e.length-1;n>=0;n--){let r=e[n];if(t===r.name)return r}}function he(t,e,n){let r=t+Ai,i=dn(),o=Ab(i,r);return q3(i,r)?W3(i,fc(),e,o.transform,n,o):o.transform(n)}function Ad(t,e,n,r){let i=t+Ai,o=dn(),s=Ab(o,i);return q3(o,i)?z3(o,fc(),e,s.transform,n,r,s):s.transform(n,r)}function q3(t,e){return t[An].data[e].pure}function Qt(t,e){return eg(t,e)}var pb=class{ngModuleFactory;componentFactories;constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},Cw=(()=>{class t{compileModuleSync(n){return new sb(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let r=this.compileModuleSync(n),i=w4(n),o=VE(i.declarations).reduce((s,a)=>{let l=Za(a);return l&&s.push(new _u(l)),s},[]);return new pb(r,o)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static \u0275fac=function(r){return new(r||t)};static \u0275prov=Ve({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var YF=(()=>{class t{zone=He(kr);changeDetectionScheduler=He(bd);applicationRef=He(fa);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||t)};static \u0275prov=Ve({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),JF=new ct("",{factory:()=>!1});function K3({ngZoneFactory:t,ignoreChangesOutsideZone:e,scheduleInRootZone:n}){return t??=()=>new kr(kt(Ne({},J3()),{scheduleInRootZone:n})),[{provide:kr,useFactory:t},{provide:gu,multi:!0,useFactory:()=>{let r=He(YF,{optional:!0});return()=>r.initialize()}},{provide:gu,multi:!0,useFactory:()=>{let r=He(QF);return()=>{r.initialize()}}},e===!0?{provide:dE,useValue:!0}:[],{provide:pE,useValue:n??fE}]}function Y3(t){let e=t?.ignoreChangesOutsideZone,n=t?.scheduleInRootZone,r=K3({ngZoneFactory:()=>{let i=J3(t);return i.scheduleInRootZone=n,i.shouldCoalesceEventChangeDetection&&ol("NgZone_CoalesceEvent"),new kr(i)},ignoreChangesOutsideZone:e,scheduleInRootZone:n});return ji([{provide:JF,useValue:!0},{provide:qm,useValue:!1},r])}function J3(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var QF=(()=>{class t{subscription=new nr;initialized=!1;zone=He(kr);pendingTasks=He(rl);initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{kr.assertNotInAngularZone(),queueMicrotask(()=>{n!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{kr.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||t)};static \u0275prov=Ve({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var ZF=(()=>{class t{appRef=He(fa);taskService=He(rl);ngZone=He(kr);zonelessEnabled=He(qm);tracing=He(Km,{optional:!0});disableScheduling=He(dE,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new nr;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(xm):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(He(pE,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Fy||!this.zoneIsDefined)}notify(n){if(!this.zonelessEnabled&&n===5)return;let r=!1;switch(n){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 8:{this.appRef.deferredDirtyFlags|=8;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 13:{this.appRef.dirtyFlags|=16,r=!0;break}case 14:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{r=!0;break}case 10:case 9:case 7:case 11:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let i=this.useMicrotaskScheduler?kS:hE;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(n){return!(this.disableScheduling&&!n||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(xm+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(n),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,kS(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static \u0275fac=function(r){return new(r||t)};static \u0275prov=Ve({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function XF(){return typeof $localize<"u"&&$localize.locale||km}var _w=new ct("",{providedIn:"root",factory:()=>He(_w,Tn.Optional|Tn.SkipSelf)||XF()});var hb=new ct(""),eO=new ct("");function ld(t){return!t.moduleRef}function tO(t){let e=ld(t)?t.r3Injector:t.moduleRef.injector,n=e.get(kr);return n.run(()=>{ld(t)?t.r3Injector.resolveInjectorInitializers():t.moduleRef.resolveInjectorInitializers();let r=e.get(Xa,null),i;if(n.runOutsideAngular(()=>{i=n.onError.subscribe({next:o=>{r.handleError(o)}})}),ld(t)){let o=()=>e.destroy(),s=t.platformInjector.get(hb);s.add(o),e.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>t.moduleRef.destroy(),s=t.platformInjector.get(hb);s.add(o),t.moduleRef.onDestroy(()=>{lm(t.allPlatformModules,t.moduleRef),i.unsubscribe(),s.delete(o)})}return rO(r,n,()=>{let o=e.get(D3);return o.runInitializers(),o.donePromise.then(()=>{let s=e.get(_w,km);if(OF(s||km),!e.get(eO,!0))return ld(t)?e.get(fa):(t.allPlatformModules.push(t.moduleRef),t.moduleRef);if(ld(t)){let l=e.get(fa);return t.rootComponent!==void 0&&l.bootstrap(t.rootComponent),l}else return nO(t.moduleRef,t.allPlatformModules),t.moduleRef})})})}function nO(t,e){let n=t.injector.get(fa);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(r=>n.bootstrap(r));else if(t.instance.ngDoBootstrap)t.instance.ngDoBootstrap(n);else throw new Ue(-403,!1);e.push(t)}function rO(t,e,n){try{let r=n();return ya(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}var cm=null;function iO(t=[],e){return mo.create({name:e,providers:[{provide:Lm,useValue:"platform"},{provide:hb,useValue:new Set([()=>cm=null])},...t]})}function oO(t=[]){if(cm)return cm;let e=iO(t);return cm=e,lF(),sO(e),e}function sO(t){let e=t.get(Hb,null);Qi(t,()=>{e?.forEach(n=>n())})}function Q3(){return!1}var qr=(()=>{class t{static __NG_ELEMENT_ID__=aO}return t})();function aO(t){return lO(Xi(),dn(),(t&16)===16)}function lO(t,e,n){if(cc(t)&&!n){let r=xs(t.index,e);return new ac(r,r)}else if(t.type&175){let r=e[ko];return new ac(r,e)}return null}var mb=class{constructor(){}supports(e){return _3(e)}create(e){return new gb(e)}},cO=(t,e)=>e,gb=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(e){this._trackByFn=e||cO}forEachItem(e){let n;for(n=this._itHead;n!==null;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,o=null;for(;n||r;){let s=!r||n&&n.currentIndex<e4(r,i,o)?n:r,a=e4(s,i,o),l=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(n=n._next,s.previousIndex==null)i++;else{o||(o=[]);let c=a-i,u=l-i;if(c!=u){for(let d=0;d<c;d++){let h=d<o.length?o[d]:o[d]=0,m=h+d;u<=m&&m<c&&(o[d]=h+1)}let f=s.previousIndex;o[f]=u-c}}a!==l&&e(s,a,l)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)e(n)}diff(e){if(e==null&&(e=[]),!_3(e))throw new Ue(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._itHead,r=!1,i,o,s;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,o,s,a),r=!0):(r&&(n=this._verifyReinsertion(n,o,s,a)),Object.is(n.item,o)||this._addIdentityChange(n,o)),n=n._next}else i=0,nF(e,a=>{s=this._trackByFn(i,a),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,a,s,i),r=!0):(r&&(n=this._verifyReinsertion(n,a,s,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,o,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,o,i)):e=this._addAfter(new vb(n,r),o,i)),e}_verifyReinsertion(e,n,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let n=e._next;this._addToRemovals(this._unlink(e)),e=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,o=e._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){let i=n===null?this._itHead:n._next;return e._next=i,e._prev=n,i===null?this._itTail=e:i._prev=e,n===null?this._itHead=e:n._next=e,this._linkedRecords===null&&(this._linkedRecords=new Pm),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let n=e._prev,r=e._next;return n===null?this._itHead=r:n._next=r,r===null?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new Pm),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},vb=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(e,n){this.item=e,this.trackById=n}},yb=class{_head=null;_tail=null;add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;r!==null;r=r._nextDup)if((n===null||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let n=e._prevDup,r=e._nextDup;return n===null?this._head=r:n._nextDup=r,r===null?this._tail=n:r._prevDup=n,this._head===null}},Pm=class{map=new Map;put(e){let n=e.trackById,r=this.map.get(n);r||(r=new yb,this.map.set(n,r)),r.add(e)}get(e,n){let r=e,i=this.map.get(r);return i?i.get(e,n):null}remove(e){let n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function e4(t,e,n){let r=t.previousIndex;if(r===null)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}var bb=class{constructor(){}supports(e){return e instanceof Map||mw(e)}create(){return new wb}},wb=class{_records=new Map;_mapHead=null;_appendAfter=null;_previousMapHead=null;_changesHead=null;_changesTail=null;_additionsHead=null;_additionsTail=null;_removalsHead=null;_removalsTail=null;get isDirty(){return this._additionsHead!==null||this._changesHead!==null||this._removalsHead!==null}forEachItem(e){let n;for(n=this._mapHead;n!==null;n=n._next)e(n)}forEachPreviousItem(e){let n;for(n=this._previousMapHead;n!==null;n=n._nextPrevious)e(n)}forEachChangedItem(e){let n;for(n=this._changesHead;n!==null;n=n._nextChanged)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}diff(e){if(!e)e=new Map;else if(!(e instanceof Map||mw(e)))throw new Ue(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._mapHead;if(this._appendAfter=null,this._forEach(e,(r,i)=>{if(n&&n.key===i)this._maybeAddToChanges(n,r),this._appendAfter=n,n=n._next;else{let o=this._getOrCreateRecordForKey(i,r);n=this._insertBeforeOrAppend(n,o)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(let r=n;r!==null;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,n){if(e){let r=e._prev;return n._next=e,n._prev=r,e._prev=n,r&&(r._next=n),e===this._mapHead&&(this._mapHead=n),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=n,n._prev=this._appendAfter):this._mapHead=n,this._appendAfter=n,null}_getOrCreateRecordForKey(e,n){if(this._records.has(e)){let i=this._records.get(e);this._maybeAddToChanges(i,n);let o=i._prev,s=i._next;return o&&(o._next=s),s&&(s._prev=o),i._next=null,i._prev=null,i}let r=new Cb(e);return this._records.set(e,r),r.currentValue=n,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;e!==null;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;e!=null;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,n){Object.is(n,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=n,this._addToChanges(e))}_addToAdditions(e){this._additionsHead===null?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){this._changesHead===null?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,n){e instanceof Map?e.forEach(n):Object.keys(e).forEach(r=>n(e[r],r))}},Cb=class{key;previousValue=null;currentValue=null;_nextPrevious=null;_next=null;_prev=null;_nextAdded=null;_nextRemoved=null;_nextChanged=null;constructor(e){this.key=e}};function t4(){return new xw([new mb])}var xw=(()=>{class t{factories;static \u0275prov=Ve({token:t,providedIn:"root",factory:t4});constructor(n){this.factories=n}static create(n,r){if(r!=null){let i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||t4()),deps:[[t,new g4,new xb]]}}find(n){let r=this.factories.find(i=>i.supports(n));if(r!=null)return r;throw new Ue(901,!1)}}return t})();function n4(){return new Sw([new bb])}var Sw=(()=>{class t{static \u0275prov=Ve({token:t,providedIn:"root",factory:n4});factories;constructor(n){this.factories=n}static create(n,r){if(r){let i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||n4()),deps:[[t,new g4,new xb]]}}find(n){let r=this.factories.find(i=>i.supports(n));if(r)return r;throw new Ue(901,!1)}}return t})();function Z3(t){try{let{rootComponent:e,appProviders:n,platformProviders:r}=t,i=oO(r),o=[K3({}),{provide:bd,useExisting:ZF},...n||[]],s=new Am({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1});return tO({r3Injector:s.injector,platformInjector:i,rootComponent:e})}catch(e){return Promise.reject(e)}}function vc(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function sl(t,e){ol("NgSignals");let n=Bx(t);return e?.equal&&(n[uo].equal=e.equal),n}function as(t){let e=Un(null);try{return t()}finally{Un(e)}}var r4=class{[uo];constructor(e){this[uo]=e}destroy(){this[uo].destroy()}};function X3(t){let e=Za(t);if(!e)return null;let n=new _u(e);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var oT=null;function wa(){return oT}function sT(t){oT??=t}var ng=class{};var Pi=new ct(""),aT=(()=>{class t{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||t)};static \u0275prov=Ve({token:t,factory:()=>He(uO),providedIn:"platform"})}return t})();var uO=(()=>{class t extends aT{_location;_history;_doc=He(Pi);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return wa().getBaseHref(this._doc)}onPopState(n){let r=wa().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){let r=wa().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||t)};static \u0275prov=Ve({token:t,factory:()=>new t,providedIn:"platform"})}return t})();function lT(t,e){return t?e?t.endsWith("/")?e.startsWith("/")?t+e.slice(1):t+e:e.startsWith("/")?t+e:`${t}/${e}`:t:e}function eT(t){let e=t.search(/#|\?|$/);return t[e-1]==="/"?t.slice(0,e-1)+t.slice(e):t}function yc(t){return t&&t[0]!=="?"?`?${t}`:t}var Du=(()=>{class t{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||t)};static \u0275prov=Ve({token:t,factory:()=>He(cT),providedIn:"root"})}return t})(),fO=new ct(""),cT=(()=>{class t extends Du{_platformLocation;_baseHref;_removeListenerFns=[];constructor(n,r){super(),this._platformLocation=n,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??He(Pi).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return lT(this._baseHref,n)}path(n=!1){let r=this._platformLocation.pathname+yc(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,o){let s=this.prepareExternalUrl(i+yc(o));this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){let s=this.prepareExternalUrl(i+yc(o));this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static \u0275fac=function(r){return new(r||t)(Je(aT),Je(fO,8))};static \u0275prov=Ve({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var bc=(()=>{class t{_subject=new Wn;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(n){this._locationStrategy=n;let r=this._locationStrategy.getBaseHref();this._basePath=hO(eT(tT(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+yc(r))}normalize(n){return t.stripTrailingSlash(pO(this._basePath,tT(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+yc(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+yc(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=yc;static joinWithSlash=lT;static stripTrailingSlash=eT;static \u0275fac=function(r){return new(r||t)(Je(Du))};static \u0275prov=Ve({token:t,factory:()=>dO(),providedIn:"root"})}return t})();function dO(){return new bc(Je(Du))}function pO(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function tT(t){return t.replace(/\/index.html$/,"")}function hO(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}function ig(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,o]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var Ew=/\s+/,nT=[],Mn=(()=>{class t{_ngEl;_renderer;initialClasses=nT;rawClass;stateMap=new Map;constructor(n,r){this._ngEl=n,this._renderer=r}set klass(n){this.initialClasses=n!=null?n.trim().split(Ew):nT}set ngClass(n){this.rawClass=typeof n=="string"?n.trim().split(Ew):n}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let n=this.rawClass;if(Array.isArray(n)||n instanceof Set)for(let r of n)this._updateState(r,!0);else if(n!=null)for(let r of Object.keys(n))this._updateState(r,!!n[r]);this._applyStateDiff()}_updateState(n,r){let i=this.stateMap.get(n);i!==void 0?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(n,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let n of this.stateMap){let r=n[0],i=n[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(n,r){n=n.trim(),n.length>0&&n.split(Ew).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static \u0275fac=function(r){return new(r||t)(ne(xi),ne(As))};static \u0275dir=fr({type:t,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return t})();var Tw=class{$implicit;ngForOf;index;count;constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},bt=(()=>{class t{_viewContainer;_template;_differs;set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(n,r,i){this._viewContainer=n,this._template=r,this._differs=i}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let n=this._ngForOf;!this._differ&&n&&(this._differ=this._differs.find(n).create(this.ngForTrackBy))}if(this._differ){let n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){let r=this._viewContainer;n.forEachOperation((i,o,s)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new Tw(i.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(o===null?void 0:o);else if(o!==null){let a=r.get(o);r.move(a,s),rT(a,i)}});for(let i=0,o=r.length;i<o;i++){let a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}n.forEachIdentityChange(i=>{let o=r.get(i.currentIndex);rT(o,i)})}static ngTemplateContextGuard(n,r){return!0}static \u0275fac=function(r){return new(r||t)(ne(Po),ne(Ts),ne(xw))};static \u0275dir=fr({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return t})();function rT(t,e){t.context.$implicit=e.item}var ut=(()=>{class t{_viewContainer;_context=new Iw;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(n,r){this._viewContainer=n,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){iT("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){iT("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(n,r){return!0}static \u0275fac=function(r){return new(r||t)(ne(Po),ne(Ts))};static \u0275dir=fr({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return t})(),Iw=class{$implicit=null;ngIf=null};function iT(t,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${t} must be a TemplateRef, but received '${Bi(e)}'.`)}var rg=class{_viewContainerRef;_templateRef;_created=!1;constructor(e,n){this._viewContainerRef=e,this._templateRef=n}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(e){e&&!this._created?this.create():!e&&this._created&&this.destroy()}},to=(()=>{class t{_defaultViews=[];_defaultUsed=!1;_caseCount=0;_lastCaseCheckIndex=0;_lastCasesMatched=!1;_ngSwitch;set ngSwitch(n){this._ngSwitch=n,this._caseCount===0&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(n){this._defaultViews.push(n)}_matchCase(n){let r=n===this._ngSwitch;return this._lastCasesMatched||=r,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),r}_updateDefaultCases(n){if(this._defaultViews.length>0&&n!==this._defaultUsed){this._defaultUsed=n;for(let r of this._defaultViews)r.enforceState(n)}}static \u0275fac=function(r){return new(r||t)};static \u0275dir=fr({type:t,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}})}return t})(),No=(()=>{class t{ngSwitch;_view;ngSwitchCase;constructor(n,r,i){this.ngSwitch=i,i._addCase(),this._view=new rg(n,r)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}static \u0275fac=function(r){return new(r||t)(ne(Po),ne(Ts),ne(to,9))};static \u0275dir=fr({type:t,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}})}return t})(),al=(()=>{class t{constructor(n,r,i){i._addDefault(new rg(n,r))}static \u0275fac=function(r){return new(r||t)(ne(Po),ne(Ts),ne(to,9))};static \u0275dir=fr({type:t,selectors:[["","ngSwitchDefault",""]]})}return t})();var yr=(()=>{class t{_ngEl;_differs;_renderer;_ngStyle=null;_differ=null;constructor(n,r,i){this._ngEl=n,this._differs=r,this._renderer=i}set ngStyle(n){this._ngStyle=n,!this._differ&&n&&(this._differ=this._differs.find(n).create())}ngDoCheck(){if(this._differ){let n=this._differ.diff(this._ngStyle);n&&this._applyChanges(n)}}_setStyle(n,r){let[i,o]=n.split("."),s=i.indexOf("-")===-1?void 0:Es.DashCase;r!=null?this._renderer.setStyle(this._ngEl.nativeElement,i,o?`${r}${o}`:r,s):this._renderer.removeStyle(this._ngEl.nativeElement,i,s)}_applyChanges(n){n.forEachRemovedItem(r=>this._setStyle(r.key,null)),n.forEachAddedItem(r=>this._setStyle(r.key,r.currentValue)),n.forEachChangedItem(r=>this._setStyle(r.key,r.currentValue))}static \u0275fac=function(r){return new(r||t)(ne(xi),ne(Sw),ne(As))};static \u0275dir=fr({type:t,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}})}return t})(),ks=(()=>{class t{_viewContainerRef;_viewRef=null;ngTemplateOutletContext=null;ngTemplateOutlet=null;ngTemplateOutletInjector=null;constructor(n){this._viewContainerRef=n}ngOnChanges(n){if(this._shouldRecreateView(n)){let r=this._viewContainerRef;if(this._viewRef&&r.remove(r.indexOf(this._viewRef)),!this.ngTemplateOutlet){this._viewRef=null;return}let i=this._createContextForwardProxy();this._viewRef=r.createEmbeddedView(this.ngTemplateOutlet,i,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(n){return!!n.ngTemplateOutlet||!!n.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(n,r,i)=>this.ngTemplateOutletContext?Reflect.set(this.ngTemplateOutletContext,r,i):!1,get:(n,r,i)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,r,i)}})}static \u0275fac=function(r){return new(r||t)(ne(Po))};static \u0275dir=fr({type:t,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},features:[zn]})}return t})();var Qe=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=os({type:t});static \u0275inj=rs({})}return t})(),Aw="browser",mO="server";function uT(t){return t===Aw}function Mw(t){return t===mO}var Iu=class{};var kd=class{},sg=class{},wc=class t{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(e){e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(n=>{let r=n.indexOf(":");if(r>0){let i=n.slice(0,r),o=n.slice(r+1).trim();this.addHeaderEntry(i,o)}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((n,r)=>{this.addHeaderEntry(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let n=this.headers.get(e.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,n){return this.clone({name:e,value:n,op:"a"})}set(e,n){return this.clone({name:e,value:n,op:"s"})}delete(e,n){return this.clone({name:e,value:n,op:"d"})}maybeSetNormalizedName(e,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,e)}init(){this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(n=>{this.headers.set(n,e.headers.get(n)),this.normalizedNames.set(n,e.normalizedNames.get(n))})}clone(e){let n=new t;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}applyUpdate(e){let n=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,n);let i=(e.op==="a"?this.headers.get(n):void 0)||[];i.push(...r),this.headers.set(n,i);break;case"d":let o=e.value;if(!o)this.headers.delete(n),this.normalizedNames.delete(n);else{let s=this.headers.get(n);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,s)}break}}addHeaderEntry(e,n){let r=e.toLowerCase();this.maybeSetNormalizedName(e,r),this.headers.has(r)?this.headers.get(r).push(n):this.headers.set(r,[n])}setHeaderEntries(e,n){let r=(Array.isArray(n)?n:[n]).map(o=>o.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>e(this.normalizedNames.get(n),this.headers.get(n)))}};var Pw=class{encodeKey(e){return fT(e)}encodeValue(e){return fT(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function yO(t,e){let n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(i=>{let o=i.indexOf("="),[s,a]=o==-1?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,o)),e.decodeValue(i.slice(o+1))],l=n.get(s)||[];l.push(a),n.set(s,l)}),n}var bO=/%(\d[a-f0-9])/gi,wO={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function fT(t){return encodeURIComponent(t).replace(bO,(e,n)=>wO[n]??e)}function og(t){return`${t}`}var ri=class t{map;encoder;updates=null;cloneFrom=null;constructor(e={}){if(this.encoder=e.encoder||new Pw,e.fromString){if(e.fromObject)throw new Ue(2805,!1);this.map=yO(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(n=>{let r=e.fromObject[n],i=Array.isArray(r)?r.map(og):[og(r)];this.map.set(n,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let n=this.map.get(e);return n?n[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,n){return this.clone({param:e,value:n,op:"a"})}appendAll(e){let n=[];return Object.keys(e).forEach(r=>{let i=e[r];Array.isArray(i)?i.forEach(o=>{n.push({param:r,value:o,op:"a"})}):n.push({param:r,value:i,op:"a"})}),this.clone(n)}set(e,n){return this.clone({param:e,value:n,op:"s"})}delete(e,n){return this.clone({param:e,value:n,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let n=this.encoder.encodeKey(e);return this.map.get(e).map(r=>n+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let n=new t({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(e),n}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let n=(e.op==="a"?this.map.get(e.param):void 0)||[];n.push(og(e.value)),this.map.set(e.param,n);break;case"d":if(e.value!==void 0){let r=this.map.get(e.param)||[],i=r.indexOf(og(e.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var Nw=class{map=new Map;set(e,n){return this.map.set(e,n),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function CO(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function dT(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function pT(t){return typeof Blob<"u"&&t instanceof Blob}function hT(t){return typeof FormData<"u"&&t instanceof FormData}function _O(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}var mT="Content-Type",gT="Accept",bT="X-Request-URL",wT="text/plain",CT="application/json",xO=`${CT}, ${wT}, */*`,Md=class t{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;responseType="json";method;params;urlWithParams;transferCache;constructor(e,n,r,i){this.url=n,this.method=e.toUpperCase();let o;if(CO(this.method)||i?(this.body=r!==void 0?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new wc,this.context??=new Nw,!this.params)this.params=new ri,this.urlWithParams=n;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=n;else{let a=n.indexOf("?"),l=a===-1?"?":a<n.length-1?"&":"";this.urlWithParams=n+l+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||dT(this.body)||pT(this.body)||hT(this.body)||_O(this.body)?this.body:this.body instanceof ri?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||hT(this.body)?null:pT(this.body)?this.body.type||null:dT(this.body)?null:typeof this.body=="string"?wT:this.body instanceof ri?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?CT:null}clone(e={}){let n=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,o=e.transferCache??this.transferCache,s=e.body!==void 0?e.body:this.body,a=e.withCredentials??this.withCredentials,l=e.reportProgress??this.reportProgress,c=e.headers||this.headers,u=e.params||this.params,f=e.context??this.context;return e.setHeaders!==void 0&&(c=Object.keys(e.setHeaders).reduce((d,h)=>d.set(h,e.setHeaders[h]),c)),e.setParams&&(u=Object.keys(e.setParams).reduce((d,h)=>d.set(h,e.setParams[h]),u)),new t(n,r,s,{params:u,headers:c,context:f,reportProgress:l,responseType:i,withCredentials:a,transferCache:o})}},Au=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(Au||{}),Pd=class{headers;status;statusText;url;ok;type;constructor(e,n=200,r="OK"){this.headers=e.headers||new wc,this.status=e.status!==void 0?e.status:n,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},Rw=class t extends Pd{constructor(e={}){super(e)}type=Au.ResponseHeader;clone(e={}){return new t({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},ag=class t extends Pd{body;constructor(e={}){super(e),this.body=e.body!==void 0?e.body:null}type=Au.Response;clone(e={}){return new t({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},lg=class extends Pd{name="HttpErrorResponse";message;error;ok=!1;constructor(e){super(e,0,"Unknown Error"),this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},SO=200,EO=204;function kw(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials,transferCache:t.transferCache}}var Sr=(()=>{class t{handler;constructor(n){this.handler=n}request(n,r,i={}){let o;if(n instanceof Md)o=n;else{let l;i.headers instanceof wc?l=i.headers:l=new wc(i.headers);let c;i.params&&(i.params instanceof ri?c=i.params:c=new ri({fromObject:i.params})),o=new Md(n,r,i.body!==void 0?i.body:null,{headers:l,context:i.context,params:c,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials,transferCache:i.transferCache})}let s=Lt(o).pipe(qa(l=>this.handler.handle(l)));if(n instanceof Md||i.observe==="events")return s;let a=s.pipe($r(l=>l instanceof ag));switch(i.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(Ft(l=>{if(l.body!==null&&!(l.body instanceof ArrayBuffer))throw new Ue(2806,!1);return l.body}));case"blob":return a.pipe(Ft(l=>{if(l.body!==null&&!(l.body instanceof Blob))throw new Ue(2807,!1);return l.body}));case"text":return a.pipe(Ft(l=>{if(l.body!==null&&typeof l.body!="string")throw new Ue(2808,!1);return l.body}));case"json":default:return a.pipe(Ft(l=>l.body))}case"response":return a;default:throw new Ue(2809,!1)}}delete(n,r={}){return this.request("DELETE",n,r)}get(n,r={}){return this.request("GET",n,r)}head(n,r={}){return this.request("HEAD",n,r)}jsonp(n,r){return this.request("JSONP",n,{params:new ri().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(n,r={}){return this.request("OPTIONS",n,r)}patch(n,r,i={}){return this.request("PATCH",n,kw(i,r))}post(n,r,i={}){return this.request("POST",n,kw(i,r))}put(n,r,i={}){return this.request("PUT",n,kw(i,r))}static \u0275fac=function(r){return new(r||t)(Je(kd))};static \u0275prov=Ve({token:t,factory:t.\u0275fac})}return t})();var TO=new ct("");function IO(t,e){return e(t)}function DO(t,e,n){return(r,i)=>Qi(n,()=>e(r,o=>t(o,i)))}var Fw=new ct(""),AO=new ct(""),MO=new ct("",{providedIn:"root",factory:()=>!0});var vT=(()=>{class t extends kd{backend;injector;chain=null;pendingTasks=He(rl);contributeToStability=He(MO);constructor(n,r){super(),this.backend=n,this.injector=r}handle(n){if(this.chain===null){let r=Array.from(new Set([...this.injector.get(Fw),...this.injector.get(AO,[])]));this.chain=r.reduceRight((i,o)=>DO(i,o,this.injector),IO)}if(this.contributeToStability){let r=this.pendingTasks.add();return this.chain(n,i=>this.backend.handle(i)).pipe(Zl(()=>this.pendingTasks.remove(r)))}else return this.chain(n,r=>this.backend.handle(r))}static \u0275fac=function(r){return new(r||t)(Je(sg),Je(Ji))};static \u0275prov=Ve({token:t,factory:t.\u0275fac})}return t})();var kO=/^\)\]\}',?\n/,PO=RegExp(`^${bT}:`,"m");function NO(t){return"responseURL"in t&&t.responseURL?t.responseURL:PO.test(t.getAllResponseHeaders())?t.getResponseHeader(bT):null}var yT=(()=>{class t{xhrFactory;constructor(n){this.xhrFactory=n}handle(n){if(n.method==="JSONP")throw new Ue(-2800,!1);let r=this.xhrFactory;return(r.\u0275loadImpl?ur(r.\u0275loadImpl()):Lt(null)).pipe(Br(()=>new en(o=>{let s=r.build();if(s.open(n.method,n.urlWithParams),n.withCredentials&&(s.withCredentials=!0),n.headers.forEach((v,P)=>s.setRequestHeader(v,P.join(","))),n.headers.has(gT)||s.setRequestHeader(gT,xO),!n.headers.has(mT)){let v=n.detectContentTypeHeader();v!==null&&s.setRequestHeader(mT,v)}if(n.responseType){let v=n.responseType.toLowerCase();s.responseType=v!=="json"?v:"text"}let a=n.serializeBody(),l=null,c=()=>{if(l!==null)return l;let v=s.statusText||"OK",P=new wc(s.getAllResponseHeaders()),b=NO(s)||n.url;return l=new Rw({headers:P,status:s.status,statusText:v,url:b}),l},u=()=>{let{headers:v,status:P,statusText:b,url:x}=c(),_=null;P!==EO&&(_=typeof s.response>"u"?s.responseText:s.response),P===0&&(P=_?SO:0);let T=P>=200&&P<300;if(n.responseType==="json"&&typeof _=="string"){let k=_;_=_.replace(kO,"");try{_=_!==""?JSON.parse(_):null}catch($){_=k,T&&(T=!1,_={error:$,text:_})}}T?(o.next(new ag({body:_,headers:v,status:P,statusText:b,url:x||void 0})),o.complete()):o.error(new lg({error:_,headers:v,status:P,statusText:b,url:x||void 0}))},f=v=>{let{url:P}=c(),b=new lg({error:v,status:s.status||0,statusText:s.statusText||"Unknown Error",url:P||void 0});o.error(b)},d=!1,h=v=>{d||(o.next(c()),d=!0);let P={type:Au.DownloadProgress,loaded:v.loaded};v.lengthComputable&&(P.total=v.total),n.responseType==="text"&&s.responseText&&(P.partialText=s.responseText),o.next(P)},m=v=>{let P={type:Au.UploadProgress,loaded:v.loaded};v.lengthComputable&&(P.total=v.total),o.next(P)};return s.addEventListener("load",u),s.addEventListener("error",f),s.addEventListener("timeout",f),s.addEventListener("abort",f),n.reportProgress&&(s.addEventListener("progress",h),a!==null&&s.upload&&s.upload.addEventListener("progress",m)),s.send(a),o.next({type:Au.Sent}),()=>{s.removeEventListener("error",f),s.removeEventListener("abort",f),s.removeEventListener("load",u),s.removeEventListener("timeout",f),n.reportProgress&&(s.removeEventListener("progress",h),a!==null&&s.upload&&s.upload.removeEventListener("progress",m)),s.readyState!==s.DONE&&s.abort()}})))}static \u0275fac=function(r){return new(r||t)(Je(Iu))};static \u0275prov=Ve({token:t,factory:t.\u0275fac})}return t})(),_T=new ct(""),RO="XSRF-TOKEN",FO=new ct("",{providedIn:"root",factory:()=>RO}),OO="X-XSRF-TOKEN",LO=new ct("",{providedIn:"root",factory:()=>OO}),cg=class{},VO=(()=>{class t{doc;platform;cookieName;lastCookieString="";lastToken=null;parseCount=0;constructor(n,r,i){this.doc=n,this.platform=r,this.cookieName=i}getToken(){if(this.platform==="server")return null;let n=this.doc.cookie||"";return n!==this.lastCookieString&&(this.parseCount++,this.lastToken=ig(n,this.cookieName),this.lastCookieString=n),this.lastToken}static \u0275fac=function(r){return new(r||t)(Je(Pi),Je(ga),Je(FO))};static \u0275prov=Ve({token:t,factory:t.\u0275fac})}return t})();function $O(t,e){let n=t.url.toLowerCase();if(!He(_T)||t.method==="GET"||t.method==="HEAD"||n.startsWith("http://")||n.startsWith("https://"))return e(t);let r=He(cg).getToken(),i=He(LO);return r!=null&&!t.headers.has(i)&&(t=t.clone({headers:t.headers.set(i,r)})),e(t)}var xT=function(t){return t[t.Interceptors=0]="Interceptors",t[t.LegacyInterceptors=1]="LegacyInterceptors",t[t.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",t[t.NoXsrfProtection=3]="NoXsrfProtection",t[t.JsonpSupport=4]="JsonpSupport",t[t.RequestsMadeViaParent=5]="RequestsMadeViaParent",t[t.Fetch=6]="Fetch",t}(xT||{});function BO(t,e){return{\u0275kind:t,\u0275providers:e}}function Ow(...t){let e=[Sr,yT,vT,{provide:kd,useExisting:vT},{provide:sg,useFactory:()=>He(TO,{optional:!0})??He(yT)},{provide:Fw,useValue:$O,multi:!0},{provide:_T,useValue:!0},{provide:cg,useClass:VO}];for(let n of t)e.push(...n.\u0275providers);return ji(e)}function ST(t){return BO(xT.Interceptors,t.map(e=>({provide:Fw,useValue:e,multi:!0})))}var Vw=class extends ng{supportsDOMEvents=!0},$w=class t extends Vw{static makeCurrent(){sT(new t)}onAndCancel(e,n,r,i){return e.addEventListener(n,r,i),()=>{e.removeEventListener(n,r,i)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.remove()}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=jO();return n==null?null:UO(n)}resetBaseElement(){Nd=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return ig(document.cookie,e)}},Nd=null;function jO(){return Nd=Nd||document.querySelector("base"),Nd?Nd.getAttribute("href"):null}function UO(t){return new URL(t,document.baseURI).pathname}var GO=(()=>{class t{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||t)};static \u0275prov=Ve({token:t,factory:t.\u0275fac})}return t})(),Bw=new ct(""),AT=(()=>{class t{_zone;_plugins;_eventNameToPlugin=new Map;constructor(n,r){this._zone=r,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i,o){return this._findPluginFor(r).addEventListener(n,r,i,o)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(o=>o.supports(n)),!r)throw new Ue(5101,!1);return this._eventNameToPlugin.set(n,r),r}static \u0275fac=function(r){return new(r||t)(Je(Bw),Je(kr))};static \u0275prov=Ve({token:t,factory:t.\u0275fac})}return t})(),fg=class{_doc;constructor(e){this._doc=e}manager},ug="ng-app-id";function ET(t){for(let e of t)e.remove()}function TT(t,e){let n=e.createElement("style");return n.textContent=t,n}function HO(t,e,n,r){let i=t.head?.querySelectorAll(`style[${ug}="${e}"],link[${ug}="${e}"]`);if(i)for(let o of i)o.removeAttribute(ug),o instanceof HTMLLinkElement?r.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&n.set(o.textContent,{usage:0,elements:[o]})}function jw(t,e){let n=e.createElement("link");return n.setAttribute("rel","stylesheet"),n.setAttribute("href",t),n}var MT=(()=>{class t{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;isServer;constructor(n,r,i,o={}){this.doc=n,this.appId=r,this.nonce=i,this.isServer=Mw(o),HO(n,r,this.inline,this.external),this.hosts.add(n.head)}addStyles(n,r){for(let i of n)this.addUsage(i,this.inline,TT);r?.forEach(i=>this.addUsage(i,this.external,jw))}removeStyles(n,r){for(let i of n)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(n,r,i){let o=r.get(n);o?o.usage++:r.set(n,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,i(n,this.doc)))})}removeUsage(n,r){let i=r.get(n);i&&(i.usage--,i.usage<=0&&(ET(i.elements),r.delete(n)))}ngOnDestroy(){for(let[,{elements:n}]of[...this.inline,...this.external])ET(n);this.hosts.clear()}addHost(n){this.hosts.add(n);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(n,TT(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(n,jw(r,this.doc)))}removeHost(n){this.hosts.delete(n)}addElement(n,r){return this.nonce&&r.setAttribute("nonce",this.nonce),this.isServer&&r.setAttribute(ug,this.appId),n.appendChild(r)}static \u0275fac=function(r){return new(r||t)(Je(Pi),Je(Gb),Je(zb,8),Je(ga))};static \u0275prov=Ve({token:t,factory:t.\u0275fac})}return t})(),Lw={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Gw=/%COMP%/g;var kT="%COMP%",WO=`_nghost-${kT}`,zO=`_ngcontent-${kT}`,qO=!0,KO=new ct("",{providedIn:"root",factory:()=>qO});function YO(t){return zO.replace(Gw,t)}function JO(t){return WO.replace(Gw,t)}function PT(t,e){return e.map(n=>n.replace(Gw,t))}var dg=(()=>{class t{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(n,r,i,o,s,a,l,c=null,u=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=l,this.nonce=c,this.tracingService=u,this.platformIsServer=Mw(a),this.defaultRenderer=new Rd(n,s,l,this.platformIsServer,this.tracingService)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===Ss.ShadowDom&&(r=kt(Ne({},r),{encapsulation:Ss.Emulated}));let i=this.getOrCreateRenderer(n,r);return i instanceof pg?i.applyToHost(n):i instanceof Fd&&i.applyStyles(),i}getOrCreateRenderer(n,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,l=this.eventManager,c=this.sharedStylesHost,u=this.removeStylesOnCompDestroy,f=this.platformIsServer,d=this.tracingService;switch(r.encapsulation){case Ss.Emulated:o=new pg(l,c,r,this.appId,u,s,a,f,d);break;case Ss.ShadowDom:return new Uw(l,c,n,r,s,a,this.nonce,f,d);default:o=new Fd(l,c,r,u,s,a,f,d);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(n){this.rendererByCompId.delete(n)}static \u0275fac=function(r){return new(r||t)(Je(AT),Je(MT),Je(Gb),Je(KO),Je(Pi),Je(ga),Je(kr),Je(zb),Je(Km,8))};static \u0275prov=Ve({token:t,factory:t.\u0275fac})}return t})(),Rd=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,n,r,i,o){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.tracingService=o}destroy(){}destroyNode=null;createElement(e,n){return n?this.doc.createElementNS(Lw[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(IT(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(IT(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){n.remove()}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new Ue(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let o=Lw[i];o?e.setAttributeNS(o,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=Lw[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(Es.DashCase|Es.Important)?e.style.setProperty(n,r,i&Es.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&Es.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r,i){if(typeof e=="string"&&(e=wa().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);let o=this.decoratePreventDefault(r);return this.tracingService!==null&&this.tracingService.wrapEventListener&&(o=this.tracingService.wrapEventListener(e,n,o)),this.eventManager.addEventListener(e,n,o,i)}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function IT(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var Uw=class extends Rd{sharedStylesHost;hostEl;shadowRoot;constructor(e,n,r,i,o,s,a,l,c){super(e,o,s,l,c),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let u=i.styles;u=PT(i.id,u);for(let d of u){let h=document.createElement("style");a&&h.setAttribute("nonce",a),h.textContent=d,this.shadowRoot.appendChild(h)}let f=i.getExternalStyles?.();if(f)for(let d of f){let h=jw(d,o);a&&h.setAttribute("nonce",a),this.shadowRoot.appendChild(h)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(null,n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Fd=class extends Rd{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(e,n,r,i,o,s,a,l,c){super(e,o,s,a,l),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i;let u=r.styles;this.styles=c?PT(c,u):u,this.styleUrls=r.getExternalStyles?.(c)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},pg=class extends Fd{contentAttr;hostAttr;constructor(e,n,r,i,o,s,a,l,c){let u=i+"-"+r.id;super(e,n,r,o,s,a,l,c,u),this.contentAttr=YO(u),this.hostAttr=JO(u)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}},QO=(()=>{class t extends fg{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i,o){return n.addEventListener(r,i,o),()=>this.removeEventListener(n,r,i,o)}removeEventListener(n,r,i,o){return n.removeEventListener(r,i,o)}static \u0275fac=function(r){return new(r||t)(Je(Pi))};static \u0275prov=Ve({token:t,factory:t.\u0275fac})}return t})(),DT=["alt","control","meta","shift"],ZO={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},XO={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},eL=(()=>{class t extends fg{constructor(n){super(n)}supports(n){return t.parseEventName(n)!=null}addEventListener(n,r,i,o){let s=t.parseEventName(r),a=t.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>wa().onAndCancel(n,s.domEventName,a,o))}static parseEventName(n){let r=n.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=t._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),DT.forEach(c=>{let u=r.indexOf(c);u>-1&&(r.splice(u,1),s+=c+".")}),s+=o,r.length!=0||o.length===0)return null;let l={};return l.domEventName=i,l.fullKey=s,l}static matchEventFullKeyCode(n,r){let i=ZO[n.key]||n.key,o="";return r.indexOf("code.")>-1&&(i=n.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),DT.forEach(s=>{if(s!==i){let a=XO[s];a(n)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(n,r,i){return o=>{t.matchEventFullKeyCode(o,n)&&i.runGuarded(()=>r(o))}}static _normalizeKey(n){return n==="esc"?"escape":n}static \u0275fac=function(r){return new(r||t)(Je(Pi))};static \u0275prov=Ve({token:t,factory:t.\u0275fac})}return t})();function NT(t,e){return Z3(Ne({rootComponent:t},tL(e)))}function tL(t){return{appProviders:[...sL,...t?.providers??[]],platformProviders:oL}}function nL(){$w.makeCurrent()}function rL(){return new Xa}function iL(){return SE(document),document}var oL=[{provide:ga,useValue:Aw},{provide:Hb,useValue:nL,multi:!0},{provide:Pi,useFactory:iL,deps:[]}];var sL=[{provide:Lm,useValue:"root"},{provide:Xa,useFactory:rL,deps:[]},{provide:Bw,useClass:QO,multi:!0,deps:[Pi]},{provide:Bw,useClass:eL,multi:!0,deps:[Pi]},dg,MT,AT,{provide:el,useExisting:dg},{provide:Iu,useClass:GO,deps:[]},[]];var RT=(()=>{class t{_doc;constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static \u0275fac=function(r){return new(r||t)(Je(Pi))};static \u0275prov=Ve({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var vn="primary",Jd=Symbol("RouteTitle"),Kw=class{params;constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function Fu(t){return new Kw(t)}function lL(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=t[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function cL(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Ps(t[n],e[n]))return!1;return!0}function Ps(t,e){let n=t?Yw(t):void 0,r=e?Yw(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!GT(t[i],e[i]))return!1;return!0}function Yw(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function GT(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,o)=>r[o]===i)}else return t===e}function HT(t){return t.length>0?t[t.length-1]:null}function ll(t){return Qv(t)?t:ya(t)?ur(Promise.resolve(t)):Lt(t)}var uL={exact:zT,subset:qT},WT={exact:fL,subset:dL,ignored:()=>!0};function FT(t,e,n){return uL[n.paths](t.root,e.root,n.matrixParams)&&WT[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function fL(t,e){return Ps(t,e)}function zT(t,e,n){if(!_c(t.segments,e.segments)||!gg(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!zT(t.children[r],e.children[r],n))return!1;return!0}function dL(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>GT(t[n],e[n]))}function qT(t,e,n){return KT(t,e,e.segments,n)}function KT(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!_c(i,n)||e.hasChildren()||!gg(i,n,r))}else if(t.segments.length===n.length){if(!_c(t.segments,n)||!gg(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!qT(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!_c(t.segments,i)||!gg(t.segments,i,r)||!t.children[vn]?!1:KT(t.children[vn],e,o,r)}}function gg(t,e,n){return e.every((r,i)=>WT[n](t[i].parameters,r.parameters))}var _a=class{root;queryParams;fragment;_queryParamMap;constructor(e=new rr([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Fu(this.queryParams),this._queryParamMap}toString(){return mL.serialize(this)}},rr=class{segments;children;parent=null;constructor(e,n){this.segments=e,this.children=n,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return vg(this)}},Cc=class{path;parameters;_parameterMap;constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=Fu(this.parameters),this._parameterMap}toString(){return JT(this)}};function pL(t,e){return _c(t,e)&&t.every((n,r)=>Ps(n.parameters,e[r].parameters))}function _c(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function hL(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===vn&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==vn&&(n=n.concat(e(i,r)))}),n}var CC=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=Ve({token:t,factory:()=>new jd,providedIn:"root"})}return t})(),jd=class{parse(e){let n=new Qw(e);return new _a(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${Od(e.root,!0)}`,r=yL(e.queryParams),i=typeof e.fragment=="string"?`#${gL(e.fragment)}`:"";return`${n}${r}${i}`}},mL=new jd;function vg(t){return t.segments.map(e=>JT(e)).join("/")}function Od(t,e){if(!t.hasChildren())return vg(t);if(e){let n=t.children[vn]?Od(t.children[vn],!1):"",r=[];return Object.entries(t.children).forEach(([i,o])=>{i!==vn&&r.push(`${i}:${Od(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=hL(t,(r,i)=>i===vn?[Od(t.children[vn],!1)]:[`${i}:${Od(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[vn]!=null?`${vg(t)}/${n[0]}`:`${vg(t)}/(${n.join("//")})`}}function YT(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function hg(t){return YT(t).replace(/%3B/gi,";")}function gL(t){return encodeURI(t)}function Jw(t){return YT(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function yg(t){return decodeURIComponent(t)}function OT(t){return yg(t.replace(/\+/g,"%20"))}function JT(t){return`${Jw(t.path)}${vL(t.parameters)}`}function vL(t){return Object.entries(t).map(([e,n])=>`;${Jw(e)}=${Jw(n)}`).join("")}function yL(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${hg(n)}=${hg(i)}`).join("&"):`${hg(n)}=${hg(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var bL=/^[^\/()?;#]+/;function Hw(t){let e=t.match(bL);return e?e[0]:""}var wL=/^[^\/()?;=#]+/;function CL(t){let e=t.match(wL);return e?e[0]:""}var _L=/^[^=?&#]+/;function xL(t){let e=t.match(_L);return e?e[0]:""}var SL=/^[^&#]+/;function EL(t){let e=t.match(SL);return e?e[0]:""}var Qw=class{url;remaining;constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new rr([],{}):new rr([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[vn]=new rr(e,n)),r}parseSegment(){let e=Hw(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new Ue(4009,!1);return this.capture(e),new Cc(yg(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=CL(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=Hw(this.remaining);i&&(r=i,this.capture(r))}e[yg(n)]=yg(r)}parseQueryParam(e){let n=xL(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let s=EL(this.remaining);s&&(r=s,this.capture(r))}let i=OT(n),o=OT(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=Hw(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new Ue(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=vn);let s=this.parseChildren();n[o]=Object.keys(s).length===1?s[vn]:new rr([],s),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new Ue(4011,!1)}};function QT(t){return t.segments.length>0?new rr([],{[vn]:t}):t}function ZT(t){let e={};for(let[r,i]of Object.entries(t.children)){let o=ZT(i);if(r===vn&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let n=new rr(t.segments,e);return TL(n)}function TL(t){if(t.numberOfChildren===1&&t.children[vn]){let e=t.children[vn];return new rr(t.segments.concat(e.segments),e.children)}return t}function xc(t){return t instanceof _a}function IL(t,e,n=null,r=null){let i=XT(t);return eI(i,e,n,r)}function XT(t){let e;function n(o){let s={};for(let l of o.children){let c=n(l);s[l.outlet]=c}let a=new rr(o.url,s);return o===t&&(e=a),a}let r=n(t.root),i=QT(r);return e??i}function eI(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return Ww(i,i,i,n,r);let o=DL(e);if(o.toRoot())return Ww(i,i,new rr([],{}),n,r);let s=AL(o,i,t),a=s.processChildren?Vd(s.segmentGroup,s.index,o.commands):nI(s.segmentGroup,s.index,o.commands);return Ww(i,s.segmentGroup,a,n,r)}function bg(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function Ud(t){return typeof t=="object"&&t!=null&&t.outlets}function Ww(t,e,n,r,i){let o={};r&&Object.entries(r).forEach(([l,c])=>{o[l]=Array.isArray(c)?c.map(u=>`${u}`):`${c}`});let s;t===e?s=n:s=tI(t,e,n);let a=QT(ZT(s));return new _a(a,o,i)}function tI(t,e,n){let r={};return Object.entries(t.children).forEach(([i,o])=>{o===e?r[i]=n:r[i]=tI(o,e,n)}),new rr(t.segments,r)}var wg=class{isAbsolute;numberOfDoubleDots;commands;constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&bg(r[0]))throw new Ue(4003,!1);let i=r.find(Ud);if(i&&i!==HT(r))throw new Ue(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function DL(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new wg(!0,0,t);let e=0,n=!1,r=t.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([l,c])=>{a[l]=typeof c=="string"?c.split("/"):c}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,l)=>{l==0&&a==="."||(l==0&&a===""?n=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new wg(n,e,r)}var Pu=class{segmentGroup;processChildren;index;constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function AL(t,e,n){if(t.isAbsolute)return new Pu(e,!0,0);if(!n)return new Pu(e,!1,NaN);if(n.parent===null)return new Pu(n,!0,0);let r=bg(t.commands[0])?0:1,i=n.segments.length-1+r;return ML(n,i,t.numberOfDoubleDots)}function ML(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new Ue(4005,!1);i=r.segments.length}return new Pu(r,!1,i-o)}function kL(t){return Ud(t[0])?t[0].outlets:{[vn]:t}}function nI(t,e,n){if(t??=new rr([],{}),t.segments.length===0&&t.hasChildren())return Vd(t,e,n);let r=PL(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let o=new rr(t.segments.slice(0,r.pathIndex),{});return o.children[vn]=new rr(t.segments.slice(r.pathIndex),t.children),Vd(o,0,i)}else return r.match&&i.length===0?new rr(t.segments,{}):r.match&&!t.hasChildren()?Zw(t,e,n):r.match?Vd(t,0,i):Zw(t,e,n)}function Vd(t,e,n){if(n.length===0)return new rr(t.segments,{});{let r=kL(n),i={};if(Object.keys(r).some(o=>o!==vn)&&t.children[vn]&&t.numberOfChildren===1&&t.children[vn].segments.length===0){let o=Vd(t.children[vn],e,n);return new rr(t.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=nI(t.children[o],e,s))}),Object.entries(t.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new rr(t.segments,i)}}function PL(t,e,n){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;let s=t.segments[i],a=n[r];if(Ud(a))break;let l=`${a}`,c=r<n.length-1?n[r+1]:null;if(i>0&&l===void 0)break;if(l&&c&&typeof c=="object"&&c.outlets===void 0){if(!VT(l,c,s))return o;r+=2}else{if(!VT(l,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function Zw(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let o=n[i];if(Ud(o)){let l=NL(o.outlets);return new rr(r,l)}if(i===0&&bg(n[0])){let l=t.segments[e];r.push(new Cc(l.path,LT(n[0]))),i++;continue}let s=Ud(o)?o.outlets[vn]:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&bg(a)?(r.push(new Cc(s,LT(a))),i+=2):(r.push(new Cc(s,{})),i++)}return new rr(r,{})}function NL(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=Zw(new rr([],{}),0,r))}),e}function LT(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function VT(t,e,n){return t==n.path&&Ps(e,n.parameters)}var $d="imperative",Si=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(Si||{}),Ro=class{id;url;constructor(e,n){this.id=e,this.url=n}},Gd=class extends Ro{type=Si.NavigationStart;navigationTrigger;restoredState;constructor(e,n,r="imperative",i=null){super(e,n),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},no=class extends Ro{urlAfterRedirects;type=Si.NavigationEnd;constructor(e,n,r){super(e,n),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},yo=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(yo||{}),Xw=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(Xw||{}),Ca=class extends Ro{reason;code;type=Si.NavigationCancel;constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Sc=class extends Ro{reason;code;type=Si.NavigationSkipped;constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i}},Hd=class extends Ro{error;target;type=Si.NavigationError;constructor(e,n,r,i){super(e,n),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Cg=class extends Ro{urlAfterRedirects;state;type=Si.RoutesRecognized;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},eC=class extends Ro{urlAfterRedirects;state;type=Si.GuardsCheckStart;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},tC=class extends Ro{urlAfterRedirects;state;shouldActivate;type=Si.GuardsCheckEnd;constructor(e,n,r,i,o){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},nC=class extends Ro{urlAfterRedirects;state;type=Si.ResolveStart;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},rC=class extends Ro{urlAfterRedirects;state;type=Si.ResolveEnd;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},iC=class{route;type=Si.RouteConfigLoadStart;constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},oC=class{route;type=Si.RouteConfigLoadEnd;constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},sC=class{snapshot;type=Si.ChildActivationStart;constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},aC=class{snapshot;type=Si.ChildActivationEnd;constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},lC=class{snapshot;type=Si.ActivationStart;constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},cC=class{snapshot;type=Si.ActivationEnd;constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var Wd=class{},Ou=class{url;navigationBehaviorOptions;constructor(e,n){this.url=e,this.navigationBehaviorOptions=n}};function RL(t,e){return t.providers&&!t._injector&&(t._injector=pw(t.providers,e,`Route: ${t.path}`)),t._injector??e}function cs(t){return t.outlet||vn}function FL(t,e){let n=t.filter(r=>cs(r)===e);return n.push(...t.filter(r=>cs(r)!==e)),n}function Qd(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var uC=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return Qd(this.route?.snapshot)??this.rootInjector}constructor(e){this.rootInjector=e,this.children=new Dg(this.rootInjector)}},Dg=(()=>{class t{rootInjector;contexts=new Map;constructor(n){this.rootInjector=n}onChildOutletCreated(n,r){let i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){let r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new uC(this.rootInjector),this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static \u0275fac=function(r){return new(r||t)(Je(Ji))};static \u0275prov=Ve({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),_g=class{_root;constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=fC(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=fC(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=dC(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return dC(e,this._root).map(n=>n.value)}};function fC(t,e){if(t===e.value)return e;for(let n of e.children){let r=fC(t,n);if(r)return r}return null}function dC(t,e){if(t===e.value)return[e];for(let n of e.children){let r=dC(t,n);if(r.length)return r.unshift(e),r}return[]}var vo=class{value;children;constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function ku(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var xg=class extends _g{snapshot;constructor(e,n){super(e),this.snapshot=n,_C(this,e)}toString(){return this.snapshot.toString()}};function rI(t){let e=OL(t),n=new Vr([new Cc("",{})]),r=new Vr({}),i=new Vr({}),o=new Vr({}),s=new Vr(""),a=new xa(n,r,o,s,i,vn,t,e.root);return a.snapshot=e.root,new xg(new vo(a,[]),e)}function OL(t){let e={},n={},r={},i="",o=new Nu([],e,r,i,n,vn,t,null,{});return new Eg("",new vo(o,[]))}var xa=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(e,n,r,i,o,s,a,l){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(Ft(c=>c[Jd]))??Lt(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(Ft(e=>Fu(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(Ft(e=>Fu(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Sg(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:Ne(Ne({},e.params),t.params),data:Ne(Ne({},e.data),t.data),resolve:Ne(Ne(Ne(Ne({},t.data),e.data),i?.data),t._resolvedData)}:r={params:Ne({},t.params),data:Ne({},t.data),resolve:Ne(Ne({},t.data),t._resolvedData??{})},i&&oI(i)&&(r.resolve[Jd]=i.title),r}var Nu=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[Jd]}constructor(e,n,r,i,o,s,a,l,c){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=l,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Fu(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Fu(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},Eg=class extends _g{url;constructor(e,n){super(n),this.url=e,_C(this,n)}toString(){return iI(this._root)}};function _C(t,e){e.value._routerState=t,e.children.forEach(n=>_C(t,n))}function iI(t){let e=t.children.length>0?` { ${t.children.map(iI).join(", ")} } `:"";return`${t.value}${e}`}function zw(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Ps(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),Ps(e.params,n.params)||t.paramsSubject.next(n.params),cL(e.url,n.url)||t.urlSubject.next(n.url),Ps(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function pC(t,e){let n=Ps(t.params,e.params)&&pL(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||pC(t.parent,e.parent))}function oI(t){return typeof t.title=="string"||t.title===null}var LL=new ct(""),xC=(()=>{class t{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=vn;activateEvents=new yt;deactivateEvents=new yt;attachEvents=new yt;detachEvents=new yt;routerOutletData=il(void 0);parentContexts=He(Dg);location=He(Po);changeDetector=He(qr);inputBinder=He(Ag,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(n){if(n.name){let{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Ue(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Ue(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Ue(4012,!1);this.location.detach();let n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){let n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new Ue(4013,!1);this._activatedRoute=n;let i=this.location,s=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new hC(n,a,i.injector,this.routerOutletData);this.activated=i.createComponent(s,{index:i.length,injector:l,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||t)};static \u0275dir=fr({type:t,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[zn]})}return t})(),hC=class t{route;childContexts;parent;outletData;__ngOutletInjector(e){return new t(this.route,this.childContexts,e,this.outletData)}constructor(e,n,r,i){this.route=e,this.childContexts=n,this.parent=r,this.outletData=i}get(e,n){return e===xa?this.route:e===Dg?this.childContexts:e===LL?this.outletData:this.parent.get(e,n)}},Ag=new ct(""),$T=(()=>{class t{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(n){this.unsubscribeFromRouteData(n),this.subscribeToRouteData(n)}unsubscribeFromRouteData(n){this.outletDataSubscriptions.get(n)?.unsubscribe(),this.outletDataSubscriptions.delete(n)}subscribeToRouteData(n){let{activatedRoute:r}=n,i=Jl([r.queryParams,r.params,r.data]).pipe(Br(([o,s,a],l)=>(a=Ne(Ne(Ne({},o),s),a),l===0?Lt(a):Promise.resolve(a)))).subscribe(o=>{if(!n.isActivated||!n.activatedComponentRef||n.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(n);return}let s=X3(r.component);if(!s){this.unsubscribeFromRouteData(n);return}for(let{templateName:a}of s.inputs)n.activatedComponentRef.setInput(a,o[a])});this.outletDataSubscriptions.set(n,i)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=Ve({token:t,factory:t.\u0275fac})}return t})();function VL(t,e,n){let r=zd(t,e._root,n?n._root:void 0);return new xg(r,e)}function zd(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=$L(t,e,n);return new vo(r,i)}else{if(t.shouldAttach(e.value)){let o=t.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>zd(t,a)),s}}let r=BL(e.value),i=e.children.map(o=>zd(t,o));return new vo(r,i)}}function $L(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return zd(t,r,i);return zd(t,r)})}function BL(t){return new xa(new Vr(t.url),new Vr(t.params),new Vr(t.queryParams),new Vr(t.fragment),new Vr(t.data),t.outlet,t.component,t)}var qd=class{redirectTo;navigationBehaviorOptions;constructor(e,n){this.redirectTo=e,this.navigationBehaviorOptions=n}},sI="ngNavigationCancelingError";function Tg(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=xc(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=aI(!1,yo.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function aI(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[sI]=!0,n.cancellationCode=e,n}function jL(t){return lI(t)&&xc(t.url)}function lI(t){return!!t&&t[sI]}var UL=(t,e,n,r)=>Ft(i=>(new mC(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),mC=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(e,n,r,i,o){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),zw(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=ku(n);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,n,s.children)}else this.deactivateChildRoutes(e,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=ku(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=ku(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=ku(n);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new cC(o.value.snapshot))}),e.children.length&&this.forwardEvent(new aC(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(zw(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,s.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),zw(a.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,r)}},Ig=class{path;route;constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Ru=class{component;route;constructor(e,n){this.component=e,this.route=n}};function GL(t,e,n){let r=t._root,i=e?e._root:null;return Ld(r,i,n,[r.value])}function HL(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function Vu(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!c4(t)?t:e.get(t):r}function Ld(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=ku(e);return t.children.forEach(s=>{WL(s,o[s.value.outlet],n,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>Bd(a,n.getContext(s),i)),i}function WL(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let l=zL(s,o,o.routeConfig.runGuardsAndResolvers);l?i.canActivateChecks.push(new Ig(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?Ld(t,e,a?a.children:null,r,i):Ld(t,e,n,r,i),l&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Ru(a.outlet.component,s))}else s&&Bd(e,a,i),i.canActivateChecks.push(new Ig(r)),o.component?Ld(t,null,a?a.children:null,r,i):Ld(t,null,n,r,i);return i}function zL(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!_c(t.url,e.url);case"pathParamsOrQueryParamsChange":return!_c(t.url,e.url)||!Ps(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!pC(t,e)||!Ps(t.queryParams,e.queryParams);case"paramsChange":default:return!pC(t,e)}}function Bd(t,e,n){let r=ku(t),i=t.value;Object.entries(r).forEach(([o,s])=>{i.component?e?Bd(s,e.children.getContext(o),n):Bd(s,null,n):Bd(s,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new Ru(e.outlet.component,i)):n.canDeactivateChecks.push(new Ru(null,i)):n.canDeactivateChecks.push(new Ru(null,i))}function Zd(t){return typeof t=="function"}function qL(t){return typeof t=="boolean"}function KL(t){return t&&Zd(t.canLoad)}function YL(t){return t&&Zd(t.canActivate)}function JL(t){return t&&Zd(t.canActivateChild)}function QL(t){return t&&Zd(t.canDeactivate)}function ZL(t){return t&&Zd(t.canMatch)}function cI(t){return t instanceof Zo||t?.name==="EmptyError"}var mg=Symbol("INITIAL_VALUE");function Lu(){return Br(t=>Jl(t.map(e=>e.pipe(fo(1),ry(mg)))).pipe(Ft(e=>{for(let n of e)if(n!==!0){if(n===mg)return mg;if(n===!1||XL(n))return n}return!0}),$r(e=>e!==mg),fo(1)))}function XL(t){return xc(t)||t instanceof qd}function e9(t,e){return Yr(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return s.length===0&&o.length===0?Lt(kt(Ne({},n),{guardsResult:!0})):t9(s,r,i,t).pipe(Yr(a=>a&&qL(a)?n9(r,o,t,e):Lt(a)),Ft(a=>kt(Ne({},n),{guardsResult:a})))})}function t9(t,e,n,r){return ur(t).pipe(Yr(i=>a9(i.component,i.route,n,e,r)),aa(i=>i!==!0,!0))}function n9(t,e,n,r){return ur(e).pipe(qa(i=>su(i9(i.route.parent,r),r9(i.route,r),s9(t,i.path,n),o9(t,i.route,n))),aa(i=>i!==!0,!0))}function r9(t,e){return t!==null&&e&&e(new lC(t)),Lt(!0)}function i9(t,e){return t!==null&&e&&e(new sC(t)),Lt(!0)}function o9(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return Lt(!0);let i=r.map(o=>au(()=>{let s=Qd(e)??n,a=Vu(o,s),l=YL(a)?a.canActivate(e,t):Qi(s,()=>a(e,t));return ll(l).pipe(aa())}));return Lt(i).pipe(Lu())}function s9(t,e,n){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>HL(s)).filter(s=>s!==null).map(s=>au(()=>{let a=s.guards.map(l=>{let c=Qd(s.node)??n,u=Vu(l,c),f=JL(u)?u.canActivateChild(r,t):Qi(c,()=>u(r,t));return ll(f).pipe(aa())});return Lt(a).pipe(Lu())}));return Lt(o).pipe(Lu())}function a9(t,e,n,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return Lt(!0);let s=o.map(a=>{let l=Qd(e)??i,c=Vu(a,l),u=QL(c)?c.canDeactivate(t,e,n,r):Qi(l,()=>c(t,e,n,r));return ll(u).pipe(aa())});return Lt(s).pipe(Lu())}function l9(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return Lt(!0);let o=i.map(s=>{let a=Vu(s,t),l=KL(a)?a.canLoad(e,n):Qi(t,()=>a(e,n));return ll(l)});return Lt(o).pipe(Lu(),uI(r))}function uI(t){return zv(xr(e=>{if(typeof e!="boolean")throw Tg(t,e)}),Ft(e=>e===!0))}function c9(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return Lt(!0);let o=i.map(s=>{let a=Vu(s,t),l=ZL(a)?a.canMatch(e,n):Qi(t,()=>a(e,n));return ll(l)});return Lt(o).pipe(Lu(),uI(r))}var Kd=class{segmentGroup;constructor(e){this.segmentGroup=e||null}},Yd=class extends Error{urlTree;constructor(e){super(),this.urlTree=e}};function Mu(t){return ou(new Kd(t))}function u9(t){return ou(new Ue(4e3,!1))}function f9(t){return ou(aI(!1,yo.GuardRejected))}var gC=class{urlSerializer;urlTree;constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return Lt(r);if(i.numberOfChildren>1||!i.children[vn])return u9(`${e.redirectTo}`);i=i.children[vn]}}applyRedirectCommands(e,n,r,i,o){if(typeof n!="string"){let a=n,{queryParams:l,fragment:c,routeConfig:u,url:f,outlet:d,params:h,data:m,title:v}=i,P=Qi(o,()=>a({params:h,data:m,queryParams:l,fragment:c,routeConfig:u,url:f,outlet:d,title:v}));if(P instanceof _a)throw new Yd(P);n=P}let s=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n[0]==="/")throw new Yd(s);return s}applyRedirectCreateUrlTree(e,n,r,i){let o=this.createSegmentGroup(e,n.root,r,i);return new _a(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=n[a]}else r[i]=o}),r}createSegmentGroup(e,n,r,i){let o=this.createSegments(e,n.segments,r,i),s={};return Object.entries(n.children).forEach(([a,l])=>{s[a]=this.createSegmentGroup(e,l,r,i)}),new rr(o,s)}createSegments(e,n,r,i){return n.map(o=>o.path[0]===":"?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new Ue(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}},vC={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function d9(t,e,n,r,i){let o=fI(t,e,n);return o.matched?(r=RL(e,r),c9(r,e,n,i).pipe(Ft(s=>s===!0?o:Ne({},vC)))):Lt(o)}function fI(t,e,n){if(e.path==="**")return p9(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?Ne({},vC):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||lL)(n,t,e);if(!i)return Ne({},vC);let o={};Object.entries(i.posParams??{}).forEach(([a,l])=>{o[a]=l.path});let s=i.consumed.length>0?Ne(Ne({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function p9(t){return{matched:!0,parameters:t.length>0?HT(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function BT(t,e,n,r){return n.length>0&&g9(t,n,r)?{segmentGroup:new rr(e,m9(r,new rr(n,t.children))),slicedSegments:[]}:n.length===0&&v9(t,n,r)?{segmentGroup:new rr(t.segments,h9(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new rr(t.segments,t.children),slicedSegments:n}}function h9(t,e,n,r){let i={};for(let o of n)if(Mg(t,e,o)&&!r[cs(o)]){let s=new rr([],{});i[cs(o)]=s}return Ne(Ne({},r),i)}function m9(t,e){let n={};n[vn]=e;for(let r of t)if(r.path===""&&cs(r)!==vn){let i=new rr([],{});n[cs(r)]=i}return n}function g9(t,e,n){return n.some(r=>Mg(t,e,r)&&cs(r)!==vn)}function v9(t,e,n){return n.some(r=>Mg(t,e,r))}function Mg(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function y9(t,e,n){return e.length===0&&!t.children[n]}var yC=class{};function b9(t,e,n,r,i,o,s="emptyOnly"){return new bC(t,e,n,r,i,s,o).recognize()}var w9=31,bC=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(e,n,r,i,o,s,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new gC(this.urlSerializer,this.urlTree)}noMatchError(e){return new Ue(4002,`'${e.segmentGroup}'`)}recognize(){let e=BT(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(Ft(({children:n,rootSnapshot:r})=>{let i=new vo(r,n),o=new Eg("",i),s=IL(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){let n=new Nu([],Object.freeze({}),Object.freeze(Ne({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),vn,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,vn,n).pipe(Ft(r=>({children:r,rootSnapshot:n})),Xo(r=>{if(r instanceof Yd)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Kd?this.noMatchError(r):r}))}processSegmentGroup(e,n,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r,o):this.processSegment(e,n,r,r.segments,i,!0,o).pipe(Ft(s=>s instanceof vo?[s]:[]))}processChildren(e,n,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return ur(o).pipe(qa(s=>{let a=r.children[s],l=FL(n,s);return this.processSegmentGroup(e,l,a,s,i)}),ty((s,a)=>(s.push(...a),s)),Ka(null),Xv(),Yr(s=>{if(s===null)return Mu(r);let a=dI(s);return C9(a),Lt(a)}))}processSegment(e,n,r,i,o,s,a){return ur(n).pipe(qa(l=>this.processSegmentAgainstRoute(l._injector??e,n,l,r,i,o,s,a).pipe(Xo(c=>{if(c instanceof Kd)return Lt(null);throw c}))),aa(l=>!!l),Xo(l=>{if(cI(l))return y9(r,i,o)?Lt(new yC):Mu(r);throw l}))}processSegmentAgainstRoute(e,n,r,i,o,s,a,l){return cs(r)!==s&&(s===vn||!Mg(i,o,r))?Mu(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s,l):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,o,s,l):Mu(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s,a){let{matched:l,parameters:c,consumedSegments:u,positionalParamSegments:f,remainingSegments:d}=fI(n,i,o);if(!l)return Mu(n);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>w9&&(this.allowRedirects=!1));let h=new Nu(o,c,Object.freeze(Ne({},this.urlTree.queryParams)),this.urlTree.fragment,jT(i),cs(i),i.component??i._loadedComponent??null,i,UT(i)),m=Sg(h,a,this.paramsInheritanceStrategy);h.params=Object.freeze(m.params),h.data=Object.freeze(m.data);let v=this.applyRedirects.applyRedirectCommands(u,i.redirectTo,f,h,e);return this.applyRedirects.lineralizeSegments(i,v).pipe(Yr(P=>this.processSegment(e,r,n,P.concat(d),s,!1,a)))}matchSegmentAgainstRoute(e,n,r,i,o,s){let a=d9(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),a.pipe(Br(l=>l.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(Br(({routes:c})=>{let u=r._loadedInjector??e,{parameters:f,consumedSegments:d,remainingSegments:h}=l,m=new Nu(d,f,Object.freeze(Ne({},this.urlTree.queryParams)),this.urlTree.fragment,jT(r),cs(r),r.component??r._loadedComponent??null,r,UT(r)),v=Sg(m,s,this.paramsInheritanceStrategy);m.params=Object.freeze(v.params),m.data=Object.freeze(v.data);let{segmentGroup:P,slicedSegments:b}=BT(n,d,h,c);if(b.length===0&&P.hasChildren())return this.processChildren(u,c,P,m).pipe(Ft(_=>new vo(m,_)));if(c.length===0&&b.length===0)return Lt(new vo(m,[]));let x=cs(r)===o;return this.processSegment(u,c,P,b,x?vn:o,!0,m).pipe(Ft(_=>new vo(m,_ instanceof vo?[_]:[])))}))):Mu(n)))}getChildConfig(e,n,r){return n.children?Lt({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?Lt({routes:n._loadedRoutes,injector:n._loadedInjector}):l9(e,n,r,this.urlSerializer).pipe(Yr(i=>i?this.configLoader.loadChildren(e,n).pipe(xr(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):f9(n))):Lt({routes:[],injector:e})}};function C9(t){t.sort((e,n)=>e.value.outlet===vn?-1:n.value.outlet===vn?1:e.value.outlet.localeCompare(n.value.outlet))}function _9(t){let e=t.value.routeConfig;return e&&e.path===""}function dI(t){let e=[],n=new Set;for(let r of t){if(!_9(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=dI(r.children);e.push(new vo(r.value,i))}return e.filter(r=>!n.has(r))}function jT(t){return t.data||{}}function UT(t){return t.resolve||{}}function x9(t,e,n,r,i,o){return Yr(s=>b9(t,e,n,r,s.extractedUrl,i,o).pipe(Ft(({state:a,tree:l})=>kt(Ne({},s),{targetSnapshot:a,urlAfterRedirects:l}))))}function S9(t,e){return Yr(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return Lt(n);let o=new Set(i.map(l=>l.route)),s=new Set;for(let l of o)if(!s.has(l))for(let c of pI(l))s.add(c);let a=0;return ur(s).pipe(qa(l=>o.has(l)?E9(l,r,t,e):(l.data=Sg(l,l.parent,t).resolve,Lt(void 0))),xr(()=>a++),cu(1),Yr(l=>a===s.size?Lt(n):Ii))})}function pI(t){let e=t.children.map(n=>pI(n)).flat();return[t,...e]}function E9(t,e,n,r){let i=t.routeConfig,o=t._resolve;return i?.title!==void 0&&!oI(i)&&(o[Jd]=i.title),T9(o,t,e,r).pipe(Ft(s=>(t._resolvedData=s,t.data=Sg(t,t.parent,n).resolve,null)))}function T9(t,e,n,r){let i=Yw(t);if(i.length===0)return Lt({});let o={};return ur(i).pipe(Yr(s=>I9(t[s],e,n,r).pipe(aa(),xr(a=>{if(a instanceof qd)throw Tg(new jd,a);o[s]=a}))),cu(1),Ft(()=>o),Xo(s=>cI(s)?Ii:ou(s)))}function I9(t,e,n,r){let i=Qd(e)??r,o=Vu(t,i),s=o.resolve?o.resolve(e,n):Qi(i,()=>o(e,n));return ll(s)}function qw(t){return Br(e=>{let n=t(e);return n?ur(n).pipe(Ft(()=>e)):Lt(e)})}var hI=(()=>{class t{buildTitle(n){let r,i=n.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===vn);return r}getResolvedTitleForRoute(n){return n.data[Jd]}static \u0275fac=function(r){return new(r||t)};static \u0275prov=Ve({token:t,factory:()=>He(D9),providedIn:"root"})}return t})(),D9=(()=>{class t extends hI{title;constructor(n){super(),this.title=n}updateTitle(n){let r=this.buildTitle(n);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||t)(Je(RT))};static \u0275prov=Ve({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),SC=new ct("",{providedIn:"root",factory:()=>({})}),A9=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275cmp=xe({type:t,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){r&1&&Y(0,"router-outlet")},dependencies:[xC],encapsulation:2})}return t})();function EC(t){let e=t.children&&t.children.map(EC),n=e?kt(Ne({},t),{children:e}):Ne({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==vn&&(n.component=A9),n}var TC=new ct(""),M9=(()=>{class t{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=He(Cw);loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return Lt(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);let r=ll(n.loadComponent()).pipe(Ft(mI),xr(o=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=o}),Zl(()=>{this.componentLoaders.delete(n)})),i=new ru(r,()=>new Wn).pipe(nu());return this.componentLoaders.set(n,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return Lt({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=k9(r,this.compiler,n,this.onLoadEndListener).pipe(Zl(()=>{this.childrenLoaders.delete(r)})),s=new ru(o,()=>new Wn).pipe(nu());return this.childrenLoaders.set(r,s),s}static \u0275fac=function(r){return new(r||t)};static \u0275prov=Ve({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function k9(t,e,n,r){return ll(t.loadChildren()).pipe(Ft(mI),Yr(i=>i instanceof wd||Array.isArray(i)?Lt(i):ur(e.compileModuleAsync(i))),Ft(i=>{r&&r(t);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(n).injector,s=o.get(TC,[],{optional:!0,self:!0}).flat()),{routes:s.map(EC),injector:o}}))}function P9(t){return t&&typeof t=="object"&&"default"in t}function mI(t){return P9(t)?t.default:t}var IC=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=Ve({token:t,factory:()=>He(N9),providedIn:"root"})}return t})(),N9=(()=>{class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static \u0275fac=function(r){return new(r||t)};static \u0275prov=Ve({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),R9=new ct("");var F9=new ct(""),O9=(()=>{class t{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new Wn;transitionAbortSubject=new Wn;configLoader=He(M9);environmentInjector=He(Ji);destroyRef=He(nl);urlSerializer=He(CC);rootContexts=He(Dg);location=He(bc);inputBindingEnabled=He(Ag,{optional:!0})!==null;titleStrategy=He(hI);options=He(SC,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=He(IC);createViewTransition=He(R9,{optional:!0});navigationErrorHandler=He(F9,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>Lt(void 0);rootComponentType=null;destroyed=!1;constructor(){let n=i=>this.events.next(new iC(i)),r=i=>this.events.next(new oC(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=n,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(n){let r=++this.navigationId;this.transitions?.next(kt(Ne(Ne({},this.transitions.value),n),{id:r}))}setupNavigations(n,r,i){return this.transitions=new Vr({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:$d,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe($r(o=>o.id!==0),Ft(o=>kt(Ne({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),Br(o=>{let s=!1,a=!1;return Lt(o).pipe(Br(l=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",yo.SupersededByNewNavigation),Ii;this.currentTransition=o,this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,targetBrowserUrl:typeof l.extras.browserUrl=="string"?this.urlSerializer.parse(l.extras.browserUrl):l.extras.browserUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?kt(Ne({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let c=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),u=l.extras.onSameUrlNavigation??n.onSameUrlNavigation;if(!c&&u!=="reload"){let f="";return this.events.next(new Sc(l.id,this.urlSerializer.serialize(l.rawUrl),f,Xw.IgnoredSameUrlNavigation)),l.resolve(!1),Ii}if(this.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return Lt(l).pipe(Br(f=>{let d=this.transitions?.getValue();return this.events.next(new Gd(f.id,this.urlSerializer.serialize(f.extractedUrl),f.source,f.restoredState)),d!==this.transitions?.getValue()?Ii:Promise.resolve(f)}),x9(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),xr(f=>{o.targetSnapshot=f.targetSnapshot,o.urlAfterRedirects=f.urlAfterRedirects,this.currentNavigation=kt(Ne({},this.currentNavigation),{finalUrl:f.urlAfterRedirects});let d=new Cg(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(d)}));if(c&&this.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){let{id:f,extractedUrl:d,source:h,restoredState:m,extras:v}=l,P=new Gd(f,this.urlSerializer.serialize(d),h,m);this.events.next(P);let b=rI(this.rootComponentType).snapshot;return this.currentTransition=o=kt(Ne({},l),{targetSnapshot:b,urlAfterRedirects:d,extras:kt(Ne({},v),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=d,Lt(o)}else{let f="";return this.events.next(new Sc(l.id,this.urlSerializer.serialize(l.extractedUrl),f,Xw.IgnoredByUrlHandlingStrategy)),l.resolve(!1),Ii}}),xr(l=>{let c=new eC(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(c)}),Ft(l=>(this.currentTransition=o=kt(Ne({},l),{guards:GL(l.targetSnapshot,l.currentSnapshot,this.rootContexts)}),o)),e9(this.environmentInjector,l=>this.events.next(l)),xr(l=>{if(o.guardsResult=l.guardsResult,l.guardsResult&&typeof l.guardsResult!="boolean")throw Tg(this.urlSerializer,l.guardsResult);let c=new tC(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(c)}),$r(l=>l.guardsResult?!0:(this.cancelNavigationTransition(l,"",yo.GuardRejected),!1)),qw(l=>{if(l.guards.canActivateChecks.length)return Lt(l).pipe(xr(c=>{let u=new nC(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}),Br(c=>{let u=!1;return Lt(c).pipe(S9(this.paramsInheritanceStrategy,this.environmentInjector),xr({next:()=>u=!0,complete:()=>{u||this.cancelNavigationTransition(c,"",yo.NoDataFromResolver)}}))}),xr(c=>{let u=new rC(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}))}),qw(l=>{let c=u=>{let f=[];u.routeConfig?.loadComponent&&!u.routeConfig._loadedComponent&&f.push(this.configLoader.loadComponent(u.routeConfig).pipe(xr(d=>{u.component=d}),Ft(()=>{})));for(let d of u.children)f.push(...c(d));return f};return Jl(c(l.targetSnapshot.root)).pipe(Ka(null),fo(1))}),qw(()=>this.afterPreactivation()),Br(()=>{let{currentSnapshot:l,targetSnapshot:c}=o,u=this.createViewTransition?.(this.environmentInjector,l.root,c.root);return u?ur(u).pipe(Ft(()=>o)):Lt(o)}),Ft(l=>{let c=VL(n.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=o=kt(Ne({},l),{targetRouterState:c}),this.currentNavigation.targetRouterState=c,o}),xr(()=>{this.events.next(new Wd)}),UL(this.rootContexts,n.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),fo(1),xr({next:l=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new no(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),this.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{s=!0}}),ad(this.transitionAbortSubject.pipe(xr(l=>{throw l}))),Zl(()=>{!s&&!a&&this.cancelNavigationTransition(o,"",yo.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),Xo(l=>{if(this.destroyed)return o.resolve(!1),Ii;if(a=!0,lI(l))this.events.next(new Ca(o.id,this.urlSerializer.serialize(o.extractedUrl),l.message,l.cancellationCode)),jL(l)?this.events.next(new Ou(l.url,l.navigationBehaviorOptions)):o.resolve(!1);else{let c=new Hd(o.id,this.urlSerializer.serialize(o.extractedUrl),l,o.targetSnapshot??void 0);try{let u=Qi(this.environmentInjector,()=>this.navigationErrorHandler?.(c));if(u instanceof qd){let{message:f,cancellationCode:d}=Tg(this.urlSerializer,u);this.events.next(new Ca(o.id,this.urlSerializer.serialize(o.extractedUrl),f,d)),this.events.next(new Ou(u.redirectTo,u.navigationBehaviorOptions))}else throw this.events.next(c),l}catch(u){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(u)}}return Ii}))}))}cancelNavigationTransition(n,r,i){let o=new Ca(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(o),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let n=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return n.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||t)};static \u0275prov=Ve({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function L9(t){return t!==$d}var Xd=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=Ve({token:t,factory:()=>He(V9),providedIn:"root"})}return t})(),wC=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},V9=(()=>{class t extends wC{static \u0275fac=(()=>{let n;return function(i){return(n||(n=Ds(t)))(i||t)}})();static \u0275prov=Ve({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),gI=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=Ve({token:t,factory:()=>He($9),providedIn:"root"})}return t})(),$9=(()=>{class t extends gI{location=He(bc);urlSerializer=He(CC);options=He(SC,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";urlHandlingStrategy=He(IC);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new _a;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}routerState=rI(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(r=>{r.type==="popstate"&&n(r.url,r.state)})}handleRouterEvent(n,r){if(n instanceof Gd)this.stateMemento=this.createStateMemento();else if(n instanceof Sc)this.rawUrlTree=r.initialUrl;else if(n instanceof Cg){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let i=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(r.targetBrowserUrl??i,r)}}else n instanceof Wd?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(r.targetBrowserUrl??this.rawUrlTree,r)):n instanceof Ca&&(n.code===yo.GuardRejected||n.code===yo.NoDataFromResolver)?this.restoreHistory(r):n instanceof Hd?this.restoreHistory(r,!0):n instanceof no&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,r){let i=n instanceof _a?this.urlSerializer.serialize(n):n;if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){let o=this.browserPageId,s=Ne(Ne({},r.extras.state),this.generateNgRouterState(r.id,o));this.location.replaceState(i,"",s)}else{let o=Ne(Ne({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(i,"",o)}}restoreHistory(n,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.currentUrlTree===n.finalUrl&&o===0&&(this.resetState(n),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return this.canceledNavigationResolution==="computed"?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static \u0275fac=(()=>{let n;return function(i){return(n||(n=Ds(t)))(i||t)}})();static \u0275prov=Ve({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function B9(t,e){t.events.pipe($r(n=>n instanceof no||n instanceof Ca||n instanceof Hd||n instanceof Sc),Ft(n=>n instanceof no||n instanceof Sc?0:(n instanceof Ca?n.code===yo.Redirect||n.code===yo.SupersededByNewNavigation:!1)?2:1),$r(n=>n!==2),fo(1)).subscribe(()=>{e()})}var j9={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},U9={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Er=(()=>{class t{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=He(gw);stateManager=He(gI);options=He(SC,{optional:!0})||{};pendingTasks=He(rl);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=He(O9);urlSerializer=He(CC);location=He(bc);urlHandlingStrategy=He(IC);_events=new Wn;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=He(Xd);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=He(TC,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!He(Ag,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}eventsSubscription=new nr;subscribeToNavigationEvents(){let n=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof Ca&&r.code!==yo.Redirect&&r.code!==yo.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof no)this.navigated=!0;else if(r instanceof Ou){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),l=Ne({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||L9(i.source)},s);this.scheduleNavigation(a,$d,null,l,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}H9(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),$d,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(n,"popstate",r)},0)})}navigateToSyncWithBrowser(n,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let l=Ne({},i);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(o.state=l)}let a=this.parseUrl(n);this.scheduleNavigation(a,r,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(EC),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:l}=r,c=l?this.currentUrlTree.fragment:s,u=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":u=Ne(Ne({},this.currentUrlTree.queryParams),o);break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=o||null}u!==null&&(u=this.removeEmptyProps(u));let f;try{let d=i?i.snapshot:this.routerState.snapshot.root;f=XT(d)}catch{(typeof n[0]!="string"||n[0][0]!=="/")&&(n=[]),f=this.currentUrlTree.root}return eI(f,n,u,c??null)}navigateByUrl(n,r={skipLocationChange:!1}){let i=xc(n)?n:this.parseUrl(n),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,$d,null,r)}navigate(n,r={skipLocationChange:!1}){return G9(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.urlSerializer.parse("/")}}isActive(n,r){let i;if(r===!0?i=Ne({},j9):r===!1?i=Ne({},U9):i=r,xc(n))return FT(this.currentUrlTree,n,i);let o=this.parseUrl(n);return FT(this.currentUrlTree,o,i)}removeEmptyProps(n){return Object.entries(n).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(n,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,l,c;s?(a=s.resolve,l=s.reject,c=s.promise):c=new Promise((f,d)=>{a=f,l=d});let u=this.pendingTasks.add();return B9(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(u))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:o,resolve:a,reject:l,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(f=>Promise.reject(f))}static \u0275fac=function(r){return new(r||t)};static \u0275prov=Ve({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function G9(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new Ue(4008,!1)}function H9(t){return!(t instanceof Wd)&&!(t instanceof Ou)}var vI=(()=>{class t{router;route;tabIndexAttribute;renderer;el;locationStrategy;href=null;target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new Wn;constructor(n,r,i,o,s,a){this.router=n,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=a;let l=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=l==="a"||l==="area",this.isAnchorElement?this.subscription=n.events.subscribe(c=>{c instanceof no&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(n){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",n)}ngOnChanges(n){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}routerLinkInput=null;set routerLink(n){n==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(xc(n)?this.routerLinkInput=n:this.routerLinkInput=Array.isArray(n)?n:[n],this.setTabIndexIfNotOnNativeEl("0"))}onClick(n,r,i,o,s){let a=this.urlTree;if(a===null||this.isAnchorElement&&(n!==0||r||i||o||s||typeof this.target=="string"&&this.target!="_self"))return!0;let l={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,l),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let n=this.urlTree;this.href=n!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(n)):null;let r=this.href===null?null:LE(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(n,r){let i=this.renderer,o=this.el.nativeElement;r!==null?i.setAttribute(o,n,r):i.removeAttribute(o,n)}get urlTree(){return this.routerLinkInput===null?null:xc(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(r){return new(r||t)(ne(Er),ne(xa),Bb("tabindex"),ne(As),ne(xi),ne(Du))};static \u0275dir=fr({type:t,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){r&1&&re("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),r&2&&mc("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",vc],skipLocationChange:[2,"skipLocationChange","skipLocationChange",vc],replaceUrl:[2,"replaceUrl","replaceUrl",vc],routerLink:"routerLink"},features:[zn]})}return t})();var W9=new ct("");function yI(t,...e){return ji([{provide:TC,multi:!0,useValue:t},[],{provide:xa,useFactory:z9,deps:[Er]},{provide:tg,multi:!0,useFactory:K9},e.map(n=>n.\u0275providers)])}function z9(t){return t.routerState.root}function q9(t,e){return{\u0275kind:t,\u0275providers:e}}function K9(){let t=He(mo);return e=>{let n=t.get(fa);if(e!==n.components[0])return;let r=t.get(Er),i=t.get(Y9);t.get(J9)===1&&r.initialNavigation(),t.get(Q9,null,Tn.Optional)?.setUpPreloading(),t.get(W9,null,Tn.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var Y9=new ct("",{factory:()=>new Wn}),J9=new ct("",{providedIn:"root",factory:()=>1});var Q9=new ct("");function bI(){return q9(8,[$T,{provide:Ag,useExisting:$T}])}var pn=function(t){return t[t.State=0]="State",t[t.Transition=1]="Transition",t[t.Sequence=2]="Sequence",t[t.Group=3]="Group",t[t.Animate=4]="Animate",t[t.Keyframes=5]="Keyframes",t[t.Style=6]="Style",t[t.Trigger=7]="Trigger",t[t.Reference=8]="Reference",t[t.AnimateChild=9]="AnimateChild",t[t.AnimateRef=10]="AnimateRef",t[t.Query=11]="Query",t[t.Stagger=12]="Stagger",t}(pn||{}),Ns="*";function tp(t,e){return{type:pn.Trigger,name:t,definitions:e,options:{}}}function ul(t,e=null){return{type:pn.Animate,styles:e,timings:t}}function wI(t,e=null){return{type:pn.Sequence,steps:t,options:e}}function bo(t){return{type:pn.Style,styles:t,offset:null}}function DC(t,e,n){return{type:pn.State,name:t,styles:e,options:n}}function fl(t,e,n=null){return{type:pn.Transition,expr:t,animation:e,options:n}}var cl=class{_onDoneFns=[];_onStartFns=[];_onDestroyFns=[];_originalOnDoneFns=[];_originalOnStartFns=[];_started=!1;_destroyed=!1;_finished=!1;_position=0;parentPlayer=null;totalTime;constructor(e=0,n=0){this.totalTime=e+n}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){let n=e=="start"?this._onStartFns:this._onDoneFns;n.forEach(r=>r()),n.length=0}},ep=class{_onDoneFns=[];_onStartFns=[];_finished=!1;_started=!1;_destroyed=!1;_onDestroyFns=[];parentPlayer=null;totalTime=0;players;constructor(e){this.players=e;let n=0,r=0,i=0,o=this.players.length;o==0?queueMicrotask(()=>this._onFinish()):this.players.forEach(s=>{s.onDone(()=>{++n==o&&this._onFinish()}),s.onDestroy(()=>{++r==o&&this._onDestroy()}),s.onStart(()=>{++i==o&&this._onStart()})}),this.totalTime=this.players.reduce((s,a)=>Math.max(s,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){let n=e*this.totalTime;this.players.forEach(r=>{let i=r.totalTime?Math.min(1,n/r.totalTime):1;r.setPosition(i)})}getPosition(){let e=this.players.reduce((n,r)=>n===null||r.totalTime>n.totalTime?r:n,null);return e!=null?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){let n=e=="start"?this._onStartFns:this._onDoneFns;n.forEach(r=>r()),n.length=0}},kg="!";function CI(t){return new Ue(3e3,!1)}function Z9(){return new Ue(3100,!1)}function X9(){return new Ue(3101,!1)}function e7(t){return new Ue(3001,!1)}function t7(t){return new Ue(3003,!1)}function n7(t){return new Ue(3004,!1)}function r7(t,e){return new Ue(3005,!1)}function i7(){return new Ue(3006,!1)}function o7(){return new Ue(3007,!1)}function s7(t,e){return new Ue(3008,!1)}function a7(t){return new Ue(3002,!1)}function l7(t,e,n,r,i){return new Ue(3010,!1)}function c7(){return new Ue(3011,!1)}function u7(){return new Ue(3012,!1)}function f7(){return new Ue(3200,!1)}function d7(){return new Ue(3202,!1)}function p7(){return new Ue(3013,!1)}function h7(t){return new Ue(3014,!1)}function m7(t){return new Ue(3015,!1)}function g7(t){return new Ue(3016,!1)}function v7(t,e){return new Ue(3404,!1)}function y7(t){return new Ue(3502,!1)}function b7(t){return new Ue(3503,!1)}function w7(){return new Ue(3300,!1)}function C7(t){return new Ue(3504,!1)}function _7(t){return new Ue(3301,!1)}function x7(t,e){return new Ue(3302,!1)}function S7(t){return new Ue(3303,!1)}function E7(t,e){return new Ue(3400,!1)}function T7(t){return new Ue(3401,!1)}function I7(t){return new Ue(3402,!1)}function D7(t,e){return new Ue(3505,!1)}function dl(t){switch(t.length){case 0:return new cl;case 1:return t[0];default:return new ep(t)}}function FI(t,e,n=new Map,r=new Map){let i=[],o=[],s=-1,a=null;if(e.forEach(l=>{let c=l.get("offset"),u=c==s,f=u&&a||new Map;l.forEach((d,h)=>{let m=h,v=d;if(h!=="offset")switch(m=t.normalizePropertyName(m,i),v){case kg:v=n.get(h);break;case Ns:v=r.get(h);break;default:v=t.normalizeStyleValue(h,m,v,i);break}f.set(m,v)}),u||o.push(f),a=f,s=c}),i.length)throw y7(i);return o}function JC(t,e,n,r){switch(e){case"start":t.onStart(()=>r(n&&AC(n,"start",t)));break;case"done":t.onDone(()=>r(n&&AC(n,"done",t)));break;case"destroy":t.onDestroy(()=>r(n&&AC(n,"destroy",t)));break}}function AC(t,e,n){let r=n.totalTime,i=!!n.disabled,o=QC(t.element,t.triggerName,t.fromState,t.toState,e||t.phaseName,r??t.totalTime,i),s=t._data;return s!=null&&(o._data=s),o}function QC(t,e,n,r,i="",o=0,s){return{element:t,triggerName:e,fromState:n,toState:r,phaseName:i,totalTime:o,disabled:!!s}}function Co(t,e,n){let r=t.get(e);return r||t.set(e,r=n),r}function _I(t){let e=t.indexOf(":"),n=t.substring(1,e),r=t.slice(e+1);return[n,r]}var A7=typeof document>"u"?null:document.documentElement;function ZC(t){let e=t.parentNode||t.host||null;return e===A7?null:e}function M7(t){return t.substring(1,6)=="ebkit"}var Ec=null,xI=!1;function k7(t){Ec||(Ec=P7()||{},xI=Ec.style?"WebkitAppearance"in Ec.style:!1);let e=!0;return Ec.style&&!M7(t)&&(e=t in Ec.style,!e&&xI&&(e="Webkit"+t.charAt(0).toUpperCase()+t.slice(1)in Ec.style)),e}function P7(){return typeof document<"u"?document.body:null}function OI(t,e){for(;e;){if(e===t)return!0;e=ZC(e)}return!1}function LI(t,e,n){if(n)return Array.from(t.querySelectorAll(e));let r=t.querySelector(e);return r?[r]:[]}var XC=(()=>{class t{validateStyleProperty(n){return k7(n)}containsElement(n,r){return OI(n,r)}getParentElement(n){return ZC(n)}query(n,r,i){return LI(n,r,i)}computeStyle(n,r,i){return i||""}animate(n,r,i,o,s,a=[],l){return new cl(i,o)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=Ve({token:t,factory:t.\u0275fac})}return t})(),Dc=class{static NOOP=new XC},Ac=class{};var N7=1e3,VI="{{",R7="}}",$I="ng-enter",FC="ng-leave",Pg="ng-trigger",Lg=".ng-trigger",SI="ng-animating",OC=".ng-animating";function Sa(t){if(typeof t=="number")return t;let e=t.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:LC(parseFloat(e[1]),e[2])}function LC(t,e){switch(e){case"s":return t*N7;default:return t}}function Vg(t,e,n){return t.hasOwnProperty("duration")?t:F7(t,e,n)}function F7(t,e,n){let r=/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i,i,o=0,s="";if(typeof t=="string"){let a=t.match(r);if(a===null)return e.push(CI(t)),{duration:0,delay:0,easing:""};i=LC(parseFloat(a[1]),a[2]);let l=a[3];l!=null&&(o=LC(parseFloat(l),a[4]));let c=a[5];c&&(s=c)}else i=t;if(!n){let a=!1,l=e.length;i<0&&(e.push(Z9()),a=!0),o<0&&(e.push(X9()),a=!0),a&&e.splice(l,0,CI(t))}return{duration:i,delay:o,easing:s}}function O7(t){return t.length?t[0]instanceof Map?t:t.map(e=>new Map(Object.entries(e))):[]}function Rs(t,e,n){e.forEach((r,i)=>{let o=e_(i);n&&!n.has(i)&&n.set(i,t.style[o]),t.style[o]=r})}function Ic(t,e){e.forEach((n,r)=>{let i=e_(r);t.style[i]=""})}function np(t){return Array.isArray(t)?t.length==1?t[0]:wI(t):t}function L7(t,e,n){let r=e.params||{},i=BI(t);i.length&&i.forEach(o=>{r.hasOwnProperty(o)||n.push(e7(o))})}var VC=new RegExp(`${VI}\\s*(.+?)\\s*${R7}`,"g");function BI(t){let e=[];if(typeof t=="string"){let n;for(;n=VC.exec(t);)e.push(n[1]);VC.lastIndex=0}return e}function ip(t,e,n){let r=`${t}`,i=r.replace(VC,(o,s)=>{let a=e[s];return a==null&&(n.push(t7(s)),a=""),a.toString()});return i==r?t:i}var V7=/-+([a-z0-9])/g;function e_(t){return t.replace(V7,(...e)=>e[1].toUpperCase())}function $7(t,e){return t===0||e===0}function B7(t,e,n){if(n.size&&e.length){let r=e[0],i=[];if(n.forEach((o,s)=>{r.has(s)||i.push(s),r.set(s,o)}),i.length)for(let o=1;o<e.length;o++){let s=e[o];i.forEach(a=>s.set(a,t_(t,a)))}}return e}function wo(t,e,n){switch(e.type){case pn.Trigger:return t.visitTrigger(e,n);case pn.State:return t.visitState(e,n);case pn.Transition:return t.visitTransition(e,n);case pn.Sequence:return t.visitSequence(e,n);case pn.Group:return t.visitGroup(e,n);case pn.Animate:return t.visitAnimate(e,n);case pn.Keyframes:return t.visitKeyframes(e,n);case pn.Style:return t.visitStyle(e,n);case pn.Reference:return t.visitReference(e,n);case pn.AnimateChild:return t.visitAnimateChild(e,n);case pn.AnimateRef:return t.visitAnimateRef(e,n);case pn.Query:return t.visitQuery(e,n);case pn.Stagger:return t.visitStagger(e,n);default:throw n7(e.type)}}function t_(t,e){return window.getComputedStyle(t)[e]}var j7=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]),$g=class extends Ac{normalizePropertyName(e,n){return e_(e)}normalizeStyleValue(e,n,r,i){let o="",s=r.toString().trim();if(j7.has(n)&&r!==0&&r!=="0")if(typeof r=="number")o="px";else{let a=r.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&a[1].length==0&&i.push(r7(e,r))}return s+o}};var Bg="*";function U7(t,e){let n=[];return typeof t=="string"?t.split(/\s*,\s*/).forEach(r=>G7(r,n,e)):n.push(t),n}function G7(t,e,n){if(t[0]==":"){let l=H7(t,n);if(typeof l=="function"){e.push(l);return}t=l}let r=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(r==null||r.length<4)return n.push(m7(t)),e;let i=r[1],o=r[2],s=r[3];e.push(EI(i,s));let a=i==Bg&&s==Bg;o[0]=="<"&&!a&&e.push(EI(s,i))}function H7(t,e){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(n,r)=>parseFloat(r)>parseFloat(n);case":decrement":return(n,r)=>parseFloat(r)<parseFloat(n);default:return e.push(g7(t)),"* => *"}}var Ng=new Set(["true","1"]),Rg=new Set(["false","0"]);function EI(t,e){let n=Ng.has(t)||Rg.has(t),r=Ng.has(e)||Rg.has(e);return(i,o)=>{let s=t==Bg||t==i,a=e==Bg||e==o;return!s&&n&&typeof i=="boolean"&&(s=i?Ng.has(t):Rg.has(t)),!a&&r&&typeof o=="boolean"&&(a=o?Ng.has(e):Rg.has(e)),s&&a}}var jI=":self",W7=new RegExp(`s*${jI}s*,?`,"g");function UI(t,e,n,r){return new $C(t).build(e,n,r)}var TI="",$C=class{_driver;constructor(e){this._driver=e}build(e,n,r){let i=new BC(n);return this._resetContextStyleTimingState(i),wo(this,np(e),i)}_resetContextStyleTimingState(e){e.currentQuerySelector=TI,e.collectedStyles=new Map,e.collectedStyles.set(TI,new Map),e.currentTime=0}visitTrigger(e,n){let r=n.queryCount=0,i=n.depCount=0,o=[],s=[];return e.name.charAt(0)=="@"&&n.errors.push(i7()),e.definitions.forEach(a=>{if(this._resetContextStyleTimingState(n),a.type==pn.State){let l=a,c=l.name;c.toString().split(/\s*,\s*/).forEach(u=>{l.name=u,o.push(this.visitState(l,n))}),l.name=c}else if(a.type==pn.Transition){let l=this.visitTransition(a,n);r+=l.queryCount,i+=l.depCount,s.push(l)}else n.errors.push(o7())}),{type:pn.Trigger,name:e.name,states:o,transitions:s,queryCount:r,depCount:i,options:null}}visitState(e,n){let r=this.visitStyle(e.styles,n),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){let o=new Set,s=i||{};r.styles.forEach(a=>{a instanceof Map&&a.forEach(l=>{BI(l).forEach(c=>{s.hasOwnProperty(c)||o.add(c)})})}),o.size&&n.errors.push(s7(e.name,[...o.values()]))}return{type:pn.State,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,n){n.queryCount=0,n.depCount=0;let r=wo(this,np(e.animation),n),i=U7(e.expr,n.errors);return{type:pn.Transition,matchers:i,animation:r,queryCount:n.queryCount,depCount:n.depCount,options:Tc(e.options)}}visitSequence(e,n){return{type:pn.Sequence,steps:e.steps.map(r=>wo(this,r,n)),options:Tc(e.options)}}visitGroup(e,n){let r=n.currentTime,i=0,o=e.steps.map(s=>{n.currentTime=r;let a=wo(this,s,n);return i=Math.max(i,n.currentTime),a});return n.currentTime=i,{type:pn.Group,steps:o,options:Tc(e.options)}}visitAnimate(e,n){let r=Y7(e.timings,n.errors);n.currentAnimateTimings=r;let i,o=e.styles?e.styles:bo({});if(o.type==pn.Keyframes)i=this.visitKeyframes(o,n);else{let s=e.styles,a=!1;if(!s){a=!0;let c={};r.easing&&(c.easing=r.easing),s=bo(c)}n.currentTime+=r.duration+r.delay;let l=this.visitStyle(s,n);l.isEmptyStep=a,i=l}return n.currentAnimateTimings=null,{type:pn.Animate,timings:r,style:i,options:null}}visitStyle(e,n){let r=this._makeStyleAst(e,n);return this._validateStyleAst(r,n),r}_makeStyleAst(e,n){let r=[],i=Array.isArray(e.styles)?e.styles:[e.styles];for(let a of i)typeof a=="string"?a===Ns?r.push(a):n.errors.push(a7(a)):r.push(new Map(Object.entries(a)));let o=!1,s=null;return r.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(s=a.get("easing"),a.delete("easing")),!o)){for(let l of a.values())if(l.toString().indexOf(VI)>=0){o=!0;break}}}),{type:pn.Style,styles:r,easing:s,offset:e.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(e,n){let r=n.currentAnimateTimings,i=n.currentTime,o=n.currentTime;r&&o>0&&(o-=r.duration+r.delay),e.styles.forEach(s=>{typeof s!="string"&&s.forEach((a,l)=>{let c=n.collectedStyles.get(n.currentQuerySelector),u=c.get(l),f=!0;u&&(o!=i&&o>=u.startTime&&i<=u.endTime&&(n.errors.push(l7(l,u.startTime,u.endTime,o,i)),f=!1),o=u.startTime),f&&c.set(l,{startTime:o,endTime:i}),n.options&&L7(a,n.options,n.errors)})})}visitKeyframes(e,n){let r={type:pn.Keyframes,styles:[],options:null};if(!n.currentAnimateTimings)return n.errors.push(c7()),r;let i=1,o=0,s=[],a=!1,l=!1,c=0,u=e.steps.map(b=>{let x=this._makeStyleAst(b,n),_=x.offset!=null?x.offset:K7(x.styles),T=0;return _!=null&&(o++,T=x.offset=_),l=l||T<0||T>1,a=a||T<c,c=T,s.push(T),x});l&&n.errors.push(u7()),a&&n.errors.push(f7());let f=e.steps.length,d=0;o>0&&o<f?n.errors.push(d7()):o==0&&(d=i/(f-1));let h=f-1,m=n.currentTime,v=n.currentAnimateTimings,P=v.duration;return u.forEach((b,x)=>{let _=d>0?x==h?1:d*x:s[x],T=_*P;n.currentTime=m+v.delay+T,v.duration=T,this._validateStyleAst(b,n),b.offset=_,r.styles.push(b)}),r}visitReference(e,n){return{type:pn.Reference,animation:wo(this,np(e.animation),n),options:Tc(e.options)}}visitAnimateChild(e,n){return n.depCount++,{type:pn.AnimateChild,options:Tc(e.options)}}visitAnimateRef(e,n){return{type:pn.AnimateRef,animation:this.visitReference(e.animation,n),options:Tc(e.options)}}visitQuery(e,n){let r=n.currentQuerySelector,i=e.options||{};n.queryCount++,n.currentQuery=e;let[o,s]=z7(e.selector);n.currentQuerySelector=r.length?r+" "+o:o,Co(n.collectedStyles,n.currentQuerySelector,new Map);let a=wo(this,np(e.animation),n);return n.currentQuery=null,n.currentQuerySelector=r,{type:pn.Query,selector:o,limit:i.limit||0,optional:!!i.optional,includeSelf:s,animation:a,originalSelector:e.selector,options:Tc(e.options)}}visitStagger(e,n){n.currentQuery||n.errors.push(p7());let r=e.timings==="full"?{duration:0,delay:0,easing:"full"}:Vg(e.timings,n.errors,!0);return{type:pn.Stagger,animation:wo(this,np(e.animation),n),timings:r,options:null}}};function z7(t){let e=!!t.split(/\s*,\s*/).find(n=>n==jI);return e&&(t=t.replace(W7,"")),t=t.replace(/@\*/g,Lg).replace(/@\w+/g,n=>Lg+"-"+n.slice(1)).replace(/:animating/g,OC),[t,e]}function q7(t){return t?Ne({},t):null}var BC=class{errors;queryCount=0;depCount=0;currentTransition=null;currentQuery=null;currentQuerySelector=null;currentAnimateTimings=null;currentTime=0;collectedStyles=new Map;options=null;unsupportedCSSPropertiesFound=new Set;constructor(e){this.errors=e}};function K7(t){if(typeof t=="string")return null;let e=null;if(Array.isArray(t))t.forEach(n=>{if(n instanceof Map&&n.has("offset")){let r=n;e=parseFloat(r.get("offset")),r.delete("offset")}});else if(t instanceof Map&&t.has("offset")){let n=t;e=parseFloat(n.get("offset")),n.delete("offset")}return e}function Y7(t,e){if(t.hasOwnProperty("duration"))return t;if(typeof t=="number"){let o=Vg(t,e).duration;return MC(o,0,"")}let n=t;if(n.split(/\s+/).some(o=>o.charAt(0)=="{"&&o.charAt(1)=="{")){let o=MC(0,0,"");return o.dynamic=!0,o.strValue=n,o}let i=Vg(n,e);return MC(i.duration,i.delay,i.easing)}function Tc(t){return t?(t=Ne({},t),t.params&&(t.params=q7(t.params))):t={},t}function MC(t,e,n){return{duration:t,delay:e,easing:n}}function n_(t,e,n,r,i,o,s=null,a=!1){return{type:1,element:t,keyframes:e,preStyleProps:n,postStyleProps:r,duration:i,delay:o,totalTime:i+o,easing:s,subTimeline:a}}var op=class{_map=new Map;get(e){return this._map.get(e)||[]}append(e,n){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...n)}has(e){return this._map.has(e)}clear(){this._map.clear()}},J7=1,Q7=":enter",Z7=new RegExp(Q7,"g"),X7=":leave",eV=new RegExp(X7,"g");function GI(t,e,n,r,i,o=new Map,s=new Map,a,l,c=[]){return new jC().buildKeyframes(t,e,n,r,i,o,s,a,l,c)}var jC=class{buildKeyframes(e,n,r,i,o,s,a,l,c,u=[]){c=c||new op;let f=new UC(e,n,c,i,o,u,[]);f.options=l;let d=l.delay?Sa(l.delay):0;f.currentTimeline.delayNextStep(d),f.currentTimeline.setStyles([s],null,f.errors,l),wo(this,r,f);let h=f.timelines.filter(m=>m.containsAnimation());if(h.length&&a.size){let m;for(let v=h.length-1;v>=0;v--){let P=h[v];if(P.element===n){m=P;break}}m&&!m.allowOnlyTimelineStyles()&&m.setStyles([a],null,f.errors,l)}return h.length?h.map(m=>m.buildKeyframes()):[n_(n,[],[],[],0,d,"",!1)]}visitTrigger(e,n){}visitState(e,n){}visitTransition(e,n){}visitAnimateChild(e,n){let r=n.subInstructions.get(n.element);if(r){let i=n.createSubContext(e.options),o=n.currentTimeline.currentTime,s=this._visitSubInstructions(r,i,i.options);o!=s&&n.transformIntoNewTimeline(s)}n.previousNode=e}visitAnimateRef(e,n){let r=n.createSubContext(e.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],n,r),this.visitReference(e.animation,r),n.transformIntoNewTimeline(r.currentTimeline.currentTime),n.previousNode=e}_applyAnimationRefDelays(e,n,r){for(let i of e){let o=i?.delay;if(o){let s=typeof o=="number"?o:Sa(ip(o,i?.params??{},n.errors));r.delayNextStep(s)}}}_visitSubInstructions(e,n,r){let o=n.currentTimeline.currentTime,s=r.duration!=null?Sa(r.duration):null,a=r.delay!=null?Sa(r.delay):null;return s!==0&&e.forEach(l=>{let c=n.appendInstructionToTimeline(l,s,a);o=Math.max(o,c.duration+c.delay)}),o}visitReference(e,n){n.updateOptions(e.options,!0),wo(this,e.animation,n),n.previousNode=e}visitSequence(e,n){let r=n.subContextCount,i=n,o=e.options;if(o&&(o.params||o.delay)&&(i=n.createSubContext(o),i.transformIntoNewTimeline(),o.delay!=null)){i.previousNode.type==pn.Style&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=jg);let s=Sa(o.delay);i.delayNextStep(s)}e.steps.length&&(e.steps.forEach(s=>wo(this,s,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),n.previousNode=e}visitGroup(e,n){let r=[],i=n.currentTimeline.currentTime,o=e.options&&e.options.delay?Sa(e.options.delay):0;e.steps.forEach(s=>{let a=n.createSubContext(e.options);o&&a.delayNextStep(o),wo(this,s,a),i=Math.max(i,a.currentTimeline.currentTime),r.push(a.currentTimeline)}),r.forEach(s=>n.currentTimeline.mergeTimelineCollectedStyles(s)),n.transformIntoNewTimeline(i),n.previousNode=e}_visitTiming(e,n){if(e.dynamic){let r=e.strValue,i=n.params?ip(r,n.params,n.errors):r;return Vg(i,n.errors)}else return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,n){let r=n.currentAnimateTimings=this._visitTiming(e.timings,n),i=n.currentTimeline;r.delay&&(n.incrementTime(r.delay),i.snapshotCurrentStyles());let o=e.style;o.type==pn.Keyframes?this.visitKeyframes(o,n):(n.incrementTime(r.duration),this.visitStyle(o,n),i.applyStylesToKeyframe()),n.currentAnimateTimings=null,n.previousNode=e}visitStyle(e,n){let r=n.currentTimeline,i=n.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();let o=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(o):r.setStyles(e.styles,o,n.errors,n.options),n.previousNode=e}visitKeyframes(e,n){let r=n.currentAnimateTimings,i=n.currentTimeline.duration,o=r.duration,a=n.createSubContext().currentTimeline;a.easing=r.easing,e.styles.forEach(l=>{let c=l.offset||0;a.forwardTime(c*o),a.setStyles(l.styles,l.easing,n.errors,n.options),a.applyStylesToKeyframe()}),n.currentTimeline.mergeTimelineCollectedStyles(a),n.transformIntoNewTimeline(i+o),n.previousNode=e}visitQuery(e,n){let r=n.currentTimeline.currentTime,i=e.options||{},o=i.delay?Sa(i.delay):0;o&&(n.previousNode.type===pn.Style||r==0&&n.currentTimeline.hasCurrentStyleProperties())&&(n.currentTimeline.snapshotCurrentStyles(),n.previousNode=jg);let s=r,a=n.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,n.errors);n.currentQueryTotal=a.length;let l=null;a.forEach((c,u)=>{n.currentQueryIndex=u;let f=n.createSubContext(e.options,c);o&&f.delayNextStep(o),c===n.element&&(l=f.currentTimeline),wo(this,e.animation,f),f.currentTimeline.applyStylesToKeyframe();let d=f.currentTimeline.currentTime;s=Math.max(s,d)}),n.currentQueryIndex=0,n.currentQueryTotal=0,n.transformIntoNewTimeline(s),l&&(n.currentTimeline.mergeTimelineCollectedStyles(l),n.currentTimeline.snapshotCurrentStyles()),n.previousNode=e}visitStagger(e,n){let r=n.parentContext,i=n.currentTimeline,o=e.timings,s=Math.abs(o.duration),a=s*(n.currentQueryTotal-1),l=s*n.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":l=a-l;break;case"full":l=r.currentStaggerTime;break}let u=n.currentTimeline;l&&u.delayNextStep(l);let f=u.currentTime;wo(this,e.animation,n),n.previousNode=e,r.currentStaggerTime=i.currentTime-f+(i.startTime-r.currentTimeline.startTime)}},jg={},UC=class t{_driver;element;subInstructions;_enterClassName;_leaveClassName;errors;timelines;parentContext=null;currentTimeline;currentAnimateTimings=null;previousNode=jg;subContextCount=0;options={};currentQueryIndex=0;currentQueryTotal=0;currentStaggerTime=0;constructor(e,n,r,i,o,s,a,l){this._driver=e,this.element=n,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=o,this.errors=s,this.timelines=a,this.currentTimeline=l||new Ug(this._driver,n,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,n){if(!e)return;let r=e,i=this.options;r.duration!=null&&(i.duration=Sa(r.duration)),r.delay!=null&&(i.delay=Sa(r.delay));let o=r.params;if(o){let s=i.params;s||(s=this.options.params={}),Object.keys(o).forEach(a=>{(!n||!s.hasOwnProperty(a))&&(s[a]=ip(o[a],s,this.errors))})}}_copyOptions(){let e={};if(this.options){let n=this.options.params;if(n){let r=e.params={};Object.keys(n).forEach(i=>{r[i]=n[i]})}}return e}createSubContext(e=null,n,r){let i=n||this.element,o=new t(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(e),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(e){return this.previousNode=jg,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,n,r){let i={duration:n??e.duration,delay:this.currentTimeline.currentTime+(r??0)+e.delay,easing:""},o=new GC(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(o),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,n,r,i,o,s){let a=[];if(i&&a.push(this.element),e.length>0){e=e.replace(Z7,"."+this._enterClassName),e=e.replace(eV,"."+this._leaveClassName);let l=r!=1,c=this._driver.query(this.element,e,l);r!==0&&(c=r<0?c.slice(c.length+r,c.length):c.slice(0,r)),a.push(...c)}return!o&&a.length==0&&s.push(h7(n)),a}},Ug=class t{_driver;element;startTime;_elementTimelineStylesLookup;duration=0;easing=null;_previousKeyframe=new Map;_currentKeyframe=new Map;_keyframes=new Map;_styleSummary=new Map;_localTimelineStyles=new Map;_globalTimelineStyles;_pendingStyles=new Map;_backFill=new Map;_currentEmptyStepKeyframe=null;constructor(e,n,r,i){this._driver=e,this.element=n,this.startTime=r,this._elementTimelineStylesLookup=i,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(n),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(n,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){let n=this._keyframes.size===1&&this._pendingStyles.size;this.duration||n?(this.forwardTime(this.currentTime+e),n&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,n){return this.applyStylesToKeyframe(),new t(this._driver,e,n||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=J7,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,n){this._localTimelineStyles.set(e,n),this._globalTimelineStyles.set(e,n),this._styleSummary.set(e,{time:this.currentTime,value:n})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[n,r]of this._globalTimelineStyles)this._backFill.set(n,r||Ns),this._currentKeyframe.set(n,Ns);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,n,r,i){n&&this._previousKeyframe.set("easing",n);let o=i&&i.params||{},s=tV(e,this._globalTimelineStyles);for(let[a,l]of s){let c=ip(l,o,r);this._pendingStyles.set(a,c),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??Ns),this._updateStyle(a,c)}}applyStylesToKeyframe(){this._pendingStyles.size!=0&&(this._pendingStyles.forEach((e,n)=>{this._currentKeyframe.set(n,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,n)=>{this._currentKeyframe.has(n)||this._currentKeyframe.set(n,e)}))}snapshotCurrentStyles(){for(let[e,n]of this._localTimelineStyles)this._pendingStyles.set(e,n),this._updateStyle(e,n)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){let e=[];for(let n in this._currentKeyframe)e.push(n);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((n,r)=>{let i=this._styleSummary.get(r);(!i||n.time>i.time)&&this._updateStyle(r,n.value)})}buildKeyframes(){this.applyStylesToKeyframe();let e=new Set,n=new Set,r=this._keyframes.size===1&&this.duration===0,i=[];this._keyframes.forEach((a,l)=>{let c=new Map([...this._backFill,...a]);c.forEach((u,f)=>{u===kg?e.add(f):u===Ns&&n.add(f)}),r||c.set("offset",l/this.duration),i.push(c)});let o=[...e.values()],s=[...n.values()];if(r){let a=i[0],l=new Map(a);a.set("offset",0),l.set("offset",1),i=[a,l]}return n_(this.element,i,o,s,this.duration,this.startTime,this.easing,!1)}},GC=class extends Ug{keyframes;preStyleProps;postStyleProps;_stretchStartingKeyframe;timings;constructor(e,n,r,i,o,s,a=!1){super(e,n,s.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=o,this._stretchStartingKeyframe=a,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:n,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&n){let o=[],s=r+n,a=n/s,l=new Map(e[0]);l.set("offset",0),o.push(l);let c=new Map(e[0]);c.set("offset",II(a)),o.push(c);let u=e.length-1;for(let f=1;f<=u;f++){let d=new Map(e[f]),h=d.get("offset"),m=n+h*r;d.set("offset",II(m/s)),o.push(d)}r=s,n=0,i="",e=o}return n_(this.element,e,this.preStyleProps,this.postStyleProps,r,n,i,!0)}};function II(t,e=3){let n=Math.pow(10,e-1);return Math.round(t*n)/n}function tV(t,e){let n=new Map,r;return t.forEach(i=>{if(i==="*"){r??=e.keys();for(let o of r)n.set(o,Ns)}else for(let[o,s]of i)n.set(o,s)}),n}function DI(t,e,n,r,i,o,s,a,l,c,u,f,d){return{type:0,element:t,triggerName:e,isRemovalTransition:i,fromState:n,fromStyles:o,toState:r,toStyles:s,timelines:a,queriedElements:l,preStyleProps:c,postStyleProps:u,totalTime:f,errors:d}}var kC={},Gg=class{_triggerName;ast;_stateStyles;constructor(e,n,r){this._triggerName=e,this.ast=n,this._stateStyles=r}match(e,n,r,i){return nV(this.ast.matchers,e,n,r,i)}buildStyles(e,n,r){let i=this._stateStyles.get("*");return e!==void 0&&(i=this._stateStyles.get(e?.toString())||i),i?i.buildStyles(n,r):new Map}build(e,n,r,i,o,s,a,l,c,u){let f=[],d=this.ast.options&&this.ast.options.params||kC,h=a&&a.params||kC,m=this.buildStyles(r,h,f),v=l&&l.params||kC,P=this.buildStyles(i,v,f),b=new Set,x=new Map,_=new Map,T=i==="void",k={params:HI(v,d),delay:this.ast.options?.delay},$=u?[]:GI(e,n,this.ast.animation,o,s,m,P,k,c,f),V=0;return $.forEach(B=>{V=Math.max(B.duration+B.delay,V)}),f.length?DI(n,this._triggerName,r,i,T,m,P,[],[],x,_,V,f):($.forEach(B=>{let z=B.element,ie=Co(x,z,new Set);B.preStyleProps.forEach(H=>ie.add(H));let J=Co(_,z,new Set);B.postStyleProps.forEach(H=>J.add(H)),z!==n&&b.add(z)}),DI(n,this._triggerName,r,i,T,m,P,$,[...b.values()],x,_,V))}};function nV(t,e,n,r,i){return t.some(o=>o(e,n,r,i))}function HI(t,e){let n=Ne({},e);return Object.entries(t).forEach(([r,i])=>{i!=null&&(n[r]=i)}),n}var HC=class{styles;defaultParams;normalizer;constructor(e,n,r){this.styles=e,this.defaultParams=n,this.normalizer=r}buildStyles(e,n){let r=new Map,i=HI(e,this.defaultParams);return this.styles.styles.forEach(o=>{typeof o!="string"&&o.forEach((s,a)=>{s&&(s=ip(s,i,n));let l=this.normalizer.normalizePropertyName(a,n);s=this.normalizer.normalizeStyleValue(a,l,s,n),r.set(a,s)})}),r}};function rV(t,e,n){return new WC(t,e,n)}var WC=class{name;ast;_normalizer;transitionFactories=[];fallbackTransition;states=new Map;constructor(e,n,r){this.name=e,this.ast=n,this._normalizer=r,n.states.forEach(i=>{let o=i.options&&i.options.params||{};this.states.set(i.name,new HC(i.style,o,r))}),AI(this.states,"true","1"),AI(this.states,"false","0"),n.transitions.forEach(i=>{this.transitionFactories.push(new Gg(e,i,this.states))}),this.fallbackTransition=iV(e,this.states,this._normalizer)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,n,r,i){return this.transitionFactories.find(s=>s.match(e,n,r,i))||null}matchStyles(e,n,r){return this.fallbackTransition.buildStyles(e,n,r)}};function iV(t,e,n){let r=[(s,a)=>!0],i={type:pn.Sequence,steps:[],options:null},o={type:pn.Transition,animation:i,matchers:r,options:null,queryCount:0,depCount:0};return new Gg(t,o,e)}function AI(t,e,n){t.has(e)?t.has(n)||t.set(n,t.get(e)):t.has(n)&&t.set(e,t.get(n))}var oV=new op,zC=class{bodyNode;_driver;_normalizer;_animations=new Map;_playersById=new Map;players=[];constructor(e,n,r){this.bodyNode=e,this._driver=n,this._normalizer=r}register(e,n){let r=[],i=[],o=UI(this._driver,n,r,i);if(r.length)throw b7(r);this._animations.set(e,o)}_buildPlayer(e,n,r){let i=e.element,o=FI(this._normalizer,e.keyframes,n,r);return this._driver.animate(i,o,e.duration,e.delay,e.easing,[],!0)}create(e,n,r={}){let i=[],o=this._animations.get(e),s,a=new Map;if(o?(s=GI(this._driver,n,o,$I,FC,new Map,new Map,r,oV,i),s.forEach(u=>{let f=Co(a,u.element,new Map);u.postStyleProps.forEach(d=>f.set(d,null))})):(i.push(w7()),s=[]),i.length)throw C7(i);a.forEach((u,f)=>{u.forEach((d,h)=>{u.set(h,this._driver.computeStyle(f,h,Ns))})});let l=s.map(u=>{let f=a.get(u.element);return this._buildPlayer(u,new Map,f)}),c=dl(l);return this._playersById.set(e,c),c.onDestroy(()=>this.destroy(e)),this.players.push(c),c}destroy(e){let n=this._getPlayer(e);n.destroy(),this._playersById.delete(e);let r=this.players.indexOf(n);r>=0&&this.players.splice(r,1)}_getPlayer(e){let n=this._playersById.get(e);if(!n)throw _7(e);return n}listen(e,n,r,i){let o=QC(n,"","","");return JC(this._getPlayer(e),r,o,i),()=>{}}command(e,n,r,i){if(r=="register"){this.register(e,i[0]);return}if(r=="create"){let s=i[0]||{};this.create(e,n,s);return}let o=this._getPlayer(e);switch(r){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e);break}}},MI="ng-animate-queued",sV=".ng-animate-queued",PC="ng-animate-disabled",aV=".ng-animate-disabled",lV="ng-star-inserted",cV=".ng-star-inserted",uV=[],WI={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},fV={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},fs="__ng_removed",sp=class{namespaceId;value;options;get params(){return this.options.params}constructor(e,n=""){this.namespaceId=n;let r=e&&e.hasOwnProperty("value"),i=r?e.value:e;if(this.value=pV(i),r){let o=e,{value:s}=o,a=Hl(o,["value"]);this.options=a}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){let n=e.params;if(n){let r=this.options.params;Object.keys(n).forEach(i=>{r[i]==null&&(r[i]=n[i])})}}},rp="void",NC=new sp(rp),qC=class{id;hostElement;_engine;players=[];_triggers=new Map;_queue=[];_elementListeners=new Map;_hostClassName;constructor(e,n,r){this.id=e,this.hostElement=n,this._engine=r,this._hostClassName="ng-tns-"+e,Fo(n,this._hostClassName)}listen(e,n,r,i){if(!this._triggers.has(n))throw x7(r,n);if(r==null||r.length==0)throw S7(n);if(!hV(r))throw E7(r,n);let o=Co(this._elementListeners,e,[]),s={name:n,phase:r,callback:i};o.push(s);let a=Co(this._engine.statesByElement,e,new Map);return a.has(n)||(Fo(e,Pg),Fo(e,Pg+"-"+n),a.set(n,NC)),()=>{this._engine.afterFlush(()=>{let l=o.indexOf(s);l>=0&&o.splice(l,1),this._triggers.has(n)||a.delete(n)})}}register(e,n){return this._triggers.has(e)?!1:(this._triggers.set(e,n),!0)}_getTrigger(e){let n=this._triggers.get(e);if(!n)throw T7(e);return n}trigger(e,n,r,i=!0){let o=this._getTrigger(n),s=new ap(this.id,n,e),a=this._engine.statesByElement.get(e);a||(Fo(e,Pg),Fo(e,Pg+"-"+n),this._engine.statesByElement.set(e,a=new Map));let l=a.get(n),c=new sp(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&l&&c.absorbOptions(l.options),a.set(n,c),l||(l=NC),!(c.value===rp)&&l.value===c.value){if(!vV(l.params,c.params)){let v=[],P=o.matchStyles(l.value,l.params,v),b=o.matchStyles(c.value,c.params,v);v.length?this._engine.reportError(v):this._engine.afterFlush(()=>{Ic(e,P),Rs(e,b)})}return}let d=Co(this._engine.playersByElement,e,[]);d.forEach(v=>{v.namespaceId==this.id&&v.triggerName==n&&v.queued&&v.destroy()});let h=o.matchTransition(l.value,c.value,e,c.params),m=!1;if(!h){if(!i)return;h=o.fallbackTransition,m=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:n,transition:h,fromState:l,toState:c,player:s,isFallbackTransition:m}),m||(Fo(e,MI),s.onStart(()=>{$u(e,MI)})),s.onDone(()=>{let v=this.players.indexOf(s);v>=0&&this.players.splice(v,1);let P=this._engine.playersByElement.get(e);if(P){let b=P.indexOf(s);b>=0&&P.splice(b,1)}}),this.players.push(s),d.push(s),s}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(n=>n.delete(e)),this._elementListeners.forEach((n,r)=>{this._elementListeners.set(r,n.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);let n=this._engine.playersByElement.get(e);n&&(n.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,n){let r=this._engine.driver.query(e,Lg,!0);r.forEach(i=>{if(i[fs])return;let o=this._engine.fetchNamespacesByElement(i);o.size?o.forEach(s=>s.triggerLeaveAnimation(i,n,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,n,r,i){let o=this._engine.statesByElement.get(e),s=new Map;if(o){let a=[];if(o.forEach((l,c)=>{if(s.set(c,l.value),this._triggers.has(c)){let u=this.trigger(e,c,rp,i);u&&a.push(u)}}),a.length)return this._engine.markElementAsRemoved(this.id,e,!0,n,s),r&&dl(a).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){let n=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(n&&r){let i=new Set;n.forEach(o=>{let s=o.name;if(i.has(s))return;i.add(s);let l=this._triggers.get(s).fallbackTransition,c=r.get(s)||NC,u=new sp(rp),f=new ap(this.id,s,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:s,transition:l,fromState:c,toState:u,player:f,isFallbackTransition:!0})})}}removeNode(e,n){let r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,n),this.triggerLeaveAnimation(e,n,!0))return;let i=!1;if(r.totalAnimations){let o=r.players.length?r.playersByQueriedElement.get(e):[];if(o&&o.length)i=!0;else{let s=e;for(;s=s.parentNode;)if(r.statesByElement.get(s)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,n);else{let o=e[fs];(!o||o===WI)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,n))}}insertNode(e,n){Fo(e,this._hostClassName)}drainQueuedTransitions(e){let n=[];return this._queue.forEach(r=>{let i=r.player;if(i.destroyed)return;let o=r.element,s=this._elementListeners.get(o);s&&s.forEach(a=>{if(a.name==r.triggerName){let l=QC(o,r.triggerName,r.fromState.value,r.toState.value);l._data=e,JC(r.player,a.phase,l,a.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):n.push(r)}),this._queue=[],n.sort((r,i)=>{let o=r.transition.ast.depCount,s=i.transition.ast.depCount;return o==0||s==0?o-s:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(n=>n.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}},KC=class{bodyNode;driver;_normalizer;players=[];newHostElements=new Map;playersByElement=new Map;playersByQueriedElement=new Map;statesByElement=new Map;disabledNodes=new Set;totalAnimations=0;totalQueuedPlayers=0;_namespaceLookup={};_namespaceList=[];_flushFns=[];_whenQuietFns=[];namespacesByHostElement=new Map;collectedEnterElements=[];collectedLeaveElements=[];onRemovalComplete=(e,n)=>{};_onRemovalComplete(e,n){this.onRemovalComplete(e,n)}constructor(e,n,r){this.bodyNode=e,this.driver=n,this._normalizer=r}get queuedPlayers(){let e=[];return this._namespaceList.forEach(n=>{n.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,n){let r=new qC(e,n,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,n)?this._balanceNamespaceList(r,n):(this.newHostElements.set(n,r),this.collectEnterElement(n)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,n){let r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let s=!1,a=this.driver.getParentElement(n);for(;a;){let l=i.get(a);if(l){let c=r.indexOf(l);r.splice(c+1,0,e),s=!0;break}a=this.driver.getParentElement(a)}s||r.unshift(e)}else r.push(e);return i.set(n,e),e}register(e,n){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,n)),r}registerTrigger(e,n,r){let i=this._namespaceLookup[e];i&&i.register(n,r)&&this.totalAnimations++}destroy(e,n){e&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{let r=this._fetchNamespace(e);this.namespacesByHostElement.delete(r.hostElement);let i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1),r.destroy(n),delete this._namespaceLookup[e]}))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){let n=new Set,r=this.statesByElement.get(e);if(r){for(let i of r.values())if(i.namespaceId){let o=this._fetchNamespace(i.namespaceId);o&&n.add(o)}}return n}trigger(e,n,r,i){if(Fg(n)){let o=this._fetchNamespace(e);if(o)return o.trigger(n,r,i),!0}return!1}insertNode(e,n,r,i){if(!Fg(n))return;let o=n[fs];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;let s=this.collectedLeaveElements.indexOf(n);s>=0&&this.collectedLeaveElements.splice(s,1)}if(e){let s=this._fetchNamespace(e);s&&s.insertNode(n,r)}i&&this.collectEnterElement(n)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,n){n?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Fo(e,PC)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),$u(e,PC))}removeNode(e,n,r){if(Fg(n)){let i=e?this._fetchNamespace(e):null;i?i.removeNode(n,r):this.markElementAsRemoved(e,n,!1,r);let o=this.namespacesByHostElement.get(n);o&&o.id!==e&&o.removeNode(n,r)}else this._onRemovalComplete(n,r)}markElementAsRemoved(e,n,r,i,o){this.collectedLeaveElements.push(n),n[fs]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:o}}listen(e,n,r,i,o){return Fg(n)?this._fetchNamespace(e).listen(n,r,i,o):()=>{}}_buildInstruction(e,n,r,i,o){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,n,o)}destroyInnerAnimations(e){let n=this.driver.query(e,Lg,!0);n.forEach(r=>this.destroyActiveAnimationsForElement(r)),this.playersByQueriedElement.size!=0&&(n=this.driver.query(e,OC,!0),n.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){let n=this.playersByElement.get(e);n&&n.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){let n=this.playersByQueriedElement.get(e);n&&n.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return dl(this.players).onDone(()=>e());e()})}processLeaveNode(e){let n=e[fs];if(n&&n.setForRemoval){if(e[fs]=WI,n.namespaceId){this.destroyInnerAnimations(e);let r=this._fetchNamespace(n.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,n.setForRemoval)}e.classList?.contains(PC)&&this.markElementAsDisabled(e,!1),this.driver.query(e,aV,!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let n=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++){let i=this.collectedEnterElements[r];Fo(i,lV)}if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){let r=[];try{n=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++){let i=this.collectedLeaveElements[r];this.processLeaveNode(i)}if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){let r=this._whenQuietFns;this._whenQuietFns=[],n.length?dl(n).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw I7(e)}_flushAnimations(e,n){let r=new op,i=[],o=new Map,s=[],a=new Map,l=new Map,c=new Map,u=new Set;this.disabledNodes.forEach(F=>{u.add(F);let G=this.driver.query(F,sV,!0);for(let D=0;D<G.length;D++)u.add(G[D])});let f=this.bodyNode,d=Array.from(this.statesByElement.keys()),h=NI(d,this.collectedEnterElements),m=new Map,v=0;h.forEach((F,G)=>{let D=$I+v++;m.set(G,D),F.forEach(N=>Fo(N,D))});let P=[],b=new Set,x=new Set;for(let F=0;F<this.collectedLeaveElements.length;F++){let G=this.collectedLeaveElements[F],D=G[fs];D&&D.setForRemoval&&(P.push(G),b.add(G),D.hasAnimation?this.driver.query(G,cV,!0).forEach(N=>b.add(N)):x.add(G))}let _=new Map,T=NI(d,Array.from(b));T.forEach((F,G)=>{let D=FC+v++;_.set(G,D),F.forEach(N=>Fo(N,D))}),e.push(()=>{h.forEach((F,G)=>{let D=m.get(G);F.forEach(N=>$u(N,D))}),T.forEach((F,G)=>{let D=_.get(G);F.forEach(N=>$u(N,D))}),P.forEach(F=>{this.processLeaveNode(F)})});let k=[],$=[];for(let F=this._namespaceList.length-1;F>=0;F--)this._namespaceList[F].drainQueuedTransitions(n).forEach(D=>{let N=D.player,te=D.element;if(k.push(N),this.collectedEnterElements.length){let zt=te[fs];if(zt&&zt.setForMove){if(zt.previousTriggersValues&&zt.previousTriggersValues.has(D.triggerName)){let ve=zt.previousTriggersValues.get(D.triggerName),be=this.statesByElement.get(D.element);if(be&&be.has(D.triggerName)){let ge=be.get(D.triggerName);ge.value=ve,be.set(D.triggerName,ge)}}N.destroy();return}}let X=!f||!this.driver.containsElement(f,te),Oe=_.get(te),Ye=m.get(te),De=this._buildInstruction(D,r,Ye,Oe,X);if(De.errors&&De.errors.length){$.push(De);return}if(X){N.onStart(()=>Ic(te,De.fromStyles)),N.onDestroy(()=>Rs(te,De.toStyles)),i.push(N);return}if(D.isFallbackTransition){N.onStart(()=>Ic(te,De.fromStyles)),N.onDestroy(()=>Rs(te,De.toStyles)),i.push(N);return}let It=[];De.timelines.forEach(zt=>{zt.stretchStartingKeyframe=!0,this.disabledNodes.has(zt.element)||It.push(zt)}),De.timelines=It,r.append(te,De.timelines);let Bt={instruction:De,player:N,element:te};s.push(Bt),De.queriedElements.forEach(zt=>Co(a,zt,[]).push(N)),De.preStyleProps.forEach((zt,ve)=>{if(zt.size){let be=l.get(ve);be||l.set(ve,be=new Set),zt.forEach((ge,_e)=>be.add(_e))}}),De.postStyleProps.forEach((zt,ve)=>{let be=c.get(ve);be||c.set(ve,be=new Set),zt.forEach((ge,_e)=>be.add(_e))})});if($.length){let F=[];$.forEach(G=>{F.push(D7(G.triggerName,G.errors))}),k.forEach(G=>G.destroy()),this.reportError(F)}let V=new Map,B=new Map;s.forEach(F=>{let G=F.element;r.has(G)&&(B.set(G,G),this._beforeAnimationBuild(F.player.namespaceId,F.instruction,V))}),i.forEach(F=>{let G=F.element;this._getPreviousPlayers(G,!1,F.namespaceId,F.triggerName,null).forEach(N=>{Co(V,G,[]).push(N),N.destroy()})});let z=P.filter(F=>RI(F,l,c)),ie=new Map;PI(ie,this.driver,x,c,Ns).forEach(F=>{RI(F,l,c)&&z.push(F)});let H=new Map;h.forEach((F,G)=>{PI(H,this.driver,new Set(F),l,kg)}),z.forEach(F=>{let G=ie.get(F),D=H.get(F);ie.set(F,new Map([...G?.entries()??[],...D?.entries()??[]]))});let ce=[],ae=[],ee={};s.forEach(F=>{let{element:G,player:D,instruction:N}=F;if(r.has(G)){if(u.has(G)){D.onDestroy(()=>Rs(G,N.toStyles)),D.disabled=!0,D.overrideTotalTime(N.totalTime),i.push(D);return}let te=ee;if(B.size>1){let Oe=G,Ye=[];for(;Oe=Oe.parentNode;){let De=B.get(Oe);if(De){te=De;break}Ye.push(Oe)}Ye.forEach(De=>B.set(De,te))}let X=this._buildAnimation(D.namespaceId,N,V,o,H,ie);if(D.setRealPlayer(X),te===ee)ce.push(D);else{let Oe=this.playersByElement.get(te);Oe&&Oe.length&&(D.parentPlayer=dl(Oe)),i.push(D)}}else Ic(G,N.fromStyles),D.onDestroy(()=>Rs(G,N.toStyles)),ae.push(D),u.has(G)&&i.push(D)}),ae.forEach(F=>{let G=o.get(F.element);if(G&&G.length){let D=dl(G);F.setRealPlayer(D)}}),i.forEach(F=>{F.parentPlayer?F.syncPlayerEvents(F.parentPlayer):F.destroy()});for(let F=0;F<P.length;F++){let G=P[F],D=G[fs];if($u(G,FC),D&&D.hasAnimation)continue;let N=[];if(a.size){let X=a.get(G);X&&X.length&&N.push(...X);let Oe=this.driver.query(G,OC,!0);for(let Ye=0;Ye<Oe.length;Ye++){let De=a.get(Oe[Ye]);De&&De.length&&N.push(...De)}}let te=N.filter(X=>!X.destroyed);te.length?mV(this,G,te):this.processLeaveNode(G)}return P.length=0,ce.forEach(F=>{this.players.push(F),F.onDone(()=>{F.destroy();let G=this.players.indexOf(F);this.players.splice(G,1)}),F.play()}),ce}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,n,r,i,o){let s=[];if(n){let a=this.playersByQueriedElement.get(e);a&&(s=a)}else{let a=this.playersByElement.get(e);if(a){let l=!o||o==rp;a.forEach(c=>{c.queued||!l&&c.triggerName!=i||s.push(c)})}}return(r||i)&&(s=s.filter(a=>!(r&&r!=a.namespaceId||i&&i!=a.triggerName))),s}_beforeAnimationBuild(e,n,r){let i=n.triggerName,o=n.element,s=n.isRemovalTransition?void 0:e,a=n.isRemovalTransition?void 0:i;for(let l of n.timelines){let c=l.element,u=c!==o,f=Co(r,c,[]);this._getPreviousPlayers(c,u,s,a,n.toState).forEach(h=>{let m=h.getRealPlayer();m.beforeDestroy&&m.beforeDestroy(),h.destroy(),f.push(h)})}Ic(o,n.fromStyles)}_buildAnimation(e,n,r,i,o,s){let a=n.triggerName,l=n.element,c=[],u=new Set,f=new Set,d=n.timelines.map(m=>{let v=m.element;u.add(v);let P=v[fs];if(P&&P.removedBeforeQueried)return new cl(m.duration,m.delay);let b=v!==l,x=gV((r.get(v)||uV).map(V=>V.getRealPlayer())).filter(V=>{let B=V;return B.element?B.element===v:!1}),_=o.get(v),T=s.get(v),k=FI(this._normalizer,m.keyframes,_,T),$=this._buildPlayer(m,k,x);if(m.subTimeline&&i&&f.add(v),b){let V=new ap(e,a,v);V.setRealPlayer($),c.push(V)}return $});c.forEach(m=>{Co(this.playersByQueriedElement,m.element,[]).push(m),m.onDone(()=>dV(this.playersByQueriedElement,m.element,m))}),u.forEach(m=>Fo(m,SI));let h=dl(d);return h.onDestroy(()=>{u.forEach(m=>$u(m,SI)),Rs(l,n.toStyles)}),f.forEach(m=>{Co(i,m,[]).push(h)}),h}_buildPlayer(e,n,r){return n.length>0?this.driver.animate(e.element,n,e.duration,e.delay,e.easing,r):new cl(e.duration,e.delay)}},ap=class{namespaceId;triggerName;element;_player=new cl;_containsRealPlayer=!1;_queuedCallbacks=new Map;destroyed=!1;parentPlayer=null;markedForDestroy=!1;disabled=!1;queued=!0;totalTime=0;constructor(e,n,r){this.namespaceId=e,this.triggerName=n,this.element=r}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((n,r)=>{n.forEach(i=>JC(e,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){let n=this._player;n.triggerCallback&&e.onStart(()=>n.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,n){Co(this._queuedCallbacks,e,[]).push(n)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return this.queued?!1:this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){let n=this._player;n.triggerCallback&&n.triggerCallback(e)}};function dV(t,e,n){let r=t.get(e);if(r){if(r.length){let i=r.indexOf(n);r.splice(i,1)}r.length==0&&t.delete(e)}return r}function pV(t){return t??null}function Fg(t){return t&&t.nodeType===1}function hV(t){return t=="start"||t=="done"}function kI(t,e){let n=t.style.display;return t.style.display=e??"none",n}function PI(t,e,n,r,i){let o=[];n.forEach(l=>o.push(kI(l)));let s=[];r.forEach((l,c)=>{let u=new Map;l.forEach(f=>{let d=e.computeStyle(c,f,i);u.set(f,d),(!d||d.length==0)&&(c[fs]=fV,s.push(c))}),t.set(c,u)});let a=0;return n.forEach(l=>kI(l,o[a++])),s}function NI(t,e){let n=new Map;if(t.forEach(a=>n.set(a,[])),e.length==0)return n;let r=1,i=new Set(e),o=new Map;function s(a){if(!a)return r;let l=o.get(a);if(l)return l;let c=a.parentNode;return n.has(c)?l=c:i.has(c)?l=r:l=s(c),o.set(a,l),l}return e.forEach(a=>{let l=s(a);l!==r&&n.get(l).push(a)}),n}function Fo(t,e){t.classList?.add(e)}function $u(t,e){t.classList?.remove(e)}function mV(t,e,n){dl(n).onDone(()=>t.processLeaveNode(e))}function gV(t){let e=[];return zI(t,e),e}function zI(t,e){for(let n=0;n<t.length;n++){let r=t[n];r instanceof ep?zI(r.players,e):e.push(r)}}function vV(t,e){let n=Object.keys(t),r=Object.keys(e);if(n.length!=r.length)return!1;for(let i=0;i<n.length;i++){let o=n[i];if(!e.hasOwnProperty(o)||t[o]!==e[o])return!1}return!0}function RI(t,e,n){let r=n.get(t);if(!r)return!1;let i=e.get(t);return i?r.forEach(o=>i.add(o)):e.set(t,r),n.delete(t),!0}var Bu=class{_driver;_normalizer;_transitionEngine;_timelineEngine;_triggerCache={};onRemovalComplete=(e,n)=>{};constructor(e,n,r){this._driver=n,this._normalizer=r,this._transitionEngine=new KC(e.body,n,r),this._timelineEngine=new zC(e.body,n,r),this._transitionEngine.onRemovalComplete=(i,o)=>this.onRemovalComplete(i,o)}registerTrigger(e,n,r,i,o){let s=e+"-"+i,a=this._triggerCache[s];if(!a){let l=[],c=[],u=UI(this._driver,o,l,c);if(l.length)throw v7(i,l);a=rV(i,u,this._normalizer),this._triggerCache[s]=a}this._transitionEngine.registerTrigger(n,i,a)}register(e,n){this._transitionEngine.register(e,n)}destroy(e,n){this._transitionEngine.destroy(e,n)}onInsert(e,n,r,i){this._transitionEngine.insertNode(e,n,r,i)}onRemove(e,n,r){this._transitionEngine.removeNode(e,n,r)}disableAnimations(e,n){this._transitionEngine.markElementAsDisabled(e,n)}process(e,n,r,i){if(r.charAt(0)=="@"){let[o,s]=_I(r),a=i;this._timelineEngine.command(o,n,s,a)}else this._transitionEngine.trigger(e,n,r,i)}listen(e,n,r,i,o){if(r.charAt(0)=="@"){let[s,a]=_I(r);return this._timelineEngine.listen(s,n,a,o)}return this._transitionEngine.listen(e,n,r,i,o)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(e){this._transitionEngine.afterFlushAnimationsDone(e)}};function yV(t,e){let n=null,r=null;return Array.isArray(e)&&e.length?(n=RC(e[0]),e.length>1&&(r=RC(e[e.length-1]))):e instanceof Map&&(n=RC(e)),n||r?new bV(t,n,r):null}var bV=(()=>{class t{_element;_startStyles;_endStyles;static initialStylesByElement=new WeakMap;_state=0;_initialStyles;constructor(n,r,i){this._element=n,this._startStyles=r,this._endStyles=i;let o=t.initialStylesByElement.get(n);o||t.initialStylesByElement.set(n,o=new Map),this._initialStyles=o}start(){this._state<1&&(this._startStyles&&Rs(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Rs(this._element,this._initialStyles),this._endStyles&&(Rs(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(t.initialStylesByElement.delete(this._element),this._startStyles&&(Ic(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Ic(this._element,this._endStyles),this._endStyles=null),Rs(this._element,this._initialStyles),this._state=3)}}return t})();function RC(t){let e=null;return t.forEach((n,r)=>{wV(r)&&(e=e||new Map,e.set(r,n))}),e}function wV(t){return t==="display"||t==="position"}var Hg=class{element;keyframes;options;_specialStyles;_onDoneFns=[];_onStartFns=[];_onDestroyFns=[];_duration;_delay;_initialized=!1;_finished=!1;_started=!1;_destroyed=!1;_finalKeyframe;_originalOnDoneFns=[];_originalOnStartFns=[];domPlayer;time=0;parentPlayer=null;currentSnapshot=new Map;constructor(e,n,r,i){this.element=e,this.keyframes=n,this.options=r,this._specialStyles=i,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;let e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map;let n=()=>this._onFinish();this.domPlayer.addEventListener("finish",n),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",n)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){let n=[];return e.forEach(r=>{n.push(Object.fromEntries(r))}),n}_triggerWebAnimation(e,n,r){return e.animate(this._convertKeyframesToObject(n),r)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){this.domPlayer===void 0&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){let e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,i)=>{i!=="offset"&&e.set(i,this._finished?r:t_(this.element,i))}),this.currentSnapshot=e}triggerCallback(e){let n=e==="start"?this._onStartFns:this._onDoneFns;n.forEach(r=>r()),n.length=0}},Wg=class{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}containsElement(e,n){return OI(e,n)}getParentElement(e){return ZC(e)}query(e,n,r){return LI(e,n,r)}computeStyle(e,n,r){return t_(e,n)}animate(e,n,r,i,o,s=[]){let a=i==0?"both":"forwards",l={duration:r,delay:i,fill:a};o&&(l.easing=o);let c=new Map,u=s.filter(h=>h instanceof Hg);$7(r,i)&&u.forEach(h=>{h.currentSnapshot.forEach((m,v)=>c.set(v,m))});let f=O7(n).map(h=>new Map(h));f=B7(e,f,c);let d=yV(e,f);return new Hg(e,f,l,d)}};var Og="@",qI="@.disabled",zg=class{namespaceId;delegate;engine;_onDestroy;\u0275type=0;constructor(e,n,r,i){this.namespaceId=e,this.delegate=n,this.engine=r,this._onDestroy=i}get data(){return this.delegate.data}destroyNode(e){this.delegate.destroyNode?.(e)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(e,n){return this.delegate.createElement(e,n)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,n){this.delegate.appendChild(e,n),this.engine.onInsert(this.namespaceId,n,e,!1)}insertBefore(e,n,r,i=!0){this.delegate.insertBefore(e,n,r),this.engine.onInsert(this.namespaceId,n,e,i)}removeChild(e,n,r){this.parentNode(n)&&this.engine.onRemove(this.namespaceId,n,this.delegate)}selectRootElement(e,n){return this.delegate.selectRootElement(e,n)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,n,r,i){this.delegate.setAttribute(e,n,r,i)}removeAttribute(e,n,r){this.delegate.removeAttribute(e,n,r)}addClass(e,n){this.delegate.addClass(e,n)}removeClass(e,n){this.delegate.removeClass(e,n)}setStyle(e,n,r,i){this.delegate.setStyle(e,n,r,i)}removeStyle(e,n,r){this.delegate.removeStyle(e,n,r)}setProperty(e,n,r){n.charAt(0)==Og&&n==qI?this.disableAnimations(e,!!r):this.delegate.setProperty(e,n,r)}setValue(e,n){this.delegate.setValue(e,n)}listen(e,n,r,i){return this.delegate.listen(e,n,r,i)}disableAnimations(e,n){this.engine.disableAnimations(e,n)}},YC=class extends zg{factory;constructor(e,n,r,i,o){super(n,r,i,o),this.factory=e,this.namespaceId=n}setProperty(e,n,r){n.charAt(0)==Og?n.charAt(1)=="."&&n==qI?(r=r===void 0?!0:!!r,this.disableAnimations(e,r)):this.engine.process(this.namespaceId,e,n.slice(1),r):this.delegate.setProperty(e,n,r)}listen(e,n,r,i){if(n.charAt(0)==Og){let o=CV(e),s=n.slice(1),a="";return s.charAt(0)!=Og&&([s,a]=_V(s)),this.engine.listen(this.namespaceId,o,s,a,l=>{let c=l._data||-1;this.factory.scheduleListenerCallback(c,r,l)})}return this.delegate.listen(e,n,r,i)}};function CV(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}function _V(t){let e=t.indexOf("."),n=t.substring(0,e),r=t.slice(e+1);return[n,r]}var qg=class{delegate;engine;_zone;_currentId=0;_microtaskId=1;_animationCallbacksBuffer=[];_rendererCache=new Map;_cdRecurDepth=0;constructor(e,n,r){this.delegate=e,this.engine=n,this._zone=r,n.onRemovalComplete=(i,o)=>{o?.removeChild(null,i)}}createRenderer(e,n){let r="",i=this.delegate.createRenderer(e,n);if(!e||!n?.data?.animation){let c=this._rendererCache,u=c.get(i);if(!u){let f=()=>c.delete(i);u=new zg(r,i,this.engine,f),c.set(i,u)}return u}let o=n.id,s=n.id+"-"+this._currentId;this._currentId++,this.engine.register(s,e);let a=c=>{Array.isArray(c)?c.forEach(a):this.engine.registerTrigger(o,s,e,c.name,c)};return n.data.animation.forEach(a),new YC(this,s,i,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(e,n,r){if(e>=0&&e<this._microtaskId){this._zone.run(()=>n(r));return}let i=this._animationCallbacksBuffer;i.length==0&&queueMicrotask(()=>{this._zone.run(()=>{i.forEach(o=>{let[s,a]=o;s(a)}),this._animationCallbacksBuffer=[]})}),i.push([n,r])}end(){this._cdRecurDepth--,this._cdRecurDepth==0&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}componentReplaced(e){this.engine.flush(),this.delegate.componentReplaced?.(e)}};var SV=(()=>{class t extends Bu{constructor(n,r,i){super(n,r,i)}ngOnDestroy(){this.flush()}static \u0275fac=function(r){return new(r||t)(Je(Pi),Je(Dc),Je(Ac))};static \u0275prov=Ve({token:t,factory:t.\u0275fac})}return t})();function EV(){return new $g}function TV(t,e,n){return new qg(t,e,n)}var KI=[{provide:Ac,useFactory:EV},{provide:Bu,useClass:SV},{provide:el,useFactory:TV,deps:[dg,Bu,kr]}],IV=[{provide:Dc,useFactory:()=>new Wg},{provide:Wb,useValue:"BrowserAnimations"},...KI],qve=[{provide:Dc,useClass:XC},{provide:Wb,useValue:"NoopAnimations"},...KI];function YI(){return ol("NgEagerAnimations"),[...IV]}var DV=Math.pow(10,8)*24*60*60*1e3,Yve=-DV;var JI=864e5,QI=6e4,ZI=36e5;var AV=3600;var XI=AV*24,Jve=XI*7,MV=XI*365.2425,kV=MV/12,Qve=kV*3,r_=Symbol.for("constructDateFrom");function ds(t,e){return typeof t=="function"?t(e):t&&typeof t=="object"&&r_ in t?t[r_](e):t instanceof Date?new t.constructor(e):new Date(e)}function ir(t,e){return ds(e||t,t)}function Kg(t,e,n){let r=ir(t,n?.in);return isNaN(e)?ds(n?.in||t,NaN):(e&&r.setDate(r.getDate()+e),r)}function eD(t,e,n){let r=ir(t,n?.in);if(isNaN(e))return ds(n?.in||t,NaN);if(!e)return r;let i=r.getDate(),o=ds(n?.in||t,r.getTime());o.setMonth(r.getMonth()+e+1,0);let s=o.getDate();return i>=s?o:(r.setFullYear(o.getFullYear(),o.getMonth(),i),r)}function ju(t,e,n){let{years:r=0,months:i=0,weeks:o=0,days:s=0,hours:a=0,minutes:l=0,seconds:c=0}=e,u=ir(t,n?.in),f=i||r?eD(u,i+r*12):u,d=s||o?Kg(f,s+o*7):f,h=l+a*60,v=(c+h*60)*1e3;return ds(n?.in||t,+d+v)}var PV={};function Yg(){return PV}function i_(t,e){let n=Yg(),r=e?.weekStartsOn??e?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,i=ir(t,e?.in),o=i.getDay(),s=(o<r?7:0)+o-r;return i.setDate(i.getDate()-s),i.setHours(0,0,0,0),i}function o_(t){let e=ir(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function pi(t,...e){let n=ds.bind(null,t||e.find(r=>typeof r=="object"));return e.map(n)}function s_(t,e){let n=ir(t,e?.in);return n.setHours(0,0,0,0),n}function tD(t,e,n){let[r,i]=pi(n?.in,t,e),o=s_(r),s=s_(i),a=+o-o_(o),l=+s-o_(s);return Math.round((a-l)/JI)}function Mc(t,e){let n=+ir(t)-+ir(e);return n<0?-1:n>0?1:n}function nD(t,e,n){let[r,i]=pi(n?.in,t,e),o=r.getFullYear()-i.getFullYear(),s=r.getMonth()-i.getMonth();return o*12+s}function rD(t,e,n){let[r,i]=pi(n?.in,t,e);return r.getFullYear()-i.getFullYear()}function oD(t,e,n){let[r,i]=pi(n?.in,t,e),o=iD(r,i),s=Math.abs(tD(r,i));r.setDate(r.getDate()-o*s);let a=+(iD(r,i)===-o),l=o*(s-a);return l===0?0:l}function iD(t,e){let n=t.getFullYear()-e.getFullYear()||t.getMonth()-e.getMonth()||t.getDate()-e.getDate()||t.getHours()-e.getHours()||t.getMinutes()-e.getMinutes()||t.getSeconds()-e.getSeconds()||t.getMilliseconds()-e.getMilliseconds();return n<0?-1:n>0?1:n}function Uu(t){return e=>{let r=(t?Math[t]:Math.trunc)(e);return r===0?0:r}}function sD(t,e,n){let[r,i]=pi(n?.in,t,e),o=(+r-+i)/ZI;return Uu(n?.roundingMethod)(o)}function Jg(t,e){return+ir(t)-+ir(e)}function aD(t,e,n){let r=Jg(t,e)/QI;return Uu(n?.roundingMethod)(r)}function lD(t,e){let n=ir(t,e?.in);return n.setHours(23,59,59,999),n}function cD(t,e){let n=ir(t,e?.in),r=n.getMonth();return n.setFullYear(n.getFullYear(),r+1,0),n.setHours(23,59,59,999),n}function uD(t,e){let n=ir(t,e?.in);return+lD(n,e)==+cD(n,e)}function fD(t,e,n){let[r,i,o]=pi(n?.in,t,t,e),s=Mc(i,o),a=Math.abs(nD(i,o));if(a<1)return 0;i.getMonth()===1&&i.getDate()>27&&i.setDate(30),i.setMonth(i.getMonth()-s*a);let l=Mc(i,o)===-s;uD(r)&&a===1&&Mc(r,o)===1&&(l=!1);let c=s*(a-+l);return c===0?0:c}function dD(t,e,n){let r=Jg(t,e)/1e3;return Uu(n?.roundingMethod)(r)}function pD(t,e,n){let[r,i]=pi(n?.in,t,e),o=Mc(r,i),s=Math.abs(rD(r,i));r.setFullYear(1584),i.setFullYear(1584);let a=Mc(r,i)===-o,l=o*(s-+a);return l===0?0:l}function hD(t,e){let[n,r]=pi(t,e.start,e.end);return{start:n,end:r}}var NV={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Qg=(t,e,n)=>{let r,i=NV[t];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",e.toString()),n?.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function Ni(t){return(e={})=>{let n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}var RV={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},FV={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},OV={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},mD={date:Ni({formats:RV,defaultWidth:"full"}),time:Ni({formats:FV,defaultWidth:"full"}),dateTime:Ni({formats:OV,defaultWidth:"full"})};var LV={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Zg=(t,e,n,r)=>LV[t];function hi(t){return(e,n)=>{let r=n?.context?String(n.context):"standalone",i;if(r==="formatting"&&t.formattingValues){let s=t.defaultFormattingWidth||t.defaultWidth,a=n?.width?String(n.width):s;i=t.formattingValues[a]||t.formattingValues[s]}else{let s=t.defaultWidth,a=n?.width?String(n.width):t.defaultWidth;i=t.values[a]||t.values[s]}let o=t.argumentCallback?t.argumentCallback(e):e;return i[o]}}var VV={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},$V={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},BV={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},jV={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},UV={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},GV={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},HV=(t,e)=>{let n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},Xg={ordinalNumber:HV,era:hi({values:VV,defaultWidth:"wide"}),quarter:hi({values:$V,defaultWidth:"wide",argumentCallback:t=>t-1}),month:hi({values:BV,defaultWidth:"wide"}),day:hi({values:jV,defaultWidth:"wide"}),dayPeriod:hi({values:UV,defaultWidth:"wide",formattingValues:GV,defaultFormattingWidth:"wide"})};function mi(t){return(e,n={})=>{let r=n.width,i=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],o=e.match(i);if(!o)return null;let s=o[0],a=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(a)?zV(a,f=>f.test(s)):WV(a,f=>f.test(s)),c;c=t.valueCallback?t.valueCallback(l):l,c=n.valueCallback?n.valueCallback(c):c;let u=e.slice(s.length);return{value:c,rest:u}}}function WV(t,e){for(let n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function zV(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function Gu(t){return(e,n={})=>{let r=e.match(t.matchPattern);if(!r)return null;let i=r[0],o=e.match(t.parsePattern);if(!o)return null;let s=t.valueCallback?t.valueCallback(o[0]):o[0];s=n.valueCallback?n.valueCallback(s):s;let a=e.slice(i.length);return{value:s,rest:a}}}var qV=/^(\d+)(th|st|nd|rd)?/i,KV=/\d+/i,YV={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},JV={any:[/^b/i,/^(a|c)/i]},QV={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},ZV={any:[/1/i,/2/i,/3/i,/4/i]},XV={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},e$={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},t$={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},n$={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},r$={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},i$={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},e0={ordinalNumber:Gu({matchPattern:qV,parsePattern:KV,valueCallback:t=>parseInt(t,10)}),era:mi({matchPatterns:YV,defaultMatchWidth:"wide",parsePatterns:JV,defaultParseWidth:"any"}),quarter:mi({matchPatterns:QV,defaultMatchWidth:"wide",parsePatterns:ZV,defaultParseWidth:"any",valueCallback:t=>t+1}),month:mi({matchPatterns:XV,defaultMatchWidth:"wide",parsePatterns:e$,defaultParseWidth:"any"}),day:mi({matchPatterns:t$,defaultMatchWidth:"wide",parsePatterns:n$,defaultParseWidth:"any"}),dayPeriod:mi({matchPatterns:r$,defaultMatchWidth:"any",parsePatterns:i$,defaultParseWidth:"any"})};var a_={code:"en-US",formatDistance:Qg,formatLong:mD,formatRelative:Zg,localize:Xg,match:e0,options:{weekStartsOn:0,firstWeekContainsDate:1}};var o$=["years","months","weeks","days","hours","minutes","seconds"];function t0(t,e){let n=Yg(),r=e?.locale??n.locale??a_,i=e?.format??o$,o=e?.zero??!1,s=e?.delimiter??" ";return r.formatDistance?i.reduce((l,c)=>{let u=`x${c.replace(/(^.)/,d=>d.toUpperCase())}`,f=t[c];return f!==void 0&&(o||t[c])?l.concat(r.formatDistance(u,f)):l},[]).join(s):""}function kc(t,e){let{start:n,end:r}=hD(e?.in,t),i={},o=pD(r,n);o&&(i.years=o);let s=ju(n,{years:i.years}),a=fD(r,s);a&&(i.months=a);let l=ju(s,{months:i.months}),c=oD(r,l);c&&(i.days=c);let u=ju(l,{days:i.days}),f=sD(r,u);f&&(i.hours=f);let d=ju(u,{hours:i.hours}),h=aD(r,d);h&&(i.minutes=h);let m=ju(d,{minutes:i.minutes}),v=dD(r,m);return v&&(i.seconds=v),i}function n0(t,e){return+ir(t)>+ir(e)}function pl(t,e){return+ir(t)<+ir(e)}function lp(t,e,n){let[r,i]=pi(n?.in,t,e);return+i_(r,n)==+i_(i,n)}function ps(t){let e=parseFloat(t);if(Number.isNaN(e))return t;let r=(Math.ceil(e*100)/100).toFixed(2);return r.endsWith(".00")?r.slice(0,-3):r}function Jr(t){let e=parseFloat(t);return Number.isNaN(e)?"0":e.toFixed(2)}function r0(t,e=!1){let n=parseFloat(t);return Number.isNaN(n)?t:(e?Math.floor(n*100)/100:Math.ceil(n*100)/100).toFixed(2)}function cp(t,e=!1){let n=parseFloat(t);return Number.isNaN(n)?0:e?Math.floor(n*100)/100:Math.ceil(n*100)/100}function Oo(t){let e=parseFloat(t);return Number.isNaN(e)?0:e}function Fs(t,e=!1){let r=(e?Math.floor(t*100)/100:Math.ceil(t*100)/100).toFixed(2);return r.endsWith(".00")?r.slice(0,-3):r}function gD(t){let e=t.toFixed(2);return e.endsWith(".00")?e.slice(0,-3):e}var Os=t=>t.toLocaleString("en-US",{maximumFractionDigits:2,useGrouping:!1});function i0(t){let e=t.slice(0,6),n=t.slice(-6);return`${e}...${n}`}function vD(t){let e=t.slice(0,4),n=t.slice(-4);return`${e}***${n}`}function Lo(t,e){let n=new Date(t),r="ru-RU";return e==="en"?r="en-US":e==="zh"&&(r="zh-CN"),n.toLocaleString(r,{day:"numeric",month:"long",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1}).replace(" \u0432 ",", ").replace(" at ",", ")}function yD(t,e){let n=new Date(t),r="ru-RU";return e==="en"?r="en-US":e==="zh"&&(r="zh-CN"),n.toLocaleString(r,{hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1}).replace(" \u0432 ",", ")}function bD(t,e,n="en"){let{days:r,hours:i,minutes:o}=kc({start:t,end:e}),s={ru:{d:"\u0434",h:"\u0447",m:"\u043C"},en:{d:"d",h:"h",m:"m"},zh:{d:"\u5929",h:"\u5C0F\u65F6",m:"\u5206\u949F"}},a={d:"d",h:"h",m:"m"},{d:l,h:c,m:u}=s[n]||a,f=[];return r&&f.push(`${r}${l}`),i&&f.push(`${i}${c}`),!r&&!i&&o&&f.push(`${o}${u}`),f.join(" ")}var o0=class t{playerVM={avatarUrl:"https://t.me/i/userpic/320/Ea6EnyOX-gFV_kaCpeaPI1suorQy0HucpLcU2S7St-4.svg",betAmount:10,chance:.2};formatStringValue=ps;formatValue=Fs;simpleCutValue=gD;static \u0275fac=function(n){return new(n||t)};static \u0275cmp=xe({type:t,selectors:[["app-jackpot-player"]],inputs:{playerVM:"playerVM"},decls:8,vars:4,consts:[[1,"bg-[#1F1F1F]","rounded-2xl","w-20"],[1,"relative","bg-[#1A1A1A]","rounded-2xl","w-full","aspect-square","overflow-hidden"],[1,"w-full","h-full","object-cover","no-interaction",3,"src","alt"],[1,"absolute","bottom-0","left-0","right-0","p-0.75","text-center","w-full"],[1,"font-medium","text-[clamp(0.4rem,2.1vw,0.6rem)]","bg-[#141414]/70","rounded-2xl","px-1.5","py-0.5","inline-block"],[1,"py-1.5","px-1","text-center","font-medium","text-[clamp(0.3rem,2.6vw,0.7rem)]"]],template:function(n,r){n&1&&(S(0,"div",0)(1,"div",1),Y(2,"img",2),S(3,"div",3)(4,"p",4),K(5),A()()(),S(6,"div",5),K(7),A()()),n&2&&(E(2),O("src",r.playerVM.avatarUrl,Gn)("alt","Avatar"),E(3),Te(" ",(r.playerVM.chance*100).toFixed(2)+"%"," "),E(2),Te(" ",r.simpleCutValue(r.playerVM.betAmount)," TON "))},encapsulation:2})};function wD(t,e){return Math.floor(Math.random()*(e-t+1))+t}function CD(t,e,n){return n*(e-t)+t}var $t=class t{static userIdKey="user_id";static spinnerDuration=8500;static winnerCenteringDuration=700;static startSpinnerDelay=300;static winnerShowDelay=1200;static showWinnerGiftsDelay=2500;static giftUpdateDelay=1e4;static sellGiftCoefficient=.75;static upgradeRingDurationSeconds=5;static caseSpinnerDuration=6500;static caseCenteringDelay=t.caseSpinnerDuration+300};var hl=class t{sounds={};audioBuffers={};isSafari=!1;audioContext=null;gainNodes={};isAudioInitialized=!1;activeSources=[];constructor(){let e=["bet","round-start","round-end","spinner-start","spinner-click","spinner-run","spinner-run1"];this.isSafari=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||Telegram.WebApp.platform=="ios";try{this.audioContext=new(window.AudioContext||window.webkitAudioContext),this.isSafari?this.initializeWebAudio(e):this.initializeHTMLAudio(e)}catch(n){console.error("\u041E\u0448\u0438\u0431\u043A\u0430 \u0438\u043D\u0438\u0446\u0438\u0430\u043B\u0438\u0437\u0430\u0446\u0438\u0438 AudioContext:",n),this.initializeHTMLAudio(e)}}initializeWebAudio(e){return Wt(this,null,function*(){if(this.audioContext)try{yield Promise.all(e.map(n=>Wt(this,null,function*(){try{let i=yield(yield fetch(`${n}.mp3`)).arrayBuffer(),o=yield this.audioContext.decodeAudioData(i);this.audioBuffers[n]=o;let s=this.audioContext.createGain();s.connect(this.audioContext.destination),this.gainNodes[n]=s;let a=new Audio(`${n}.mp3`);a.preload="auto",a.muted=!0,this.sounds[n]=a,a.load()}catch(r){console.error(`\u041E\u0448\u0438\u0431\u043A\u0430 \u043F\u0440\u0438 \u0437\u0430\u0433\u0440\u0443\u0437\u043A\u0435 \u0437\u0432\u0443\u043A\u0430 ${n}:`,r)}}))),this.isAudioInitialized=!0}catch(n){console.error("\u041E\u0448\u0438\u0431\u043A\u0430 \u043F\u0440\u0438 \u0438\u043D\u0438\u0446\u0438\u0430\u043B\u0438\u0437\u0430\u0446\u0438\u0438 Web Audio:",n),this.initializeHTMLAudio(e)}})}initializeHTMLAudio(e){e.forEach(n=>{let r=new Audio(`${n}.mp3`);r.preload="auto",r.setAttribute("playsinline",""),r.setAttribute("webkit-playsinline",""),this.isSafari&&(r.muted=!0),this.sounds[n]=r,r.load()}),this.isAudioInitialized=!0}unlockAudio(){return Wt(this,null,function*(){if(!this.isSafari)return!0;try{if(this.audioContext){let e=this.audioContext.createBuffer(1,1,22050),n=this.audioContext.createBufferSource();n.buffer=e,n.connect(this.audioContext.destination),n.start(0);for(let r of Object.keys(this.sounds))this.sounds[r].muted=!1;return this.audioContext.state==="suspended"&&(yield this.audioContext.resume()),!0}}catch(e){console.error("\u041D\u0435 \u0443\u0434\u0430\u043B\u043E\u0441\u044C \u0440\u0430\u0437\u0431\u043B\u043E\u043A\u0438\u0440\u043E\u0432\u0430\u0442\u044C \u0430\u0443\u0434\u0438\u043E:",e)}return!1})}play(e,n=.4){return Wt(this,null,function*(){let r=localStorage.getItem("isSoundsEnabled");if(r){if(r==="false")return}else return;if(!this.isAudioInitialized){console.warn("\u0410\u0443\u0434\u0438\u043E \u0435\u0449\u0435 \u043D\u0435 \u0438\u043D\u0438\u0446\u0438\u0430\u043B\u0438\u0437\u0438\u0440\u043E\u0432\u0430\u043D\u043E");return}if(this.isSafari&&this.audioContext&&this.audioBuffers[e])try{let o=this.audioContext.createBufferSource();o.buffer=this.audioBuffers[e],this.activeSources.push(o),o.onended=()=>{let a=this.activeSources.indexOf(o);a!==-1&&this.activeSources.splice(a,1)};let s=this.gainNodes[e]||this.audioContext.createGain();s.gain.value=n,o.connect(s),s.connect(this.audioContext.destination),this.audioContext.state==="suspended"&&(yield this.audioContext.resume()),o.start(0);return}catch(o){console.warn(`\u041D\u0435 \u0443\u0434\u0430\u043B\u043E\u0441\u044C \u0432\u043E\u0441\u043F\u0440\u043E\u0438\u0437\u0432\u0435\u0441\u0442\u0438 \u0437\u0432\u0443\u043A "${e}" \u0447\u0435\u0440\u0435\u0437 Web Audio API:`,o)}let i=this.sounds[e];if(!i){console.warn(`\u0417\u0432\u0443\u043A \u0441 \u043A\u043B\u044E\u0447\u043E\u043C "${e}" \u043D\u0435 \u043D\u0430\u0439\u0434\u0435\u043D`);return}try{this.isSafari&&i.muted&&(i.muted=!1);let o=i.cloneNode();o.volume=n;let s=o.play();s!==void 0&&s.catch(a=>(console.warn(`\u041D\u0435 \u0443\u0434\u0430\u043B\u043E\u0441\u044C \u0432\u043E\u0441\u043F\u0440\u043E\u0438\u0437\u0432\u0435\u0441\u0442\u0438 \u0437\u0432\u0443\u043A "${e}":`,a),this.isSafari&&a.name==="NotAllowedError"?(o.muted=!0,o.play()):Promise.resolve()))}catch(o){console.warn(`\u041E\u0448\u0438\u0431\u043A\u0430 \u043F\u0440\u0438 \u0432\u043E\u0441\u043F\u0440\u043E\u0438\u0437\u0432\u0435\u0434\u0435\u043D\u0438\u0438 \u0437\u0432\u0443\u043A\u0430 "${e}":`,o)}})}playWithProgress(e,n=0,r=.4){return Wt(this,null,function*(){let i=localStorage.getItem("isSoundsEnabled");if(i){if(i==="false")return}else return;if(!this.isAudioInitialized){console.warn("\u0410\u0443\u0434\u0438\u043E \u0435\u0449\u0435 \u043D\u0435 \u0438\u043D\u0438\u0446\u0438\u0430\u043B\u0438\u0437\u0438\u0440\u043E\u0432\u0430\u043D\u043E");return}let o=Math.min(Math.max(n,0),1);if(this.isSafari&&this.audioContext&&this.audioBuffers[e])try{let a=this.audioContext.createBufferSource();a.buffer=this.audioBuffers[e],this.activeSources.push(a),a.onended=()=>{let f=this.activeSources.indexOf(a);f!==-1&&this.activeSources.splice(f,1)};let l=this.gainNodes[e]||this.audioContext.createGain();l.gain.value=r,a.connect(l),l.connect(this.audioContext.destination),this.audioContext.state==="suspended"&&(yield this.audioContext.resume());let c=o*a.buffer.duration,u=a.buffer.duration-c;a.start(0,c,u),console.log(`Web Audio \u0432\u043E\u0441\u043F\u0440\u043E\u0438\u0437\u0432\u0435\u0434\u0435\u043D\u0438\u0435 \u0441 \u043F\u043E\u0437\u0438\u0446\u0438\u0438 ${c} \u0441`);return}catch(a){console.warn(`\u041D\u0435 \u0443\u0434\u0430\u043B\u043E\u0441\u044C \u0432\u043E\u0441\u043F\u0440\u043E\u0438\u0437\u0432\u0435\u0441\u0442\u0438 \u0437\u0432\u0443\u043A "${e}" \u0441 \u043F\u0440\u043E\u0433\u0440\u0435\u0441\u0441\u043E\u043C \u0447\u0435\u0440\u0435\u0437 Web Audio API:`,a)}let s=this.sounds[e];if(!s){console.warn(`\u0417\u0432\u0443\u043A \u0441 \u043A\u043B\u044E\u0447\u043E\u043C "${e}" \u043D\u0435 \u043D\u0430\u0439\u0434\u0435\u043D`);return}try{let a=s.cloneNode();a.volume=r;let l=()=>{if(!isNaN(a.duration)&&a.duration>0){let c=o*a.duration;console.log(`HTML Audio \u0432\u043E\u0441\u043F\u0440\u043E\u0438\u0437\u0432\u0435\u0434\u0435\u043D\u0438\u0435 \u0441 \u043F\u043E\u0437\u0438\u0446\u0438\u0438 ${c} \u0441`),a.currentTime=c,this.isSafari&&a.muted&&(a.muted=!1);let u=a.play();u!==void 0&&u.catch(f=>(console.warn(`\u041D\u0435 \u0443\u0434\u0430\u043B\u043E\u0441\u044C \u0432\u043E\u0441\u043F\u0440\u043E\u0438\u0437\u0432\u0435\u0441\u0442\u0438 \u0437\u0432\u0443\u043A "${e}" \u0441 \u043F\u0440\u043E\u0433\u0440\u0435\u0441\u0441\u043E\u043C:`,f),this.isSafari&&f.name==="NotAllowedError"?(a.muted=!0,a.play()):Promise.resolve()))}else console.warn(`\u0414\u043B\u0438\u0442\u0435\u043B\u044C\u043D\u043E\u0441\u0442\u044C \u0430\u0443\u0434\u0438\u043E "${e}" \u043D\u0435 \u043E\u043F\u0440\u0435\u0434\u0435\u043B\u0435\u043D\u0430 \u0438\u043B\u0438 \u0440\u0430\u0432\u043D\u0430 \u043D\u0443\u043B\u044E`);a.removeEventListener("loadedmetadata",l)};a.readyState>=1&&!isNaN(a.duration)&&a.duration>0?l():(a.addEventListener("loadedmetadata",l),a.load())}catch(a){console.warn(`\u041E\u0448\u0438\u0431\u043A\u0430 \u043F\u0440\u0438 \u0432\u043E\u0441\u043F\u0440\u043E\u0438\u0437\u0432\u0435\u0434\u0435\u043D\u0438\u0438 \u0437\u0432\u0443\u043A\u0430 "${e}" \u0441 \u043F\u0440\u043E\u0433\u0440\u0435\u0441\u0441\u043E\u043C:`,a)}})}stopAll(){try{Object.values(this.sounds).forEach(n=>{n.pause(),n.currentTime=0}),this.audioContext&&(this.activeSources.forEach(n=>{try{n.stop(0)}catch(r){console.log("\u041D\u0435 \u0443\u0434\u0430\u043B\u043E\u0441\u044C \u043E\u0441\u0442\u0430\u043D\u043E\u0432\u0438\u0442\u044C \u0438\u0441\u0442\u043E\u0447\u043D\u0438\u043A \u0437\u0432\u0443\u043A\u0430",r)}}),this.activeSources=[],Object.values(this.gainNodes).forEach(n=>{n.gain.value=0})),document.querySelectorAll("audio").forEach(n=>{try{let r=n;r.pause(),r.currentTime=0}catch{}})}catch(e){console.error("\u041E\u0448\u0438\u0431\u043A\u0430 \u043F\u0440\u0438 \u043E\u0441\u0442\u0430\u043D\u043E\u0432\u043A\u0435 \u0437\u0432\u0443\u043A\u043E\u0432:",e)}}preloadAndPrime(){return Wt(this,null,function*(){let e=localStorage.getItem("isSoundsEnabled");if(e){if(e==="false")return}else return;if(this.isSafari)try{if(this.audioContext){let n=this.audioContext.createBuffer(1,1,22050),r=this.audioContext.createBufferSource();r.buffer=n;let i=this.audioContext.createGain();i.gain.value=.001,r.connect(i),i.connect(this.audioContext.destination),r.start(0),this.audioContext.state==="suspended"&&(yield this.audioContext.resume())}for(let n of Object.keys(this.sounds)){let r=this.sounds[n];r.volume=.001,r.muted=!0;let i=r.play();i!==void 0&&i.then(()=>{r.pause(),r.currentTime=0}).catch(()=>{})}}catch(n){console.warn("\u041E\u0448\u0438\u0431\u043A\u0430 \u043F\u0440\u0438 \u043F\u0440\u0435\u0434\u0432\u0430\u0440\u0438\u0442\u0435\u043B\u044C\u043D\u043E\u0439 \u0438\u043D\u0438\u0446\u0438\u0430\u043B\u0438\u0437\u0430\u0446\u0438\u0438 \u0430\u0443\u0434\u0438\u043E:",n)}})}static \u0275fac=function(n){return new(n||t)};static \u0275prov=Ve({token:t,factory:t.\u0275fac,providedIn:"root"})};function s$(t,e){if(t&1&&(S(0,"div",3),Y(1,"img",4),S(2,"div",5)(3,"p",6),K(4),A()()()),t&2){let n=e.$implicit,r=e.index,i=Q();Wr("height",r===i.winnerIndex&&i.winnerAnimation?"100%":"100px")("opacity",i.winnerAnimation?r===i.winnerIndex?1:.5:1),vr("winner",r===i.winnerIndex&&i.winnerAnimation),E(),O("src",n,Gn)("width",i.avatarWidth),E(),Wr("opacity",r===i.winnerIndex&&i.winnerAnimation?1:0),E(2),Te(" ",i.winner==null?null:i.winner.username," ")}}var s0=class t{constructor(e){this.audioService=e;this.audioService.preloadAndPrime().then()}gameNumber=0;playersVM=[];winner;containerWidth=0;avatars=[];offset=0;transitionDuration=$t.spinnerDuration;avatarWidth=100;gapSize=6;randomShift=0;winnerIndex=0;winnerAnimation=!1;ngOnChanges(e){if(e.winner&&this.winner){let n=this.seededRandom(this.gameNumber);this.fillAvatars(n),this.randomShift=CD(-50,50,n()),this.transitionDuration=0;let r=this.getWinnerCenterPosition(this.winnerIndex),i=($t.spinnerDuration-this.winner.transitionDuration)/$t.spinnerDuration;this.offset=(r+this.randomShift)*i,this.transitionDuration=this.winner?.transitionDuration,this.winner.transitionDuration>0?setTimeout(()=>{this.winAnimation(this.winnerIndex,i)},$t.startSpinnerDelay):this.winAnimation(this.winnerIndex,i)}}fillAvatars(e){if(!this.winner)return;this.avatars=[],this.playersVM.forEach(r=>{let i=Math.max(1,Math.round(r.chance*100));this.avatars.push(...Array(i).fill(r.avatarUrl))}),this.avatars=this.shuffleWithSeed(this.avatars,e);let n=93;this.avatars.splice(n,1,this.winner.avatarUrl),this.winnerIndex=n}winAnimation(e,n){let r=this.getWinnerCenterPosition(e);this.offset=r+this.randomShift,(this.winner?.transitionDuration??0)>0?(this.audioService.playWithProgress("spinner-run",n,.5).then(),setTimeout(()=>{this.offset=r,this.transitionDuration=$t.winnerCenteringDuration,this.winnerAnimation=!0,(this.winner?.transitionDuration??0)>2e3&&this.audioService.play("spinner-click")},(this.winner?.transitionDuration??0)+$t.startSpinnerDelay)):(this.offset=r,this.transitionDuration=$t.winnerCenteringDuration,this.winnerAnimation=!0)}getWinnerCenterPosition(e){let n=this.avatarWidth+this.gapSize,r=e*n,i=this.containerWidth/2-this.avatarWidth/2;return-r+i}seededRandom(e){let n=e;return()=>{let r=Math.sin(n++)*1e4;return r-Math.floor(r)}}shuffleWithSeed(e,n){let r=[...e];for(let i=r.length-1;i>0;i--){let o=Math.floor(n()*(i+1));[r[i],r[o]]=[r[o],r[i]]}return r}Math=Math;static \u0275fac=function(n){return new(n||t)(ne(hl))};static \u0275cmp=xe({type:t,selectors:[["app-jackpot-spinner"]],inputs:{gameNumber:"gameNumber",playersVM:"playersVM",winner:"winner",containerWidth:"containerWidth"},features:[zn],decls:3,vars:9,consts:[[1,"absolute","w-1","scale-x-[0.75]","inset-0","safari-fix","bg-white/70","left-1/2","-translate-x-1/2","z-1","transition-opacity","duration-500"],[1,"flex","items-center","h-full","transition-transform","ease-out","no-interaction","safari-fix"],["class","flex justify-center shrink-0 rounded-xl overflow-hidden bg-gray-900 relative transition-all duration-500 safari-fix",3,"winner","height","opacity",4,"ngFor","ngForOf"],[1,"flex","justify-center","shrink-0","rounded-xl","overflow-hidden","bg-gray-900","relative","transition-all","duration-500","safari-fix"],["alt","",1,"object-cover","transition-all","duration-500","rounded-2xl","h-full",3,"src","width"],[1,"absolute","bottom-0","left-0","right-0","p-2","text-center","w-full","transition-opacity","duration-500"],[1,"font-medium","text-xs","bg-[#141414]/70","inline-block","rounded-2xl","px-1.5","py-1","max-w-[100%]","truncate","overflow-hidden","whitespace-nowrap","align-middle"]],template:function(n,r){n&1&&(Y(0,"div",0),S(1,"div",1),oe(2,s$,5,11,"div",2),A()),n&2&&(vr("opacity-0",r.winnerAnimation),E(),Wr("gap",r.gapSize,"px")("transform","translateX("+r.Math.round(r.offset)+"px)")("transition-duration",r.transitionDuration+"ms"),E(),O("ngForOf",r.avatars))},dependencies:[bt],styles:[".winner[_ngcontent-%COMP%]{opacity:1}.winner[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border:2px solid white;transition:height .2s ease-in-out,opacity .2s ease-in-out,border .2s ease-in-out}"]})};var c_=(r=>(r.Winner="winner",r.Crash="crash",r.None="none",r))(c_||{});function u_(t){t||(Ib(u_),t=He(nl));let e=new en(n=>t.onDestroy(n.next.bind(n)));return n=>n.pipe(ad(e))}var d_=class{translations;constructor(e){this.translations=e}getTranslation(e){return Lt(this.translations.get(e)||{})}},SD=new ct("");function Wu(t,e){return t&&(Object.prototype.hasOwnProperty.call(t,e)?t[e]:e.split(".").reduce((n,r)=>n?.[r],t))}function v_(t,e,n){t=Ne({},t);let r=e.split("."),i=r.length-1;return r.reduce((o,s,a)=>(a===i?o[s]=n:o[s]=Array.isArray(o[s])?o[s].slice():Ne({},o[s]),o&&o[s]),t),t}function ED(t){return t?Array.isArray(t)?t.length:zu(t)?Object.keys(t).length:t?t.length:0:0}function a$(t){return ED(t)===0}function l$(t){return typeof t=="function"}function up(t){return typeof t=="string"}function zu(t){return!!t&&typeof t=="object"&&!Array.isArray(t)}function TD(t){return t.replace(/(?:^\w|[A-Z]|\b\w)/g,(e,n)=>n==0?e.toLowerCase():e.toUpperCase()).replace(/\s+|_|-|\//g,"")}function p_(t){return t==null}function _D(t){return p_(t)===!1}function ID(t){return t&&typeof t.scope=="string"}function c$(t){return t&&zu(t.loader)}function xD(t){let e={};function n(r,i){if(r===null)e[i]=null;else if(zu(r))for(let[o,s]of Object.entries(r))n(s,i?`${i}.${o}`:o);else e[i]=r}return n(t,""),e}function u$(t){let e={};for(let[n,r]of Object.entries(t)){let i=n.split("."),o=e;i.forEach((s,a)=>{a===i.length-1?o[s]=r:(o[s]??={},o=o[s])})}return e}var qu=new ct("",{providedIn:"root",factory:()=>Hu}),Hu={defaultLang:"en",reRenderOnLangChange:!1,prodMode:!1,failedRetries:2,fallbackLang:[],availableLangs:[],missingHandler:{logMissingKey:!0,useFallbackTranslation:!1,allowEmpty:!1},flatten:{aot:!1},interpolation:["{{","}}"],scopes:{keepCasing:!1}};function f$(t={}){return kt(Ne(Ne({},Hu),t),{missingHandler:Ne(Ne({},Hu.missingHandler),t.missingHandler),flatten:Ne(Ne({},Hu.flatten),t.flatten),scopes:Ne(Ne({},Hu.scopes),t.scopes)})}var a0=new ct(""),y_=(()=>{class t{config=He(qu,{optional:!0})??Hu;get interpolationMatcher(){return d$(this.config)}transpile({value:n,params:r={},translation:i,key:o}){if(up(n)){let s,a=n;for(;(s=this.interpolationMatcher.exec(a))!==null;){let[l,c]=s;a=a.replace(l,()=>{let u=c.trim(),f=Wu(r,u);return _D(f)?f:_D(i[u])?this.transpile({params:r,translation:i,key:o,value:i[u]}):""})}return a}else r&&(zu(n)?n=this.handleObject({value:n,params:r,translation:i,key:o}):Array.isArray(n)&&(n=this.handleArray({value:n,params:r,translation:i,key:o})));return n}handleObject({value:n,params:r={},translation:i,key:o}){let s=n;return Object.keys(r).forEach(a=>{let l=this.transpile({value:Wu(s,a),params:Wu(r,a),translation:i,key:o});s=v_(s,a,l)}),s}handleArray(i){var o=i,{value:n}=o,r=Hl(o,["value"]);return n.map(s=>this.transpile(Ne({value:s},r)))}static \u0275fac=function(r){return new(r||t)};static \u0275prov=Ve({token:t,factory:t.\u0275fac})}return t})();function d$(t){let[e,n]=t.interpolation;return new RegExp(`${e}([^${e}${n}]*?)${n}`,"g")}var DD=new ct(""),p$=(()=>{class t{handle(n,r){if(r.missingHandler.logMissingKey&&!r.prodMode){let i=`Missing translation for '${n}'`;console.warn(`%c ${i}`,"font-size: 12px; color: red")}return n}static \u0275fac=function(r){return new(r||t)};static \u0275prov=Ve({token:t,factory:t.\u0275fac})}return t})(),AD=new ct(""),h$=(()=>{class t{preSaveTranslation(n){return n}preSaveTranslationKey(n,r){return r}static \u0275fac=function(r){return new(r||t)};static \u0275prov=Ve({token:t,factory:t.\u0275fac})}return t})(),MD=new ct(""),m$=(()=>{class t{userConfig;constructor(n){this.userConfig=n}getNextLangs(){let n=this.userConfig.fallbackLang;if(!n)throw new Error("When using the default fallback, a fallback language must be provided in the config!");return Array.isArray(n)?n:[n]}static \u0275fac=function(r){return new(r||t)(Je(qu))};static \u0275prov=Ve({token:t,factory:t.\u0275fac})}return t})();function fp(t){if(!t)return"";let e=t.split("/");return e.pop(),e.join("/")}function ml(t){return t?t.split("/").pop():""}function h_(t,e,n="|"){if(up(t)){let r=t.split(n),i=r.pop();return i===e?[!0,r.toString()]:[!1,i]}return[!1,""]}function g$(t,e){let[n]=h_(e,"static");return n?!1:!!t.config.reRenderOnLangChange}function v$(t){return t?e=>e:fo(1)}function y$(t,e){return Object.keys(t).reduce((n,r)=>(n[`${e}/${r}`]=t[r],n),{})}function kD(t,e){return c$(t)?y$(t.loader,e):void 0}function f_(t){return{scope:fp(t)||null,langName:ml(t)}}function PD(t){let{path:e,inlineLoader:n,mainLoader:r,data:i}=t;if(n){let o=n[e];if(l$(o)===!1)throw`You're using an inline loader but didn't provide a loader for ${e}`;return n[e]().then(s=>s.default?s.default:s)}return r.getTranslation(e,i)}function b$({mainLoader:t,path:e,data:n,fallbackPath:r,inlineLoader:i}){return(r?[e,r]:[e]).map(s=>{let a=PD({path:s,mainLoader:t,inlineLoader:i,data:n});return ur(a).pipe(Ft(l=>({translation:l,lang:s})))})}var w$;var ar=(()=>{class t{loader;parser;missingHandler;interceptor;fallbackStrategy;langChanges$;translations=new Map;cache=new Map;firstFallbackLang;defaultLang="";availableLangs=[];isResolvedMissingOnce=!1;lang;failedLangs=new Set;events=new Wn;events$=this.events.asObservable();config;destroyRef=He(nl);constructor(n,r,i,o,s,a){this.loader=n,this.parser=r,this.missingHandler=i,this.interceptor=o,this.fallbackStrategy=a,this.loader||(this.loader=new d_(this.translations)),w$=this,this.config=JSON.parse(JSON.stringify(s)),this.setAvailableLangs(this.config.availableLangs||[]),this.setFallbackLangForMissingTranslation(this.config),this.setDefaultLang(this.config.defaultLang),this.lang=new Vr(this.getDefaultLang()),this.langChanges$=this.lang.asObservable(),this.events$.subscribe(l=>{l.type==="translationLoadSuccess"&&l.wasFailure&&this.setActiveLang(l.payload.langName)}),this.destroyRef.onDestroy(()=>{this.lang.complete(),this.events.complete(),this.cache.clear()})}getDefaultLang(){return this.defaultLang}setDefaultLang(n){this.defaultLang=n}getActiveLang(){return this.lang.getValue()}setActiveLang(n){return this.parser.onLangChanged?.(n),this.lang.next(n),this.events.next({type:"langChanged",payload:f_(n)}),this}setAvailableLangs(n){this.availableLangs=n}getAvailableLangs(){return this.availableLangs}load(n,r={}){let i=this.cache.get(n);if(i)return i;let o,s=this._isLangScoped(n),a;s&&(a=fp(n));let l={path:n,mainLoader:this.loader,inlineLoader:r.inlineLoader,data:s?{scope:a}:void 0};if(this.useFallbackTranslation(n)){let u=s?`${a}/${this.firstFallbackLang}`:this.firstFallbackLang,f=b$(kt(Ne({},l),{fallbackPath:u}));o=lu(f)}else{let u=PD(l);o=ur(u)}let c=o.pipe(ey(this.config.failedRetries),xr(u=>{if(Array.isArray(u)){u.forEach(f=>{this.handleSuccess(f.lang,f.translation),f.lang!==n&&this.cache.set(f.lang,Lt({}))});return}this.handleSuccess(n,u)}),Xo(u=>(this.config.prodMode||console.error(`Error while trying to load "${n}"`,u),this.handleFailure(n,r))),uu(1),u_(this.destroyRef));return this.cache.set(n,c),c}translate(n,r={},i=this.getActiveLang()){if(!n)return n;let{scope:o,resolveLang:s}=this.resolveLangAndScope(i);if(Array.isArray(n))return n.map(c=>this.translate(o?`${o}.${c}`:c,r,s));n=o?`${o}.${n}`:n;let a=this.getTranslation(s),l=a[n];return l?this.parser.transpile({value:l,params:r,translation:a,key:n}):this._handleMissingKey(n,l,r)}selectTranslate(n,r,i,o=!1){let s,a=(c,u)=>this.load(c,u).pipe(Ft(()=>o?this.translateObject(n,r,c):this.translate(n,r,c)));if(p_(i))return this.langChanges$.pipe(Br(c=>a(c)));if(i=Array.isArray(i)?i[0]:i,ID(i)){let c=i;i=c.scope,s=kD(c,c.scope)}if(i=i,this.isLang(i)||this.isScopeWithLang(i))return a(i);let l=i;return this.langChanges$.pipe(Br(c=>a(`${l}/${c}`,{inlineLoader:s})))}isScopeWithLang(n){return this.isLang(ml(n))}translateObject(n,r={},i=this.getActiveLang()){if(up(n)||Array.isArray(n)){let{resolveLang:s,scope:a}=this.resolveLangAndScope(i);if(Array.isArray(n))return n.map(u=>this.translateObject(a?`${a}.${u}`:u,r,s));let l=this.getTranslation(s);n=a?`${a}.${n}`:n;let c=u$(this.getObjectByKey(l,n));return a$(c)?this.translate(n,r,i):this.parser.transpile({value:c,params:r,translation:l,key:n})}let o=[];for(let[s,a]of this.getEntries(n))o.push(this.translateObject(s,a,i));return o}selectTranslateObject(n,r,i){if(up(n)||Array.isArray(n))return this.selectTranslate(n,r,i,!0);let[[o,s],...a]=this.getEntries(n);return this.selectTranslateObject(o,s,i).pipe(Ft(l=>{let c=[l];for(let[u,f]of a)c.push(this.translateObject(u,f,i));return c}))}getTranslation(n){if(n){if(this.isLang(n))return this.translations.get(n)||{};{let{scope:r,resolveLang:i}=this.resolveLangAndScope(n),o=this.translations.get(i)||{};return this.getObjectByKey(o,r)}}return this.translations}selectTranslation(n){let r=this.langChanges$;if(n){let i=ml(n)!==n;this.isLang(n)||i?r=Lt(n):r=this.langChanges$.pipe(Ft(o=>`${n}/${o}`))}return r.pipe(Br(i=>this.load(i).pipe(Ft(()=>this.getTranslation(i)))))}setTranslation(n,r=this.getActiveLang(),i={}){let s=Ne(Ne({},{merge:!0,emitChange:!0}),i),a=fp(r),l=n;if(a){let h=this.getMappedScope(a);l=xD({[h]:n})}let c=a?ml(r):r,u=Ne(Ne({},s.merge&&this.getTranslation(c)),l),f=this.config.flatten.aot?u:xD(u),d=this.interceptor.preSaveTranslation(f,c);this.translations.set(c,d),s.emitChange&&this.setActiveLang(this.getActiveLang())}setTranslationKey(n,r,i={}){let o=i.lang||this.getActiveLang(),s=this.interceptor.preSaveTranslationKey(n,r,o),a={[n]:s};this.setTranslation(a,o,kt(Ne({},i),{merge:!0}))}setFallbackLangForMissingTranslation({fallbackLang:n}){let r=Array.isArray(n)?n[0]:n;n&&this.useFallbackTranslation(r)&&(this.firstFallbackLang=r)}_handleMissingKey(n,r,i){if(this.config.missingHandler.allowEmpty&&r==="")return"";if(!this.isResolvedMissingOnce&&this.useFallbackTranslation()){this.isResolvedMissingOnce=!0;let o=this.translate(n,i,this.firstFallbackLang);return this.isResolvedMissingOnce=!1,o}return this.missingHandler.handle(n,this.getMissingHandlerData(),i)}_isLangScoped(n){return this.getAvailableLangsIds().indexOf(n)===-1}isLang(n){return this.getAvailableLangsIds().indexOf(n)!==-1}_loadDependencies(n,r){let i=ml(n);return this._isLangScoped(n)&&!this.isLoadedTranslation(i)?Jl([this.load(i),this.load(n,{inlineLoader:r})]):this.load(n,{inlineLoader:r})}_completeScopeWithLang(n){return this._isLangScoped(n)&&!this.isLang(ml(n))?`${n}/${this.getActiveLang()}`:n}_setScopeAlias(n,r){this.config.scopeMapping||(this.config.scopeMapping={}),this.config.scopeMapping[n]=r}isLoadedTranslation(n){return ED(this.getTranslation(n))}getAvailableLangsIds(){let n=this.getAvailableLangs()[0];return up(n)?this.getAvailableLangs():this.getAvailableLangs().map(r=>r.id)}getMissingHandlerData(){return kt(Ne({},this.config),{activeLang:this.getActiveLang(),availableLangs:this.availableLangs,defaultLang:this.defaultLang})}useFallbackTranslation(n){return this.config.missingHandler.useFallbackTranslation&&n!==this.firstFallbackLang}handleSuccess(n,r){this.setTranslation(r,n,{emitChange:!1}),this.events.next({wasFailure:!!this.failedLangs.size,type:"translationLoadSuccess",payload:f_(n)}),this.failedLangs.forEach(i=>this.cache.delete(i)),this.failedLangs.clear()}handleFailure(n,r){p_(r.failedCounter)&&(r.failedCounter=0,r.fallbackLangs||(r.fallbackLangs=this.fallbackStrategy.getNextLangs(n)));let i=n.split("/"),s=r.fallbackLangs[r.failedCounter];if(this.failedLangs.add(n),this.cache.has(s))return this.handleSuccess(s,this.getTranslation(s)),Ii;let a=s===i[i.length-1];if(!s||a){let c="Unable to load translation and all the fallback languages";throw i.length>1&&(c+=", did you misspelled the scope name?"),new Error(c)}let l=s;return i.length>1&&(i[i.length-1]=s,l=i.join("/")),r.failedCounter++,this.events.next({type:"translationLoadFailure",payload:f_(n)}),this.load(l,r)}getMappedScope(n){let{scopeMapping:r={},scopes:i={keepCasing:!1}}=this.config;return r[n]||(i.keepCasing?n:TD(n))}resolveLangAndScope(n){let r=n,i;if(this._isLangScoped(n)){let o=ml(n),s=this.isLang(o);r=s?o:this.getActiveLang(),i=this.getMappedScope(s?fp(n):n)}return{scope:i,resolveLang:r}}getObjectByKey(n,r){let i={},o=`${r}.`;for(let s in n)s.startsWith(o)&&(i[s.replace(o,"")]=n[s]);return i}getEntries(n){return n instanceof Map?n.entries():Object.entries(n)}static \u0275fac=function(r){return new(r||t)(Je(SD,8),Je(a0),Je(DD),Je(AD),Je(qu),Je(MD))};static \u0275prov=Ve({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var C$=new ct(""),Bwe=new ct(""),_$=new ct(""),m_=class{initialized=!1;resolve({inline:e,provider:n,active:r}){let i=r;if(this.initialized)return i=r,i;if(n){let[,o]=h_(n,"static");i=o}if(e){let[,o]=h_(e,"static");i=o}return this.initialized=!0,i}resolveLangBasedOnScope(e){return fp(e)?ml(e):e}resolveLangPath(e,n){return n?`${n}/${e}`:e}},g_=class{service;constructor(e){this.service=e}resolve(e){let{inline:n,provider:r}=e;if(n)return n;if(r){if(ID(r)){let{scope:i,alias:o=this.service.config.scopes.keepCasing?i:TD(i)}=r;return this.service._setScopeAlias(i,o),i}return r}}};var dt=(()=>{class t{service;providerScope;providerLang;cdr;subscription=null;lastValue="";lastKey;path;langResolver=new m_;scopeResolver;constructor(n,r,i,o){this.service=n,this.providerScope=r,this.providerLang=i,this.cdr=o,this.scopeResolver=new g_(this.service)}transform(n,r,i){if(!n)return n;let o=r?`${n}${JSON.stringify(r)}`:n;if(o===this.lastKey)return this.lastValue;this.lastKey=o,this.subscription?.unsubscribe();let s=g$(this.service,this.providerLang||i);return this.subscription=this.service.langChanges$.pipe(Br(a=>{let l=this.langResolver.resolve({inline:i,provider:this.providerLang,active:a});return Array.isArray(this.providerScope)?lu(this.providerScope.map(c=>this.resolveScope(l,c))):this.resolveScope(l,this.providerScope)}),v$(s)).subscribe(()=>this.updateValue(n,r)),this.lastValue}ngOnDestroy(){this.subscription?.unsubscribe(),this.subscription=null}updateValue(n,r){let i=this.langResolver.resolveLangBasedOnScope(this.path);this.lastValue=this.service.translate(n,r,i),this.cdr.markForCheck()}resolveScope(n,r){let i=this.scopeResolver.resolve({inline:void 0,provider:r});this.path=this.langResolver.resolveLangPath(n,i);let o=kD(r,i);return this.service._loadDependencies(this.path,o)}static \u0275fac=function(r){return new(r||t)(ne(ar,16),ne(_$,24),ne(C$,24),ne(qr,16))};static \u0275pipe=hw({name:"transloco",type:t,pure:!1})}return t})();function ND(t){let e=[E$(y_),I$(p$),D$(h$),T$(m$)];return t.config&&e.push(x$(t.config)),t.loader&&e.push(S$(t.loader)),e}function x$(t){return ji([{provide:qu,useValue:f$(t)}])}function S$(t){return ji([{provide:SD,useClass:t}])}function E$(t){return ji([{provide:a0,useClass:t,deps:[qu]}])}function T$(t){return ji([{provide:MD,useClass:t,deps:[qu]}])}function I$(t){return ji([{provide:DD,useClass:t}])}function D$(t){return ji([{provide:AD,useClass:t}])}var jwe=new ct("TRANSLOCO_TEST_LANGS - Available testing languages"),Uwe=new ct("TRANSLOCO_TEST_OPTIONS - Testing options");var A$=["container"],M$=t=>({"opacity-100":t});function k$(t,e){if(t&1&&Y(0,"app-jackpot-spinner",8),t&2){let n=Q();O("gameNumber",n.gameNumber)("containerWidth",n.containerWidth)("playersVM",n.playersVM)("winner",n.winnerVM)}}function P$(t,e){if(t&1&&Y(0,"app-jackpot-player",11),t&2){let n=e.$implicit;O("playerVM",n)}}function N$(t,e){if(t&1&&(S(0,"div",9),oe(1,P$,1,1,"app-jackpot-player",10),A()),t&2){let n=Q();E(),O("ngForOf",n.filteredPlayers)}}function R$(t,e){t&1&&(S(0,"div",14),K(1),de(2,"transloco"),Y(3,"br"),K(4),de(5,"transloco"),A()),t&2&&(E(),Te(" ",he(2,2,"NO_PLAYERS_HINT_1"),""),E(3),Te("",he(5,4,"NO_PLAYERS_HINT_2")," "))}function F$(t,e){if(t&1&&(S(0,"div",12),oe(1,R$,6,6,"div",13),A()),t&2){let n=Q();E(),O("ngIf",n.isLoaded)}}function O$(t,e){t&1&&ni(0)}function L$(t,e){if(t&1&&(nt(0),oe(1,O$,1,0,"ng-container",15),rt()),t&2){Q();let n=xt(6);E(),O("ngTemplateOutlet",n)}}function V$(t,e){if(t&1&&(nt(0),S(1,"p",16)(2,"span",17),K(3),de(4,"transloco"),A(),K(5),A(),S(6,"p",18),K(7),de(8,"transloco"),A(),rt()),t&2){let n,r=Q();E(3),Te("",he(4,4,"CHANCE")," - "),E(2),Te(" ",(((r.winnerVM==null?null:r.winnerVM.chance)||0)*100).toFixed(2)+"%"," "),E(2),ba(" ",he(8,6,"TICKET")," #",(n=r.winnerVM==null?null:r.winnerVM.ticket)!==null&&n!==void 0?n:"-"," ")}}var Ku=class t{constructor(e){this.cdr=e}gameNumber=0;playersVM=[];winnerVM;isLoaded=!1;containerRef;containerWidth=0;gameResult="none";get filteredPlayers(){return this.playersVM}ngAfterViewInit(){this.updateContainerWidth(),window.addEventListener("resize",()=>this.updateContainerWidth())}ngOnChanges(e){e.winnerVM&&this.winnerVM?(this.gameResult="none",this.winnerVM.transitionDuration>0?setTimeout(()=>{this.gameResult="winner"},this.winnerVM.transitionDuration+$t.winnerShowDelay):this.gameResult="winner"):this.gameResult="none"}updateContainerWidth(){this.containerRef?.nativeElement&&(this.containerWidth=this.containerRef.nativeElement.clientWidth,this.cdr.detectChanges())}GameResult=c_;static \u0275fac=function(n){return new(n||t)(ne(qr))};static \u0275cmp=xe({type:t,selectors:[["app-jackpot-players"]],viewQuery:function(n,r){if(n&1&&Fn(A$,5),n&2){let i;Pn(i=Nn())&&(r.containerRef=i.first)}},inputs:{gameNumber:"gameNumber",playersVM:"playersVM",winnerVM:"winnerVM",isLoaded:"isLoaded"},features:[zn],decls:10,vars:7,consts:[["container",""],["emptyState",""],[1,"overflow-hidden"],[1,"relative","flex","flex-row","bg-white/8","gap-2","h-32","w-full","scrollbar-hide","rounded-2xl","safari-fix"],[3,"gameNumber","containerWidth","playersVM","winner",4,"ngIf"],["class","m-2 flex gap-2 overflow-auto scrollbar-hide",4,"ngIf"],[4,"ngIf"],[1,"flex","justify-between","h-4","px-10","text-base","mt-3","mb-5","opacity-0","transition-opacity","duration-500","safari-fix",3,"ngClass"],[3,"gameNumber","containerWidth","playersVM","winner"],[1,"m-2","flex","gap-2","overflow-auto","scrollbar-hide"],[3,"playerVM",4,"ngFor","ngForOf"],[3,"playerVM"],[1,"flex","justify-center","items-center","w-full","h-full","safari-fix"],["class","text-white/40 font-semibold text-center",4,"ngIf"],[1,"text-white/40","font-semibold","text-center"],[4,"ngTemplateOutlet"],[1,"text-[#b174ff]","pr-5","safari-fix"],[1,"opacity-50"],[1,"text-white/80","safari-fix"]],template:function(n,r){n&1&&(S(0,"div",2)(1,"div",3,0),oe(3,k$,1,4,"app-jackpot-spinner",4)(4,N$,2,1,"div",5)(5,F$,2,1,"ng-template",null,1,Qt)(7,L$,2,1,"ng-container",6),A(),S(8,"div",7),oe(9,V$,9,8,"ng-container",6),A()()),n&2&&(E(3),O("ngIf",r.filteredPlayers.length>0&&r.winnerVM),E(),O("ngIf",r.filteredPlayers.length>0&&!r.winnerVM),E(3),O("ngIf",r.filteredPlayers.length===0),E(),O("ngClass",ui(5,M$,r.gameResult!==r.GameResult.None)),E(),O("ngIf",r.gameResult===r.GameResult.Winner))},dependencies:[o0,Qe,Mn,bt,ut,ks,s0,dt],encapsulation:2})};var Vo=(n=>(n.VIRTUAL="VIRTUAL",n.UNIQUE="UNIQUE",n))(Vo||{});var $$=["container"],RD=new ct("LottieOptions");function B$(){let t=He(kr),{player:e,useWebWorker:n}=He(RD),r=t.runOutsideAngular(()=>e());return(ya(r)?ur(r).pipe(Ft(o=>o.default||o)):Lt(r)).pipe(xr(o=>o.useWebWorker?.(n)),uu({bufferSize:1,refCount:!0}))}var b_=(()=>{class t{constructor(){this.player$=B$().pipe(Yr(n=>j$(this.ngZone).pipe(Ft(()=>n)))),this.ngZone=He(kr)}loadAnimation(n){return this.player$.pipe(Ft(r=>this.createAnimationItem(r,n)))}resolveOptions(n,r){return Object.assign({container:r,renderer:"svg",loop:!0,autoplay:!0},n)}createAnimationItem(n,r){return this.ngZone.runOutsideAngular(()=>n.loadAnimation(r))}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=Ve({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function j$(t){return new en(e=>{let n=t.runOutsideAngular(()=>requestAnimationFrame(()=>{e.next(),e.complete()}));return()=>cancelAnimationFrame(n)})}var U$=(()=>{class t extends b_{constructor(){super(...arguments),this.cache=new Map}ngOnDestroy(){this.cache.clear()}loadAnimation(n){return this.player$.pipe(Ft(r=>{let i=this.createAnimationItem(r,this.transformOptions(n));return this.awaitConfigAndCache(n,i),i}))}awaitConfigAndCache(n,r){if(this.isAnimationConfigWithPath(n)){if(this.cache.has(n.path))return;r.addEventListener("config_ready",()=>{this.cache.set(n.path,JSON.stringify(r.animationData))})}}transformOptions(n){return this.isAnimationConfigWithPath(n)&&this.cache.has(n.path)?kt(Ne({},n),{path:void 0,animationData:JSON.parse(this.cache.get(n.path))}):n}isAnimationConfigWithPath(n){return typeof n.path=="string"}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=Ds(t)))(i||t)}})()}static{this.\u0275prov=Ve({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function FD(){return[{provide:b_,useExisting:U$}]}function OD(t){return[{provide:RD,useValue:t}]}var G$=(()=>{class t{constructor(){this.options=il(null),this.containerClass=il(null),this.styles=il(null),this.animationCreated=this.getAnimationItem(),this.complete=this.awaitAnimationItemAndStartListening("complete"),this.loopComplete=this.awaitAnimationItemAndStartListening("loopComplete"),this.enterFrame=this.awaitAnimationItemAndStartListening("enterFrame"),this.segmentStart=this.awaitAnimationItemAndStartListening("segmentStart"),this.configReady=this.awaitAnimationItemAndStartListening("config_ready"),this.dataReady=this.awaitAnimationItemAndStartListening("data_ready"),this.domLoaded=this.awaitAnimationItemAndStartListening("DOMLoaded"),this.destroy=this.awaitAnimationItemAndStartListening("destroy"),this.error=this.awaitAnimationItemAndStartListening("error"),this.ngZone=He(kr),this.isBrowser=uT(He(ga)),this.animationLoader=He(b_),this.loadAnimation$=new Wn,this.animationItem$=new Vr(null),this.setupLoadAnimationListener()}ngOnDestroy(){this.destroyAnimation(),this.loadAnimation$.complete(),this.animationItem$.complete()}loadAnimation(n,r){this.ngZone.runOutsideAngular(()=>this.loadAnimation$.next([n,r]))}getAnimationItem(){return au(()=>this.animationItem$).pipe($r(n=>n!==null))}awaitAnimationItemAndStartListening(n){return this.getAnimationItem().pipe(Br(r=>new en(i=>{this.ngZone.runOutsideAngular(()=>{r.addEventListener(n,o=>{this.ngZone.runOutsideAngular(()=>{i.next(o)})})})})))}setupLoadAnimationListener(){this.loadAnimation$.pipe($r(([r])=>this.isBrowser&&r.options!==void 0)).pipe(Br(([r,i])=>(this.destroyAnimation(),this.animationLoader.loadAnimation(this.animationLoader.resolveOptions(r.options.currentValue,i))))).subscribe(r=>{this.ngZone.run(()=>this.animationItem$.next(r))})}destroyAnimation(){let n=this.animationItem$.getValue();n!==null&&(n.destroy(),this.animationItem$.next(null))}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275dir=fr({type:t,selectors:[["","lottie",""]],inputs:{options:[1,"options"],containerClass:[1,"containerClass"],styles:[1,"styles"]},outputs:{animationCreated:"animationCreated",complete:"complete",loopComplete:"loopComplete",enterFrame:"enterFrame",segmentStart:"segmentStart",configReady:"configReady",dataReady:"dataReady",domLoaded:"domLoaded",destroy:"destroy",error:"error"}})}}return t})();var l0=(()=>{class t extends G${constructor(){super(...arguments),this.width=il(null),this.height=il(null),this.container=null}ngOnChanges(n){super.loadAnimation(n,this.container.nativeElement)}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=Ds(t)))(i||t)}})()}static{this.\u0275cmp=xe({type:t,selectors:[["ng-lottie"]],viewQuery:function(r,i){if(r&1&&Fn($$,7),r&2){let o;Pn(o=Nn())&&(i.container=o.first)}},inputs:{width:[1,"width"],height:[1,"height"]},features:[go,zn],decls:2,vars:6,consts:[["container",""],[3,"ngStyle","ngClass"]],template:function(r,i){r&1&&Y(0,"div",1,0),r&2&&(Wr("width",i.width()||"100%")("height",i.height()||"100%"),O("ngStyle",i.styles())("ngClass",i.containerClass()))},dependencies:[yr,Mn],encapsulation:2,changeDetection:0})}}return t})();var hs=class{static mapModelName(e){switch(e){case"Teddy Bear":return"bear";case"Rose":return"rose";case"Rocket":return"rocket";case"Diamond":return"diamond";default:return"diamond"}}static mapColors(e){switch(e){case"Teddy Bear":return{centerColor:"#a46e58",edgeColor:"#74443b",patternColor:"#3e0a02"};case"Rose":return{centerColor:"#b77a77",edgeColor:"#814c52",patternColor:"#551c22"};case"Rocket":return{centerColor:"#5c6985",edgeColor:"#354057",patternColor:"#030a18"};case"Diamond":return{centerColor:"#6088cf",edgeColor:"#5162b8",patternColor:"#13247c"};default:return{centerColor:"#363738",edgeColor:"#0e0f0f",patternColor:"#6c6868"}}}static mapPatternUrl(e){switch(e){case"Teddy Bear":return"https://cdn.changes.tg/gifts/patterns/Eternal%20Rose/lottie/Cute%20Bear.json";case"Rose":return"https://cdn.changes.tg/gifts/patterns/Eternal%20Rose/lottie/Lovely%20Rose.json";case"Rocket":return"https://cdn.changes.tg/gifts/patterns/Eternal%20Rose/lottie/Rocket.json";case"Diamond":return"https://cdn.changes.tg/gifts/patterns/Eternal%20Rose/lottie/Diamond.json";default:return"https://cdn.changes.tg/gifts/patterns/Eternal%20Rose/lottie/Lovely%20Rose.json"}}};var c0=class t{backdropCache=new Map;fetchBackdropColors(e,n){return Wt(this,null,function*(){let r=`https://cdn.changes.tg/gifts/backdrops/${e}/backdrops.json`,i={centerColor:"#363738",edgeColor:"#0e0f0f",patternColor:"#6c6868"};if(this.backdropCache.has(r)){let s=this.backdropCache.get(r).find(a=>a.name===n);return s?s.hex:i}try{let o=yield fetch(r);if(!o.ok)return console.error("Error fetching backdrop colors"),i;let s=yield o.json(),a=s.find(l=>l.name===n);return this.backdropCache.set(r,s),a?a.hex:i}catch(o){return console.error("Error fetching backdrop colors:",o),i}})}fetchLottie(e){return Wt(this,null,function*(){try{let n=yield fetch(e);return n.ok||console.error("Error fetching pattern"),yield n.json()}catch(n){console.error("Error fetching pattern:",n)}})}static \u0275fac=function(n){return new(n||t)};static \u0275prov=Ve({token:t,factory:t.\u0275fac,providedIn:"root"})};var W$=t=>({background:t}),z$=t=>({"aspect-[6/5]":t}),q$=t=>({transform:t}),K$=t=>({width:t});function Y$(t,e){if(t&1){let n=Be();S(0,"div",5)(1,"ng-lottie",6),re("animationCreated",function(i){ue(n);let o=Q();return fe(o.onAnimationCreated(i))}),A()()}if(t&2){let n=e.$implicit,r=Q();Wr("top",n.top,"%")("left",n.left,"%")("opacity",n.opacity)("width",n.size,"%")("height",n.size,"%"),E(),O("options",r.patternOptions)}}var $o=class t{constructor(e,n){this.cdr=e;this.giftService=n;this.totalAnimations=this.patterns.length}gift;autoplay=!1;loop=!1;translateY=0;giftSize=63;isDetails=!1;patternsOpacity=0;giftOptions;patternOptions;colors={centerColor:"#363738",edgeColor:"#0e0f0f",patternColor:"#6c6868"};patternJsonData=null;patterns=[{top:3,left:21.5,size:8,opacity:.1},{top:3,left:70.5,size:8,opacity:.1},{top:36,left:-4.5,size:8,opacity:.1},{top:36,left:96.5,size:8,opacity:.1},{top:91,left:46,size:8,opacity:.1},{top:5,left:46,size:8,opacity:.15},{top:19.5,left:5.3,size:8,opacity:.15},{top:19.5,left:86.8,size:8,opacity:.15},{top:61,left:2.3,size:8,opacity:.15},{top:61,left:89.6,size:8,opacity:.15},{top:82.2,left:8.8,size:8,opacity:.15},{top:82.2,left:30.8,size:8,opacity:.15},{top:82.2,left:61.2,size:8,opacity:.15},{top:82.2,left:83,size:8,opacity:.15},{top:14.5,left:29,size:10,opacity:.24},{top:14.5,left:60.5,size:10,opacity:.24},{top:28,left:18.2,size:8,opacity:.24},{top:28,left:73.8,size:8,opacity:.24},{top:43,left:11,size:11,opacity:.24},{top:43,left:77.8,size:11,opacity:.24},{top:68,left:19.5,size:9,opacity:.24},{top:68,left:71,size:9,opacity:.24},{top:72.5,left:45.5,size:9,opacity:.24}];isInitialized=!1;ngOnInit(){return Wt(this,null,function*(){this.gift&&(yield this.generateGiftConfig(),this.isInitialized=!0)})}ngOnChanges(e){return Wt(this,null,function*(){if(this.isInitialized&&(e.gift&&this.gift&&(this.changedPatternsCount=0,this.loadedAnimations=0,yield this.generateGiftConfig()),e.autoplay&&this.autoplay))switch(this.gift.type){case"UNIQUE":this.updateUniqueGift();break;case"VIRTUAL":this.updateVirtualGift();break}})}generateGiftConfig(){return Wt(this,null,function*(){switch(this.gift.type){case"UNIQUE":yield this.generateUniqueGiftConfig();break;case"VIRTUAL":yield this.generateVirtualGiftConfig();break}})}generateUniqueGiftConfig(){return Wt(this,null,function*(){let e=encodeURIComponent(this.gift.title),n=encodeURIComponent(this.gift.modelName.replace(//g,"'")),r=encodeURIComponent(this.gift.symbolName);this.colors=yield this.giftService.fetchBackdropColors(e,this.gift.backgroundName),this.giftOptions={path:`https://cdn.changes.tg/gifts/models/${e}/lottie/${n}.json`,renderer:"svg",autoplay:this.autoplay,loop:this.loop};let i=`https://cdn.changes.tg/gifts/patterns/${e}/lottie/${r}.json`;this.patternJsonData=yield this.giftService.fetchLottie(i),this.patternOptions={animationData:this.patternJsonData,renderer:"svg",loop:!0,autoplay:!0},this.cdr.markForCheck()})}generateVirtualGiftConfig(){return Wt(this,null,function*(){let e=hs.mapModelName(this.gift.title);this.giftOptions={path:`/gifts/${e}.json`,renderer:"svg",autoplay:this.autoplay,loop:this.loop},this.colors=hs.mapColors(this.gift.title);let n=hs.mapPatternUrl(this.gift.title);this.patternJsonData=yield this.giftService.fetchLottie(n),this.patternOptions={animationData:this.patternJsonData,renderer:"svg",loop:!0,autoplay:!0},this.cdr.markForCheck()})}updateUniqueGift(){let e=encodeURIComponent(this.gift.title),n=encodeURIComponent(this.gift.modelName.replace(//g,"'"));this.giftOptions={path:`https://cdn.changes.tg/gifts/models/${e}/lottie/${n}.json`,renderer:"svg",autoplay:this.autoplay,loop:this.loop},this.cdr.markForCheck()}updateVirtualGift(){let e=hs.mapModelName(this.gift.title);this.giftOptions={path:`/gifts/${e}.json`,renderer:"svg",autoplay:this.autoplay,loop:this.loop},this.cdr.markForCheck()}totalAnimations;loadedAnimations=0;onAnimationCreated(e){this.loadedAnimations+=1,this.loadedAnimations==this.totalAnimations&&(this.patternsOpacity=1,this.cdr.markForCheck()),e.addEventListener("DOMLoaded",()=>{this.changeSvgColor(e,this.colors.patternColor)})}changedPatternsCount=0;changeSvgColor(e,n){e.renderer.svgElement.querySelectorAll("path").forEach(o=>{o.setAttribute("fill",n),o.setAttribute("stroke",n)})}static \u0275fac=function(n){return new(n||t)(ne(qr),ne(c0))};static \u0275cmp=xe({type:t,selectors:[["app-animated-gift"]],inputs:{gift:"gift",autoplay:"autoplay",loop:"loop",translateY:"translateY",giftSize:"giftSize",isDetails:"isDetails"},features:[zn],decls:5,vars:16,consts:[[1,"bg-white/8","flex","justify-center","w-full","h-full",3,"ngStyle"],[1,"relative","flex","justify-center",3,"ngClass","ngStyle"],[1,"transition-opacity","duration-400"],["class","absolute",3,"top","left","opacity","width","height",4,"ngFor","ngForOf"],[3,"options","ngStyle"],[1,"absolute"],[3,"animationCreated","options"]],template:function(n,r){n&1&&(S(0,"div",0)(1,"div",1)(2,"div",2),oe(3,Y$,2,11,"div",3),A(),Y(4,"ng-lottie",4),A()()),n&2&&(O("ngStyle",ui(8,W$,"radial-gradient(circle, "+r.colors.centerColor+", "+r.colors.edgeColor+")")),E(),O("ngClass",ui(10,z$,r.isDetails))("ngStyle",ui(12,q$,"translateY("+r.translateY+"%)")),E(),Wr("opacity",r.patternsOpacity),E(),O("ngForOf",r.patterns),E(),O("options",r.giftOptions)("ngStyle",ui(14,K$,r.giftSize+"%")))},dependencies:[l0,Qe,Mn,bt,yr],encapsulation:2,changeDetection:0})};var Yu=["Astral Shard","B-Day Candle","Berry Box","Bunny Muffin","Cookie Heart","Crystal Ball","Desk Calendar","Diamond Ring","Durov's Cap","Eternal Candle","Eternal Rose","Evil Eye","Flying Broom","Genie Lamp","Ginger Cookie","Hanging Star","Hex Pot","Homemade Cake","Hypno Lollipop","Ion Gem","Jelly Bunny","Jester Hat","Jingle Bells","Kissed Frog","Lol Pop","Loot Bag","Love Candle","Love Potion","Lunar Snake","Mad Pumpkin","Magic Potion","Mini Oscar","Party Sparkler","Perfume Bottle","Plush Pepe","Precious Peach","Record Player","Sakura Flower","Santa Hat","Scared Cat","Sharp Tongue","Signet Ring","Skull Flower","Sleigh Bell","Snow Mittens","Spiced Wine","Spy Agaric","Star Notepad","Swiss Watch","Top Hat","Toy Bear","Trapped Heart","Vintage Cigar","Voodoo Doll","Witch Hat","Candy Cane","Electric Skull","Neko Helmet","Snow Globe","Tama Gadget","Winter Wreath","Jack-in-the-Box","Easter Egg","Bonded Ring","Pet Snake","Snake Box","Xmas Stocking","Big Year","Holiday Drink","Light Sword","Gem Signet","Nail Bracelet","Restless Jar","Bow Tie","Heroic Helmet"];function J$(t,e){if(t&1&&(nt(0),Y(1,"img",11),rt()),t&2){let n=Q(2);E(),O("src",n.uniqueGiftUrl,Gn)}}function Q$(t,e){if(t&1&&(nt(0),oe(1,J$,2,1,"ng-container",10),rt()),t&2){let n=Q(),r=xt(7);E(),O("ngIf",n.fragmentSupportedGifts.includes(n.gift.title)&&!n.autoplay)("ngIfElse",r)}}function Z$(t,e){if(t&1&&(nt(0),Y(1,"img",11),rt()),t&2){let n=Q();E(),O("src",n.virtualGiftUrl,Gn)}}function X$(t,e){t&1&&(nt(0),S(1,"div"),K(2,"Unknown"),A(),rt())}function eB(t,e){if(t&1&&Y(0,"app-animated-gift",12),t&2){let n=Q();O("gift",n.gift)("autoplay",n.autoplay)("loop",n.loop)}}function tB(t,e){t&1&&Y(0,"div",13)}function nB(t,e){t&1&&(S(0,"div",14),qn(),S(1,"svg",15),Y(2,"circle",16)(3,"path",17),A()())}function rB(t,e){if(t&1&&(S(0,"div",18)(1,"p",19),K(2),A()()),t&2){let n=Q();O("ngClass",n.giftNumberPadding),E(),O("ngClass",n.giftNumberFontSize),E(),Te(" ","#"+n.gift.number," ")}}var ii=class t{constructor(e){this.transloco=e}gift;type="default";price;canTransferSince;autoplay=!1;loop=!1;isSelected=!1;onTap=new yt;formatStringValue=ps;fragmentSupportedGifts=Yu;get uniqueGiftUrl(){let e=this.gift.title.replace(" ","").replace(/'/g,"").replace(/-/g,"").toLowerCase(),n=this.gift.number;return`https://nft.fragment.com/gift/${e}-${n}.medium.jpg`}get virtualGiftUrl(){return`gifts/${hs.mapModelName(this.gift.title)}.jpg`}getGiftPrice(){if(this.canTransferSince&&pl(new Date,this.canTransferSince)){let e=this.transloco.getActiveLang();return bD(new Date,this.canTransferSince,e)}return parseFloat(this.gift.priceInfo.price)===0?"\u041D\u0435 \u043F\u043E\u0434\u0434\u0435\u0440\u0436.":`${ps(this.price??this.gift.priceInfo.price)} TON`}get giftNumberFontSize(){switch(this.type){case"small":return"text-[9px]";case"compact":return"text-[clamp(0.3rem,2.1vw,0.9rem)]";case"default":return"text-[clamp(0.7rem,2.2vw,0.875rem)]"}}get giftNumberPadding(){switch(this.type){case"small":case"compact":return"pb-0.5";case"default":return"pb-1"}}get giftPriceFontSize(){switch(this.type){case"small":return"text-[10px]";case"compact":return"text-[clamp(0.3rem,2.3vw,0.9rem)]";case"default":return"text-[clamp(0.7rem,2.4vw,0.875rem)]"}}GiftType=Vo;static \u0275fac=function(n){return new(n||t)(ne(ar))};static \u0275cmp=xe({type:t,selectors:[["app-gift"]],inputs:{gift:"gift",type:"type",price:"price",canTransferSince:"canTransferSince",autoplay:"autoplay",loop:"loop",isSelected:"isSelected"},outputs:{onTap:"onTap"},decls:13,vars:16,consts:[["generatedGift",""],[1,"relative","flex","flex-col","items-center","outline-offset-2","w-full","bg-[#1F1F1F]","rounded-2xl",3,"click"],[1,"relative","bg-[#1A1A1A]","rounded-2xl","w-full","aspect-square","overflow-hidden"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],["class","absolute inset-0 bg-black/20",4,"ngIf"],["class","absolute inset-0 flex items-center justify-center",4,"ngIf"],["class","absolute bottom-0 left-0 right-0 text-center w-full",3,"ngClass",4,"ngIf"],[1,"py-1","text-center","font-medium",3,"ngClass"],[4,"ngIf","ngIfElse"],["alt","",1,"w-full","h-full","object-cover","no-interaction",3,"src"],[3,"gift","autoplay","loop"],[1,"absolute","inset-0","bg-black/20"],[1,"absolute","inset-0","flex","items-center","justify-center"],["width","46","height","46","viewBox","0 0 46 46","fill","none","xmlns","http://www.w3.org/2000/svg",1,"w-[35%]","max-w-[46px]","h-auto"],["cx","23","cy","23","r","23","fill","black","fill-opacity","0.7"],["d","M17 23.3041L20.5969 26.901C20.9875 27.2915 21.6206 27.2915 22.0112 26.901L29.9122 19","stroke","white","stroke-width","3","stroke-linecap","round"],[1,"absolute","bottom-0","left-0","right-0","text-center","w-full",3,"ngClass"],[1,"font-medium","bg-[#141414]/70","inline-block","rounded-2xl","px-1.5","py-0.5",3,"ngClass"]],template:function(n,r){if(n&1){let i=Be();S(0,"div",1),re("click",function(){return ue(i),fe(r.onTap.emit())}),S(1,"div",2),nt(2,3),oe(3,Q$,2,2,"ng-container",4)(4,Z$,2,1,"ng-container",4)(5,X$,3,0,"ng-container",5),rt(),oe(6,eB,1,3,"ng-template",null,0,Qt)(8,tB,1,0,"div",6)(9,nB,4,0,"div",7)(10,rB,3,3,"div",8),A(),S(11,"div",9),K(12),A()()}n&2&&(vr("outline",r.isSelected)("outline-white",r.isSelected)("outline-1",r.isSelected)("cursor-pointer",r.type!=="small"),E(2),O("ngSwitch",r.gift.type),E(),O("ngSwitchCase",r.GiftType.UNIQUE),E(),O("ngSwitchCase",r.GiftType.VIRTUAL),E(4),O("ngIf",r.isSelected),E(),O("ngIf",r.isSelected),E(),O("ngIf",r.gift.type==r.GiftType.UNIQUE),E(),O("ngClass",r.giftPriceFontSize),E(),Te(" ",r.getGiftPrice()," "))},dependencies:[Qe,Mn,ut,to,No,al,$o],encapsulation:2})};var iB=["scrollContainer"];function oB(t,e){if(t&1&&Y(0,"app-gift",19),t&2){let n=e.$implicit;O("gift",n)("type","small")}}var Ju=class t{constructor(e){this.transloco=e}betVM;scrollContainer;isDragging=!1;startX=0;scrollLeft=0;ngAfterViewInit(){setTimeout(()=>{this.initDragScroll()},40)}betName(){let e=this.betVM.user.tgUser.username;return e&&e.length>0?e:"id"+this.betVM.user.tgId}get betDate(){let e=this.transloco.getActiveLang();return yD(this.betVM.createdAt,e)}initDragScroll(){let e=this.scrollContainer.nativeElement;e.addEventListener("mousedown",n=>{this.isDragging=!0,e.classList.add("active"),this.startX=n.pageX-e.offsetLeft,this.scrollLeft=e.scrollLeft}),e.addEventListener("mouseleave",()=>{this.isDragging=!1,e.classList.remove("active")}),e.addEventListener("mouseup",()=>{this.isDragging=!1,e.classList.remove("active")}),e.addEventListener("mousemove",n=>{if(!this.isDragging)return;n.preventDefault();let i=(n.pageX-e.offsetLeft-this.startX)*2.5;e.scrollLeft=this.scrollLeft-i}),e.style.userSelect="none"}static \u0275fac=function(n){return new(n||t)(ne(ar))};static \u0275cmp=xe({type:t,selectors:[["app-bet-item"]],viewQuery:function(n,r){if(n&1&&Fn(iB,5),n&2){let i;Pn(i=Nn())&&(r.scrollContainer=i.first)}},inputs:{betVM:"betVM"},decls:26,vars:8,consts:[["scrollContainer",""],[1,"w-full","bg-white/8","p-3","mb-3","rounded-2xl","safari-fix"],[1,"flex","justify-between","mb-2"],[1,"flex","items-center","gap-3"],[1,"relative","bg-[#1A1A1A]","rounded-lg","w-11","aspect-square","overflow-hidden"],[1,"w-full","h-full","object-cover","no-interaction",3,"src","alt"],[1,"text-gray-300","font-medium"],[1,"flex","gap-1","items-center"],[1,"flex","items-center","gap-1.5"],[1,"font-semibold","text-[#4396E3]","text-sm"],["width","16","height","16","viewBox","0 0 24 24","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M12 24c6.627 0 12 -5.373 12 -12S18.627 0 12 0 0 5.373 0 12s5.373 12 12 12","fill","#0098EA"],["d","M16.097 6.699H7.903c-1.507 0 -2.463 1.625 -1.704 2.939l5.058 8.766a0.86 0.86 0 0 0 1.487 0l5.059 -8.766c0.757 -1.311 -0.198 -2.939 -1.704 -2.939zm-4.845 9.076 -1.101 -2.132 -2.658 -4.754a0.464 0.464 0 0 1 0.408 -0.693h3.351v7.581zm5.252 -6.885 -2.657 4.755 -1.101 2.131V8.196h3.351a0.464 0.464 0 0 1 0.408 0.693","fill","white"],[1,"text-xs","text-purple-400","py-1","px-2","font-semibold"],[1,"fa-solid","fa-bolt","mr-1"],[1,"flex","flex-col","items-end"],[1,"text-white/50","text-xs","font-semibold"],[1,"flex","flex-row","overflow-x-auto","gap-1.5","scrollbar-hide","scroll-smooth","cursor-default",3,"click"],["class","w-16 shrink-0",3,"gift","type",4,"ngFor","ngForOf"],[1,"w-16","shrink-0",3,"gift","type"]],template:function(n,r){if(n&1){let i=Be();S(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4),Y(4,"img",5),A(),S(5,"div")(6,"span",6),K(7),A(),S(8,"div",7)(9,"div",8)(10,"span",9),K(11),A(),qn(),S(12,"svg",10),Y(13,"path",11)(14,"path",12),A()(),ti(),S(15,"span",13),Y(16,"i",14),K(17),A()()()(),S(18,"div",15)(19,"span",16),K(20),A(),S(21,"span",16),K(22),A()()(),S(23,"div",17,0),re("click",function(s){return ue(i),fe(s.stopPropagation())}),oe(25,oB,1,2,"app-gift",18),A()()}n&2&&(E(4),O("src",r.betVM.user.tgUser.photoUrl,Gn)("alt","Avatar"),E(3),Te(" ",r.betName()," "),E(4),Ie(r.betVM.totalAmount.toFixed(2)),E(6),Te("",(r.betVM.chance*100).toFixed(2)+"%"," "),E(3),Te(" ","#"+r.betVM.tickets[0].toFixed(0)+" - "+r.betVM.tickets[1].toFixed(0)," "),E(2),Te(" ",r.betDate," "),E(3),O("ngForOf",r.betVM.gifts))},dependencies:[Qe,bt,ii],encapsulation:2})};function sB(t,e){if(t&1&&Y(0,"app-bet-item",2),t&2){let n=e.$implicit;O("betVM",n)}}var u0=class t{betsVM=[];static \u0275fac=function(n){return new(n||t)};static \u0275cmp=xe({type:t,selectors:[["app-bet-list"]],inputs:{betsVM:"betsVM"},decls:2,vars:1,consts:[[1,"my-6"],[3,"betVM",4,"ngFor","ngForOf"],[3,"betVM"]],template:function(n,r){n&1&&(S(0,"div",0),oe(1,sB,1,1,"app-bet-item",1),A()),n&2&&(E(),O("ngForOf",r.betsVM))},dependencies:[Qe,bt,Ju],encapsulation:2})};var f0={number:0,totalAmount:0,giftsCount:0,hash:""};var Qu=class{handlers={};hasRefreshed=new Set;shouldDetach(e){return e.data?.reuse===!0}store(e,n){let r=this.getPath(e);n&&(this.handlers[r]=n,this.hasRefreshed.delete(r))}shouldAttach(e){if(!(e.data?.reuse===!0))return!1;let r=this.getPath(e);return!!this.handlers[r]}retrieve(e){let n=this.getPath(e),r=this.handlers[n];if(r&&!this.hasRefreshed.has(n)){let i=r.componentRef?.instance;i&&typeof i.refresh=="function"&&(i.refresh(),this.hasRefreshed.add(n))}return r??null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}clearRouteCache(e){delete this.handlers[e]}getPath(e){return e.pathFromRoot.map(n=>n.url.map(r=>r.path).join("/")).filter(Boolean).join("/")}};var oi=class t{scrollPositions=new Map;saveScrollPosition(e){let n=document.querySelector(".mainscroll");n instanceof HTMLElement&&(this.scrollPositions.set(e,n.scrollTop),console.log(`Save position for ${e}:`,n.scrollTop))}restoreScrollPosition(e){let n=document.querySelector(".mainscroll");if(n instanceof HTMLElement&&this.scrollPositions.has(e)){let r=this.scrollPositions.get(e)||0;console.log(`Restore position for ${e}:`,r),setTimeout(()=>{n.scrollTop=r},0)}}resetScrollPosition(e){this.scrollPositions.set(e,0)}scrollToTop(){let e=document.querySelector(".mainscroll");e instanceof HTMLElement&&(console.log("Scroll to top"),e.scrollTop=0)}disableScroll(){let e=document.querySelector(".mainscroll");e&&(e.classList.remove("overflow-auto"),e.classList.add("overflow-hidden"))}enableScroll(){let e=document.querySelector(".mainscroll");e&&(e.classList.remove("overflow-hidden"),e.classList.add("overflow-auto"))}static \u0275fac=function(n){return new(n||t)};static \u0275prov=Ve({token:t,factory:t.\u0275fac,providedIn:"root"})};function aB(t,e){t&1&&(S(0,"div"),Y(1,"i",14),A())}function lB(t,e){t&1&&(S(0,"div"),Y(1,"i",15),A())}var d0=class t{constructor(e,n,r){this.router=e;this.scrollService=n;this.reuseStrategy=r}vm=f0;isSoundsEnabled=!0;ngOnInit(){let e=localStorage.getItem("isSoundsEnabled");e&&(this.isSoundsEnabled=e==="true")}navigateToHistory(){return Wt(this,null,function*(){this.reuseStrategy instanceof Qu&&this.reuseStrategy.clearRouteCache("jackpot/history"),this.scrollService.resetScrollPosition("history"),this.scrollService.scrollToTop(),Telegram.WebApp.HapticFeedback.impactOccurred("light"),yield this.router.navigate(["/jackpot/history"])})}onSoundTap(){this.isSoundsEnabled=!this.isSoundsEnabled,localStorage.setItem("isSoundsEnabled",String(this.isSoundsEnabled)),Telegram.WebApp.HapticFeedback.impactOccurred("light")}static \u0275fac=function(n){return new(n||t)(ne(Er),ne(oi),ne(Xd))};static \u0275cmp=xe({type:t,selectors:[["app-round-info"]],inputs:{vm:"vm"},decls:26,vars:10,consts:[[1,"flex","justify-between","items-center","safari-fix"],[1,"flex","gap-6","p-1"],[1,"flex","flex-col","items-start","rounded-2xl"],[1,"text-[#6D6D71]","text-sm","font-semibold","mb-0.5"],[1,"flex","items-center"],["width","24","height","24","viewBox","0 0 24 24","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M12 24c6.627 0 12 -5.373 12 -12S18.627 0 12 0 0 5.373 0 12s5.373 12 12 12","fill","#0098EA"],["d","M16.097 6.699H7.903c-1.507 0 -2.463 1.625 -1.704 2.939l5.058 8.766a0.86 0.86 0 0 0 1.487 0l5.059 -8.766c0.757 -1.311 -0.198 -2.939 -1.704 -2.939zm-4.845 9.076 -1.101 -2.132 -2.658 -4.754a0.464 0.464 0 0 1 0.408 -0.693h3.351v7.581zm5.252 -6.885 -2.657 4.755 -1.101 2.131V8.196h3.351a0.464 0.464 0 0 1 0.408 0.693","fill","white"],[1,"text-lg","font-semibold","ml-2"],[1,"fa-solid","fa-gift","fa-lg","text-white/60"],[1,"flex","gap-2"],[1,"bg-white/8","p-2","rounded-xl","font-semibold","cursor-pointer",3,"click"],[4,"ngIf"],[1,"fa-solid","fa-memo","w-6","h-6"],[1,"fa-solid","fa-volume","w-6","h-6"],[1,"fa-solid","fa-volume-xmark","w-6","h-6"]],template:function(n,r){n&1&&(S(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1",3),K(4),de(5,"transloco"),A(),S(6,"div",4),qn(),S(7,"svg",5),Y(8,"path",6)(9,"path",7),A(),ti(),S(10,"p",8),K(11),A()()(),S(12,"div",2)(13,"h1",3),K(14),de(15,"transloco"),A(),S(16,"div",4),Y(17,"i",9),S(18,"p",8),K(19),A()()()(),S(20,"div",10)(21,"div",11),re("click",function(){return r.onSoundTap()}),oe(22,aB,2,0,"div",12)(23,lB,2,0,"div",12),A(),S(24,"div",11),re("click",function(){return r.navigateToHistory()}),Y(25,"i",13),A()()()),n&2&&(E(4),Ie(he(5,6,"BANK")),E(7),Ie(r.vm.totalAmount.toFixed(2)),E(3),Ie(he(15,8,"GIFTS_COUNT")),E(5),Ie(r.vm.giftsCount),E(3),O("ngIf",r.isSoundsEnabled),E(),O("ngIf",!r.isSoundsEnabled))},dependencies:[dt,ut],encapsulation:2})};function cB(t,e){if(t&1&&(nt(0),K(1),de(2,"transloco"),rt()),t&2){let n=Q();E(),Te(" ",n.timeLeft.toFixed(2)+" "+he(2,1,"SEC")," ")}}function uB(t,e){t&1&&(nt(0),K(1),de(2,"transloco"),rt()),t&2&&(E(),Te(" ",he(2,1,"ROUND_STARTED")," "))}function fB(t,e){t&1&&(nt(0),K(1),de(2,"transloco"),rt()),t&2&&(E(),Te(" ",he(2,1,"ROUND_ENDED")," "))}var p0=class t{timeProgress=1;timeLeft=30;state="time";static \u0275fac=function(n){return new(n||t)};static \u0275cmp=xe({type:t,selectors:[["app-line-timer"]],inputs:{timeProgress:"timeProgress",timeLeft:"timeLeft",state:"state"},decls:7,vars:9,consts:[[1,"relative","w-full","h-13","bg-gray-700/50","rounded-2xl","my-3","overflow-hidden","safari-fix"],[1,"absolute","top-0","left-0","rounded-2xl","h-full","bg-gradient-to-r","from-blue-500","to-cyan-400"],[1,"relative","flex","justify-center","h-full","items-center","py-2.5"],[1,"font-bold","text-white"],[4,"ngIf"]],template:function(n,r){n&1&&(S(0,"div",0),Y(1,"div",1),S(2,"div",2)(3,"span",3),oe(4,cB,3,3,"ng-container",4)(5,uB,3,3,"ng-container",4)(6,fB,3,3,"ng-container",4),A()()()),n&2&&(E(),Wr("width",r.timeProgress*100,"%"),E(2),vr("text-2xl",r.state==="time")("text-xl",r.state!=="time"),E(),O("ngIf",r.state==="time"),E(),O("ngIf",r.state==="started"),E(),O("ngIf",r.state==="ended"))},dependencies:[Qe,ut,dt],encapsulation:2})};var dB=["*"];function pB(t,e){t&1&&(nt(0),Y(1,"div",3),rt())}function hB(t,e){t&1&&ss(0)}var gi=class t{isLoading=!1;isDisabled=!1;static \u0275fac=function(n){return new(n||t)};static \u0275cmp=xe({type:t,selectors:[["app-loading-button"]],inputs:{isLoading:"isLoading",isDisabled:"isDisabled"},ngContentSelectors:dB,decls:4,vars:3,consts:[["buttonText",""],[1,"py-3","text-sm","font-semibold","rounded-2xl","w-full","bg-white","text-black","disabled:opacity-60","cursor-pointer","active:opacity-75","transition-opacity","flex","justify-center","items-center",3,"disabled"],[4,"ngIf","ngIfElse"],[1,"w-5","h-5","border-3","border-black","border-t-transparent","rounded-full","animate-spin"]],template:function(n,r){if(n&1&&(Ms(),S(0,"button",1),oe(1,pB,2,0,"ng-container",2)(2,hB,1,0,"ng-template",null,0,Qt),A()),n&2){let i=xt(3);O("disabled",r.isLoading||r.isDisabled),E(),O("ngIf",r.isLoading)("ngIfElse",i)}},dependencies:[Qe,ut],styles:["@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.animate-spin[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_spin 1s linear infinite}"]})};var mB=t=>({count:t}),gB=t=>({amount:t});function vB(t,e){if(t&1&&(S(0,"p"),K(1),de(2,"transloco"),A()),t&2){let n=Q(2);E(),Te(" ",Ad(2,1,"WIN_PLUS_AMOUNT",ui(4,gB,n.balance.toFixed(2)))," ")}}function yB(t,e){if(t&1&&Y(0,"app-gift",14),t&2){let n=e.$implicit;O("gift",n)}}function bB(t,e){if(t&1){let n=Be();S(0,"div",1),Y(1,"div",2),S(2,"div",3)(3,"div",4)(4,"div",5),K(5),de(6,"transloco"),A(),S(7,"div",6)(8,"p",7),K(9),de(10,"transloco"),de(11,"transloco"),A(),oe(12,vB,3,6,"p",8),A(),S(13,"div",9)(14,"div",10),oe(15,yB,1,1,"app-gift",11),A(),S(16,"app-loading-button",12),re("click",function(){ue(n);let i=Q();return fe(i.close())}),K(17),de(18,"transloco"),A(),S(19,"p",13),K(20," @GiftJackpotBot "),A()()()()()}if(t&2){let n=Q();E(5),Te(" ",he(6,7,"WIN_CONGRATS")," "),E(4),yw(" ",he(10,9,"WIN_YOU_WON")," ",Ad(11,11,"GIFTS_PLURAL",ui(16,mB,n.gifts.length))," ","("+n.giftsTotalAmount()+" TON)"," "),E(3),O("ngIf",n.balance>.01),E(3),O("ngForOf",n.gifts),E(2),Te(" ",he(18,14,"WIN_ACCEPT")," ")}}var h0=class t{constructor(e){this.scrollService=e}isOpen=!1;gifts=[];balance=0;closeDialog=new yt;ngOnInit(){this.updateScrollState()}ngOnChanges(){this.updateScrollState()}ngOnDestroy(){this.scrollService.enableScroll()}updateScrollState(){this.isOpen?this.scrollService.disableScroll():this.scrollService.enableScroll()}close(){this.closeDialog.emit(),this.isOpen=!1}giftsTotalAmount(){let e=this.gifts.reduce((n,r)=>n+parseFloat(r.priceInfo.price),0);return Fs(e,!1)}static \u0275fac=function(n){return new(n||t)(ne(oi))};static \u0275cmp=xe({type:t,selectors:[["app-dialog"]],inputs:{isOpen:"isOpen",gifts:"gifts",balance:"balance"},outputs:{closeDialog:"closeDialog"},features:[zn],decls:1,vars:1,consts:[["class","relative z-25",4,"ngIf"],[1,"relative","z-25"],[1,"fixed","inset-0","bg-black","opacity-50","transition-opacity","duration-300"],[1,"fixed","inset-0","z-10","w-screen","overflow-y-auto","flex","items-center","justify-center","text-center"],[1,"bg-[#141414]","relative","z-20","pb-3","rounded-3xl","shadow-lg","w-[90vw]"],[1,"p-4","bg-gradient-to-b","from-[#69D4A7]","via-[#7AE5C1]","to-[#93FBE1]","text-[#479887]","w-full","text-2xl","font-semibold","rounded-t-3xl"],[1,"px-1"],[1,"font-semibold","text-lg","mt-2"],[4,"ngIf"],[1,"p-4"],[1,"grid","grid-cols-4","gap-2","max-h-[40vh]","overflow-auto","scrollbar-hide","mb-7"],[3,"gift",4,"ngFor","ngForOf"],[3,"click"],[1,"text-white/50","text-sm","mt-4"],[3,"gift"]],template:function(n,r){n&1&&oe(0,bB,21,18,"div",0),n&2&&O("ngIf",r.isOpen)},dependencies:[Qe,bt,ut,gi,ii,dt],encapsulation:2})};var or=class t{notificationSubject=new Wn;notification$=this.notificationSubject.asObservable();currentNotification=null;show(e){this.currentNotification?(this.notificationSubject.next(null),setTimeout(()=>{this.currentNotification=e,this.notificationSubject.next(e)},10)):(this.currentNotification=e,this.notificationSubject.next(e))}success(e,n=1500){this.show({type:"success",message:e,duration:n})}error(e,n=1500){this.show({type:"error",message:e,duration:n})}warning(e,n=1500){this.show({type:"warning",message:e,duration:n})}info(e,n=1500){this.show({type:"info",message:e,duration:n})}clear(){this.notificationSubject.next(null)}static \u0275fac=function(n){return new(n||t)};static \u0275prov=Ve({token:t,factory:t.\u0275fac,providedIn:"root"})};var m0=class t{constructor(e){this.alertService=e}gameId=1;hash="";copyHash(){navigator.clipboard.writeText(this.hash).then(()=>{console.log("\u0422\u0435\u043A\u0441\u0442 \u0441\u043A\u043E\u043F\u0438\u0440\u043E\u0432\u0430\u043D!")}).catch(e=>{console.error("\u041E\u0448\u0438\u0431\u043A\u0430 \u043F\u0440\u0438 \u043A\u043E\u043F\u0438\u0440\u043E\u0432\u0430\u043D\u0438\u0438:",e)}),this.alertService.success("ALERT_HASH_COPIED")}shortHash=i0;static \u0275fac=function(n){return new(n||t)(ne(or))};static \u0275cmp=xe({type:t,selectors:[["app-game-fairness"]],inputs:{gameId:"gameId",hash:"hash"},decls:10,vars:4,consts:[[1,"w-full","bg-[#9BC3B4]/20","p-3","flex","justify-between","items-center","rounded-2xl","safari-fix"],[1,"flex","gap-x-2","text-sm","font-semibold","text-[#00FF95]/80"],[1,"fa-solid","fa-shield-check","fa-lg"],[1,"flex","gap-x-2","text-sm","text-[#00FF95]/60","cursor-pointer",3,"click"],[1,""],[1,"fa-solid","fa-copy","fa-lg"]],template:function(n,r){n&1&&(S(0,"div",0)(1,"div",1),Y(2,"i",2),S(3,"span"),K(4),de(5,"transloco"),A()(),S(6,"div",3),re("click",function(){return r.copyHash()}),S(7,"span",4),K(8),A(),Y(9,"i",5),A()()),n&2&&(E(4),Ie(he(5,2,"ROUND")+" #"+r.gameId),E(4),Ie(r.shortHash(r.hash)))},dependencies:[dt],encapsulation:2})};var LD=["*"],wB=[[["accordion-title"]],[["accordion-content"]]],CB=["accordion-title","accordion-content"],Zu=class t{static \u0275fac=function(n){return new(n||t)};static \u0275cmp=xe({type:t,selectors:[["accordion-title"]],ngContentSelectors:LD,decls:1,vars:0,template:function(n,r){n&1&&(Ms(),ss(0))},encapsulation:2})},Xu=class t{static \u0275fac=function(n){return new(n||t)};static \u0275cmp=xe({type:t,selectors:[["accordion-content"]],ngContentSelectors:LD,decls:1,vars:0,template:function(n,r){n&1&&(Ms(),ss(0))},encapsulation:2})},ef=class t{isOpen=!0;static \u0275fac=function(n){return new(n||t)};static \u0275cmp=xe({type:t,selectors:[["app-accordion"]],inputs:{isOpen:"isOpen"},ngContentSelectors:CB,decls:4,vars:2,consts:[[1,"bg-white/8","p-3","rounded-2xl","safari-fix"],[1,"overflow-hidden","transition-all","duration-400","ease-in-out","safari-fix"]],template:function(n,r){n&1&&(Ms(wB),S(0,"div",0),ss(1),S(2,"div",1),ss(3,1),A()()),n&2&&(E(2),Wr("max-height",r.isOpen?"500px":"0"))},encapsulation:2})};function _B(t,e){t&1&&Y(0,"img",10)}var tf=class t{constructor(e){this.router=e}withImage=!0;navigateToMarket(){return Wt(this,null,function*(){yield this.router.navigate(["/market"])})}static \u0275fac=function(n){return new(n||t)(ne(Er))};static \u0275cmp=xe({type:t,selectors:[["app-empty-gifts-card"]],inputs:{withImage:"withImage"},decls:22,vars:16,consts:[[1,"flex","flex-col","mb-3","py-4","items-center","rounded-2xl","border-2","border-dashed","border-neutral-900","safari-fix"],["class","w-[80%] no-interaction","src","/gifts-example.png","alt","Caps Group",4,"ngIf"],[1,"flex","flex-col","my-2"],[1,"text-lg","font-semibold","text-center"],[1,"mt-2","text-[#ABABAB]","text-sm","text-center"],["href","https://t.me/giftdeposit",1,"font-semibold","text-blue-400"],[1,"text-[#ABABAB]","text-sm","text-center"],[1,"bg-white/10","p-2","px-3","rounded-xl","flex","items-center","font-semibold","safari-soft-fix","mt-1","cursor-pointer",3,"click"],[1,"fa-solid","fa-store","w-6","h-6"],[1,"ml-1","text-sm"],["src","/gifts-example.png","alt","Caps Group",1,"w-[80%]","no-interaction"]],template:function(n,r){n&1&&(S(0,"div",0),oe(1,_B,1,0,"img",1),S(2,"div",2)(3,"h5",3),K(4),de(5,"transloco"),A(),S(6,"p",4),K(7),de(8,"transloco"),Y(9,"br"),K(10),de(11,"transloco"),S(12,"a",5),K(13," @GiftDeposit "),A()(),S(14,"p",6),K(15),de(16,"transloco"),A()(),S(17,"div",7),re("click",function(){return r.navigateToMarket()}),Y(18,"i",8),S(19,"span",9),K(20),de(21,"transloco"),A()()()),n&2&&(E(),O("ngIf",r.withImage),E(3),Ie(he(5,6,"INVENTORY_EMPTY")),E(3),Ie(he(8,8,"INVENTORY_START_GAME_QUESTION")),E(3),Te(" ",he(11,10,"INVENTORY_SEND")," "),E(5),Ie(he(16,12,"INVENTORY_OR_BUY")),E(5),Ie(he(21,14,"INVENTORY_GO_TO_MARKET")))},dependencies:[Qe,ut,dt],encapsulation:2})};var nf=class t{static \u0275fac=function(n){return new(n||t)};static \u0275cmp=xe({type:t,selectors:[["app-gift-add"]],decls:2,vars:0,consts:[[1,"flex","flex-col","gap-1","w-full","h-full","justify-center","items-center","cursor-pointer","rounded-2xl","border-2","border-dashed","border-neutral-800"],[1,"fa-solid","fa-plus-large","text-white/25","fa-2x"]],template:function(n,r){n&1&&(S(0,"div",0),Y(1,"i",1),A())},encapsulation:2})};var xB=["*"],SB=(t,e)=>({"opacity-50":t,"opacity-0 pointer-events-none":e}),EB=(t,e)=>({"translate-y-0":t,"translate-y-full":e}),Ri=class t{constructor(e){this.scrollService=e}isOpen=!1;onClose=new yt;ngOnInit(){this.updateScrollState()}ngOnChanges(){this.updateScrollState()}ngOnDestroy(){this.scrollService.enableScroll()}updateScrollState(){this.isOpen?this.scrollService.disableScroll():this.scrollService.enableScroll()}closeSheet(){this.isOpen=!1,setTimeout(()=>{this.onClose.emit()},300)}static \u0275fac=function(n){return new(n||t)(ne(oi))};static \u0275cmp=xe({type:t,selectors:[["app-bottom-sheet"]],inputs:{isOpen:"isOpen"},outputs:{onClose:"onClose"},features:[zn],ngContentSelectors:xB,decls:3,vars:8,consts:[[1,"fixed","inset-0","bg-black","transition-opacity","duration-300","z-11",3,"click","ngClass"],[1,"fixed","z-12","bottom-0","left-0","right-0","bg-[#141414]","rounded-t-3xl","transition-all","duration-300","shadow-xl","will-change-transform",3,"ngClass"]],template:function(n,r){n&1&&(Ms(),S(0,"div",0),re("click",function(){return r.closeSheet()}),A(),S(1,"div",1),ss(2),A()),n&2&&(O("ngClass",sr(2,SB,r.isOpen,!r.isOpen)),E(),O("ngClass",sr(5,EB,r.isOpen,!r.isOpen)))},dependencies:[Qe,Mn],encapsulation:2})};function TB(t,e){t&1&&(S(0,"span",18)(1,"a",19),K(2,"@GiftDeposit"),A()())}function IB(t,e){if(t&1&&(nt(0),S(1,"div",14)(2,"div",15),K(3),A(),S(4,"div",16),K(5),de(6,"transloco"),oe(7,TB,3,0,"span",17),A()(),rt()),t&2){let n=e.$implicit;E(3),Te(" ",n.step," "),E(2),Te(" ",he(6,3,n.text)," "),E(2),O("ngIf",n.step===1)}}var rf=class t{isOpen=!1;onClose=new yt;giftOptions={path:"https://cdn.changes.tg/gifts/models/Hanging Star/lottie/Astro Bot.json",renderer:"svg",autoplay:!0,loop:!0};steps=[{step:1,text:"DEPOSIT_STEPS_1"},{step:2,text:"DEPOSIT_STEPS_2"},{step:3,text:"DEPOSIT_STEPS_3"}];openDeposit(){window.open("https://t.me/GiftDeposit","_blank")}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=xe({type:t,selectors:[["app-gift-deposit-sheet"]],inputs:{isOpen:"isOpen"},outputs:{onClose:"onClose"},decls:20,vars:9,consts:[[1,"p-3","mb-10"],[1,"text-white","text-xl","font-semibold","mb-3","p-2"],[1,"absolute","top-3","right-3","cursor-pointer",3,"click"],[1,"fa-solid","fa-xmark","w-6","h-6","fa-xl","text-white/70","p-2"],[1,"w-full","p-3","gap-2","flex","flex-col","items-center"],["alt","",1,"w-24","h-24","bg-white/10","rounded-2xl","object-cover","cursor-pointer",3,"click","src"],[1,"text-xl","font-semibold","text-center","cursor-pointer",3,"click"],[1,"flex","gap-1.5"],[1,"ml-8"],[1,"w-6",3,"options"],[1,"text-[#6D6D71]","text-sm","cursor-pointer",3,"click"],[1,"flex","flex-col","relative","mb-4","mr-4"],[4,"ngFor","ngForOf"],[3,"click"],[1,"flex","mb-3","relative","items-center"],[1,"size-8","bg-white/10","text-white/70","text-sm","rounded-full","flex","items-center","justify-center","font-bold","shrink-0"],[1,"ml-3","text-white/80","flex","flex-wrap","self-start"],["class","ml-1",4,"ngIf"],[1,"ml-1"],["href","https://t.me/GiftDeposit",1,"text-blue-400","font-semibold"]],template:function(n,r){n&1&&(S(0,"div",0)(1,"h1",1),K(2),de(3,"transloco"),A(),S(4,"button",2),re("click",function(){return r.onClose.emit()}),Y(5,"i",3),A(),S(6,"div",4)(7,"img",5),re("click",function(){return r.openDeposit()}),A(),S(8,"div",6),re("click",function(){return r.openDeposit()}),S(9,"div",7)(10,"span",8),K(11,"Gift Deposit"),A(),Y(12,"ng-lottie",9),A(),S(13,"p",10),re("click",function(){return r.openDeposit()}),K(14,"@GiftDeposit"),A()()(),S(15,"div",11),oe(16,IB,8,5,"ng-container",12),A(),S(17,"app-loading-button",13),re("click",function(){return r.onClose.emit()}),K(18),de(19,"transloco"),A()()),n&2&&(E(2),Ie(he(3,5,"DEPOSIT_GIFTS")),E(5),O("src","giftdeposit.jpg",Gn),E(5),O("options",r.giftOptions),E(4),O("ngForOf",r.steps),E(2),Te(" ",he(19,7,"OK")," "))},dependencies:[gi,Qe,bt,ut,l0,dt],encapsulation:2})};var DB=["scrollContainer"],AB=()=>({isLoading:!0}),MB=()=>[],kB=t=>({count:t,isLoading:!1});function PB(t,e){t&1&&ni(0)}function NB(t,e){t&1&&Y(0,"div",16)}function RB(t,e){if(t&1){let n=Be();S(0,"app-gift-add",17),re("click",function(){ue(n);let i=Q(2);return fe(i.onDepositTap())}),A()}}function FB(t,e){t&1&&ni(0)}function OB(t,e){if(t&1&&(nt(0),S(1,"app-accordion")(2,"accordion-title"),oe(3,PB,1,0,"ng-container",10),A(),S(4,"accordion-content")(5,"div",11)(6,"div",12),oe(7,NB,1,0,"div",13)(8,RB,1,0,"app-gift-add",14),A()(),oe(9,FB,1,0,"ng-container",15),A()(),rt()),t&2){let n=Q(),r=xt(3),i=xt(7);E(3),O("ngTemplateOutlet",r)("ngTemplateOutletContext",zr(5,AB)),E(4),O("ngForOf",zr(6,MB).constructor(8)),E(),O("ngIf",n.type=="jackpot"||n.type=="inputGift"),E(),O("ngTemplateOutlet",i)}}function LB(t,e){t&1&&ni(0)}function VB(t,e){if(t&1){let n=Be();S(0,"app-gift",23),re("onTap",function(){let i=ue(n).$implicit,o=Q(3);return fe(o.onGiftSelected(i))}),A()}if(t&2){let n=e.$implicit,r=Q(3);O("gift",n)("type","compact")("isSelected",r.isSelected(n))}}function $B(t,e){if(t&1){let n=Be();S(0,"app-gift-add",24),re("click",function(){ue(n);let i=Q(3);return fe(i.onDepositTap())}),A()}}function BB(t,e){t&1&&ni(0)}function jB(t,e){if(t&1&&(nt(0),S(1,"app-accordion",19)(2,"accordion-title"),oe(3,LB,1,0,"ng-container",10),A(),S(4,"accordion-content")(5,"div",20,6)(7,"div",12),oe(8,VB,1,3,"app-gift",21)(9,$B,1,0,"app-gift-add",22),A()(),oe(10,BB,1,0,"ng-container",15),A()(),rt()),t&2){let n=Q(2),r=xt(3),i=xt(7);E(),O("isOpen",n.isAccordionOpen),E(2),O("ngTemplateOutlet",r)("ngTemplateOutletContext",ui(6,kB,n.gifts.length)),E(5),O("ngForOf",n.gifts),E(),O("ngIf",n.type=="jackpot"||n.type=="inputGift"),E(),O("ngTemplateOutlet",i)}}function UB(t,e){if(t&1&&(nt(0),oe(1,jB,11,8,"ng-container",18),rt()),t&2){let n=Q(),r=xt(5);E(),O("ngIf",n.gifts.length>0)("ngIfElse",r)}}function GB(t,e){if(t&1&&(nt(0),S(1,"span",28),K(2),A(),rt()),t&2){let n=Q().count;E(2),Ie(n)}}function HB(t,e){if(t&1){let n=Be();S(0,"div",29),re("click",function(){ue(n);let i=Q(2);return fe(i.toggleAccordion())}),S(1,"div",30),Y(2,"i",31),A()()}if(t&2){let n=Q(2);E(),vr("rotate-180",!n.isAccordionOpen)}}function WB(t,e){if(t&1&&(S(0,"div",25)(1,"h1",26),K(2),de(3,"transloco"),de(4,"transloco"),oe(5,GB,3,1,"ng-container",8),A(),oe(6,HB,3,2,"div",27),A()),t&2){let n=e.isLoading,r=Q();E(2),Te(" ",r.type!="outputGift"?he(3,3,"MY_GIFTS"):he(4,5,"DESIRED_ITEM")," "),E(3),O("ngIf",!n),E(),O("ngIf",r.type=="jackpot")}}function zB(t,e){if(t&1&&(S(0,"div",32)(1,"h1",33),K(2),de(3,"transloco"),S(4,"span",28),K(5),A()(),Y(6,"app-empty-gifts-card",34),A()),t&2){let n=Q();E(2),Te(" ",he(3,3,"MY_GIFTS")," "),E(3),Ie(n.gifts.length),E(),O("withImage",!1)}}function qB(t,e){t&1&&ni(0)}function KB(t,e){if(t&1&&(nt(0),oe(1,qB,1,0,"ng-container",15),rt()),t&2){Q(2);let n=xt(9);E(),O("ngTemplateOutlet",n)}}function YB(t,e){t&1&&ni(0)}function JB(t,e){if(t&1&&(nt(0),oe(1,YB,1,0,"ng-container",15),rt()),t&2){Q(2);let n=xt(11);E(),O("ngTemplateOutlet",n)}}function QB(t,e){t&1&&ni(0)}function ZB(t,e){if(t&1&&(nt(0),oe(1,QB,1,0,"ng-container",15),rt()),t&2){Q(2);let n=xt(13);E(),O("ngTemplateOutlet",n)}}function XB(t,e){if(t&1&&(nt(0,35),oe(1,KB,2,1,"ng-container",36)(2,JB,2,1,"ng-container",36)(3,ZB,2,1,"ng-container",36),rt()),t&2){let n=Q();O("ngSwitch",n.type),E(),O("ngSwitchCase","jackpot"),E(),O("ngSwitchCase","inputGift"),E(),O("ngSwitchCase","outputGift")}}function ej(t,e){if(t&1&&(S(0,"span"),K(1),A()),t&2){let n=Q(2);E(),Ie(n.totalSelectedAmount.toFixed(2)+" TON")}}function tj(t,e){if(t&1){let n=Be();S(0,"button",37),re("click",function(){ue(n);let i=Q();return fe(i.playTap())}),K(1),de(2,"transloco"),oe(3,ej,2,1,"span",8),A()}if(t&2){let n=Q();O("disabled",n.isDisabled),E(),Te(" ",he(2,3,"PLAY")," "),E(2),O("ngIf",n.totalSelectedAmount>.01)}}function nj(t,e){if(t&1&&(S(0,"span"),K(1),A()),t&2){let n=Q(2);E(),Ie(n.totalSelectedAmount.toFixed(2)+" TON")}}function rj(t,e){if(t&1){let n=Be();S(0,"button",38),re("click",function(){ue(n);let i=Q();return fe(i.playTap())}),K(1),de(2,"transloco"),oe(3,nj,2,1,"span",8),A()}if(t&2){let n=Q();E(),Te(" ",he(2,2,"SELECT")," "),E(2),O("ngIf",n.totalSelectedAmount>.01)}}function ij(t,e){if(t&1&&(S(0,"span",41),K(1),A()),t&2){let n=Q(2);E(),Te("x",n.upgradeCoefficient.toFixed(2),"")}}function oj(t,e){if(t&1){let n=Be();S(0,"button",37),re("click",function(){ue(n);let i=Q();return fe(i.playTap())}),Y(1,"i",39),K(2),de(3,"transloco"),oe(4,ij,2,1,"span",40),A()}if(t&2){let n=Q();O("disabled",n.isDisabled),E(2),Te(" ",he(3,3,"TO_UPGRADE")," "),E(2),O("ngIf",n.upgradeCoefficient>0)}}function sj(t,e){if(t&1){let n=Be();S(0,"app-bottom-sheet",42,7),re("onClose",function(){ue(n);let i=Q();return fe(i.isDepositSheetOpen=!1)}),S(2,"app-gift-deposit-sheet",42),re("onClose",function(){ue(n);let i=xt(1);return fe(i.closeSheet())}),A()()}if(t&2){let n=Q();O("isOpen",n.isDepositSheetOpen),E(2),O("isOpen",n.isDepositSheetOpen)}}var of=class t{gifts=[];isLoaded=!1;type="jackpot";upgradeCoefficient=0;isDisabled=!1;play=new yt;onGiftSelect=new yt;isAccordionOpen=!0;isDepositSheetOpen=!1;totalSelectedAmount=0;selectedGiftIds=new Set;scrollContainer;isDragging=!1;startX=0;scrollLeft=0;playTap(){this.play.emit(this.selectedGifts),this.selectedGiftIds.clear()}onGiftSelected(e){if(this.isDisabled)return;Telegram.WebApp.HapticFeedback.impactOccurred("soft");let n=this.selectedGiftIds.has(e.id);this.type==="inputGift"||this.type==="outputGift"?(this.selectedGiftIds.clear(),n?this.onGiftSelect.emit(void 0):(this.selectedGiftIds.add(e.id),this.onGiftSelect.emit(e))):(n?this.selectedGiftIds.delete(e.id):this.selectedGiftIds.add(e.id),this.onGiftSelect.emit(e)),this.calculateSelectedAmount()}isSelected(e){return this.selectedGiftIds.has(e.id)}toggleAccordion(){this.isAccordionOpen=!this.isAccordionOpen}onDepositTap(){this.isDepositSheetOpen=!0}calculateSelectedAmount(){this.totalSelectedAmount=this.selectedGifts.reduce((e,n)=>e+parseFloat(n.priceInfo.price),0)}get selectedGifts(){return this.gifts.filter(e=>this.selectedGiftIds.has(e.id))}ngOnChanges(e){e.isLoaded&&this.isLoaded&&setTimeout(()=>{this.initDragScroll()},40),e.isDisabled&&this.isDisabled&&(this.selectedGiftIds.clear(),this.totalSelectedAmount=0),e.gifts&&this.calculateSelectedAmount()}initDragScroll(){let e=this.scrollContainer.nativeElement;e.addEventListener("mousedown",n=>{this.isDragging=!0,e.classList.add("active"),this.startX=n.pageX-e.offsetLeft,this.scrollLeft=e.scrollLeft}),e.addEventListener("mouseleave",()=>{this.isDragging=!1,e.classList.remove("active")}),e.addEventListener("mouseup",()=>{this.isDragging=!1,e.classList.remove("active")}),e.addEventListener("mousemove",n=>{if(!this.isDragging)return;n.preventDefault();let i=(n.pageX-e.offsetLeft-this.startX)*1.8;e.scrollLeft=this.scrollLeft-i}),e.style.userSelect="none"}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=xe({type:t,selectors:[["app-jackpot-inventory"]],viewQuery:function(n,r){if(n&1&&Fn(DB,5),n&2){let i;Pn(i=Nn())&&(r.scrollContainer=i.first)}},inputs:{gifts:"gifts",isLoaded:"isLoaded",type:"type",upgradeCoefficient:"upgradeCoefficient",isDisabled:"isDisabled"},outputs:{play:"play",onGiftSelect:"onGiftSelect"},features:[zn],decls:15,vars:3,consts:[["accordionTitleTemplate",""],["emptyGifts",""],["button",""],["playJackpotButton",""],["playInputGiftButton",""],["playOutputGiftButton",""],["scrollContainer",""],["depositBottomSheet",""],[4,"ngIf"],[3,"isOpen","onClose",4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"w-full","overflow-x-auto","scrollbar-hide","my-3"],[1,"grid","grid-rows-2","gap-3","w-max","p-1",2,"grid-auto-flow","column"],["class","animate-pulse bg-white/12 rounded-2xl aspect-[3/4] w-[calc(100vw/6)] h-[calc(100hw/2)] max-w-24 safari-fix",4,"ngFor","ngForOf"],["class","w-[calc(100vw/6)] h-[calc(100hw/2)]",3,"click",4,"ngIf"],[4,"ngTemplateOutlet"],[1,"animate-pulse","bg-white/12","rounded-2xl","aspect-[3/4]","w-[calc(100vw/6)]","h-[calc(100hw/2)]","max-w-24","safari-fix"],[1,"w-[calc(100vw/6)]","h-[calc(100hw/2)]",3,"click"],[4,"ngIf","ngIfElse"],[3,"isOpen"],[1,"w-full","overflow-x-auto","scrollbar-hide","my-3","scroll-smooth"],["class","w-[calc(100vw/6)] h-[calc(100hw/2)] max-w-24 aspect-[3/4] safari-soft-fix",3,"gift","type","isSelected","onTap",4,"ngFor","ngForOf"],["class","w-[calc(100vw/6)] h-[calc(100hw/2)] max-w-24",3,"click",4,"ngIf"],[1,"w-[calc(100vw/6)]","h-[calc(100hw/2)]","max-w-24","aspect-[3/4]","safari-soft-fix",3,"onTap","gift","type","isSelected"],[1,"w-[calc(100vw/6)]","h-[calc(100hw/2)]","max-w-24",3,"click"],[1,"flex","justify-between","items-center"],[1,"text-lg","font-semibold"],["class","bg-white/10 w-8 h-8 cursor-pointer rounded-xl flex items-center justify-center p-2 mr-1",3,"click",4,"ngIf"],[1,"ml-1","text-white/30","font-medium"],[1,"bg-white/10","w-8","h-8","cursor-pointer","rounded-xl","flex","items-center","justify-center","p-2","mr-1",3,"click"],[1,"transition-transform","duration-300"],[1,"fa-solid","fa-chevron-down","text-white/70"],[1,"p-3","safari-fix"],[1,"text-lg","font-semibold","mb-2"],[3,"withImage"],[3,"ngSwitch"],[4,"ngSwitchCase"],[1,"w-full","my-2","py-3","rounded-2xl","bg-white","text-black","text-m","font-bold","disabled:opacity-50","disabled:cursor-not-allowed","cursor-pointer","active:opacity-75","transition-opacity",3,"click","disabled"],[1,"w-full","my-2","py-3","rounded-2xl","bg-white","text-black","text-m","font-bold","disabled:opacity-50","disabled:cursor-not-allowed","cursor-pointer","active:opacity-75","transition-opacity",3,"click"],[1,"fa-solid","fa-up-long","text-lg","mr-1"],["class","bg-[#141414] text-white p-1 px-2 rounded-lg text-sm",4,"ngIf"],[1,"bg-[#141414]","text-white","p-1","px-2","rounded-lg","text-sm"],[3,"onClose","isOpen"]],template:function(n,r){n&1&&oe(0,OB,10,7,"ng-container",8)(1,UB,2,2,"ng-container",8)(2,WB,7,7,"ng-template",null,0,Qt)(4,zB,7,5,"ng-template",null,1,Qt)(6,XB,4,4,"ng-template",null,2,Qt)(8,tj,4,5,"ng-template",null,3,Qt)(10,rj,4,4,"ng-template",null,4,Qt)(12,oj,5,5,"ng-template",null,5,Qt)(14,sj,3,2,"app-bottom-sheet",9),n&2&&(O("ngIf",!r.isLoaded),E(),O("ngIf",r.isLoaded),E(13),O("ngIf",r.isLoaded))},dependencies:[ef,Xu,Zu,Qe,bt,ut,ks,to,No,tf,nf,Ri,rf,ii,dt],encapsulation:2})};var In={production:!0,baseUrl:"https://giftjackpot.com",apiUrl:"/api",socketUrl:"/",twaLink:"GiftJackpotBot",gameDurationSeconds:45};var VD="recentlyBoughtGifts";function $D(){let t=localStorage.getItem(VD),n=(t?JSON.parse(t):[]).filter(r=>Date.now()-r.timestamp<$t.giftUpdateDelay);return BD(n),n}function BD(t){localStorage.setItem(VD,JSON.stringify(t))}function g0(t){let e=$D();e.push({id:t,timestamp:Date.now()}),BD(e)}function v0(t){return $D().some(e=>e.id===t)}function aj(t,e){t&1&&ni(0)}function lj(t,e){if(t&1&&(nt(0),S(1,"div",5)(2,"div",6),K(3),A(),S(4,"div",7),Y(5,"span",8),de(6,"transloco"),A()(),rt()),t&2){let n=e.$implicit;E(3),Te(" ",n.step," "),E(2),O("innerHTML",he(6,2,n.text),Yb)}}function cj(t,e){if(t&1){let n=Be();S(0,"div",9),re("click",function(){ue(n);let i=Q();return fe(i.toggleAccordion())}),S(1,"div",10),Y(2,"i",11),S(3,"h1",12),K(4),de(5,"transloco"),A()(),S(6,"div",13)(7,"div",14),Y(8,"i",15),A()()()}if(t&2){let n=Q();E(4),Te(" ",he(5,3,"HOW_TO_PLAY")," "),E(3),vr("rotate-180",!n.isAccordionOpen)}}var sf=class t{type;isAccordionOpen=!1;steps=[];ngOnInit(){switch(this.type){case"jackpot":this.steps=[{step:1,text:"HOW_TO_PLAY_STEPS_1"},{step:2,text:"HOW_TO_PLAY_STEPS_2"},{step:3,text:"HOW_TO_PLAY_STEPS_3"},{step:4,text:"HOW_TO_PLAY_STEPS_4"}];break;case"upgrade":this.steps=[{step:1,text:"UPGRADE_STEPS_1"},{step:2,text:"UPGRADE_STEPS_2"},{step:3,text:"UPGRADE_STEPS_3"}];break}}toggleAccordion(){this.isAccordionOpen=!this.isAccordionOpen}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=xe({type:t,selectors:[["app-how-to-play"]],inputs:{type:"type"},decls:8,vars:3,consts:[["accordionTitleTemplate",""],[1,"my-6","safari-fix"],[3,"isOpen"],[4,"ngTemplateOutlet"],[4,"ngFor","ngForOf"],[1,"flex","my-3","relative","items-center"],[1,"size-6","bg-white/10","text-white/70","text-sm","rounded-full","flex","items-center","justify-center","font-bold","shrink-0"],[1,"ml-2","text-white/80","flex","text-sm","flex-wrap"],[3,"innerHTML"],[1,"flex","justify-between","items-center",3,"click"],[1,"flex","items-center","gap-3"],[1,"fa-solid","fa-question-circle","text-xl"],[1,"font-semibold"],[1,"bg-white/10","w-8","h-8","cursor-pointer","rounded-xl","flex","items-center","justify-center","p-2","mr-1"],[1,"transition-transform","duration-300"],[1,"fa-solid","fa-chevron-down","text-white/70"]],template:function(n,r){if(n&1&&(S(0,"div",1)(1,"app-accordion",2)(2,"accordion-title"),oe(3,aj,1,0,"ng-container",3),A(),S(4,"accordion-content"),oe(5,lj,7,4,"ng-container",4),A()()(),oe(6,cj,9,5,"ng-template",null,0,Qt)),n&2){let i=xt(7);E(),O("isOpen",r.isAccordionOpen),E(2),O("ngTemplateOutlet",i),E(2),O("ngForOf",r.steps)}},dependencies:[ef,Xu,Zu,ks,bt,dt],encapsulation:2})};var af=class t{mapJackpotBets(e){return e.map(n=>{let r=n.gifts.sort((o,s)=>parseFloat(s.priceInfo.price)-parseFloat(o.priceInfo.price));return{user:n.user,gifts:r,totalAmount:this.getBetTotalAmount(n),tickets:this.getTickets(n,e),chance:this.getChance(e,n.user),createdAt:n.createdAt}}).reverse()}mapJackpotPlayers(e){let n=this.totalAmount(e.bets),r=new Map;for(let i of e.bets){let o=i.user.id,s=this.getBetTotalAmount(i);r.has(o)||r.set(o,{avatarUrl:i.user.tgUser.photoUrl,betAmount:0,chance:0});let a=r.get(o);a.betAmount+=s}for(let i of r.values())n>0?i.chance=i.betAmount/n:i.chance=0;return Array.from(r.values()).sort((i,o)=>o.chance-i.chance)}mapRoundInfo(e){return{number:e.id,totalAmount:this.totalAmount(e.bets),giftsCount:this.giftsCount(e.bets),hash:e.fairness.hash}}giftsCount(e){return e.reduce((n,r)=>n+r.gifts.length,0)}totalAmount(e){return e.reduce((n,r)=>n+this.getBetTotalAmount(r),0)}mapWinner(e,n,r){if(!n.winner)throw new Error("Winner not found");let i=parseFloat(n.totalBetAmount??"0"),o=n.fairness.winValue,s=Math.floor(i*100*o)+1,a=e.find(h=>h.user.id==n.winner?.id);if(!a)throw new Error("Winner not found");let l=new Date(n.startedAt),u=new Date().getTime()-l.getTime(),f=Math.max($t.spinnerDuration-(u-r),0),d=n.winner.tgUser.username;return d.length<=0&&(d="id"+n.winner.tgId),{username:d,avatarUrl:n.winner.tgUser.photoUrl,chance:a.chance,ticket:s,transitionDuration:f}}getTickets(e,n){let r=1;for(let i of n){let o=this.getBetTotalAmount(i)*100,s=r,a=s+Math.max(o,2)-1;if(i===e)return[s,a];r=a+1}return[0,0]}getChance(e,n){let r=e.filter(s=>s.user.id===n.id),i=this.totalAmount(r),o=this.totalAmount(e);return o===0?0:i/o}getBetTotalAmount(e){return e.gifts.reduce((n,r)=>n+parseFloat(r.priceInfo.price),0)}static \u0275fac=function(n){return new(n||t)};static \u0275prov=Ve({token:t,factory:t.\u0275fac,providedIn:"root"})};var ms=Object.create(null);ms.open="0";ms.close="1";ms.ping="2";ms.pong="3";ms.message="4";ms.upgrade="5";ms.noop="6";var dp=Object.create(null);Object.keys(ms).forEach(t=>{dp[ms[t]]=t});var pp={type:"error",data:"parser error"};var HD=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",WD=typeof ArrayBuffer=="function",zD=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t&&t.buffer instanceof ArrayBuffer,hp=({type:t,data:e},n,r)=>HD&&e instanceof Blob?n?r(e):UD(e,r):WD&&(e instanceof ArrayBuffer||zD(e))?n?r(e):UD(new Blob([e]),r):r(ms[t]+(e||"")),UD=(t,e)=>{let n=new FileReader;return n.onload=function(){let r=n.result.split(",")[1];e("b"+(r||""))},n.readAsDataURL(t)};function GD(t){return t instanceof Uint8Array?t:t instanceof ArrayBuffer?new Uint8Array(t):new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}var w_;function qD(t,e){if(HD&&t.data instanceof Blob)return t.data.arrayBuffer().then(GD).then(e);if(WD&&(t.data instanceof ArrayBuffer||zD(t.data)))return e(GD(t.data));hp(t,!1,n=>{w_||(w_=new TextEncoder),e(w_.encode(n))})}var KD="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",mp=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let t=0;t<KD.length;t++)mp[KD.charCodeAt(t)]=t;var YD=t=>{let e=t.length*.75,n=t.length,r,i=0,o,s,a,l;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);let c=new ArrayBuffer(e),u=new Uint8Array(c);for(r=0;r<n;r+=4)o=mp[t.charCodeAt(r)],s=mp[t.charCodeAt(r+1)],a=mp[t.charCodeAt(r+2)],l=mp[t.charCodeAt(r+3)],u[i++]=o<<2|s>>4,u[i++]=(s&15)<<4|a>>2,u[i++]=(a&3)<<6|l&63;return c};var uj=typeof ArrayBuffer=="function",gp=(t,e)=>{if(typeof t!="string")return{type:"message",data:JD(t,e)};let n=t.charAt(0);return n==="b"?{type:"message",data:fj(t.substring(1),e)}:dp[n]?t.length>1?{type:dp[n],data:t.substring(1)}:{type:dp[n]}:pp},fj=(t,e)=>{if(uj){let n=YD(t);return JD(n,e)}else return{base64:!0,data:t}},JD=(t,e)=>{switch(e){case"blob":return t instanceof Blob?t:new Blob([t]);case"arraybuffer":default:return t instanceof ArrayBuffer?t:t.buffer}};var QD="",ZD=(t,e)=>{let n=t.length,r=new Array(n),i=0;t.forEach((o,s)=>{hp(o,!1,a=>{r[s]=a,++i===n&&e(r.join(QD))})})},XD=(t,e)=>{let n=t.split(QD),r=[];for(let i=0;i<n.length;i++){let o=gp(n[i],e);if(r.push(o),o.type==="error")break}return r};function eA(){return new TransformStream({transform(t,e){qD(t,n=>{let r=n.length,i;if(r<126)i=new Uint8Array(1),new DataView(i.buffer).setUint8(0,r);else if(r<65536){i=new Uint8Array(3);let o=new DataView(i.buffer);o.setUint8(0,126),o.setUint16(1,r)}else{i=new Uint8Array(9);let o=new DataView(i.buffer);o.setUint8(0,127),o.setBigUint64(1,BigInt(r))}t.data&&typeof t.data!="string"&&(i[0]|=128),e.enqueue(i),e.enqueue(n)})}})}var C_;function y0(t){return t.reduce((e,n)=>e+n.length,0)}function b0(t,e){if(t[0].length===e)return t.shift();let n=new Uint8Array(e),r=0;for(let i=0;i<e;i++)n[i]=t[0][r++],r===t[0].length&&(t.shift(),r=0);return t.length&&r<t[0].length&&(t[0]=t[0].slice(r)),n}function tA(t,e){C_||(C_=new TextDecoder);let n=[],r=0,i=-1,o=!1;return new TransformStream({transform(s,a){for(n.push(s);;){if(r===0){if(y0(n)<1)break;let l=b0(n,1);o=(l[0]&128)===128,i=l[0]&127,i<126?r=3:i===126?r=1:r=2}else if(r===1){if(y0(n)<2)break;let l=b0(n,2);i=new DataView(l.buffer,l.byteOffset,l.length).getUint16(0),r=3}else if(r===2){if(y0(n)<8)break;let l=b0(n,8),c=new DataView(l.buffer,l.byteOffset,l.length),u=c.getUint32(0);if(u>Math.pow(2,21)-1){a.enqueue(pp);break}i=u*Math.pow(2,32)+c.getUint32(4),r=3}else{if(y0(n)<i)break;let l=b0(n,i);a.enqueue(gp(o?l:C_.decode(l),e)),r=0}if(i===0||i>t){a.enqueue(pp);break}}}})}var __=4;function br(t){if(t)return dj(t)}function dj(t){for(var e in br.prototype)t[e]=br.prototype[e];return t}br.prototype.on=br.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this};br.prototype.once=function(t,e){function n(){this.off(t,n),e.apply(this,arguments)}return n.fn=e,this.on(t,n),this};br.prototype.off=br.prototype.removeListener=br.prototype.removeAllListeners=br.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var n=this._callbacks["$"+t];if(!n)return this;if(arguments.length==1)return delete this._callbacks["$"+t],this;for(var r,i=0;i<n.length;i++)if(r=n[i],r===e||r.fn===e){n.splice(i,1);break}return n.length===0&&delete this._callbacks["$"+t],this};br.prototype.emit=function(t){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),n=this._callbacks["$"+t],r=1;r<arguments.length;r++)e[r-1]=arguments[r];if(n){n=n.slice(0);for(var r=0,i=n.length;r<i;++r)n[r].apply(this,e)}return this};br.prototype.emitReserved=br.prototype.emit;br.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]};br.prototype.hasListeners=function(t){return!!this.listeners(t).length};var Ta=typeof Promise=="function"&&typeof Promise.resolve=="function"?e=>Promise.resolve().then(e):(e,n)=>n(e,0),Gi=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),nA="arraybuffer";function w0(t,...e){return e.reduce((n,r)=>(t.hasOwnProperty(r)&&(n[r]=t[r]),n),{})}var pj=Gi.setTimeout,hj=Gi.clearTimeout;function Ia(t,e){e.useNativeTimers?(t.setTimeoutFn=pj.bind(Gi),t.clearTimeoutFn=hj.bind(Gi)):(t.setTimeoutFn=Gi.setTimeout.bind(Gi),t.clearTimeoutFn=Gi.clearTimeout.bind(Gi))}var mj=1.33;function rA(t){return typeof t=="string"?gj(t):Math.ceil((t.byteLength||t.size)*mj)}function gj(t){let e=0,n=0;for(let r=0,i=t.length;r<i;r++)e=t.charCodeAt(r),e<128?n+=1:e<2048?n+=2:e<55296||e>=57344?n+=3:(r++,n+=4);return n}function C0(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function iA(t){let e="";for(let n in t)t.hasOwnProperty(n)&&(e.length&&(e+="&"),e+=encodeURIComponent(n)+"="+encodeURIComponent(t[n]));return e}function oA(t){let e={},n=t.split("&");for(let r=0,i=n.length;r<i;r++){let o=n[r].split("=");e[decodeURIComponent(o[0])]=decodeURIComponent(o[1])}return e}var _0=class extends Error{constructor(e,n,r){super(e),this.description=n,this.context=r,this.type="TransportError"}},Da=class extends br{constructor(e){super(),this.writable=!1,Ia(this,e),this.opts=e,this.query=e.query,this.socket=e.socket,this.supportsBinary=!e.forceBase64}onError(e,n,r){return super.emitReserved("error",new _0(e,n,r)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(e){this.readyState==="open"&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){let n=gp(e,this.socket.binaryType);this.onPacket(n)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}pause(e){}createUri(e,n={}){return e+"://"+this._hostname()+this._port()+this.opts.path+this._query(n)}_hostname(){let e=this.opts.hostname;return e.indexOf(":")===-1?e:"["+e+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(e){let n=iA(e);return n.length?"?"+n:""}};var vp=class extends Da{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(e){this.readyState="pausing";let n=()=>{this.readyState="paused",e()};if(this._polling||!this.writable){let r=0;this._polling&&(r++,this.once("pollComplete",function(){--r||n()})),this.writable||(r++,this.once("drain",function(){--r||n()}))}else n()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){let n=r=>{if(this.readyState==="opening"&&r.type==="open"&&this.onOpen(),r.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(r)};XD(e,this.socket.binaryType).forEach(n),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){let e=()=>{this.write([{type:"close"}])};this.readyState==="open"?e():this.once("open",e)}write(e){this.writable=!1,ZD(e,n=>{this.doWrite(n,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){let e=this.opts.secure?"https":"http",n=this.query||{};return this.opts.timestampRequests!==!1&&(n[this.opts.timestampParam]=C0()),!this.supportsBinary&&!n.sid&&(n.b64=1),this.createUri(e,n)}};var sA=!1;try{sA=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}var aA=sA;function vj(){}var x_=class extends vp{constructor(e){if(super(e),typeof location<"u"){let n=location.protocol==="https:",r=location.port;r||(r=n?"443":"80"),this.xd=typeof location<"u"&&e.hostname!==location.hostname||r!==e.port}}doWrite(e,n){let r=this.request({method:"POST",data:e});r.on("success",n),r.on("error",(i,o)=>{this.onError("xhr post error",i,o)})}doPoll(){let e=this.request();e.on("data",this.onData.bind(this)),e.on("error",(n,r)=>{this.onError("xhr poll error",n,r)}),this.pollXhr=e}},x0=(()=>{class t extends br{constructor(n,r,i){super(),this.createRequest=n,Ia(this,i),this._opts=i,this._method=i.method||"GET",this._uri=r,this._data=i.data!==void 0?i.data:null,this._create()}_create(){var n;let r=w0(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");r.xdomain=!!this._opts.xd;let i=this._xhr=this.createRequest(r);try{i.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){i.setDisableHeaderCheck&&i.setDisableHeaderCheck(!0);for(let o in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(o)&&i.setRequestHeader(o,this._opts.extraHeaders[o])}}catch{}if(this._method==="POST")try{i.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{i.setRequestHeader("Accept","*/*")}catch{}(n=this._opts.cookieJar)===null||n===void 0||n.addCookies(i),"withCredentials"in i&&(i.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(i.timeout=this._opts.requestTimeout),i.onreadystatechange=()=>{var o;i.readyState===3&&((o=this._opts.cookieJar)===null||o===void 0||o.parseCookies(i.getResponseHeader("set-cookie"))),i.readyState===4&&(i.status===200||i.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof i.status=="number"?i.status:0)},0))},i.send(this._data)}catch(o){this.setTimeoutFn(()=>{this._onError(o)},0);return}typeof document<"u"&&(this._index=t.requestsCount++,t.requests[this._index]=this)}_onError(n){this.emitReserved("error",n,this._xhr),this._cleanup(!0)}_cleanup(n){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=vj,n)try{this._xhr.abort()}catch{}typeof document<"u"&&delete t.requests[this._index],this._xhr=null}}_onLoad(){let n=this._xhr.responseText;n!==null&&(this.emitReserved("data",n),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}return t.requestsCount=0,t.requests={},t})();if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",lA);else if(typeof addEventListener=="function"){let t="onpagehide"in Gi?"pagehide":"unload";addEventListener(t,lA,!1)}}function lA(){for(let t in x0.requests)x0.requests.hasOwnProperty(t)&&x0.requests[t].abort()}var yj=function(){let t=cA({xdomain:!1});return t&&t.responseType!==null}(),gl=class extends x_{constructor(e){super(e);let n=e&&e.forceBase64;this.supportsBinary=yj&&!n}request(e={}){return Object.assign(e,{xd:this.xd},this.opts),new x0(cA,this.uri(),e)}};function cA(t){let e=t.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!e||aA))return new XMLHttpRequest}catch{}if(!e)try{return new Gi[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}var uA=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative",E_=class extends Da{get name(){return"websocket"}doOpen(){let e=this.uri(),n=this.opts.protocols,r=uA?{}:w0(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(r.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(e,n,r)}catch(i){return this.emitReserved("error",i)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let n=0;n<e.length;n++){let r=e[n],i=n===e.length-1;hp(r,this.supportsBinary,o=>{try{this.doWrite(r,o)}catch{}i&&Ta(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){let e=this.opts.secure?"wss":"ws",n=this.query||{};return this.opts.timestampRequests&&(n[this.opts.timestampParam]=C0()),this.supportsBinary||(n.b64=1),this.createUri(e,n)}},S_=Gi.WebSocket||Gi.MozWebSocket,vl=class extends E_{createSocket(e,n,r){return uA?new S_(e,n,r):n?new S_(e,n):new S_(e)}doWrite(e,n){this.ws.send(n)}};var lf=class extends Da{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(e){return this.emitReserved("error",e)}this._transport.closed.then(()=>{this.onClose()}).catch(e=>{this.onError("webtransport error",e)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(e=>{let n=tA(Number.MAX_SAFE_INTEGER,this.socket.binaryType),r=e.readable.pipeThrough(n).getReader(),i=eA();i.readable.pipeTo(e.writable),this._writer=i.writable.getWriter();let o=()=>{r.read().then(({done:a,value:l})=>{a||(this.onPacket(l),o())}).catch(a=>{})};o();let s={type:"open"};this.query.sid&&(s.data=`{"sid":"${this.query.sid}"}`),this._writer.write(s).then(()=>this.onOpen())})})}write(e){this.writable=!1;for(let n=0;n<e.length;n++){let r=e[n],i=n===e.length-1;this._writer.write(r).then(()=>{i&&Ta(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var e;(e=this._transport)===null||e===void 0||e.close()}};var T_={websocket:vl,webtransport:lf,polling:gl};var bj=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,wj=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function cf(t){if(t.length>8e3)throw"URI too long";let e=t,n=t.indexOf("["),r=t.indexOf("]");n!=-1&&r!=-1&&(t=t.substring(0,n)+t.substring(n,r).replace(/:/g,";")+t.substring(r,t.length));let i=bj.exec(t||""),o={},s=14;for(;s--;)o[wj[s]]=i[s]||"";return n!=-1&&r!=-1&&(o.source=e,o.host=o.host.substring(1,o.host.length-1).replace(/;/g,":"),o.authority=o.authority.replace("[","").replace("]","").replace(/;/g,":"),o.ipv6uri=!0),o.pathNames=Cj(o,o.path),o.queryKey=_j(o,o.query),o}function Cj(t,e){let n=/\/{2,9}/g,r=e.replace(n,"/").split("/");return(e.slice(0,1)=="/"||e.length===0)&&r.splice(0,1),e.slice(-1)=="/"&&r.splice(r.length-1,1),r}function _j(t,e){let n={};return e.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(r,i,o){i&&(n[i]=o)}),n}var I_=typeof addEventListener=="function"&&typeof removeEventListener=="function",S0=[];I_&&addEventListener("offline",()=>{S0.forEach(t=>t())},!1);var E0=(()=>{class t extends br{constructor(n,r){if(super(),this.binaryType=nA,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,n&&typeof n=="object"&&(r=n,n=null),n){let i=cf(n);r.hostname=i.host,r.secure=i.protocol==="https"||i.protocol==="wss",r.port=i.port,i.query&&(r.query=i.query)}else r.host&&(r.hostname=cf(r.host).host);Ia(this,r),this.secure=r.secure!=null?r.secure:typeof location<"u"&&location.protocol==="https:",r.hostname&&!r.port&&(r.port=this.secure?"443":"80"),this.hostname=r.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=r.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},r.transports.forEach(i=>{let o=i.prototype.name;this.transports.push(o),this._transportsByName[o]=i}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},r),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=oA(this.opts.query)),I_&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},S0.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(n){let r=Object.assign({},this.opts.query);r.EIO=__,r.transport=n,this.id&&(r.sid=this.id);let i=Object.assign({},this.opts,{query:r,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[n]);return new this._transportsByName[n](i)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}let n=this.opts.rememberUpgrade&&t.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";let r=this.createTransport(n);r.open(),this.setTransport(r)}setTransport(n){this.transport&&this.transport.removeAllListeners(),this.transport=n,n.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",r=>this._onClose("transport close",r))}onOpen(){this.readyState="open",t.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(n){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",n),this.emitReserved("heartbeat"),n.type){case"open":this.onHandshake(JSON.parse(n.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":let r=new Error("server error");r.code=n.data,this._onError(r);break;case"message":this.emitReserved("data",n.data),this.emitReserved("message",n.data);break}}onHandshake(n){this.emitReserved("handshake",n),this.id=n.sid,this.transport.query.sid=n.sid,this._pingInterval=n.pingInterval,this._pingTimeout=n.pingTimeout,this._maxPayload=n.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);let n=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+n,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},n),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){let n=this._getWritablePackets();this.transport.send(n),this._prevBufferLen=n.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let r=1;for(let i=0;i<this.writeBuffer.length;i++){let o=this.writeBuffer[i].data;if(o&&(r+=rA(o)),i>0&&r>this._maxPayload)return this.writeBuffer.slice(0,i);r+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;let n=Date.now()>this._pingTimeoutTime;return n&&(this._pingTimeoutTime=0,Ta(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),n}write(n,r,i){return this._sendPacket("message",n,r,i),this}send(n,r,i){return this._sendPacket("message",n,r,i),this}_sendPacket(n,r,i,o){if(typeof r=="function"&&(o=r,r=void 0),typeof i=="function"&&(o=i,i=null),this.readyState==="closing"||this.readyState==="closed")return;i=i||{},i.compress=i.compress!==!1;let s={type:n,data:r,options:i};this.emitReserved("packetCreate",s),this.writeBuffer.push(s),o&&this.once("flush",o),this.flush()}close(){let n=()=>{this._onClose("forced close"),this.transport.close()},r=()=>{this.off("upgrade",r),this.off("upgradeError",r),n()},i=()=>{this.once("upgrade",r),this.once("upgradeError",r)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?i():n()}):this.upgrading?i():n()),this}_onError(n){if(t.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",n),this._onClose("transport error",n)}_onClose(n,r){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),I_&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){let i=S0.indexOf(this._offlineEventListener);i!==-1&&S0.splice(i,1)}this.readyState="closed",this.id=null,this.emitReserved("close",n,r),this.writeBuffer=[],this._prevBufferLen=0}}}return t.protocol=__,t})(),T0=class extends E0{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let e=0;e<this._upgrades.length;e++)this._probe(this._upgrades[e])}_probe(e){let n=this.createTransport(e),r=!1;E0.priorWebsocketSuccess=!1;let i=()=>{r||(n.send([{type:"ping",data:"probe"}]),n.once("packet",f=>{if(!r)if(f.type==="pong"&&f.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",n),!n)return;E0.priorWebsocketSuccess=n.name==="websocket",this.transport.pause(()=>{r||this.readyState!=="closed"&&(u(),this.setTransport(n),n.send([{type:"upgrade"}]),this.emitReserved("upgrade",n),n=null,this.upgrading=!1,this.flush())})}else{let d=new Error("probe error");d.transport=n.name,this.emitReserved("upgradeError",d)}}))};function o(){r||(r=!0,u(),n.close(),n=null)}let s=f=>{let d=new Error("probe error: "+f);d.transport=n.name,o(),this.emitReserved("upgradeError",d)};function a(){s("transport closed")}function l(){s("socket closed")}function c(f){n&&f.name!==n.name&&o()}let u=()=>{n.removeListener("open",i),n.removeListener("error",s),n.removeListener("close",a),this.off("close",l),this.off("upgrading",c)};n.once("open",i),n.once("error",s),n.once("close",a),this.once("close",l),this.once("upgrading",c),this._upgrades.indexOf("webtransport")!==-1&&e!=="webtransport"?this.setTimeoutFn(()=>{r||n.open()},200):n.open()}onHandshake(e){this._upgrades=this._filterUpgrades(e.upgrades),super.onHandshake(e)}_filterUpgrades(e){let n=[];for(let r=0;r<e.length;r++)~this.transports.indexOf(e[r])&&n.push(e[r]);return n}},uf=class extends T0{constructor(e,n={}){let r=typeof e=="object"?e:n;(!r.transports||r.transports&&typeof r.transports[0]=="string")&&(r.transports=(r.transports||["polling","websocket","webtransport"]).map(i=>T_[i]).filter(i=>!!i)),super(e,r)}};var _xe=uf.protocol;function fA(t,e="",n){let r=t;n=n||typeof location<"u"&&location,t==null&&(t=n.protocol+"//"+n.host),typeof t=="string"&&(t.charAt(0)==="/"&&(t.charAt(1)==="/"?t=n.protocol+t:t=n.host+t),/^(https?|wss?):\/\//.test(t)||(typeof n<"u"?t=n.protocol+"//"+t:t="https://"+t),r=cf(t)),r.port||(/^(http|ws)$/.test(r.protocol)?r.port="80":/^(http|ws)s$/.test(r.protocol)&&(r.port="443")),r.path=r.path||"/";let o=r.host.indexOf(":")!==-1?"["+r.host+"]":r.host;return r.id=r.protocol+"://"+o+":"+r.port+e,r.href=r.protocol+"://"+o+(n&&n.port===r.port?"":":"+r.port),r}var N_={};tP(N_,{Decoder:()=>k_,Encoder:()=>M_,PacketType:()=>$n,protocol:()=>gA});var Sj=typeof ArrayBuffer=="function",Ej=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t.buffer instanceof ArrayBuffer,dA=Object.prototype.toString,Tj=typeof Blob=="function"||typeof Blob<"u"&&dA.call(Blob)==="[object BlobConstructor]",Ij=typeof File=="function"||typeof File<"u"&&dA.call(File)==="[object FileConstructor]";function bp(t){return Sj&&(t instanceof ArrayBuffer||Ej(t))||Tj&&t instanceof Blob||Ij&&t instanceof File}function yp(t,e){if(!t||typeof t!="object")return!1;if(Array.isArray(t)){for(let n=0,r=t.length;n<r;n++)if(yp(t[n]))return!0;return!1}if(bp(t))return!0;if(t.toJSON&&typeof t.toJSON=="function"&&arguments.length===1)return yp(t.toJSON(),!0);for(let n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&yp(t[n]))return!0;return!1}function pA(t){let e=[],n=t.data,r=t;return r.data=D_(n,e),r.attachments=e.length,{packet:r,buffers:e}}function D_(t,e){if(!t)return t;if(bp(t)){let n={_placeholder:!0,num:e.length};return e.push(t),n}else if(Array.isArray(t)){let n=new Array(t.length);for(let r=0;r<t.length;r++)n[r]=D_(t[r],e);return n}else if(typeof t=="object"&&!(t instanceof Date)){let n={};for(let r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=D_(t[r],e));return n}return t}function hA(t,e){return t.data=A_(t.data,e),delete t.attachments,t}function A_(t,e){if(!t)return t;if(t&&t._placeholder===!0){if(typeof t.num=="number"&&t.num>=0&&t.num<e.length)return e[t.num];throw new Error("illegal attachments")}else if(Array.isArray(t))for(let n=0;n<t.length;n++)t[n]=A_(t[n],e);else if(typeof t=="object")for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&(t[n]=A_(t[n],e));return t}var Dj=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],gA=5,$n=function(t){return t[t.CONNECT=0]="CONNECT",t[t.DISCONNECT=1]="DISCONNECT",t[t.EVENT=2]="EVENT",t[t.ACK=3]="ACK",t[t.CONNECT_ERROR=4]="CONNECT_ERROR",t[t.BINARY_EVENT=5]="BINARY_EVENT",t[t.BINARY_ACK=6]="BINARY_ACK",t}($n||{}),M_=class{constructor(e){this.replacer=e}encode(e){return(e.type===$n.EVENT||e.type===$n.ACK)&&yp(e)?this.encodeAsBinary({type:e.type===$n.EVENT?$n.BINARY_EVENT:$n.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id}):[this.encodeAsString(e)]}encodeAsString(e){let n=""+e.type;return(e.type===$n.BINARY_EVENT||e.type===$n.BINARY_ACK)&&(n+=e.attachments+"-"),e.nsp&&e.nsp!=="/"&&(n+=e.nsp+","),e.id!=null&&(n+=e.id),e.data!=null&&(n+=JSON.stringify(e.data,this.replacer)),n}encodeAsBinary(e){let n=pA(e),r=this.encodeAsString(n.packet),i=n.buffers;return i.unshift(r),i}};function mA(t){return Object.prototype.toString.call(t)==="[object Object]"}var k_=class t extends br{constructor(e){super(),this.reviver=e}add(e){let n;if(typeof e=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");n=this.decodeString(e);let r=n.type===$n.BINARY_EVENT;r||n.type===$n.BINARY_ACK?(n.type=r?$n.EVENT:$n.ACK,this.reconstructor=new P_(n),n.attachments===0&&super.emitReserved("decoded",n)):super.emitReserved("decoded",n)}else if(bp(e)||e.base64)if(this.reconstructor)n=this.reconstructor.takeBinaryData(e),n&&(this.reconstructor=null,super.emitReserved("decoded",n));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+e)}decodeString(e){let n=0,r={type:Number(e.charAt(0))};if($n[r.type]===void 0)throw new Error("unknown packet type "+r.type);if(r.type===$n.BINARY_EVENT||r.type===$n.BINARY_ACK){let o=n+1;for(;e.charAt(++n)!=="-"&&n!=e.length;);let s=e.substring(o,n);if(s!=Number(s)||e.charAt(n)!=="-")throw new Error("Illegal attachments");r.attachments=Number(s)}if(e.charAt(n+1)==="/"){let o=n+1;for(;++n&&!(e.charAt(n)===","||n===e.length););r.nsp=e.substring(o,n)}else r.nsp="/";let i=e.charAt(n+1);if(i!==""&&Number(i)==i){let o=n+1;for(;++n;){let s=e.charAt(n);if(s==null||Number(s)!=s){--n;break}if(n===e.length)break}r.id=Number(e.substring(o,n+1))}if(e.charAt(++n)){let o=this.tryParse(e.substr(n));if(t.isPayloadValid(r.type,o))r.data=o;else throw new Error("invalid payload")}return r}tryParse(e){try{return JSON.parse(e,this.reviver)}catch{return!1}}static isPayloadValid(e,n){switch(e){case $n.CONNECT:return mA(n);case $n.DISCONNECT:return n===void 0;case $n.CONNECT_ERROR:return typeof n=="string"||mA(n);case $n.EVENT:case $n.BINARY_EVENT:return Array.isArray(n)&&(typeof n[0]=="number"||typeof n[0]=="string"&&Dj.indexOf(n[0])===-1);case $n.ACK:case $n.BINARY_ACK:return Array.isArray(n)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}},P_=class{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){let n=hA(this.reconPack,this.buffers);return this.finishedReconstruction(),n}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}};function _o(t,e,n){return t.on(e,n),function(){t.off(e,n)}}var Aj=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1}),ff=class extends br{constructor(e,n,r){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=n,r&&r.auth&&(this.auth=r.auth),this._opts=Object.assign({},r),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;let e=this.io;this.subs=[_o(e,"open",this.onopen.bind(this)),_o(e,"packet",this.onpacket.bind(this)),_o(e,"error",this.onerror.bind(this)),_o(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...e){return e.unshift("message"),this.emit.apply(this,e),this}emit(e,...n){var r,i,o;if(Aj.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');if(n.unshift(e),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(n),this;let s={type:$n.EVENT,data:n};if(s.options={},s.options.compress=this.flags.compress!==!1,typeof n[n.length-1]=="function"){let u=this.ids++,f=n.pop();this._registerAckCallback(u,f),s.id=u}let a=(i=(r=this.io.engine)===null||r===void 0?void 0:r.transport)===null||i===void 0?void 0:i.writable,l=this.connected&&!(!((o=this.io.engine)===null||o===void 0)&&o._hasPingExpired());return this.flags.volatile&&!a||(l?(this.notifyOutgoingListeners(s),this.packet(s)):this.sendBuffer.push(s)),this.flags={},this}_registerAckCallback(e,n){var r;let i=(r=this.flags.timeout)!==null&&r!==void 0?r:this._opts.ackTimeout;if(i===void 0){this.acks[e]=n;return}let o=this.io.setTimeoutFn(()=>{delete this.acks[e];for(let a=0;a<this.sendBuffer.length;a++)this.sendBuffer[a].id===e&&this.sendBuffer.splice(a,1);n.call(this,new Error("operation has timed out"))},i),s=(...a)=>{this.io.clearTimeoutFn(o),n.apply(this,a)};s.withError=!0,this.acks[e]=s}emitWithAck(e,...n){return new Promise((r,i)=>{let o=(s,a)=>s?i(s):r(a);o.withError=!0,n.push(o),this.emit(e,...n)})}_addToQueue(e){let n;typeof e[e.length-1]=="function"&&(n=e.pop());let r={id:this._queueSeq++,tryCount:0,pending:!1,args:e,flags:Object.assign({fromQueue:!0},this.flags)};e.push((i,...o)=>r!==this._queue[0]?void 0:(i!==null?r.tryCount>this._opts.retries&&(this._queue.shift(),n&&n(i)):(this._queue.shift(),n&&n(null,...o)),r.pending=!1,this._drainQueue())),this._queue.push(r),this._drainQueue()}_drainQueue(e=!1){if(!this.connected||this._queue.length===0)return;let n=this._queue[0];n.pending&&!e||(n.pending=!0,n.tryCount++,this.flags=n.flags,this.emit.apply(this,n.args))}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){typeof this.auth=="function"?this.auth(e=>{this._sendConnectPacket(e)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(e){this.packet({type:$n.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},e):e})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,n){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,n),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(e=>{if(!this.sendBuffer.some(r=>String(r.id)===e)){let r=this.acks[e];delete this.acks[e],r.withError&&r.call(this,new Error("socket has been disconnected"))}})}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case $n.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid,e.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case $n.EVENT:case $n.BINARY_EVENT:this.onevent(e);break;case $n.ACK:case $n.BINARY_ACK:this.onack(e);break;case $n.DISCONNECT:this.ondisconnect();break;case $n.CONNECT_ERROR:this.destroy();let r=new Error(e.data.message);r.data=e.data.data,this.emitReserved("connect_error",r);break}}onevent(e){let n=e.data||[];e.id!=null&&n.push(this.ack(e.id)),this.connected?this.emitEvent(n):this.receiveBuffer.push(Object.freeze(n))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){let n=this._anyListeners.slice();for(let r of n)r.apply(this,e)}super.emit.apply(this,e),this._pid&&e.length&&typeof e[e.length-1]=="string"&&(this._lastOffset=e[e.length-1])}ack(e){let n=this,r=!1;return function(...i){r||(r=!0,n.packet({type:$n.ACK,id:e,data:i}))}}onack(e){let n=this.acks[e.id];typeof n=="function"&&(delete this.acks[e.id],n.withError&&e.data.unshift(null),n.apply(this,e.data))}onconnect(e,n){this.id=e,this.recovered=n&&this._pid===n,this._pid=n,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(e=>this.emitEvent(e)),this.receiveBuffer=[],this.sendBuffer.forEach(e=>{this.notifyOutgoingListeners(e),this.packet(e)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(e=>e()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:$n.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){let n=this._anyListeners;for(let r=0;r<n.length;r++)if(e===n[r])return n.splice(r,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){let n=this._anyOutgoingListeners;for(let r=0;r<n.length;r++)if(e===n[r])return n.splice(r,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){let n=this._anyOutgoingListeners.slice();for(let r of n)r.apply(this,e.data)}}};function Pc(t){t=t||{},this.ms=t.min||100,this.max=t.max||1e4,this.factor=t.factor||2,this.jitter=t.jitter>0&&t.jitter<=1?t.jitter:0,this.attempts=0}Pc.prototype.duration=function(){var t=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),n=Math.floor(e*this.jitter*t);t=(Math.floor(e*10)&1)==0?t-n:t+n}return Math.min(t,this.max)|0};Pc.prototype.reset=function(){this.attempts=0};Pc.prototype.setMin=function(t){this.ms=t};Pc.prototype.setMax=function(t){this.max=t};Pc.prototype.setJitter=function(t){this.jitter=t};var df=class extends br{constructor(e,n){var r;super(),this.nsps={},this.subs=[],e&&typeof e=="object"&&(n=e,e=void 0),n=n||{},n.path=n.path||"/socket.io",this.opts=n,Ia(this,n),this.reconnection(n.reconnection!==!1),this.reconnectionAttempts(n.reconnectionAttempts||1/0),this.reconnectionDelay(n.reconnectionDelay||1e3),this.reconnectionDelayMax(n.reconnectionDelayMax||5e3),this.randomizationFactor((r=n.randomizationFactor)!==null&&r!==void 0?r:.5),this.backoff=new Pc({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(n.timeout==null?2e4:n.timeout),this._readyState="closed",this.uri=e;let i=n.parser||N_;this.encoder=new i.Encoder,this.decoder=new i.Decoder,this._autoConnect=n.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,e||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(e){return e===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var n;return e===void 0?this._reconnectionDelay:(this._reconnectionDelay=e,(n=this.backoff)===null||n===void 0||n.setMin(e),this)}randomizationFactor(e){var n;return e===void 0?this._randomizationFactor:(this._randomizationFactor=e,(n=this.backoff)===null||n===void 0||n.setJitter(e),this)}reconnectionDelayMax(e){var n;return e===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,(n=this.backoff)===null||n===void 0||n.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new uf(this.uri,this.opts);let n=this.engine,r=this;this._readyState="opening",this.skipReconnect=!1;let i=_o(n,"open",function(){r.onopen(),e&&e()}),o=a=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",a),e?e(a):this.maybeReconnectOnOpen()},s=_o(n,"error",o);if(this._timeout!==!1){let a=this._timeout,l=this.setTimeoutFn(()=>{i(),o(new Error("timeout")),n.close()},a);this.opts.autoUnref&&l.unref(),this.subs.push(()=>{this.clearTimeoutFn(l)})}return this.subs.push(i),this.subs.push(s),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");let e=this.engine;this.subs.push(_o(e,"ping",this.onping.bind(this)),_o(e,"data",this.ondata.bind(this)),_o(e,"error",this.onerror.bind(this)),_o(e,"close",this.onclose.bind(this)),_o(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){try{this.decoder.add(e)}catch(n){this.onclose("parse error",n)}}ondecoded(e){Ta(()=>{this.emitReserved("packet",e)},this.setTimeoutFn)}onerror(e){this.emitReserved("error",e)}socket(e,n){let r=this.nsps[e];return r?this._autoConnect&&!r.active&&r.connect():(r=new ff(this,e,n),this.nsps[e]=r),r}_destroy(e){let n=Object.keys(this.nsps);for(let r of n)if(this.nsps[r].active)return;this._close()}_packet(e){let n=this.encoder.encode(e);for(let r=0;r<n.length;r++)this.engine.write(n[r],e.options)}cleanup(){this.subs.forEach(e=>e()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(e,n){var r;this.cleanup(),(r=this.engine)===null||r===void 0||r.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,n),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;let e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{let n=this.backoff.duration();this._reconnecting=!0;let r=this.setTimeoutFn(()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),!e.skipReconnect&&e.open(i=>{i?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",i)):e.onreconnect()}))},n);this.opts.autoUnref&&r.unref(),this.subs.push(()=>{this.clearTimeoutFn(r)})}}onreconnect(){let e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}};var wp={};function Nc(t,e){typeof t=="object"&&(e=t,t=void 0),e=e||{};let n=fA(t,e.path||"/socket.io"),r=n.source,i=n.id,o=n.path,s=wp[i]&&o in wp[i].nsps,a=e.forceNew||e["force new connection"]||e.multiplex===!1||s,l;return a?l=new df(r,e):(wp[i]||(wp[i]=new df(r,e)),l=wp[i]),n.query&&!e.query&&(e.query=n.queryKey),l.socket(n.path,e)}Object.assign(Nc,{Manager:df,Socket:ff,io:Nc,connect:Nc});var Pr=class t{constructor(e){this.http=e}apiUrl=`${In.apiUrl}/auth`;authTokenKey="auth-token";rolesKey="kRoles";loginSuccessSource=new Wn;loginSuccess$=this.loginSuccessSource.asObservable();login(e){let n=JSON.stringify(e),r={"Content-Type":"application/json"};return this.http.put(this.apiUrl,n,{headers:r}).pipe(xr(i=>{i.user.bannedAt?(localStorage.removeItem(this.authTokenKey),localStorage.removeItem(this.rolesKey)):(localStorage.setItem(this.authTokenKey,i.authToken),i.user.roles?this.saveRoles(i.user.roles):localStorage.setItem(this.rolesKey,""),this.loginSuccessSource.next())}))}getAuthToken(){return localStorage.getItem(this.authTokenKey)}saveRoles(e){localStorage.setItem(this.rolesKey,JSON.stringify(e))}getRoles(){let e=localStorage.getItem(this.rolesKey);return e?JSON.parse(e):[]}static \u0275fac=function(n){return new(n||t)(Je(Sr))};static \u0275prov=Ve({token:t,factory:t.\u0275fac,providedIn:"root"})};var pf=class t{constructor(e,n){this.http=e;this.authService=n}apiUrl=`${In.apiUrl}/jackpot`;socket;isConnected=!1;connect(){if(!this.isConnected){let e=this.authService.getAuthToken();if(!e){console.error("No auth token provided.");return}this.socket=Nc(In.socketUrl+"jackpot",{auth:{token:e},autoConnect:!0,reconnection:!0,reconnectionAttempts:3,reconnectionDelay:1e3}),this.isConnected=!0}}disconnect(){this.isConnected&&(this.socket.disconnect(),this.isConnected=!1)}getGameState(){return new en(e=>{if(!this.isConnected){e.error("Socket is not connected");return}return this.socket.on("gameState",n=>{e.next(n)}),this.socket.on("connect_error",n=>{e.error("Connection error: "+n)}),()=>{this.socket.off("gameState")}})}placeBet(e){this.socket.emit("bet",e)}getInfo(){let e=`${this.apiUrl}/info`,n={"Content-Type":"application/json"};return this.http.get(e,{headers:n})}static \u0275fac=function(n){return new(n||t)(Je(Sr),Je(Pr))};static \u0275prov=Ve({token:t,factory:t.\u0275fac,providedIn:"root"})};var Bo=class t{constructor(e){this.http=e}apiUrl=`${In.apiUrl}/profile`;isNeedDelayProfile=!1;getProfile(){let e={"Content-Type":"application/json"};return this.http.get(this.apiUrl,{headers:e})}getInventory(){let e=`${this.apiUrl}/inventory`,n={"Content-Type":"application/json"};return this.http.get(e,{headers:n})}getUserInfo(){let e=`${this.apiUrl}/info`,n={"Content-Type":"application/json"};return this.http.get(e,{headers:n})}getCasinoStats(){let e=`${this.apiUrl}/casinoStats`,n={"Content-Type":"application/json"};return this.http.get(e,{headers:n})}setReferralBonus(e,n){let r=this.apiUrl+"/referralBonus",i={"Content-Type":"application/json"},o={username:e,referralBonus:n};return this.http.patch(r,o,{headers:i})}static \u0275fac=function(n){return new(n||t)(Je(Sr))};static \u0275prov=Ve({token:t,factory:t.\u0275fac,providedIn:"root"})};var I0=class t{constructor(e,n,r,i,o,s,a){this.betMapper=e;this.jackpotService=n;this.profileService=r;this.audioService=i;this.alertService=o;this.authService=s;this.scrollService=a;this.gameDurationSeconds=In.gameDurationSeconds,this.timeLeft=In.gameDurationSeconds}gifts=[];betsVM=[];playersVM=[];winnerVM;roundInfoVM=f0;gameDurationSeconds;timeLeft;timeProgress=1;isDialogOpen=!1;wonGifts=[];wonBalance=0;userId="";timer;isInventoryLoaded=!1;isInventoryDisabled=!1;isJackpotLoaded=!1;lineTimeState="time";shouldPlayStartSound=!1;gameStateSubscription;ngOnInit(){this.authService.getAuthToken()?(this.jackpotService.connect(),this.subscribeOnGameState(),this.fetchInventory()):(this.authService.loginSuccess$.subscribe(()=>{this.jackpotService.connect(),this.subscribeOnGameState(),this.fetchInventory(),console.log("On Login connect")}),console.log("Login handling")),this.scrollService.scrollToTop()}ngOnDestroy(){this.gameStateSubscription&&this.gameStateSubscription.unsubscribe(),this.jackpotService.disconnect(),this.clearTimer()}subscribeOnGameState(){this.gameStateSubscription=this.jackpotService.getGameState().subscribe({next:e=>{switch(this.mapVM(e),this.isJackpotLoaded=!0,e.status){case"CREATED":this.lineTimeState="time",this.timeProgress=1,this.timeLeft=this.gameDurationSeconds,this.winnerVM=void 0,this.isInventoryDisabled=!1,this.shouldPlayStartSound&&e.bets.length==0&&this.audioService.play("round-start");break;case"STARTED":this.gameStarted(e);break;case"ENDED":this.gameEnded(e);break}},error:e=>{console.error("Error receiving gameState:",e)}})}playButtonTap(e){this.audioService.preloadAndPrime().then(),this.betGifts(e)}betGifts(e){if(this.winnerVM)return;if(Telegram.WebApp.HapticFeedback.impactOccurred("light"),e.length==0){this.alertService.info("ALERT_SELECT_GIFTS");return}this.audioService.play("bet",.6);let n=new Set(e.map(i=>i.id));this.gifts=this.gifts.filter(i=>!n.has(i.id));let r=e.map(i=>i.id);this.jackpotService.placeBet(r),this.profileService.isNeedDelayProfile=!0}fetchInventory(){this.isInventoryLoaded=!1,this.profileService.getInventory().subscribe({next:e=>{this.userId=e.id,this.gifts=e.gifts.filter(n=>!(Date.now()-new Date(n.updatedAt).getTime()<$t.giftUpdateDelay)||v0(n.id)).filter(n=>n.isSupported&&parseFloat(n.priceInfo.price)>0&&n0(new Date,n.canTransferSince)).map(n=>kt(Ne({},n),{isSelected:!1})).sort((n,r)=>parseFloat(n.priceInfo.price)-parseFloat(r.priceInfo.price)),this.isInventoryLoaded=!0},error:e=>{console.error("Error receiving profile:",e)}})}mapVM(e){this.betsVM=this.betMapper.mapJackpotBets(e.bets),this.playersVM=this.betMapper.mapJackpotPlayers(e),this.roundInfoVM=this.betMapper.mapRoundInfo(e)}gameStarted(e){this.lineTimeState="time",this.winnerVM=void 0,this.timeProgress=0,this.clearTimer();let n=new Date(e.startedAt),r=(new Date().getTime()-n.getTime())/1e3,i=Math.max(this.gameDurationSeconds-r,0);this.timeProgress=i/this.gameDurationSeconds,this.timeLeft=i;let o=this.gameDurationSeconds*1e3,s=30,l=1/(o/s),c=i*1e3;this.timer=setInterval(()=>{this.timer&&(c-=s,this.timeLeft=Math.max(c/1e3,0),this.timeProgress=Math.max(this.timeProgress-l,0),c<=0&&this.clearTimer())},s)}gameEnded(e){if(this.shouldPlayStartSound=!0,this.isInventoryDisabled=!0,this.timeProgress=0,this.clearTimer(),this.winnerVM=this.betMapper.mapWinner(this.betsVM,e,this.gameDurationSeconds*1e3),this.wonGifts=[...e.winnerGifts,...e.giftsFromMarket].sort((n,r)=>parseFloat(r.priceInfo.price)-parseFloat(n.priceInfo.price)),this.wonBalance=parseFloat(e.winnerAmount),console.log("transition duration ",this.winnerVM.transitionDuration),this.winnerVM.transitionDuration>0){this.lineTimeState="started",this.winnerVM.transitionDuration>7e3&&this.audioService.play("spinner-start");let n=this.winnerVM.transitionDuration+$t.startSpinnerDelay+$t.winnerCenteringDuration;setTimeout(()=>{this.lineTimeState="ended",this.audioService.play("round-end")},n+300),setTimeout(()=>{e.winner?.id==this.userId?(this.isDialogOpen=!0,this.fetchInventory()):this.isDialogOpen=!1},this.winnerVM.transitionDuration+$t.showWinnerGiftsDelay)}else this.lineTimeState="ended",this.fetchInventory(),this.isDialogOpen=!1}clearTimer(){this.timer&&(clearInterval(this.timer),this.timer=null,this.timeProgress=0,this.timeLeft=0)}static \u0275fac=function(n){return new(n||t)(ne(af),ne(pf),ne(Bo),ne(hl),ne(or),ne(Pr),ne(oi))};static \u0275cmp=xe({type:t,selectors:[["jackpot"]],decls:11,vars:19,consts:[[1,"p-3"],[1,"bg-white/8","p-3","mb-3","rounded-2xl","safari-fix"],[3,"vm"],[3,"timeProgress","timeLeft","state"],[3,"gameNumber","playersVM","winnerVM","isLoaded"],[3,"closeDialog","isOpen","gifts","balance"],[3,"play","gifts","isLoaded","isDisabled","type"],[3,"betsVM"],[3,"gameId","hash"],[3,"type"],[1,"p-20"]],template:function(n,r){n&1&&(S(0,"div",0)(1,"div",1),Y(2,"app-round-info",2)(3,"app-line-timer",3),A(),Y(4,"app-jackpot-players",4),S(5,"app-dialog",5),re("closeDialog",function(){return r.isDialogOpen=!1}),A(),S(6,"app-jackpot-inventory",6),re("play",function(o){return r.playButtonTap(o)}),A(),Y(7,"app-bet-list",7)(8,"app-game-fairness",8)(9,"app-how-to-play",9)(10,"div",10),A()),n&2&&(E(2),O("vm",r.roundInfoVM),E(),O("timeProgress",r.timeProgress)("timeLeft",r.timeLeft)("state",r.lineTimeState),E(),O("gameNumber",r.roundInfoVM.number)("playersVM",r.playersVM)("winnerVM",r.winnerVM)("isLoaded",r.isJackpotLoaded),E(),O("isOpen",r.isDialogOpen)("gifts",r.wonGifts)("balance",r.wonBalance),E(),O("gifts",r.gifts)("isLoaded",r.isInventoryLoaded)("isDisabled",r.isInventoryDisabled)("type","jackpot"),E(),O("betsVM",r.betsVM),E(),O("gameId",r.roundInfoVM.number)("hash",r.roundInfoVM.hash),E(),O("type","jackpot"))},dependencies:[Ku,Qe,u0,d0,p0,h0,m0,of,sf],encapsulation:2})};var Mj=["*"],yl=class t{isLoading=!1;static \u0275fac=function(n){return new(n||t)};static \u0275cmp=xe({type:t,selectors:[["app-main-button"]],inputs:{isLoading:"isLoading"},ngContentSelectors:Mj,decls:2,vars:1,consts:[[1,"w-full","py-3","rounded-2xl","bg-white","text-black","text-m","font-semibold","disabled:opacity-50","disabled:cursor-not-allowed","cursor-pointer","active:opacity-75","transition-opacity",3,"disabled"]],template:function(n,r){n&1&&(Ms(),S(0,"button",0),ss(1),A()),n&2&&O("disabled",r.isLoading)},encapsulation:2})};var kj=(t,e)=>({"mt-3":t,"border-b border-[#2B2B2B] pb-3":e});function Pj(t,e){if(t&1&&(S(0,"div",2)(1,"p",3),K(2),de(3,"transloco"),A(),S(4,"p",4),K(5),A()()),t&2){let n=e.$implicit,r=Q();O("ngClass",sr(5,kj,n!==r.tableData[0],n!==r.tableData[r.tableData.length-1])),E(2),Ie(he(3,3,n.label)),E(3),Ie(n.value)}}var bl=class t{tableData=[];static \u0275fac=function(n){return new(n||t)};static \u0275cmp=xe({type:t,selectors:[["app-stats-table"]],inputs:{tableData:"tableData"},decls:2,vars:1,consts:[[1,"bg-white/8","p-4","rounded-2xl","safari-fix"],["class","flex justify-between text-white font-semibold",3,"ngClass",4,"ngFor","ngForOf"],[1,"flex","justify-between","text-white","font-semibold",3,"ngClass"],[1,"text-white/60"],[1,"ml-2"]],template:function(n,r){n&1&&(S(0,"div",0),oe(1,Pj,6,8,"div",1),A()),n&2&&(E(),O("ngForOf",r.tableData))},dependencies:[Qe,Mn,bt,dt],encapsulation:2})};var D0=class t{isOpen=!1;onClose=new yt;onShare=new yt;onCopy=new yt;static \u0275fac=function(n){return new(n||t)};static \u0275cmp=xe({type:t,selectors:[["app-invite-friends"]],inputs:{isOpen:"isOpen"},outputs:{onClose:"onClose",onShare:"onShare",onCopy:"onCopy"},decls:17,vars:9,consts:[[1,"flex","flex-col","p-4"],[1,"text-center","text-xl","font-bold","mb-8","safari-fix"],[1,"absolute","top-2","right-2","cursor-pointer",3,"click"],[1,"fa-solid","fa-xmark","w-6","h-6","fa-xl","text-white/70","p-3"],[1,"flex","flex-col","justify-center","gap-4","mb-10"],[1,"w-full",3,"click"],[1,"fa-solid","fa-share","fa-lg"],[1,"ml-3"],[1,"fa-solid","fa-copy","fa-lg"]],template:function(n,r){n&1&&(S(0,"div",0)(1,"p",1),K(2),de(3,"transloco"),A(),S(4,"button",2),re("click",function(){return r.onClose.emit()}),Y(5,"i",3),A(),S(6,"div",4)(7,"app-main-button",5),re("click",function(){return r.onShare.emit()}),Y(8,"i",6),S(9,"span",7),K(10),de(11,"transloco"),A()(),S(12,"app-main-button",5),re("click",function(){return r.onCopy.emit()}),Y(13,"i",8),S(14,"span",7),K(15),de(16,"transloco"),A()()()()),n&2&&(E(2),Ie(he(3,3,"INVITE_FRIENDS")),E(8),Ie(he(11,5,"SHARE")),E(5),Ie(he(16,7,"COPY_LINK")))},dependencies:[yl,dt],encapsulation:2})};var TA=(()=>{class t{_renderer;_elementRef;onChange=n=>{};onTouched=()=>{};constructor(n,r){this._renderer=n,this._elementRef=r}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static \u0275fac=function(r){return new(r||t)(ne(As),ne(xi))};static \u0275dir=fr({type:t})}return t})(),Nj=(()=>{class t extends TA{static \u0275fac=(()=>{let n;return function(i){return(n||(n=Ds(t)))(i||t)}})();static \u0275dir=fr({type:t,features:[go]})}return t})(),$_=new ct("");var Rj={provide:$_,useExisting:da(()=>Fi),multi:!0};function Fj(){let t=wa()?wa().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var Oj=new ct(""),Fi=(()=>{class t extends TA{_compositionMode;_composing=!1;constructor(n,r,i){super(n,r),this._compositionMode=i,this._compositionMode==null&&(this._compositionMode=!Fj())}writeValue(n){let r=n??"";this.setProperty("value",r)}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static \u0275fac=function(r){return new(r||t)(ne(As),ne(xi),ne(Oj,8))};static \u0275dir=fr({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&re("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},standalone:!1,features:[gc([Rj]),go]})}return t})();function wl(t){return t==null||(typeof t=="string"||Array.isArray(t))&&t.length===0}function IA(t){return t!=null&&typeof t.length=="number"}var Dp=new ct(""),V0=new ct(""),Lj=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,Rc=class{static min(e){return Vj(e)}static max(e){return $j(e)}static required(e){return Bj(e)}static requiredTrue(e){return jj(e)}static email(e){return Uj(e)}static minLength(e){return Gj(e)}static maxLength(e){return Hj(e)}static pattern(e){return DA(e)}static nullValidator(e){return M0(e)}static compose(e){return RA(e)}static composeAsync(e){return FA(e)}};function Vj(t){return e=>{if(wl(e.value)||wl(t))return null;let n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}function $j(t){return e=>{if(wl(e.value)||wl(t))return null;let n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}function Bj(t){return wl(t.value)?{required:!0}:null}function jj(t){return t.value===!0?null:{required:!0}}function Uj(t){return wl(t.value)||Lj.test(t.value)?null:{email:!0}}function Gj(t){return e=>wl(e.value)||!IA(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}function Hj(t){return e=>IA(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}function DA(t){if(!t)return M0;let e,n;return typeof t=="string"?(n="",t.charAt(0)!=="^"&&(n+="^"),n+=t,t.charAt(t.length-1)!=="$"&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),r=>{if(wl(r.value))return null;let i=r.value;return e.test(i)?null:{pattern:{requiredPattern:n,actualValue:i}}}}function M0(t){return null}function AA(t){return t!=null}function MA(t){return ya(t)?ur(t):t}function kA(t){let e={};return t.forEach(n=>{e=n!=null?Ne(Ne({},e),n):e}),Object.keys(e).length===0?null:e}function PA(t,e){return e.map(n=>n(t))}function Wj(t){return!t.validate}function NA(t){return t.map(e=>Wj(e)?e:n=>e.validate(n))}function RA(t){if(!t)return null;let e=t.filter(AA);return e.length==0?null:function(n){return kA(PA(n,e))}}function B_(t){return t!=null?RA(NA(t)):null}function FA(t){if(!t)return null;let e=t.filter(AA);return e.length==0?null:function(n){let r=PA(n,e).map(MA);return lu(r).pipe(Ft(kA))}}function j_(t){return t!=null?FA(NA(t)):null}function yA(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function OA(t){return t._rawValidators}function LA(t){return t._rawAsyncValidators}function R_(t){return t?Array.isArray(t)?t:[t]:[]}function k0(t,e){return Array.isArray(t)?t.includes(e):t===e}function bA(t,e){let n=R_(e);return R_(t).forEach(i=>{k0(n,i)||n.push(i)}),n}function wA(t,e){return R_(e).filter(n=>!k0(t,n))}var P0=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=B_(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=j_(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},Aa=class extends P0{name;get formDirective(){return null}get path(){return null}},Fc=class extends P0{_parent=null;name=null;valueAccessor=null},N0=class{_cd;constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},zj={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},a4e=kt(Ne({},zj),{"[class.ng-submitted]":"isSubmitted"}),oo=(()=>{class t extends N0{constructor(n){super(n)}static \u0275fac=function(r){return new(r||t)(ne(Fc,2))};static \u0275dir=fr({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&vr("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},standalone:!1,features:[go]})}return t})(),so=(()=>{class t extends N0{constructor(n){super(n)}static \u0275fac=function(r){return new(r||t)(ne(Aa,10))};static \u0275dir=fr({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&vr("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},standalone:!1,features:[go]})}return t})();var _p="VALID",A0="INVALID",hf="PENDING",xp="DISABLED",Cl=class{},R0=class extends Cl{value;source;constructor(e,n){super(),this.value=e,this.source=n}},Ep=class extends Cl{pristine;source;constructor(e,n){super(),this.pristine=e,this.source=n}},Tp=class extends Cl{touched;source;constructor(e,n){super(),this.touched=e,this.source=n}},mf=class extends Cl{status;source;constructor(e,n){super(),this.status=e,this.source=n}},F_=class extends Cl{source;constructor(e){super(),this.source=e}},O_=class extends Cl{source;constructor(e){super(),this.source=e}};function U_(t){return($0(t)?t.validators:t)||null}function qj(t){return Array.isArray(t)?B_(t):t||null}function G_(t,e){return($0(e)?e.asyncValidators:t)||null}function Kj(t){return Array.isArray(t)?j_(t):t||null}function $0(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function VA(t,e,n){let r=t.controls;if(!(e?Object.keys(r):r).length)throw new Ue(1e3,"");if(!r[n])throw new Ue(1001,"")}function $A(t,e,n){t._forEachChild((r,i)=>{if(n[i]===void 0)throw new Ue(1002,"")})}var gf=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(e,n){this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return as(this.statusReactive)}set status(e){as(()=>this.statusReactive.set(e))}_status=sl(()=>this.statusReactive());statusReactive=dc(void 0);get valid(){return this.status===_p}get invalid(){return this.status===A0}get pending(){return this.status==hf}get disabled(){return this.status===xp}get enabled(){return this.status!==xp}errors;get pristine(){return as(this.pristineReactive)}set pristine(e){as(()=>this.pristineReactive.set(e))}_pristine=sl(()=>this.pristineReactive());pristineReactive=dc(!0);get dirty(){return!this.pristine}get touched(){return as(this.touchedReactive)}set touched(e){as(()=>this.touchedReactive.set(e))}_touched=sl(()=>this.touchedReactive());touchedReactive=dc(!1);get untouched(){return!this.touched}_events=new Wn;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(bA(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(bA(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(wA(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(wA(e,this._rawAsyncValidators))}hasValidator(e){return k0(this._rawValidators,e)}hasAsyncValidator(e){return k0(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let n=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(kt(Ne({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new Tp(!0,r))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(e))}markAsUntouched(e={}){let n=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),n&&e.emitEvent!==!1&&this._events.next(new Tp(!1,r))}markAsDirty(e={}){let n=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(kt(Ne({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new Ep(!1,r))}markAsPristine(e={}){let n=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),n&&e.emitEvent!==!1&&this._events.next(new Ep(!0,r))}markAsPending(e={}){this.status=hf;let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new mf(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(kt(Ne({},e),{sourceControl:n}))}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=xp,this.errors=null,this._forEachChild(i=>{i.disable(kt(Ne({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new R0(this.value,r)),this._events.next(new mf(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(kt(Ne({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=_p,this._forEachChild(r=>{r.enable(kt(Ne({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(kt(Ne({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,n){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===_p||this.status===hf)&&this._runAsyncValidator(r,e.emitEvent)}let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new R0(this.value,n)),this._events.next(new mf(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(kt(Ne({},e),{sourceControl:n}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?xp:_p}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,n){if(this.asyncValidator){this.status=hf,this._hasOwnPendingAsyncValidator={emitEvent:n!==!1};let r=MA(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:n,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1,this,n.shouldHaveEmitted)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,n,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new mf(this.status,n)),this._parent&&this._parent._updateControlsErrors(e,n,r)}_initObservables(){this.valueChanges=new yt,this.statusChanges=new yt}_calculateStatus(){return this._allControlsDisabled()?xp:this.errors?A0:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(hf)?hf:this._anyControlsHaveStatus(A0)?A0:_p}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,n){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,n),i&&this._events.next(new Ep(this.pristine,n))}_updateTouched(e={},n){this.touched=this._anyControlsTouched(),this._events.next(new Tp(this.touched,n)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,n)}_onDisabledChange=[];_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){$0(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=qj(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=Kj(this._rawAsyncValidators)}},vf=class extends gf{constructor(e,n,r){super(U_(n),G_(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){$A(this,!0,e),Object.keys(e).forEach(r=>{VA(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>r._syncPendingControls()?!0:n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{let r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,o)=>{r=n(r,i,o)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var L_=class extends vf{};var Ap=new ct("",{providedIn:"root",factory:()=>B0}),B0="always";function BA(t,e){return[...e.path,t]}function F0(t,e,n=B0){H_(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),Jj(t,e),Zj(t,e),Qj(t,e),Yj(t,e)}function CA(t,e,n=!0){let r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),L0(t,e),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function O0(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function Yj(t,e){if(e.valueAccessor.setDisabledState){let n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function H_(t,e){let n=OA(t);e.validator!==null?t.setValidators(yA(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let r=LA(t);e.asyncValidator!==null?t.setAsyncValidators(yA(r,e.asyncValidator)):typeof r=="function"&&t.setAsyncValidators([r]);let i=()=>t.updateValueAndValidity();O0(e._rawValidators,i),O0(e._rawAsyncValidators,i)}function L0(t,e){let n=!1;if(t!==null){if(e.validator!==null){let i=OA(t);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.validator);o.length!==i.length&&(n=!0,t.setValidators(o))}}if(e.asyncValidator!==null){let i=LA(t);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.asyncValidator);o.length!==i.length&&(n=!0,t.setAsyncValidators(o))}}}let r=()=>{};return O0(e._rawValidators,r),O0(e._rawAsyncValidators,r),n}function Jj(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&jA(t,e)})}function Qj(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&jA(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function jA(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function Zj(t,e){let n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function UA(t,e){t==null,H_(t,e)}function Xj(t,e){return L0(t,e)}function GA(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function eU(t){return Object.getPrototypeOf(t.constructor)===Nj}function HA(t,e){t._syncPendingControls(),e.forEach(n=>{let r=n.control;r.updateOn==="submit"&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function WA(t,e){if(!e)return null;Array.isArray(e);let n,r,i;return e.forEach(o=>{o.constructor===Fi?n=o:eU(o)?r=o:i=o}),i||r||n||null}function tU(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}var nU={provide:Aa,useExisting:da(()=>xo)},Sp=Promise.resolve(),xo=(()=>{class t extends Aa{callSetDisabledState;get submitted(){return as(this.submittedReactive)}_submitted=sl(()=>this.submittedReactive());submittedReactive=dc(!1);_directives=new Set;form;ngSubmit=new yt;options;constructor(n,r,i){super(),this.callSetDisabledState=i,this.form=new vf({},B_(n),j_(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(n){Sp.then(()=>{let r=this._findContainer(n.path);n.control=r.registerControl(n.name,n.control),F0(n.control,n,this.callSetDisabledState),n.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(n)})}getControl(n){return this.form.get(n.path)}removeControl(n){Sp.then(()=>{let r=this._findContainer(n.path);r&&r.removeControl(n.name),this._directives.delete(n)})}addFormGroup(n){Sp.then(()=>{let r=this._findContainer(n.path),i=new vf({});UA(i,n),r.registerControl(n.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(n){Sp.then(()=>{let r=this._findContainer(n.path);r&&r.removeControl(n.name)})}getFormGroup(n){return this.form.get(n.path)}updateModel(n,r){Sp.then(()=>{this.form.get(n.path).setValue(r)})}setValue(n){this.control.setValue(n)}onSubmit(n){return this.submittedReactive.set(!0),HA(this.form,this._directives),this.ngSubmit.emit(n),n?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(n){return n.pop(),n.length?this.form.get(n):this.form}static \u0275fac=function(r){return new(r||t)(ne(Dp,10),ne(V0,10),ne(Ap,8))};static \u0275dir=fr({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){r&1&&re("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[gc([nU]),go]})}return t})();function _A(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function xA(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var Ip=class extends gf{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(e=null,n,r){super(U_(n),G_(r,n)),this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),$0(n)&&(n.nonNullable||n.initialValueIsDefault)&&(xA(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){_A(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){_A(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){xA(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var rU=t=>t instanceof Ip;var iU={provide:Fc,useExisting:da(()=>So)},SA=Promise.resolve(),So=(()=>{class t extends Fc{_changeDetectorRef;callSetDisabledState;control=new Ip;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new yt;constructor(n,r,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=WA(this,o)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){let r=n.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),GA(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){F0(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(n){SA.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){let r=n.isDisabled.currentValue,i=r!==0&&vc(r);SA.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?BA(n,this._parent):[n]}static \u0275fac=function(r){return new(r||t)(ne(Aa,9),ne(Dp,10),ne(V0,10),ne($_,10),ne(qr,8),ne(Ap,8))};static \u0275dir=fr({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[gc([iU]),go,zn]})}return t})(),ao=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275dir=fr({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return t})();var zA=new ct("");var oU={provide:Aa,useExisting:da(()=>W_)},W_=(()=>{class t extends Aa{callSetDisabledState;get submitted(){return as(this._submittedReactive)}set submitted(n){this._submittedReactive.set(n)}_submitted=sl(()=>this._submittedReactive());_submittedReactive=dc(!1);_oldForm;_onCollectionChange=()=>this._updateDomValue();directives=[];form=null;ngSubmit=new yt;constructor(n,r,i){super(),this.callSetDisabledState=i,this._setValidators(n),this._setAsyncValidators(r)}ngOnChanges(n){n.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(L0(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(n){let r=this.form.get(n.path);return F0(r,n,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(n),r}getControl(n){return this.form.get(n.path)}removeControl(n){CA(n.control||null,n,!1),tU(this.directives,n)}addFormGroup(n){this._setUpFormContainer(n)}removeFormGroup(n){this._cleanUpFormContainer(n)}getFormGroup(n){return this.form.get(n.path)}addFormArray(n){this._setUpFormContainer(n)}removeFormArray(n){this._cleanUpFormContainer(n)}getFormArray(n){return this.form.get(n.path)}updateModel(n,r){this.form.get(n.path).setValue(r)}onSubmit(n){return this._submittedReactive.set(!0),HA(this.form,this.directives),this.ngSubmit.emit(n),this.form._events.next(new F_(this.control)),n?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this._submittedReactive.set(!1),this.form._events.next(new O_(this.form))}_updateDomValue(){this.directives.forEach(n=>{let r=n.control,i=this.form.get(n.path);r!==i&&(CA(r||null,n),rU(i)&&(F0(i,n,this.callSetDisabledState),n.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(n){let r=this.form.get(n.path);UA(r,n),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(n){if(this.form){let r=this.form.get(n.path);r&&Xj(r,n)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){H_(this.form,this),this._oldForm&&L0(this._oldForm,this)}static \u0275fac=function(r){return new(r||t)(ne(Dp,10),ne(V0,10),ne(Ap,8))};static \u0275dir=fr({type:t,selectors:[["","formGroup",""]],hostBindings:function(r,i){r&1&&re("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[gc([oU]),go,zn]})}return t})();var sU={provide:Fc,useExisting:da(()=>z_)},z_=(()=>{class t extends Fc{_ngModelWarningConfig;_added=!1;viewModel;control;name=null;set isDisabled(n){}model;update=new yt;static _ngModelWarningSentOnce=!1;_ngModelWarningSent=!1;constructor(n,r,i,o,s){super(),this._ngModelWarningConfig=s,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=WA(this,o)}ngOnChanges(n){this._added||this._setUpControl(),GA(n,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}get path(){return BA(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this.control=this.formDirective.addControl(this),this._added=!0}static \u0275fac=function(r){return new(r||t)(ne(Aa,13),ne(Dp,10),ne(V0,10),ne($_,10),ne(zA,8))};static \u0275dir=fr({type:t,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},standalone:!1,features:[gc([sU]),go,zn]})}return t})();var aU=(()=>{class t{_validator=M0;_onChange;_enabled;ngOnChanges(n){if(this.inputName in n){let r=this.normalizeInput(n[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):M0,this._onChange&&this._onChange()}}validate(n){return this._validator(n)}registerOnValidatorChange(n){this._onChange=n}enabled(n){return n!=null}static \u0275fac=function(r){return new(r||t)};static \u0275dir=fr({type:t,features:[zn]})}return t})();var lU={provide:Dp,useExisting:da(()=>q_),multi:!0},q_=(()=>{class t extends aU{pattern;inputName="pattern";normalizeInput=n=>n;createValidator=n=>DA(n);static \u0275fac=(()=>{let n;return function(i){return(n||(n=Ds(t)))(i||t)}})();static \u0275dir=fr({type:t,selectors:[["","pattern","","formControlName",""],["","pattern","","formControl",""],["","pattern","","ngModel",""]],hostVars:1,hostBindings:function(r,i){r&2&&mc("pattern",i._enabled?i.pattern:null)},inputs:{pattern:"pattern"},standalone:!1,features:[gc([lU]),go]})}return t})();var qA=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=os({type:t});static \u0275inj=rs({})}return t})(),V_=class extends gf{constructor(e,n,r){super(U_(n),G_(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;at(e){return this.controls[this._adjustIndex(e)]}push(e,n={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}insert(e,n,r={}){this.controls.splice(e,0,n),this._registerControl(n),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,n={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:n.emitEvent})}setControl(e,n,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),n&&(this.controls.splice(i,0,n),this._registerControl(n)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,n={}){$A(this,!1,e),e.forEach((r,i)=>{VA(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e=[],n={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(n=>n._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((n,r)=>r._syncPendingControls()?!0:n,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((n,r)=>{e(n,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(n=>n.enabled&&e(n))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(let e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}};function EA(t){return!!t&&(t.asyncValidators!==void 0||t.validators!==void 0||t.updateOn!==void 0)}var KA=(()=>{class t{useNonNullable=!1;get nonNullable(){let n=new t;return n.useNonNullable=!0,n}group(n,r=null){let i=this._reduceControls(n),o={};return EA(r)?o=r:r!==null&&(o.validators=r.validator,o.asyncValidators=r.asyncValidator),new vf(i,o)}record(n,r=null){let i=this._reduceControls(n);return new L_(i,r)}control(n,r,i){let o={};return this.useNonNullable?(EA(r)?o=r:(o.validators=r,o.asyncValidators=i),new Ip(n,kt(Ne({},o),{nonNullable:!0}))):new Ip(n,r,i)}array(n,r,i){let o=n.map(s=>this._createControl(s));return new V_(o,r,i)}_reduceControls(n){let r={};return Object.keys(n).forEach(i=>{r[i]=this._createControl(n[i])}),r}_createControl(n){if(n instanceof Ip)return n;if(n instanceof gf)return n;if(Array.isArray(n)){let r=n[0],i=n.length>1?n[1]:null,o=n.length>2?n[2]:null;return this.control(r,i,o)}else return this.control(n)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=Ve({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var jo=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:Ap,useValue:n.callSetDisabledState??B0}]}}static \u0275fac=function(r){return new(r||t)};static \u0275mod=os({type:t});static \u0275inj=rs({imports:[qA]})}return t})(),_l=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:zA,useValue:n.warnOnNgModelWithFormControl??"always"},{provide:Ap,useValue:n.callSetDisabledState??B0}]}}static \u0275fac=function(r){return new(r||t)};static \u0275mod=os({type:t});static \u0275inj=rs({imports:[qA]})}return t})();var j0=class t{constructor(e){this.http=e}apiUrl=`${In.apiUrl}/referrals`;getReferrals(){let e={"Content-Type":"application/json"};return this.http.get(this.apiUrl,{headers:e})}claimBalance(){let e=`${this.apiUrl}/claimBalance`,n={"Content-Type":"application/json"};return this.http.post(e,{headers:n})}static \u0275fac=function(n){return new(n||t)(Je(Sr))};static \u0275prov=Ve({token:t,factory:t.\u0275fac,providedIn:"root"})};var U0=class t{constructor(e){this.http=e}apiUrl=`${In.apiUrl}/promocode`;redeem(e){let n=`${this.apiUrl}/redeem`,r={"Content-Type":"application/json"},i={code:e.toUpperCase()};return this.http.post(n,i,{headers:r})}static \u0275fac=function(n){return new(n||t)(Je(Sr))};static \u0275prov=Ve({token:t,factory:t.\u0275fac,providedIn:"root"})};var fU=["input"];function dU(t,e){if(t&1){let n=Be();S(0,"app-bottom-sheet",23,1),re("onClose",function(){ue(n);let i=Q();return fe(i.isInviteSheetOpen=!1)}),S(2,"app-invite-friends",24),re("onCopy",function(){ue(n);let i=Q();return fe(i.copyLink())})("onShare",function(){ue(n);let i=Q();return fe(i.share())})("onClose",function(){ue(n);let i=xt(1);return fe(i.closeSheet())}),A()()}if(t&2){let n=Q();O("isOpen",n.isInviteSheetOpen),E(2),O("isOpen",n.isInviteSheetOpen)}}var G0=class t{constructor(e,n,r,i){this.referralService=e;this.promoCodeService=n;this.alertService=r;this.transloco=i}isLoaded=!0;referralBalance="0.00";isClaimDisabled=!0;isInviteSheetOpen=!1;gifts=[];tableData=[{label:"FRIENDS",value:"0"},{label:"YOUR_BONUS",value:"10%"},{label:"TOTAL_EARNED",value:"0.00 TON"}];tgId="";promoCode="";input;ngOnInit(){this.fetchReferrals()}refresh(){this.fetchReferrals()}fetchReferrals(){this.referralService.getReferrals().subscribe({next:e=>{let n=parseFloat(e.referralBalance),r=parseFloat(e.totalReferralRewardsReceived),i=parseFloat(e.referralBonus)*100;this.tableData=[{label:"FRIENDS",value:`${e.referralsCount}`},{label:"YOUR_BONUS",value:`${Fs(i)}%`},{label:"TOTAL_EARNED",value:`${r.toFixed(2)} TON`}],this.gifts=e.referralGifts,this.referralBalance=n.toFixed(2),this.isClaimDisabled=n<.5,this.tgId=e.tgUser.tgId},error:e=>{console.error("Error receiving referrals:",e)}})}claimBalance(){this.isLoaded=!1,this.referralService.claimBalance().subscribe({next:e=>{this.isLoaded=!0,console.log(e),this.alertService.success("ALERT_REFERRAL_REWARD_RECEIVED"),this.isClaimDisabled=!0,this.fetchReferrals()},error:e=>{this.isLoaded=!0,console.error("Error receiving claim:",e)}})}redeemPromoCode(){this.promoCodeService.redeem(this.promoCode).subscribe({next:e=>{let n=this.transloco.translate("ALERT_PROMO_ACTIVATED",{amount:e.reward});this.alertService.success(n,3500),this.promoCode=""},error:e=>{this.alertService.error(e.error.message,2500),this.promoCode=""}})}share(){this.isInviteSheetOpen=!1;let e="\u0413\u043E\u0442\u043E\u0432\u044C \u0441\u0432\u043E\u0439 \u043B\u043E\u043B\u0438-\u043F\u043E\u043F!",n=this.getBotLink(),r=`https://t.me/share/url?url=${n}&text=${e}`;Telegram.WebApp.openTelegramLink(r),navigator.clipboard.writeText(n).then(()=>{}).catch(i=>{console.error("\u041E\u0448\u0438\u0431\u043A\u0430 \u043F\u0440\u0438 \u043A\u043E\u043F\u0438\u0440\u043E\u0432\u0430\u043D\u0438\u0438:",i)})}copyLink(){this.isInviteSheetOpen=!1;let e=this.getBotLink();navigator.clipboard.writeText(e).then(()=>{}).catch(n=>{console.error("\u041E\u0448\u0438\u0431\u043A\u0430 \u043F\u0440\u0438 \u043A\u043E\u043F\u0438\u0440\u043E\u0432\u0430\u043D\u0438\u0438:",n)}),this.alertService.success("ALERT_LINK_COPIED")}blurInput(){this.input?.nativeElement?.blur()}getBotLink(){let e;this.tgId==""?e=localStorage.getItem($t.userIdKey)??"":e=this.tgId;let n=BigInt(e.replace(/\D/g,"")),r=this.xorEncryptBigInt(n);return`https://t.me/GiftJackpotBot/play?startapp=${this.toBase62BigInt(r)}`}xorEncryptBigInt(e){let n=BigInt(1011199900);return e^n}toBase62BigInt(e){let n="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";if(e===BigInt(0))return"0";let r="",i=BigInt(62);for(;e>0;)r=n[Number(e%i)]+r,e=e/i;return r}static \u0275fac=function(n){return new(n||t)(ne(j0),ne(U0),ne(or),ne(ar))};static \u0275cmp=xe({type:t,selectors:[["app-friends"]],viewQuery:function(n,r){if(n&1&&Fn(fU,5),n&2){let i;Pn(i=Nn())&&(r.input=i.first)}},decls:50,vars:43,consts:[["input",""],["inviteSheet",""],[1,"p-3","relative",3,"click"],[1,"text-2xl","font-bold"],[1,"text-[#ABABAB]","text-sm","font-medium","mt-1"],[1,"text-xl","font-semibold","mt-3","mb-2"],[1,"flex","justify-between","gap-2"],[1,"bg-white/8","p-3","rounded-2xl","w-full"],[1,"text-lg","font-semibold","text-center","mb-3"],[1,"p-2","px-4","bg-white/8","rounded-2xl","border-1","border-white/15","break-all"],[1,"text-white/50","text-center","text-sm","mt-1","mb-4"],[1,"flex","h-9","mb-1",3,"click","isLoading","isDisabled"],[3,"ngSubmit","click"],["type","text","name","promocode","placeholder","",1,"w-full","p-2","px-4","border","uppercase","placeholder:normal-case","bg-white/8","border-white/25","rounded-2xl","focus:outline-none","focus:border-white/60",3,"ngModelChange","ngModel"],[1,"text-white/50","text-sm","mt-1","mb-4","invisible"],[1,"flex","h-9","mb-1",3,"click","isDisabled"],[1,"text-xl","font-semibold","mt-4","mb-2"],[3,"tableData"],[3,"isOpen","onClose",4,"ngIf"],[1,"absolute","bottom-30","left-0","w-full","px-4"],[1,"w-full",3,"click"],[1,"fa-solid","fa-user-plus","fa-lg"],[1,"ml-3"],[3,"onClose","isOpen"],[3,"onCopy","onShare","onClose","isOpen"]],template:function(n,r){if(n&1){let i=Be();S(0,"div",2),re("click",function(){return ue(i),fe(r.blurInput())}),S(1,"p",3),K(2),de(3,"transloco"),A(),S(4,"p",4),K(5),de(6,"transloco"),Y(7,"br"),K(8),de(9,"transloco"),A(),S(10,"h1",5),K(11),de(12,"transloco"),A(),S(13,"div",6)(14,"div",7)(15,"h1",8),K(16),de(17,"transloco"),A(),S(18,"div",9),K(19),A(),S(20,"p",10),K(21),de(22,"transloco"),A(),S(23,"app-loading-button",11),re("click",function(){return ue(i),fe(r.claimBalance())}),K(24),de(25,"transloco"),A()(),S(26,"div",7)(27,"h1",8),K(28),de(29,"transloco"),A(),S(30,"form",12),re("ngSubmit",function(){return ue(i),fe(r.redeemPromoCode())})("click",function(s){return ue(i),fe(s.stopPropagation())}),S(31,"input",13,0),ki("ngModelChange",function(s){return ue(i),Ui(r.promoCode,s)||(r.promoCode=s),fe(s)}),A()(),S(33,"p",14),K(34),de(35,"transloco"),A(),S(36,"app-loading-button",15),re("click",function(){return ue(i),fe(r.redeemPromoCode())}),K(37),de(38,"transloco"),A()()(),S(39,"h1",16),K(40),de(41,"transloco"),A(),Y(42,"app-stats-table",17),oe(43,dU,3,2,"app-bottom-sheet",18),A(),S(44,"div",19)(45,"app-main-button",20),re("click",function(){return ue(i),fe(r.isInviteSheetOpen=!0)}),Y(46,"i",21),S(47,"span",22),K(48),de(49,"transloco"),A()()()}n&2&&(E(2),Ie(he(3,19,"INVITE_FRIENDS")),E(3),Te(" ",he(6,21,"INVITE_DESCRIPTION_1"),""),E(3),Te("",he(9,23,"INVITE_DESCRIPTION_2")," "),E(3),Ie(he(12,25,"BONUSES")),E(5),Ie(he(17,27,"YOUR_REWARD")),E(3),Te(" ",r.referralBalance," "),E(2),Ie(he(22,29,"MIN_AMOUNT_0.5")),E(2),O("isLoading",!r.isLoaded)("isDisabled",r.isClaimDisabled),E(),Te(" ",he(25,31,"CLAIM")," "),E(4),Ie(he(29,33,"PROMOCODE")),E(3),Mi("ngModel",r.promoCode),E(3),Ie(he(35,35,"PROMOCODE")),E(2),O("isDisabled",r.promoCode.length==0),E(),Te(" ",he(38,37,"ACTIVATE")," "),E(3),Ie(he(41,39,"STATS")),E(2),O("tableData",r.tableData),E(),O("ngIf",r.isLoaded),E(5),Ie(he(49,41,"INVITE_FRIENDS")))},dependencies:[yl,bl,Qe,ut,gi,Ri,D0,jo,ao,Fi,oo,so,So,xo,_l,dt],encapsulation:2})};var pU=(t,e)=>({width:t,transform:e}),hU=(t,e)=>({"text-white":t,"text-white/40":e});function mU(t,e){if(t&1){let n=Be();S(0,"button",3),re("click",function(){let i=ue(n).index,o=Q();return fe(o.selectItem(i))}),K(1),de(2,"transloco"),A()}if(t&2){let n=e.$implicit,r=e.index,i=Q();O("ngClass",sr(4,hU,i.activeItem===r,i.activeItem!==r)),E(),Te(" ",he(2,2,n)," ")}}var H0=class t{items=[];activeItem=0;itemChanged=new yt;selectItem(e){this.activeItem=e,this.itemChanged.emit(e)}getTranslateX(){return`translateX(${this.activeItem*100}%)`}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=xe({type:t,selectors:[["app-picker"]],inputs:{items:"items",activeItem:"activeItem"},outputs:{itemChanged:"itemChanged"},decls:3,vars:5,consts:[[1,"grid","grid-flow-col","mt-3","bg-[#141414]","rounded-2xl","relative"],[1,"absolute","h-full","bg-white/10","rounded-2xl","transition-transform","duration-500","ease-out",3,"ngStyle"],["class","py-2 font-medium relative cursor-pointer",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"py-2","font-medium","relative","cursor-pointer",3,"click","ngClass"]],template:function(n,r){n&1&&(S(0,"div",0),Y(1,"div",1),oe(2,mU,3,7,"button",2),A()),n&2&&(E(),O("ngStyle",sr(2,pU,100/r.items.length+"%",r.getTranslateX())),E(),O("ngForOf",r.items))},dependencies:[Qe,Mn,bt,yr,dt],encapsulation:2})};function gU(t,e){if(t&1){let n=Be();nt(0),S(1,"span",7),re("click",function(){ue(n);let i=Q().$implicit,o=Q();return fe(o.onBadgeClick(i.badge))}),K(2),A(),rt()}if(t&2){let n=Q().$implicit,r=Q();E(),Wr("cursor",n.badge.isClickable?"pointer":"default"),O("ngClass",r.getBadgeClasses(n.badge))("ngStyle",r.getBadgeStyles(n.badge)),E(),Te(" ",n.badge.text," ")}}function vU(t,e){if(t&1&&(S(0,"tr",2)(1,"td",3),K(2),de(3,"transloco"),A(),S(4,"td",4)(5,"span",5),K(6),A(),oe(7,gU,3,5,"ng-container",6),A()()),t&2){let n=e.$implicit;E(2),Ie(he(3,3,n.label)),E(4),Ie(n.value),E(),O("ngIf",n.badge)}}var W0=class t{data=[];getBadgeClasses(e){if(!e)return"";let n="inline-flex items-center justify-center",r={green:"bg-green-500/20 text-green-400",red:"bg-red-500/20 text-red-400",blue:"bg-blue-500/20 text-blue-500",yellow:"bg-yellow-500/20 text-yellow-400",gray:"bg-white text-black"};return e.color&&e.color in r?`${n} ${r[e.color]}`:n}getBadgeStyles(e){return!e||!e.color||e.color in["green","red","blue","yellow","gray"]?{}:{backgroundColor:`${e.color}20`,color:`${e.color}100`}}onBadgeClick(e){e&&e.isClickable&&e.action&&e.action()}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=xe({type:t,selectors:[["app-table"]],inputs:{data:"data"},decls:3,vars:1,consts:[[1,"w-full","border","border-white/10","rounded-2xl","overflow-hidden"],["class","border-b border-white/7",4,"ngFor","ngForOf"],[1,"border-b","border-white/7"],[1,"py-3","px-4","bg-white/10","text-sm","font-medium","whitespace-nowrap"],[1,"py-3","px-4","text-sm","bg-white/5","w-full","flex","items-center"],[1,"shrink-0"],[4,"ngIf"],[1,"ml-2","px-2","py-0.5","rounded-full","text-xs","text-center","shrink-0","font-medium",3,"click","ngClass","ngStyle"]],template:function(n,r){n&1&&(S(0,"table",0)(1,"tbody"),oe(2,vU,8,5,"tr",1),A()()),n&2&&(E(2),O("ngForOf",r.data))},dependencies:[Qe,Mn,bt,ut,yr,dt],encapsulation:2})};var Uo=(i=>(i.USER="USER",i.MODER="MODER",i.ADMIN="ADMIN",i.TESTER="TESTER",i))(Uo||{});var yU={full:"EEEE, d MMMM yyyy",long:"d MMMM yyyy",medium:"d MMM yyyy",short:"dd/MM/yyyy"},bU={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},wU={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},YA={date:Ni({formats:yU,defaultWidth:"full"}),time:Ni({formats:bU,defaultWidth:"full"}),dateTime:Ni({formats:wU,defaultWidth:"full"})};var K_={code:"en-GB",formatDistance:Qg,formatLong:YA,formatRelative:Zg,localize:Xg,match:e0,options:{weekStartsOn:1,firstWeekContainsDate:4}};function Mp(t,e){if(t.one!==void 0&&e===1)return t.one;let n=e%10,r=e%100;return n===1&&r!==11?t.singularNominative.replace("{{count}}",String(e)):n>=2&&n<=4&&(r<10||r>20)?t.singularGenitive.replace("{{count}}",String(e)):t.pluralGenitive.replace("{{count}}",String(e))}function Hi(t){return(e,n)=>n?.addSuffix?n.comparison&&n.comparison>0?t.future?Mp(t.future,e):"\u0447\u0435\u0440\u0435\u0437 "+Mp(t.regular,e):t.past?Mp(t.past,e):Mp(t.regular,e)+" \u043D\u0430\u0437\u0430\u0434":Mp(t.regular,e)}var CU={lessThanXSeconds:Hi({regular:{one:"\u043C\u0435\u043D\u044C\u0448\u0435 \u0441\u0435\u043A\u0443\u043D\u0434\u044B",singularNominative:"\u043C\u0435\u043D\u044C\u0448\u0435 {{count}} \u0441\u0435\u043A\u0443\u043D\u0434\u044B",singularGenitive:"\u043C\u0435\u043D\u044C\u0448\u0435 {{count}} \u0441\u0435\u043A\u0443\u043D\u0434",pluralGenitive:"\u043C\u0435\u043D\u044C\u0448\u0435 {{count}} \u0441\u0435\u043A\u0443\u043D\u0434"},future:{one:"\u043C\u0435\u043D\u044C\u0448\u0435, \u0447\u0435\u043C \u0447\u0435\u0440\u0435\u0437 \u0441\u0435\u043A\u0443\u043D\u0434\u0443",singularNominative:"\u043C\u0435\u043D\u044C\u0448\u0435, \u0447\u0435\u043C \u0447\u0435\u0440\u0435\u0437 {{count}} \u0441\u0435\u043A\u0443\u043D\u0434\u0443",singularGenitive:"\u043C\u0435\u043D\u044C\u0448\u0435, \u0447\u0435\u043C \u0447\u0435\u0440\u0435\u0437 {{count}} \u0441\u0435\u043A\u0443\u043D\u0434\u044B",pluralGenitive:"\u043C\u0435\u043D\u044C\u0448\u0435, \u0447\u0435\u043C \u0447\u0435\u0440\u0435\u0437 {{count}} \u0441\u0435\u043A\u0443\u043D\u0434"}}),xSeconds:Hi({regular:{singularNominative:"{{count}} \u0441\u0435\u043A\u0443\u043D\u0434\u0430",singularGenitive:"{{count}} \u0441\u0435\u043A\u0443\u043D\u0434\u044B",pluralGenitive:"{{count}} \u0441\u0435\u043A\u0443\u043D\u0434"},past:{singularNominative:"{{count}} \u0441\u0435\u043A\u0443\u043D\u0434\u0443 \u043D\u0430\u0437\u0430\u0434",singularGenitive:"{{count}} \u0441\u0435\u043A\u0443\u043D\u0434\u044B \u043D\u0430\u0437\u0430\u0434",pluralGenitive:"{{count}} \u0441\u0435\u043A\u0443\u043D\u0434 \u043D\u0430\u0437\u0430\u0434"},future:{singularNominative:"\u0447\u0435\u0440\u0435\u0437 {{count}} \u0441\u0435\u043A\u0443\u043D\u0434\u0443",singularGenitive:"\u0447\u0435\u0440\u0435\u0437 {{count}} \u0441\u0435\u043A\u0443\u043D\u0434\u044B",pluralGenitive:"\u0447\u0435\u0440\u0435\u0437 {{count}} \u0441\u0435\u043A\u0443\u043D\u0434"}}),halfAMinute:(t,e)=>e?.addSuffix?e.comparison&&e.comparison>0?"\u0447\u0435\u0440\u0435\u0437 \u043F\u043E\u043B\u043C\u0438\u043D\u0443\u0442\u044B":"\u043F\u043E\u043B\u043C\u0438\u043D\u0443\u0442\u044B \u043D\u0430\u0437\u0430\u0434":"\u043F\u043E\u043B\u043C\u0438\u043D\u0443\u0442\u044B",lessThanXMinutes:Hi({regular:{one:"\u043C\u0435\u043D\u044C\u0448\u0435 \u043C\u0438\u043D\u0443\u0442\u044B",singularNominative:"\u043C\u0435\u043D\u044C\u0448\u0435 {{count}} \u043C\u0438\u043D\u0443\u0442\u044B",singularGenitive:"\u043C\u0435\u043D\u044C\u0448\u0435 {{count}} \u043C\u0438\u043D\u0443\u0442",pluralGenitive:"\u043C\u0435\u043D\u044C\u0448\u0435 {{count}} \u043C\u0438\u043D\u0443\u0442"},future:{one:"\u043C\u0435\u043D\u044C\u0448\u0435, \u0447\u0435\u043C \u0447\u0435\u0440\u0435\u0437 \u043C\u0438\u043D\u0443\u0442\u0443",singularNominative:"\u043C\u0435\u043D\u044C\u0448\u0435, \u0447\u0435\u043C \u0447\u0435\u0440\u0435\u0437 {{count}} \u043C\u0438\u043D\u0443\u0442\u0443",singularGenitive:"\u043C\u0435\u043D\u044C\u0448\u0435, \u0447\u0435\u043C \u0447\u0435\u0440\u0435\u0437 {{count}} \u043C\u0438\u043D\u0443\u0442\u044B",pluralGenitive:"\u043C\u0435\u043D\u044C\u0448\u0435, \u0447\u0435\u043C \u0447\u0435\u0440\u0435\u0437 {{count}} \u043C\u0438\u043D\u0443\u0442"}}),xMinutes:Hi({regular:{singularNominative:"{{count}} \u043C\u0438\u043D\u0443\u0442\u0430",singularGenitive:"{{count}} \u043C\u0438\u043D\u0443\u0442\u044B",pluralGenitive:"{{count}} \u043C\u0438\u043D\u0443\u0442"},past:{singularNominative:"{{count}} \u043C\u0438\u043D\u0443\u0442\u0443 \u043D\u0430\u0437\u0430\u0434",singularGenitive:"{{count}} \u043C\u0438\u043D\u0443\u0442\u044B \u043D\u0430\u0437\u0430\u0434",pluralGenitive:"{{count}} \u043C\u0438\u043D\u0443\u0442 \u043D\u0430\u0437\u0430\u0434"},future:{singularNominative:"\u0447\u0435\u0440\u0435\u0437 {{count}} \u043C\u0438\u043D\u0443\u0442\u0443",singularGenitive:"\u0447\u0435\u0440\u0435\u0437 {{count}} \u043C\u0438\u043D\u0443\u0442\u044B",pluralGenitive:"\u0447\u0435\u0440\u0435\u0437 {{count}} \u043C\u0438\u043D\u0443\u0442"}}),aboutXHours:Hi({regular:{singularNominative:"\u043E\u043A\u043E\u043B\u043E {{count}} \u0447\u0430\u0441\u0430",singularGenitive:"\u043E\u043A\u043E\u043B\u043E {{count}} \u0447\u0430\u0441\u043E\u0432",pluralGenitive:"\u043E\u043A\u043E\u043B\u043E {{count}} \u0447\u0430\u0441\u043E\u0432"},future:{singularNominative:"\u043F\u0440\u0438\u0431\u043B\u0438\u0437\u0438\u0442\u0435\u043B\u044C\u043D\u043E \u0447\u0435\u0440\u0435\u0437 {{count}} \u0447\u0430\u0441",singularGenitive:"\u043F\u0440\u0438\u0431\u043B\u0438\u0437\u0438\u0442\u0435\u043B\u044C\u043D\u043E \u0447\u0435\u0440\u0435\u0437 {{count}} \u0447\u0430\u0441\u0430",pluralGenitive:"\u043F\u0440\u0438\u0431\u043B\u0438\u0437\u0438\u0442\u0435\u043B\u044C\u043D\u043E \u0447\u0435\u0440\u0435\u0437 {{count}} \u0447\u0430\u0441\u043E\u0432"}}),xHours:Hi({regular:{singularNominative:"{{count}} \u0447\u0430\u0441",singularGenitive:"{{count}} \u0447\u0430\u0441\u0430",pluralGenitive:"{{count}} \u0447\u0430\u0441\u043E\u0432"}}),xDays:Hi({regular:{singularNominative:"{{count}} \u0434\u0435\u043D\u044C",singularGenitive:"{{count}} \u0434\u043D\u044F",pluralGenitive:"{{count}} \u0434\u043D\u0435\u0439"}}),aboutXWeeks:Hi({regular:{singularNominative:"\u043E\u043A\u043E\u043B\u043E {{count}} \u043D\u0435\u0434\u0435\u043B\u0438",singularGenitive:"\u043E\u043A\u043E\u043B\u043E {{count}} \u043D\u0435\u0434\u0435\u043B\u044C",pluralGenitive:"\u043E\u043A\u043E\u043B\u043E {{count}} \u043D\u0435\u0434\u0435\u043B\u044C"},future:{singularNominative:"\u043F\u0440\u0438\u0431\u043B\u0438\u0437\u0438\u0442\u0435\u043B\u044C\u043D\u043E \u0447\u0435\u0440\u0435\u0437 {{count}} \u043D\u0435\u0434\u0435\u043B\u044E",singularGenitive:"\u043F\u0440\u0438\u0431\u043B\u0438\u0437\u0438\u0442\u0435\u043B\u044C\u043D\u043E \u0447\u0435\u0440\u0435\u0437 {{count}} \u043D\u0435\u0434\u0435\u043B\u0438",pluralGenitive:"\u043F\u0440\u0438\u0431\u043B\u0438\u0437\u0438\u0442\u0435\u043B\u044C\u043D\u043E \u0447\u0435\u0440\u0435\u0437 {{count}} \u043D\u0435\u0434\u0435\u043B\u044C"}}),xWeeks:Hi({regular:{singularNominative:"{{count}} \u043D\u0435\u0434\u0435\u043B\u044F",singularGenitive:"{{count}} \u043D\u0435\u0434\u0435\u043B\u0438",pluralGenitive:"{{count}} \u043D\u0435\u0434\u0435\u043B\u044C"}}),aboutXMonths:Hi({regular:{singularNominative:"\u043E\u043A\u043E\u043B\u043E {{count}} \u043C\u0435\u0441\u044F\u0446\u0430",singularGenitive:"\u043E\u043A\u043E\u043B\u043E {{count}} \u043C\u0435\u0441\u044F\u0446\u0435\u0432",pluralGenitive:"\u043E\u043A\u043E\u043B\u043E {{count}} \u043C\u0435\u0441\u044F\u0446\u0435\u0432"},future:{singularNominative:"\u043F\u0440\u0438\u0431\u043B\u0438\u0437\u0438\u0442\u0435\u043B\u044C\u043D\u043E \u0447\u0435\u0440\u0435\u0437 {{count}} \u043C\u0435\u0441\u044F\u0446",singularGenitive:"\u043F\u0440\u0438\u0431\u043B\u0438\u0437\u0438\u0442\u0435\u043B\u044C\u043D\u043E \u0447\u0435\u0440\u0435\u0437 {{count}} \u043C\u0435\u0441\u044F\u0446\u0430",pluralGenitive:"\u043F\u0440\u0438\u0431\u043B\u0438\u0437\u0438\u0442\u0435\u043B\u044C\u043D\u043E \u0447\u0435\u0440\u0435\u0437 {{count}} \u043C\u0435\u0441\u044F\u0446\u0435\u0432"}}),xMonths:Hi({regular:{singularNominative:"{{count}} \u043C\u0435\u0441\u044F\u0446",singularGenitive:"{{count}} \u043C\u0435\u0441\u044F\u0446\u0430",pluralGenitive:"{{count}} \u043C\u0435\u0441\u044F\u0446\u0435\u0432"}}),aboutXYears:Hi({regular:{singularNominative:"\u043E\u043A\u043E\u043B\u043E {{count}} \u0433\u043E\u0434\u0430",singularGenitive:"\u043E\u043A\u043E\u043B\u043E {{count}} \u043B\u0435\u0442",pluralGenitive:"\u043E\u043A\u043E\u043B\u043E {{count}} \u043B\u0435\u0442"},future:{singularNominative:"\u043F\u0440\u0438\u0431\u043B\u0438\u0437\u0438\u0442\u0435\u043B\u044C\u043D\u043E \u0447\u0435\u0440\u0435\u0437 {{count}} \u0433\u043E\u0434",singularGenitive:"\u043F\u0440\u0438\u0431\u043B\u0438\u0437\u0438\u0442\u0435\u043B\u044C\u043D\u043E \u0447\u0435\u0440\u0435\u0437 {{count}} \u0433\u043E\u0434\u0430",pluralGenitive:"\u043F\u0440\u0438\u0431\u043B\u0438\u0437\u0438\u0442\u0435\u043B\u044C\u043D\u043E \u0447\u0435\u0440\u0435\u0437 {{count}} \u043B\u0435\u0442"}}),xYears:Hi({regular:{singularNominative:"{{count}} \u0433\u043E\u0434",singularGenitive:"{{count}} \u0433\u043E\u0434\u0430",pluralGenitive:"{{count}} \u043B\u0435\u0442"}}),overXYears:Hi({regular:{singularNominative:"\u0431\u043E\u043B\u044C\u0448\u0435 {{count}} \u0433\u043E\u0434\u0430",singularGenitive:"\u0431\u043E\u043B\u044C\u0448\u0435 {{count}} \u043B\u0435\u0442",pluralGenitive:"\u0431\u043E\u043B\u044C\u0448\u0435 {{count}} \u043B\u0435\u0442"},future:{singularNominative:"\u0431\u043E\u043B\u044C\u0448\u0435, \u0447\u0435\u043C \u0447\u0435\u0440\u0435\u0437 {{count}} \u0433\u043E\u0434",singularGenitive:"\u0431\u043E\u043B\u044C\u0448\u0435, \u0447\u0435\u043C \u0447\u0435\u0440\u0435\u0437 {{count}} \u0433\u043E\u0434\u0430",pluralGenitive:"\u0431\u043E\u043B\u044C\u0448\u0435, \u0447\u0435\u043C \u0447\u0435\u0440\u0435\u0437 {{count}} \u043B\u0435\u0442"}}),almostXYears:Hi({regular:{singularNominative:"\u043F\u043E\u0447\u0442\u0438 {{count}} \u0433\u043E\u0434",singularGenitive:"\u043F\u043E\u0447\u0442\u0438 {{count}} \u0433\u043E\u0434\u0430",pluralGenitive:"\u043F\u043E\u0447\u0442\u0438 {{count}} \u043B\u0435\u0442"},future:{singularNominative:"\u043F\u043E\u0447\u0442\u0438 \u0447\u0435\u0440\u0435\u0437 {{count}} \u0433\u043E\u0434",singularGenitive:"\u043F\u043E\u0447\u0442\u0438 \u0447\u0435\u0440\u0435\u0437 {{count}} \u0433\u043E\u0434\u0430",pluralGenitive:"\u043F\u043E\u0447\u0442\u0438 \u0447\u0435\u0440\u0435\u0437 {{count}} \u043B\u0435\u0442"}})},JA=(t,e,n)=>CU[t](e,n);var _U={full:"EEEE, d MMMM y '\u0433.'",long:"d MMMM y '\u0433.'",medium:"d MMM y '\u0433.'",short:"dd.MM.y"},xU={full:"H:mm:ss zzzz",long:"H:mm:ss z",medium:"H:mm:ss",short:"H:mm"},SU={any:"{{date}}, {{time}}"},QA={date:Ni({formats:_U,defaultWidth:"full"}),time:Ni({formats:xU,defaultWidth:"full"}),dateTime:Ni({formats:SU,defaultWidth:"any"})};var Y_=["\u0432\u043E\u0441\u043A\u0440\u0435\u0441\u0435\u043D\u044C\u0435","\u043F\u043E\u043D\u0435\u0434\u0435\u043B\u044C\u043D\u0438\u043A","\u0432\u0442\u043E\u0440\u043D\u0438\u043A","\u0441\u0440\u0435\u0434\u0443","\u0447\u0435\u0442\u0432\u0435\u0440\u0433","\u043F\u044F\u0442\u043D\u0438\u0446\u0443","\u0441\u0443\u0431\u0431\u043E\u0442\u0443"];function EU(t){let e=Y_[t];switch(t){case 0:return"'\u0432 \u043F\u0440\u043E\u0448\u043B\u043E\u0435 "+e+" \u0432' p";case 1:case 2:case 4:return"'\u0432 \u043F\u0440\u043E\u0448\u043B\u044B\u0439 "+e+" \u0432' p";case 3:case 5:case 6:return"'\u0432 \u043F\u0440\u043E\u0448\u043B\u0443\u044E "+e+" \u0432' p"}}function ZA(t){let e=Y_[t];return t===2?"'\u0432\u043E "+e+" \u0432' p":"'\u0432 "+e+" \u0432' p"}function TU(t){let e=Y_[t];switch(t){case 0:return"'\u0432 \u0441\u043B\u0435\u0434\u0443\u044E\u0449\u0435\u0435 "+e+" \u0432' p";case 1:case 2:case 4:return"'\u0432 \u0441\u043B\u0435\u0434\u0443\u044E\u0449\u0438\u0439 "+e+" \u0432' p";case 3:case 5:case 6:return"'\u0432 \u0441\u043B\u0435\u0434\u0443\u044E\u0449\u0443\u044E "+e+" \u0432' p"}}var IU={lastWeek:(t,e,n)=>{let r=t.getDay();return lp(t,e,n)?ZA(r):EU(r)},yesterday:"'\u0432\u0447\u0435\u0440\u0430 \u0432' p",today:"'\u0441\u0435\u0433\u043E\u0434\u043D\u044F \u0432' p",tomorrow:"'\u0437\u0430\u0432\u0442\u0440\u0430 \u0432' p",nextWeek:(t,e,n)=>{let r=t.getDay();return lp(t,e,n)?ZA(r):TU(r)},other:"P"},XA=(t,e,n,r)=>{let i=IU[t];return typeof i=="function"?i(e,n,r):i};var DU={narrow:["\u0434\u043E \u043D.\u044D.","\u043D.\u044D."],abbreviated:["\u0434\u043E \u043D. \u044D.","\u043D. \u044D."],wide:["\u0434\u043E \u043D\u0430\u0448\u0435\u0439 \u044D\u0440\u044B","\u043D\u0430\u0448\u0435\u0439 \u044D\u0440\u044B"]},AU={narrow:["1","2","3","4"],abbreviated:["1-\u0439 \u043A\u0432.","2-\u0439 \u043A\u0432.","3-\u0439 \u043A\u0432.","4-\u0439 \u043A\u0432."],wide:["1-\u0439 \u043A\u0432\u0430\u0440\u0442\u0430\u043B","2-\u0439 \u043A\u0432\u0430\u0440\u0442\u0430\u043B","3-\u0439 \u043A\u0432\u0430\u0440\u0442\u0430\u043B","4-\u0439 \u043A\u0432\u0430\u0440\u0442\u0430\u043B"]},MU={narrow:["\u042F","\u0424","\u041C","\u0410","\u041C","\u0418","\u0418","\u0410","\u0421","\u041E","\u041D","\u0414"],abbreviated:["\u044F\u043D\u0432.","\u0444\u0435\u0432.","\u043C\u0430\u0440\u0442","\u0430\u043F\u0440.","\u043C\u0430\u0439","\u0438\u044E\u043D\u044C","\u0438\u044E\u043B\u044C","\u0430\u0432\u0433.","\u0441\u0435\u043D\u0442.","\u043E\u043A\u0442.","\u043D\u043E\u044F\u0431.","\u0434\u0435\u043A."],wide:["\u044F\u043D\u0432\u0430\u0440\u044C","\u0444\u0435\u0432\u0440\u0430\u043B\u044C","\u043C\u0430\u0440\u0442","\u0430\u043F\u0440\u0435\u043B\u044C","\u043C\u0430\u0439","\u0438\u044E\u043D\u044C","\u0438\u044E\u043B\u044C","\u0430\u0432\u0433\u0443\u0441\u0442","\u0441\u0435\u043D\u0442\u044F\u0431\u0440\u044C","\u043E\u043A\u0442\u044F\u0431\u0440\u044C","\u043D\u043E\u044F\u0431\u0440\u044C","\u0434\u0435\u043A\u0430\u0431\u0440\u044C"]},kU={narrow:["\u042F","\u0424","\u041C","\u0410","\u041C","\u0418","\u0418","\u0410","\u0421","\u041E","\u041D","\u0414"],abbreviated:["\u044F\u043D\u0432.","\u0444\u0435\u0432.","\u043C\u0430\u0440.","\u0430\u043F\u0440.","\u043C\u0430\u044F","\u0438\u044E\u043D.","\u0438\u044E\u043B.","\u0430\u0432\u0433.","\u0441\u0435\u043D\u0442.","\u043E\u043A\u0442.","\u043D\u043E\u044F\u0431.","\u0434\u0435\u043A."],wide:["\u044F\u043D\u0432\u0430\u0440\u044F","\u0444\u0435\u0432\u0440\u0430\u043B\u044F","\u043C\u0430\u0440\u0442\u0430","\u0430\u043F\u0440\u0435\u043B\u044F","\u043C\u0430\u044F","\u0438\u044E\u043D\u044F","\u0438\u044E\u043B\u044F","\u0430\u0432\u0433\u0443\u0441\u0442\u0430","\u0441\u0435\u043D\u0442\u044F\u0431\u0440\u044F","\u043E\u043A\u0442\u044F\u0431\u0440\u044F","\u043D\u043E\u044F\u0431\u0440\u044F","\u0434\u0435\u043A\u0430\u0431\u0440\u044F"]},PU={narrow:["\u0412","\u041F","\u0412","\u0421","\u0427","\u041F","\u0421"],short:["\u0432\u0441","\u043F\u043D","\u0432\u0442","\u0441\u0440","\u0447\u0442","\u043F\u0442","\u0441\u0431"],abbreviated:["\u0432\u0441\u043A","\u043F\u043D\u0434","\u0432\u0442\u0440","\u0441\u0440\u0434","\u0447\u0442\u0432","\u043F\u0442\u043D","\u0441\u0443\u0431"],wide:["\u0432\u043E\u0441\u043A\u0440\u0435\u0441\u0435\u043D\u044C\u0435","\u043F\u043E\u043D\u0435\u0434\u0435\u043B\u044C\u043D\u0438\u043A","\u0432\u0442\u043E\u0440\u043D\u0438\u043A","\u0441\u0440\u0435\u0434\u0430","\u0447\u0435\u0442\u0432\u0435\u0440\u0433","\u043F\u044F\u0442\u043D\u0438\u0446\u0430","\u0441\u0443\u0431\u0431\u043E\u0442\u0430"]},NU={narrow:{am:"\u0414\u041F",pm:"\u041F\u041F",midnight:"\u043F\u043E\u043B\u043D.",noon:"\u043F\u043E\u043B\u0434.",morning:"\u0443\u0442\u0440\u043E",afternoon:"\u0434\u0435\u043D\u044C",evening:"\u0432\u0435\u0447.",night:"\u043D\u043E\u0447\u044C"},abbreviated:{am:"\u0414\u041F",pm:"\u041F\u041F",midnight:"\u043F\u043E\u043B\u043D.",noon:"\u043F\u043E\u043B\u0434.",morning:"\u0443\u0442\u0440\u043E",afternoon:"\u0434\u0435\u043D\u044C",evening:"\u0432\u0435\u0447.",night:"\u043D\u043E\u0447\u044C"},wide:{am:"\u0414\u041F",pm:"\u041F\u041F",midnight:"\u043F\u043E\u043B\u043D\u043E\u0447\u044C",noon:"\u043F\u043E\u043B\u0434\u0435\u043D\u044C",morning:"\u0443\u0442\u0440\u043E",afternoon:"\u0434\u0435\u043D\u044C",evening:"\u0432\u0435\u0447\u0435\u0440",night:"\u043D\u043E\u0447\u044C"}},RU={narrow:{am:"\u0414\u041F",pm:"\u041F\u041F",midnight:"\u043F\u043E\u043B\u043D.",noon:"\u043F\u043E\u043B\u0434.",morning:"\u0443\u0442\u0440\u0430",afternoon:"\u0434\u043D\u044F",evening:"\u0432\u0435\u0447.",night:"\u043D\u043E\u0447\u0438"},abbreviated:{am:"\u0414\u041F",pm:"\u041F\u041F",midnight:"\u043F\u043E\u043B\u043D.",noon:"\u043F\u043E\u043B\u0434.",morning:"\u0443\u0442\u0440\u0430",afternoon:"\u0434\u043D\u044F",evening:"\u0432\u0435\u0447.",night:"\u043D\u043E\u0447\u0438"},wide:{am:"\u0414\u041F",pm:"\u041F\u041F",midnight:"\u043F\u043E\u043B\u043D\u043E\u0447\u044C",noon:"\u043F\u043E\u043B\u0434\u0435\u043D\u044C",morning:"\u0443\u0442\u0440\u0430",afternoon:"\u0434\u043D\u044F",evening:"\u0432\u0435\u0447\u0435\u0440\u0430",night:"\u043D\u043E\u0447\u0438"}},FU=(t,e)=>{let n=Number(t),r=e?.unit,i;return r==="date"?i="-\u0435":r==="week"||r==="minute"||r==="second"?i="-\u044F":i="-\u0439",n+i},eM={ordinalNumber:FU,era:hi({values:DU,defaultWidth:"wide"}),quarter:hi({values:AU,defaultWidth:"wide",argumentCallback:t=>t-1}),month:hi({values:MU,defaultWidth:"wide",formattingValues:kU,defaultFormattingWidth:"wide"}),day:hi({values:PU,defaultWidth:"wide"}),dayPeriod:hi({values:NU,defaultWidth:"any",formattingValues:RU,defaultFormattingWidth:"wide"})};var OU=/^(\d+)(-?(||||||||||))?/i,LU=/\d+/i,VU={narrow:/^(( )?\.?\s?\.?)/i,abbreviated:/^(( )?\.?\s?\.?)/i,wide:/^(  | | )/i},$U={any:[/^/i,/^/i]},BU={narrow:/^[1234]/i,abbreviated:/^[1234](-?[]??)? .?/i,wide:/^[1234](-?[]??)? /i},jU={any:[/1/i,/2/i,/3/i,/4/i]},UU={narrow:/^[]/i,abbreviated:/^(||?||[]|[]?|[]?||?||?|)\.?/i,wide:/^([]|[]|?|[]|[]|[]|[]|?|[]|[]|[]|[]|[])/i},GU={narrow:[/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i],any:[/^/i,/^/i,/^/i,/^/i,/^[]/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i]},HU={narrow:/^[]/i,short:/^(|||||||||||)\.?/i,abbreviated:/^(||||||||||||).?/i,wide:/^([]|?|?|[]|?|[]|[])/i},WU={narrow:[/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i],any:[/^[]/i,/^[]/i,/^/i,/^/i,/^/i,/^[]/i,/^[]/i]},zU={narrow:/^([]|\.?|\.?|[]|||\.?|[])/i,abbreviated:/^([]|\.?|\.?|[]|||\.?|[])/i,wide:/^([]|||[]|||?|[])/i},qU={any:{am:/^/i,pm:/^/i,midnight:/^/i,noon:/^/i,morning:/^/i,afternoon:/^[]/i,evening:/^/i,night:/^/i}},tM={ordinalNumber:Gu({matchPattern:OU,parsePattern:LU,valueCallback:t=>parseInt(t,10)}),era:mi({matchPatterns:VU,defaultMatchWidth:"wide",parsePatterns:$U,defaultParseWidth:"any"}),quarter:mi({matchPatterns:BU,defaultMatchWidth:"wide",parsePatterns:jU,defaultParseWidth:"any",valueCallback:t=>t+1}),month:mi({matchPatterns:UU,defaultMatchWidth:"wide",parsePatterns:GU,defaultParseWidth:"any"}),day:mi({matchPatterns:HU,defaultMatchWidth:"wide",parsePatterns:WU,defaultParseWidth:"any"}),dayPeriod:mi({matchPatterns:zU,defaultMatchWidth:"wide",parsePatterns:qU,defaultParseWidth:"any"})};var z0={code:"ru",formatDistance:JA,formatLong:QA,formatRelative:XA,localize:eM,match:tM,options:{weekStartsOn:1,firstWeekContainsDate:1}};var KU={lessThanXSeconds:{one:"\u4E0D\u5230 1 \u79D2",other:"\u4E0D\u5230 {{count}} \u79D2"},xSeconds:{one:"1 \u79D2",other:"{{count}} \u79D2"},halfAMinute:"\u534A\u5206\u949F",lessThanXMinutes:{one:"\u4E0D\u5230 1 \u5206\u949F",other:"\u4E0D\u5230 {{count}} \u5206\u949F"},xMinutes:{one:"1 \u5206\u949F",other:"{{count}} \u5206\u949F"},xHours:{one:"1 \u5C0F\u65F6",other:"{{count}} \u5C0F\u65F6"},aboutXHours:{one:"\u5927\u7EA6 1 \u5C0F\u65F6",other:"\u5927\u7EA6 {{count}} \u5C0F\u65F6"},xDays:{one:"1 \u5929",other:"{{count}} \u5929"},aboutXWeeks:{one:"\u5927\u7EA6 1 \u4E2A\u661F\u671F",other:"\u5927\u7EA6 {{count}} \u4E2A\u661F\u671F"},xWeeks:{one:"1 \u4E2A\u661F\u671F",other:"{{count}} \u4E2A\u661F\u671F"},aboutXMonths:{one:"\u5927\u7EA6 1 \u4E2A\u6708",other:"\u5927\u7EA6 {{count}} \u4E2A\u6708"},xMonths:{one:"1 \u4E2A\u6708",other:"{{count}} \u4E2A\u6708"},aboutXYears:{one:"\u5927\u7EA6 1 \u5E74",other:"\u5927\u7EA6 {{count}} \u5E74"},xYears:{one:"1 \u5E74",other:"{{count}} \u5E74"},overXYears:{one:"\u8D85\u8FC7 1 \u5E74",other:"\u8D85\u8FC7 {{count}} \u5E74"},almostXYears:{one:"\u5C06\u8FD1 1 \u5E74",other:"\u5C06\u8FD1 {{count}} \u5E74"}},nM=(t,e,n)=>{let r,i=KU[t];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",String(e)),n?.addSuffix?n.comparison&&n.comparison>0?r+"\u5185":r+"\u524D":r};var YU={full:"y'\u5E74'M'\u6708'd'\u65E5' EEEE",long:"y'\u5E74'M'\u6708'd'\u65E5'",medium:"yyyy-MM-dd",short:"yy-MM-dd"},JU={full:"zzzz a h:mm:ss",long:"z a h:mm:ss",medium:"a h:mm:ss",short:"a h:mm"},QU={full:"{{date}} {{time}}",long:"{{date}} {{time}}",medium:"{{date}} {{time}}",short:"{{date}} {{time}}"},rM={date:Ni({formats:YU,defaultWidth:"full"}),time:Ni({formats:JU,defaultWidth:"full"}),dateTime:Ni({formats:QU,defaultWidth:"full"})};function iM(t,e,n){let r="eeee p";return lp(t,e,n)?r:t.getTime()>e.getTime()?"'\u4E0B\u4E2A'"+r:"'\u4E0A\u4E2A'"+r}var ZU={lastWeek:iM,yesterday:"'\u6628\u5929' p",today:"'\u4ECA\u5929' p",tomorrow:"'\u660E\u5929' p",nextWeek:iM,other:"PP p"},oM=(t,e,n,r)=>{let i=ZU[t];return typeof i=="function"?i(e,n,r):i};var XU={narrow:["\u524D","\u516C\u5143"],abbreviated:["\u524D","\u516C\u5143"],wide:["\u516C\u5143\u524D","\u516C\u5143"]},eG={narrow:["1","2","3","4"],abbreviated:["\u7B2C\u4E00\u5B63","\u7B2C\u4E8C\u5B63","\u7B2C\u4E09\u5B63","\u7B2C\u56DB\u5B63"],wide:["\u7B2C\u4E00\u5B63\u5EA6","\u7B2C\u4E8C\u5B63\u5EA6","\u7B2C\u4E09\u5B63\u5EA6","\u7B2C\u56DB\u5B63\u5EA6"]},tG={narrow:["\u4E00","\u4E8C","\u4E09","\u56DB","\u4E94","\u516D","\u4E03","\u516B","\u4E5D","\u5341","\u5341\u4E00","\u5341\u4E8C"],abbreviated:["1\u6708","2\u6708","3\u6708","4\u6708","5\u6708","6\u6708","7\u6708","8\u6708","9\u6708","10\u6708","11\u6708","12\u6708"],wide:["\u4E00\u6708","\u4E8C\u6708","\u4E09\u6708","\u56DB\u6708","\u4E94\u6708","\u516D\u6708","\u4E03\u6708","\u516B\u6708","\u4E5D\u6708","\u5341\u6708","\u5341\u4E00\u6708","\u5341\u4E8C\u6708"]},nG={narrow:["\u65E5","\u4E00","\u4E8C","\u4E09","\u56DB","\u4E94","\u516D"],short:["\u65E5","\u4E00","\u4E8C","\u4E09","\u56DB","\u4E94","\u516D"],abbreviated:["\u5468\u65E5","\u5468\u4E00","\u5468\u4E8C","\u5468\u4E09","\u5468\u56DB","\u5468\u4E94","\u5468\u516D"],wide:["\u661F\u671F\u65E5","\u661F\u671F\u4E00","\u661F\u671F\u4E8C","\u661F\u671F\u4E09","\u661F\u671F\u56DB","\u661F\u671F\u4E94","\u661F\u671F\u516D"]},rG={narrow:{am:"\u4E0A",pm:"\u4E0B",midnight:"\u51CC\u6668",noon:"\u5348",morning:"\u65E9",afternoon:"\u4E0B\u5348",evening:"\u665A",night:"\u591C"},abbreviated:{am:"\u4E0A\u5348",pm:"\u4E0B\u5348",midnight:"\u51CC\u6668",noon:"\u4E2D\u5348",morning:"\u65E9\u6668",afternoon:"\u4E2D\u5348",evening:"\u665A\u4E0A",night:"\u591C\u95F4"},wide:{am:"\u4E0A\u5348",pm:"\u4E0B\u5348",midnight:"\u51CC\u6668",noon:"\u4E2D\u5348",morning:"\u65E9\u6668",afternoon:"\u4E2D\u5348",evening:"\u665A\u4E0A",night:"\u591C\u95F4"}},iG={narrow:{am:"\u4E0A",pm:"\u4E0B",midnight:"\u51CC\u6668",noon:"\u5348",morning:"\u65E9",afternoon:"\u4E0B\u5348",evening:"\u665A",night:"\u591C"},abbreviated:{am:"\u4E0A\u5348",pm:"\u4E0B\u5348",midnight:"\u51CC\u6668",noon:"\u4E2D\u5348",morning:"\u65E9\u6668",afternoon:"\u4E2D\u5348",evening:"\u665A\u4E0A",night:"\u591C\u95F4"},wide:{am:"\u4E0A\u5348",pm:"\u4E0B\u5348",midnight:"\u51CC\u6668",noon:"\u4E2D\u5348",morning:"\u65E9\u6668",afternoon:"\u4E2D\u5348",evening:"\u665A\u4E0A",night:"\u591C\u95F4"}},oG=(t,e)=>{let n=Number(t);switch(e?.unit){case"date":return n.toString()+"\u65E5";case"hour":return n.toString()+"\u65F6";case"minute":return n.toString()+"\u5206";case"second":return n.toString()+"\u79D2";default:return"\u7B2C "+n.toString()}},sM={ordinalNumber:oG,era:hi({values:XU,defaultWidth:"wide"}),quarter:hi({values:eG,defaultWidth:"wide",argumentCallback:t=>t-1}),month:hi({values:tG,defaultWidth:"wide"}),day:hi({values:nG,defaultWidth:"wide"}),dayPeriod:hi({values:rG,defaultWidth:"wide",formattingValues:iG,defaultFormattingWidth:"wide"})};var sG=/^(\s*)?\d+(|||)?/i,aG=/\d+/i,lG={narrow:/^()/i,abbreviated:/^()/i,wide:/^(|)/i},cG={any:[/^()/i,/^()/i]},uG={narrow:/^[1234]/i,abbreviated:/^[]/i,wide:/^[]/i},fG={any:[/(1|)/i,/(2|)/i,/(3|)/i,/(4|)/i]},dG={narrow:/^(|||||||||[])/i,abbreviated:/^(|||||||||[]|\d|1[12])/i,wide:/^(|||||||||[])/i},pG={narrow:[/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^(?!(|))/i,/^/i,/^/i],any:[/^|1/i,/^|2/i,/^|3/i,/^|4/i,/^|5/i,/^|6/i,/^|7/i,/^|8/i,/^|9/i,/^(?!(|))|10/i,/^|11/i,/^|12/i]},hG={narrow:/^[]/i,short:/^[]/i,abbreviated:/^[]/i,wide:/^[]/i},mG={any:[//i,//i,//i,//i,//i,//i,//i]},gG={any:/^(?|?||[]|?||?||)/i},vG={any:{am:/^?/i,pm:/^?/i,midnight:/^/i,noon:/^[]/i,morning:/^/i,afternoon:/^/i,evening:/^?/i,night:/^/i}},aM={ordinalNumber:Gu({matchPattern:sG,parsePattern:aG,valueCallback:t=>parseInt(t,10)}),era:mi({matchPatterns:lG,defaultMatchWidth:"wide",parsePatterns:cG,defaultParseWidth:"any"}),quarter:mi({matchPatterns:uG,defaultMatchWidth:"wide",parsePatterns:fG,defaultParseWidth:"any",valueCallback:t=>t+1}),month:mi({matchPatterns:dG,defaultMatchWidth:"wide",parsePatterns:pG,defaultParseWidth:"any"}),day:mi({matchPatterns:hG,defaultMatchWidth:"wide",parsePatterns:mG,defaultParseWidth:"any"}),dayPeriod:mi({matchPatterns:gG,defaultMatchWidth:"any",parsePatterns:vG,defaultParseWidth:"any"})};var lM={code:"zh-CN",formatDistance:nM,formatLong:rM,formatRelative:oM,localize:sM,match:aM,options:{weekStartsOn:1,firstWeekContainsDate:4}};function yG(t,e){if(t&1&&(nt(0),Y(1,"app-animated-gift",9),rt()),t&2){let n=Q();E(),O("gift",n.gift)("loop",!0)("autoplay",!0)("translateY",-8)("giftSize",44)("isDetails",!0)}}function bG(t,e){if(t&1&&(nt(0),Y(1,"app-animated-gift",9),rt()),t&2){let n=Q();E(),O("gift",n.gift)("loop",!0)("autoplay",!0)("translateY",-8)("giftSize",44)("isDetails",!0)}}function wG(t,e){t&1&&(nt(0),S(1,"div"),K(2,"Unknown"),A(),rt())}var yf=class t{constructor(e){this.transloco=e}gift;type;roles=[];onSell=new yt;onUpgradeTransfer=new yt;giftDetails=[];ngOnInit(){let e=Os(this.gift.modelRarity/10),n=Os(this.gift.backgroundRarity/10),r=Os(this.gift.symbolRarity/10),i={label:"MODEL",value:`${this.gift.modelName}`,badge:{text:`${e}%`,color:"blue",isClickable:!1}},o={label:"BACKDROP",value:`${this.gift.backgroundName}`,badge:{text:`${n}%`,color:"blue",isClickable:!1}},s={label:"PATTERN",value:`${this.gift.symbolName}`,badge:{text:`${r}%`,color:"blue",isClickable:!1}},a={label:"MINT",value:this.mintedSince(),badge:{text:this.transloco.translate("TO_POOL"),color:"gray",isClickable:!0,action:()=>this.onTransferTap()}},l={label:"AVAILABLE",value:this.availableSince()},c=Oo(this.gift.priceInfo.price),u="";this.type==="sell"?(!this.gift.isFromGame&&this.gift.type==="UNIQUE"&&(c*=$t.sellGiftCoefficient),u=this.transloco.translate("SELL_FOR")+` ${c.toFixed(2)} TON`):u=this.transloco.translate("CHECK_PRICE");let f={label:"PRICE",value:this.getGiftPrice(this.gift.priceInfo.price)};(this.gift.type==="UNIQUE"||this.type==="sell")&&(f={label:"PRICE",value:this.getGiftPrice(this.gift.priceInfo.price),badge:{text:u,color:"gray",isClickable:!0,action:()=>this.onPriceTap()}});let d=[];if(this.gift.type==="UNIQUE"){let h=[i,o,s];d.push(...h)}c>0&&d.push(f),pl(new Date,this.gift.canTransferSince)&&d.push(l),this.roles.includes("ADMIN")&&this.gift.type==="UNIQUE"&&d.push(a),this.giftDetails=d}onPriceTap(){switch(this.type){case"sell":this.onSell.emit(this.gift);break;case"checkPrice":window.open("https://t.me/portals/market?startapp=7811001990","_blank");break}}onTransferTap(){this.onUpgradeTransfer.emit(this.gift)}getGiftPrice(e){return parseFloat(e)===0?this.transloco.translate("NOT_SUPPORTED"):`${ps(e)} TON`}mintedSince(){let e=Kg(this.gift.createdAt,14),n=new Date;if(pl(n,this.gift.canTransferSince))return this.availableSince();if(pl(e,n))return this.transloco.translate("AVAILABLE");let r=kc({start:n,end:e});return this.formatDuration(r)}availableSince(){let e=kc({start:new Date,end:this.gift.canTransferSince});return this.formatDuration(e)}get giftSubtitle(){switch(this.gift.type){case"VIRTUAL":return this.transloco.translate("VIRTUAL_GIFT");case"UNIQUE":return this.transloco.translate("UNIQUE_GIFT")+" #"+this.gift.number}}formatDuration(e){let n={ru:z0,en:K_,zh:lM},r=this.transloco.getActiveLang(),i=n[r]||K_;return t0(e,{format:["days","hours","minutes"],locale:i})}fragmentSupportedGifts=Yu;GiftType=Vo;static \u0275fac=function(n){return new(n||t)(ne(ar))};static \u0275cmp=xe({type:t,selectors:[["app-gift-detail-info"]],inputs:{gift:"gift",type:"type",roles:"roles"},outputs:{onSell:"onSell",onUpgradeTransfer:"onUpgradeTransfer"},decls:12,vars:6,consts:[[1,"flex","flex-col"],[1,"relative","h-62","flex","justify-center"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[1,"absolute","bottom-4","flex","flex-col","z-5"],[1,"font-medium","text-lg","text-center"],[1,"text-center","text-white/60"],[1,"px-4","pt-4","pb-6",3,"data"],[1,"rounded-t-3xl","w-full","h-full","overflow-hidden",3,"gift","loop","autoplay","translateY","giftSize","isDetails"]],template:function(n,r){n&1&&(S(0,"div",0)(1,"div",1),nt(2,2),oe(3,yG,2,6,"ng-container",3)(4,bG,2,6,"ng-container",3)(5,wG,3,0,"ng-container",4),rt(),S(6,"div",5)(7,"p",6),K(8),A(),S(9,"p",7),K(10),A()()(),Y(11,"app-table",8),A()),n&2&&(E(2),O("ngSwitch",r.gift.type),E(),O("ngSwitchCase",r.GiftType.UNIQUE),E(),O("ngSwitchCase",r.GiftType.VIRTUAL),E(4),Ie(r.gift.title),E(2),Ie(r.giftSubtitle),E(),O("data",r.giftDetails))},dependencies:[$o,W0,Qe,to,No,al],encapsulation:2})};var q0=class t{gift;roles=[];type="checkPrice";onClose=new yt;onSell=new yt;onUpgradeTransfer=new yt;closeSheet(){this.onClose.emit()}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=xe({type:t,selectors:[["app-gift-details"]],inputs:{gift:"gift",roles:"roles",type:"type"},outputs:{onClose:"onClose",onSell:"onSell",onUpgradeTransfer:"onUpgradeTransfer"},decls:7,vars:6,consts:[[1,"flex","flex-col"],[3,"onSell","onUpgradeTransfer","gift","roles","type"],[1,"absolute","top-3","right-3","cursor-pointer",3,"click"],[1,"fa-solid","fa-xmark","w-6","h-6","fa-xl","text-white/70","p-2"],[1,"px-4","pb-10",3,"click"]],template:function(n,r){n&1&&(S(0,"div",0)(1,"app-gift-detail-info",1),re("onSell",function(o){return r.onSell.emit(o)})("onUpgradeTransfer",function(o){return r.onUpgradeTransfer.emit(o)}),A(),S(2,"button",2),re("click",function(){return r.closeSheet()}),Y(3,"i",3),A(),S(4,"app-loading-button",4),re("click",function(){return r.closeSheet()}),K(5),de(6,"transloco"),A()()),n&2&&(E(),O("gift",r.gift)("roles",r.roles)("type",r.type),E(4),Te(" ",he(6,4,"OK")," "))},dependencies:[gi,yf,dt],encapsulation:2})};function CG(t,e){t&1&&(S(0,"div",11),Y(1,"i",12),A())}function _G(t,e){t&1&&Y(0,"div",13)}function xG(t,e){if(t&1){let n=Be();S(0,"button",8),re("click",function(){ue(n);let i=Q();return fe(i.onPlusTap.emit())}),oe(1,CG,2,0,"div",9)(2,_G,1,0,"div",10),A()}if(t&2){let n=Q();E(),O("ngIf",!n.isLoading),E(),O("ngIf",n.isLoading)}}var bf=class t{balance="";withDeposit=!1;isLoading=!1;onPlusTap=new yt;static \u0275fac=function(n){return new(n||t)};static \u0275cmp=xe({type:t,selectors:[["app-balance"]],inputs:{balance:"balance",withDeposit:"withDeposit",isLoading:"isLoading"},outputs:{onPlusTap:"onPlusTap"},decls:9,vars:2,consts:[[1,"flex","will-change-transform"],[1,"flex","items-center","bg-[#1A1A1A]","rounded-2xl","max-w-max"],[1,"px-2","py-2","flex","items-center"],["width","22","height","22","viewBox","0 0 24 24","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M12 24c6.627 0 12 -5.373 12 -12S18.627 0 12 0 0 5.373 0 12s5.373 12 12 12","fill","#0098EA"],["d","M16.097 6.699H7.903c-1.507 0 -2.463 1.625 -1.704 2.939l5.058 8.766a0.86 0.86 0 0 0 1.487 0l5.059 -8.766c0.757 -1.311 -0.198 -2.939 -1.704 -2.939zm-4.845 9.076 -1.101 -2.132 -2.658 -4.754a0.464 0.464 0 0 1 0.408 -0.693h3.351v7.581zm5.252 -6.885 -2.657 4.755 -1.101 2.131V8.196h3.351a0.464 0.464 0 0 1 0.408 0.693","fill","white"],[1,"font-semibold","ml-2"],["class","w-7.5 self-stretch cursor-pointer bg-[#1E304C] text-blue-300 py-2 flex items-center justify-center rounded-l-none rounded-r-2xl",3,"click",4,"ngIf"],[1,"w-7.5","self-stretch","cursor-pointer","bg-[#1E304C]","text-blue-300","py-2","flex","items-center","justify-center","rounded-l-none","rounded-r-2xl",3,"click"],["class","ml-0",4,"ngIf"],["class","w-4 h-4 ml-0 border-3 border-blue-300 border-t-transparent rounded-full animate-spin",4,"ngIf"],[1,"ml-0"],[1,"fa-solid","fa-plus"],[1,"w-4","h-4","ml-0","border-3","border-blue-300","border-t-transparent","rounded-full","animate-spin"]],template:function(n,r){n&1&&(S(0,"div",0)(1,"div",1)(2,"div",2),qn(),S(3,"svg",3),Y(4,"path",4)(5,"path",5),A(),ti(),S(6,"span",6),K(7),A()(),oe(8,xG,3,2,"button",7),A()()),n&2&&(E(7),Ie(r.balance),E(),O("ngIf",r.withDeposit))},dependencies:[Qe,ut],encapsulation:2})};var wf=(a=>(a.DEPOSIT="DEPOSIT",a.TON_DEPOSIT="TON_DEPOSIT",a.WITHDRAWAL="WITHDRAWAL",a.PURCHASE="PURCHASE",a.SELL="SELL",a.REFERRAL_CLAIM="REFERRAL_CLAIM",a.REWARD="REWARD",a))(wf||{});var lo=class t{constructor(e){this.http=e}apiUrl=`${In.apiUrl}/transactions`;getTransactions(){let e={"Content-Type":"application/json"};return this.http.get(this.apiUrl,{headers:e})}withdrawalInvoice(e){let n=`${this.apiUrl}/withdrawalInvoice`,r={"Content-Type":"application/json"},i={giftIds:e.map(o=>o.id)};return this.http.post(n,i,{headers:r})}addReward(e,n){let r=`${this.apiUrl}/addReward`,i={"Content-Type":"application/json"},o={username:e.replace("@","").replace(" ",""),amount:Oo(n)};return this.http.post(r,o,{headers:i})}cancelWithdrawal(e){let n=`${this.apiUrl}/${e}/cancel`,r={"Content-Type":"application/json"};return this.http.patch(n,{headers:r})}processWithdrawal(e){let n=`${this.apiUrl}/${e}/process`,r={"Content-Type":"application/json"};return this.http.patch(n,{headers:r})}completeWithdrawal(e){let n=`${this.apiUrl}/${e}/complete`,r={"Content-Type":"application/json"};return this.http.patch(n,{headers:r})}rejectWithdrawal(e){let n=`${this.apiUrl}/${e}/reject`,r={"Content-Type":"application/json"};return this.http.patch(n,{headers:r})}getAllTransactions(e,n,r,i=""){let o=`${this.apiUrl}/all`,s=new ri().set("page",e.toString()).set("pageSize",n.toString());r.size>0&&(s=s.set("types",Array.from(r).join(",")));let a=i.replace("@","");a&&(s=s.set("search",a));let l={"Content-Type":"application/json"};return this.http.get(o,{params:s,headers:l})}getWithdrawals(e,n,r,i=""){let o=`${this.apiUrl}/withdrawals`,s=new ri().set("page",e.toString()).set("pageSize",n.toString());r.size>0&&(s=s.set("statuses",Array.from(r).join(",")));let a=i.replace("@","");a&&(s=s.set("search",a));let l={"Content-Type":"application/json"};return this.http.get(o,{params:s,headers:l})}getGiftSender(e){let n=this.apiUrl+"/gift/"+e+"/sender",r={"Content-Type":"application/json"};return this.http.get(n,{headers:r})}static \u0275fac=function(n){return new(n||t)(Je(Sr))};static \u0275prov=Ve({token:t,factory:t.\u0275fac,providedIn:"root"})};var Vs=class t{getTransactionIcon(e,n){switch(e){case"DEPOSIT":case"TON_DEPOSIT":return"fa-solid fa-down-to-line text-[#00FF95]/80";case"WITHDRAWAL":switch(n){case"UNPAID":case"PENDING":case"PROCESSING":case"APPROVED":case"COMPLETED":return"fa-solid fa-up-from-line text-white/80";case"CANCELLED":case"REJECTED":default:return"fa-solid fa-up-from-line text-[#FF1A1A]/80"}case"PURCHASE":return"fa-solid fa-cart-plus text-[#1A7FFF]/80";case"SELL":return"fa-solid fa-cart-minus text-white/80";case"REFERRAL_CLAIM":case"REWARD":return"fa-solid fa-coins text-[#FFD700]/80";default:return"fa-solid fa-question text-white/80"}}getTransactionBackground(e,n){switch(e){case"DEPOSIT":case"TON_DEPOSIT":return"bg-[#9BC3B4]/20";case"WITHDRAWAL":switch(n){case"UNPAID":case"PENDING":case"PROCESSING":case"APPROVED":case"COMPLETED":return"bg-white/20";case"CANCELLED":case"REJECTED":default:return"bg-[#E08B8B]/20"}case"PURCHASE":return"bg-[#8BB3FF]/20";case"SELL":return"bg-white/20";case"REFERRAL_CLAIM":case"REWARD":return"bg-[#FFD700]/20";default:return"bg-white/20"}}getTransactionTitle(e){switch(e){case"DEPOSIT":return"GIFTS";case"TON_DEPOSIT":return"DEPOSIT";case"REWARD":return"REWARD";case"WITHDRAWAL":return"WITHDRAWAL";case"PURCHASE":return"PURCHASE";case"SELL":return"SALE";case"REFERRAL_CLAIM":return"FRIEND_REWARD";default:return"???"}}getTransactionStatus(e){switch(e){case"UNPAID":return"UNPAID";case"PENDING":return"PENDING";case"APPROVED":return"CONFIRMED";case"PROCESSING":return"IN_PROGRESS";case"COMPLETED":return"";case"CANCELLED":return"CANCELLED";case"REJECTED":return"DECLINED";default:return""}}static \u0275fac=function(n){return new(n||t)};static \u0275prov=Ve({token:t,factory:t.\u0275fac,providedIn:"root"})};function SG(t,e){t&1&&(S(0,"h1",2),K(1),de(2,"transloco"),A()),t&2&&(E(),Ie(he(2,1,"RECENT_ACTIVITY")))}function EG(t,e){if(t&1&&(S(0,"span"),K(1),de(2,"transloco"),A()),t&2){let n=Q().$implicit;E(),Te(" "," ("+he(2,1,n.status)+")"," ")}}function TG(t,e){if(t&1){let n=Be();S(0,"div",19),re("click",function(){ue(n);let i=Q().$implicit,o=Q();return fe(o.cancelWithdrawal(i))}),Y(1,"i",20),A()}}function IG(t,e){if(t&1&&(S(0,"div",3)(1,"div",4)(2,"div",5)(3,"div",6),Y(4,"i",7),A(),S(5,"div",8)(6,"div",9)(7,"p",10),K(8),de(9,"transloco"),A()(),S(10,"p",11),K(11),oe(12,EG,3,3,"span",12),A()()(),S(13,"div",13)(14,"span",14),K(15),A(),qn(),S(16,"svg",15),Y(17,"path",16)(18,"path",17),A(),oe(19,TG,2,0,"div",18),A()()()),t&2){let n=e.$implicit;E(3),O("ngClass",n.iconBackgroundColor),E(),O("ngClass",n.icon),E(4),Ie(he(9,7,n.title)),E(3),Te(" ",n.description," "),E(),O("ngIf",n.status.length>0),E(3),Ie(n.amount),E(4),O("ngIf",n.isCancelAvailable)}}var J0=class t{constructor(e,n,r,i){this.transactionsService=e;this.transactionsMapper=n;this.alertService=r;this.transloco=i}onInventoryUpdate=new yt;transactionsVM=[];ngOnInit(){this.fetchTransactions()}fetchTransactions(){this.transactionsService.getTransactions().subscribe({next:e=>{this.transactionsVM=this.mapTransactions(e)},error:e=>{console.error("\u041E\u0448\u0438\u0431\u043A\u0430 \u0441\u043F\u0438\u0441\u043A\u0430 \u0442\u0440\u0430\u043D\u0437\u0430\u043A\u0446\u0438\u0439:",e.response.message)}})}cancelWithdrawal(e){this.transactionsService.cancelWithdrawal(e.id).subscribe({next:n=>{console.log(n),this.fetchTransactions(),this.onInventoryUpdate.emit()},error:n=>{console.error("\u041E\u0448\u0438\u0431\u043A\u0430 \u043E\u0442\u043C\u0435\u043D\u044B \u0442\u0440\u0430\u043D\u0437\u0430\u043A\u0446\u0438\u0438:",n.response.message)}})}mapTransactions(e){let n=[];for(let r of e){let i="";if(r.gifts.length>0){let c=r.gifts.length;i=`${r.gifts[0].title}`,r.gifts[0].number&&(i+=` #${r.gifts[0].number}`),i+=r.type==="WITHDRAWAL"&&c>1?` +${c-1}`:""}else i=this.transactionsMapper.getTransactionTitle(r.type);let o=this.transloco.getActiveLang(),s=Lo(r.createdAt,o),a=this.getTransactionSubtitle(r.type,r.status),l={id:r.id,icon:this.transactionsMapper.getTransactionIcon(r.type,r.status),iconBackgroundColor:this.transactionsMapper.getTransactionBackground(r.type,r.status),title:i,subtitle:"",description:s,status:a,amount:Jr(r.amount),isCancelAvailable:r.type==="WITHDRAWAL"&&r.status==="PENDING",isIDCopyAvailable:r.type==="WITHDRAWAL"};n.push(l)}return n}getTransactionSubtitle(e,n){return e==="WITHDRAWAL"||e=="TON_DEPOSIT"?this.transactionsMapper.getTransactionStatus(n):""}static \u0275fac=function(n){return new(n||t)(ne(lo),ne(Vs),ne(or),ne(ar))};static \u0275cmp=xe({type:t,selectors:[["app-transactions"]],outputs:{onInventoryUpdate:"onInventoryUpdate"},decls:2,vars:2,consts:[["class","text-xl font-semibold my-4 safari-fix",4,"ngIf"],["class","safari-fix",4,"ngFor","ngForOf"],[1,"text-xl","font-semibold","my-4","safari-fix"],[1,"safari-fix"],[1,"flex","items-center","justify-between","mb-3","pb-3","border-b","border-white/15"],[1,"flex","items-center","gap-2"],[1,"relative","w-11","h-11","rounded-xl","flex","justify-center","items-center","safari-soft-fix",3,"ngClass"],[3,"ngClass"],[1,"flex","flex-col","gap-1","ml-1"],[1,"flex","center","items-center"],[1,"text-sm","font-medium","mr-2"],[1,"text-xs","text-white/50"],[4,"ngIf"],[1,"rounded-2xl","flex","items-center","max-w-max"],[1,"font-semibold","mr-2"],["width","22","height","22","viewBox","0 0 24 24","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M12 24c6.627 0 12 -5.373 12 -12S18.627 0 12 0 0 5.373 0 12s5.373 12 12 12","fill","#0098EA"],["d","M16.097 6.699H7.903c-1.507 0 -2.463 1.625 -1.704 2.939l5.058 8.766a0.86 0.86 0 0 0 1.487 0l5.059 -8.766c0.757 -1.311 -0.198 -2.939 -1.704 -2.939zm-4.845 9.076 -1.101 -2.132 -2.658 -4.754a0.464 0.464 0 0 1 0.408 -0.693h3.351v7.581zm5.252 -6.885 -2.657 4.755 -1.101 2.131V8.196h3.351a0.464 0.464 0 0 1 0.408 0.693","fill","white"],["class","ml-3 bg-white/10 aspect-square p-2 rounded-xl flex justify-center items-center",3,"click",4,"ngIf"],[1,"ml-3","bg-white/10","aspect-square","p-2","rounded-xl","flex","justify-center","items-center",3,"click"],[1,"fa-solid","fa-xmark","fa-lg","fa-fw"]],template:function(n,r){n&1&&oe(0,SG,3,3,"h1",0)(1,IG,20,9,"div",1),n&2&&(O("ngIf",r.transactionsVM.length>0),E(),O("ngForOf",r.transactionsVM))},dependencies:[Qe,Mn,bt,ut,dt],encapsulation:2})};var _f=Wl(uM(),1),kp=Wl(dM(),1),Ma=function(t){return t[t.UNKNOWN_ERROR=0]="UNKNOWN_ERROR",t[t.BAD_REQUEST_ERROR=1]="BAD_REQUEST_ERROR",t[t.MANIFEST_NOT_FOUND_ERROR=2]="MANIFEST_NOT_FOUND_ERROR",t[t.MANIFEST_CONTENT_ERROR=3]="MANIFEST_CONTENT_ERROR",t[t.UNKNOWN_APP_ERROR=100]="UNKNOWN_APP_ERROR",t[t.USER_REJECTS_ERROR=300]="USER_REJECTS_ERROR",t[t.METHOD_NOT_SUPPORTED=400]="METHOD_NOT_SUPPORTED",t}(Ma||{});var Lc=function(t){return t[t.UNKNOWN_ERROR=0]="UNKNOWN_ERROR",t[t.BAD_REQUEST_ERROR=1]="BAD_REQUEST_ERROR",t[t.UNKNOWN_APP_ERROR=100]="UNKNOWN_APP_ERROR",t[t.USER_REJECTS_ERROR=300]="USER_REJECTS_ERROR",t[t.METHOD_NOT_SUPPORTED=400]="METHOD_NOT_SUPPORTED",t}(Lc||{});var Np=function(t){return t.MAINNET="-239",t.TESTNET="-3",t}(Np||{});function DG(t,e){let n=_f.default.encodeBase64(t);return e?encodeURIComponent(n):n}function AG(t,e){return e&&(t=decodeURIComponent(t)),_f.default.decodeBase64(t)}function MG(t,e=!1){let n;return t instanceof Uint8Array?n=t:(typeof t!="string"&&(t=JSON.stringify(t)),n=_f.default.decodeUTF8(t)),DG(n,e)}function kG(t,e=!1){let n=AG(t,e);return{toString(){return _f.default.encodeUTF8(n)},toObject(){try{return JSON.parse(_f.default.encodeUTF8(n))}catch{return null}},toUint8Array(){return n}}}var X0={encode:MG,decode:kG};function PG(t,e){let n=new Uint8Array(t.length+e.length);return n.set(t),n.set(e,t.length),n}function NG(t,e){if(e>=t.length)throw new Error("Index is out of buffer");let n=t.slice(0,e),r=t.slice(e);return[n,r]}function J_(t){let e="";return t.forEach(n=>{e+=("0"+(n&255).toString(16)).slice(-2)}),e}function Pp(t){if(t.length%2!==0)throw new Error(`Cannot convert ${t} to bytesArray`);let e=new Uint8Array(t.length/2);for(let n=0;n<t.length;n+=2)e[n/2]=parseInt(t.slice(n,n+2),16);return e}var xf=class{constructor(e){this.nonceLength=24,this.keyPair=e?this.createKeypairFromString(e):this.createKeypair(),this.sessionId=J_(this.keyPair.publicKey)}createKeypair(){return kp.default.box.keyPair()}createKeypairFromString(e){return{publicKey:Pp(e.publicKey),secretKey:Pp(e.secretKey)}}createNonce(){return kp.default.randomBytes(this.nonceLength)}encrypt(e,n){let r=new TextEncoder().encode(e),i=this.createNonce(),o=kp.default.box(r,i,n,this.keyPair.secretKey);return PG(i,o)}decrypt(e,n){let[r,i]=NG(e,this.nonceLength),o=kp.default.box.open(i,r,n,this.keyPair.secretKey);if(!o)throw new Error(`Decryption error: 
 message: ${e.toString()} 
 sender pubkey: ${n.toString()} 
 keypair pubkey: ${this.keyPair.publicKey.toString()} 
 keypair secretkey: ${this.keyPair.secretKey.toString()}`);return new TextDecoder().decode(o)}stringifyKeypair(){return{publicKey:J_(this.keyPair.publicKey),secretKey:J_(this.keyPair.secretKey)}}};function pM(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function mt(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(u){try{c(r.next(u))}catch(f){s(f)}}function l(u){try{c(r.throw(u))}catch(f){s(f)}}function c(u){u.done?o(u.value):i(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})}var At=(()=>{class t extends Error{constructor(n,r){super(n,r),this.message=`${t.prefix} ${this.constructor.name}${this.info?": "+this.info:""}${n?`
`+n:""}`,Object.setPrototypeOf(this,t.prototype)}get info(){return""}}return t.prefix="[TON_CONNECT_SDK_ERROR]",t})(),Q_=class t extends At{get info(){return"Passed DappMetadata is in incorrect format."}constructor(...e){super(...e),Object.setPrototypeOf(this,t.prototype)}},t1=class t extends At{get info(){return"Passed `tonconnect-manifest.json` contains errors. Check format of your manifest. See more https://github.com/ton-connect/docs/blob/main/requests-responses.md#app-manifest"}constructor(...e){super(...e),Object.setPrototypeOf(this,t.prototype)}},n1=class t extends At{get info(){return"Manifest not found. Make sure you added `tonconnect-manifest.json` to the root of your app or passed correct manifestUrl. See more https://github.com/ton-connect/docs/blob/main/requests-responses.md#app-manifest"}constructor(...e){super(...e),Object.setPrototypeOf(this,t.prototype)}},Z_=class t extends At{get info(){return"Wallet connection called but wallet already connected. To avoid the error, disconnect the wallet before doing a new connection."}constructor(...e){super(...e),Object.setPrototypeOf(this,t.prototype)}},r1=class t extends At{get info(){return"Send transaction or other protocol methods called while wallet is not connected."}constructor(...e){super(...e),Object.setPrototypeOf(this,t.prototype)}},X_=class t extends At{get info(){return"There is an attempt to connect to the injected wallet while it is not exists in the webpage."}constructor(...e){super(...e),Object.setPrototypeOf(this,t.prototype)}},Rp=class t extends At{get info(){return"Wallet doesn't support requested feature method."}constructor(...e){super(...e),Object.setPrototypeOf(this,t.prototype)}},Ef=class t extends At{get info(){return"Missing required features. You need to update your wallet."}constructor(e,n){super(e,n),Object.setPrototypeOf(this,t.prototype)}};function RG(t){return"jsBridgeKey"in t}var i1=class t extends At{get info(){return"User rejects the action in the wallet."}constructor(...e){super(...e),Object.setPrototypeOf(this,t.prototype)}},o1=class t extends At{get info(){return"Request to the wallet contains errors."}constructor(...e){super(...e),Object.setPrototypeOf(this,t.prototype)}},s1=class t extends At{get info(){return"App tries to send rpc request to the injected wallet while not connected."}constructor(...e){super(...e),Object.setPrototypeOf(this,t.prototype)}};var e2=class t extends At{get info(){return"An error occurred while fetching the wallets list."}constructor(...e){super(...e),Object.setPrototypeOf(this,t.prototype)}},Sf=class t extends At{get info(){return"Passed address is in incorrect format."}constructor(...e){super(...e),Object.setPrototypeOf(this,t.prototype)}},a1=class t extends At{get info(){return"Passed hex is in incorrect format."}constructor(...e){super(...e),Object.setPrototypeOf(this,t.prototype)}},xl=class t extends At{constructor(...e){super(...e),Object.setPrototypeOf(this,t.prototype)}},hM={[Ma.UNKNOWN_ERROR]:xl,[Ma.USER_REJECTS_ERROR]:i1,[Ma.BAD_REQUEST_ERROR]:o1,[Ma.UNKNOWN_APP_ERROR]:s1,[Ma.MANIFEST_NOT_FOUND_ERROR]:n1,[Ma.MANIFEST_CONTENT_ERROR]:t1},t2=class{parseError(e){let n=xl;return e.code in hM&&(n=hM[e.code]||xl),new n(e.message)}},FG=new t2,n2=class{isError(e){return"error"in e}},mM={[Lc.UNKNOWN_ERROR]:xl,[Lc.USER_REJECTS_ERROR]:i1,[Lc.BAD_REQUEST_ERROR]:o1,[Lc.UNKNOWN_APP_ERROR]:s1},r2=class extends n2{convertToRpcRequest(e){return{method:"sendTransaction",params:[JSON.stringify(e)]}}parseAndThrowError(e){let n=xl;throw e.error.code in mM&&(n=mM[e.error.code]||xl),new n(e.error.message)}convertFromRpcResponse(e){return{boc:e.result}}},e1=new r2,i2=class{constructor(e,n){this.storage=e,this.storeKey="ton-connect-storage_http-bridge-gateway::"+n}storeLastEventId(e){return mt(this,void 0,void 0,function*(){return this.storage.setItem(this.storeKey,e)})}removeLastEventId(){return mt(this,void 0,void 0,function*(){return this.storage.removeItem(this.storeKey)})}getLastEventId(){return mt(this,void 0,void 0,function*(){let e=yield this.storage.getItem(this.storeKey);return e||null})}};function OG(t){return t.slice(-1)==="/"?t.slice(0,-1):t}function vM(t,e){return OG(t)+"/"+e}function Pa(t){if(!t)return!1;let e=new URL(t);return e.protocol==="tg:"||e.hostname==="t.me"}function c2(t){return t.replaceAll(".","%2E").replaceAll("-","%2D").replaceAll("_","%5F").replaceAll("&","-").replaceAll("=","__").replaceAll("%","--")}function yM(t,e){return mt(this,void 0,void 0,function*(){return new Promise((n,r)=>{var i,o;if(!((i=e?.signal)===null||i===void 0)&&i.aborted){r(new At("Delay aborted"));return}let s=setTimeout(()=>n(),t);(o=e?.signal)===null||o===void 0||o.addEventListener("abort",()=>{clearTimeout(s),r(new At("Delay aborted"))})})})}function gs(t){let e=new AbortController;return t?.aborted?e.abort():t?.addEventListener("abort",()=>e.abort(),{once:!0}),e}function Fp(t,e){var n,r;return mt(this,void 0,void 0,function*(){let i=(n=e?.attempts)!==null&&n!==void 0?n:10,o=(r=e?.delayMs)!==null&&r!==void 0?r:200,s=gs(e?.signal);if(typeof t!="function")throw new At(`Expected a function, got ${typeof t}`);let a=0,l;for(;a<i;){if(s.signal.aborted)throw new At(`Aborted after attempts ${a}`);try{return yield t({signal:s.signal})}catch(c){l=c,a++,a<i&&(yield yM(o))}}throw l})}function fi(...t){try{console.debug("[TON_CONNECT_SDK]",...t)}catch{}}function ka(...t){try{console.error("[TON_CONNECT_SDK]",...t)}catch{}}function LG(...t){try{console.warn("[TON_CONNECT_SDK]",...t)}catch{}}function VG(t,e){let n=null,r=null,i=null,o=null,s=null,a=(f,...d)=>mt(this,void 0,void 0,function*(){if(o=f??null,s?.abort(),s=gs(f),s.signal.aborted)throw new At("Resource creation was aborted");r=d??null;let h=t(s.signal,...d);i=h;let m=yield h;if(i!==h&&m!==n)throw yield e(m),new At("Resource creation was aborted by a new resource creation");return n=m,n});return{create:a,current:()=>n??null,dispose:()=>mt(this,void 0,void 0,function*(){try{let f=n;n=null;let d=i;i=null;try{s?.abort()}catch{}yield Promise.allSettled([f?e(f):Promise.resolve(),d?e(yield d):Promise.resolve()])}catch{}}),recreate:f=>mt(this,void 0,void 0,function*(){let d=n,h=i,m=r,v=o;if(yield yM(f),d===n&&h===i&&m===r&&v===o)return yield a(o,...m??[]);throw new At("Resource recreation was aborted by a new resource creation")})}}function $G(t,e){let n=e?.timeout,r=e?.signal,i=gs(r);return new Promise((o,s)=>mt(this,void 0,void 0,function*(){if(i.signal.aborted){s(new At("Operation aborted"));return}let a;typeof n<"u"&&(a=setTimeout(()=>{i.abort(),s(new At(`Timeout after ${n}ms`))},n)),i.signal.addEventListener("abort",()=>{clearTimeout(a),s(new At("Operation aborted"))},{once:!0});let l={timeout:n,abort:i.signal};yield t((...c)=>{clearTimeout(a),o(...c)},()=>{clearTimeout(a),s()},l)}))}var Op=class{constructor(e,n,r,i,o){this.bridgeUrl=n,this.sessionId=r,this.listener=i,this.errorsListener=o,this.ssePath="events",this.postPath="message",this.heartbeatMessage="heartbeat",this.defaultTtl=300,this.defaultReconnectDelay=2e3,this.defaultResendDelay=5e3,this.eventSource=VG((s,a)=>mt(this,void 0,void 0,function*(){let l={bridgeUrl:this.bridgeUrl,ssePath:this.ssePath,sessionId:this.sessionId,bridgeGatewayStorage:this.bridgeGatewayStorage,errorHandler:this.errorsHandler.bind(this),messageHandler:this.messagesHandler.bind(this),signal:s,openingDeadlineMS:a};return yield BG(l)}),s=>mt(this,void 0,void 0,function*(){s.close()})),this.bridgeGatewayStorage=new i2(e,n)}get isReady(){let e=this.eventSource.current();return e?.readyState===EventSource.OPEN}get isClosed(){let e=this.eventSource.current();return e?.readyState!==EventSource.OPEN}get isConnecting(){let e=this.eventSource.current();return e?.readyState===EventSource.CONNECTING}registerSession(e){return mt(this,void 0,void 0,function*(){yield this.eventSource.create(e?.signal,e?.openingDeadlineMS)})}send(e,n,r,i){var o;return mt(this,void 0,void 0,function*(){let s={};typeof i=="number"?s.ttl=i:(s.ttl=i?.ttl,s.signal=i?.signal,s.attempts=i?.attempts);let a=new URL(vM(this.bridgeUrl,this.postPath));a.searchParams.append("client_id",this.sessionId),a.searchParams.append("to",n),a.searchParams.append("ttl",(s?.ttl||this.defaultTtl).toString()),a.searchParams.append("topic",r);let l=X0.encode(e);yield Fp(c=>mt(this,void 0,void 0,function*(){let u=yield this.post(a,l,c.signal);if(!u.ok)throw new At(`Bridge send failed, status ${u.status}`)}),{attempts:(o=s?.attempts)!==null&&o!==void 0?o:Number.MAX_SAFE_INTEGER,delayMs:this.defaultResendDelay,signal:s?.signal})})}pause(){this.eventSource.dispose().catch(e=>ka(`Bridge pause failed, ${e}`))}unPause(){return mt(this,void 0,void 0,function*(){yield this.eventSource.recreate(0)})}close(){return mt(this,void 0,void 0,function*(){yield this.eventSource.dispose().catch(e=>ka(`Bridge close failed, ${e}`))})}setListener(e){this.listener=e}setErrorsListener(e){this.errorsListener=e}post(e,n,r){return mt(this,void 0,void 0,function*(){let i=yield fetch(e,{method:"post",body:n,signal:r});if(!i.ok)throw new At(`Bridge send failed, status ${i.status}`);return i})}errorsHandler(e,n){return mt(this,void 0,void 0,function*(){if(this.isConnecting)throw e.close(),new At("Bridge error, failed to connect");if(this.isReady){try{this.errorsListener(n)}catch{}return}if(this.isClosed)return e.close(),fi(`Bridge reconnecting, ${this.defaultReconnectDelay}ms delay`),yield this.eventSource.recreate(this.defaultReconnectDelay);throw new At("Bridge error, unknown state")})}messagesHandler(e){return mt(this,void 0,void 0,function*(){if(e.data===this.heartbeatMessage||(yield this.bridgeGatewayStorage.storeLastEventId(e.lastEventId),this.isClosed))return;let n;try{n=JSON.parse(e.data)}catch(r){throw new At(`Bridge message parse failed, message ${r.data}`)}this.listener(n)})}};function BG(t){return mt(this,void 0,void 0,function*(){return yield $G((e,n,r)=>mt(this,void 0,void 0,function*(){var i;let s=gs(r.signal).signal;if(s.aborted){n(new At("Bridge connection aborted"));return}let a=new URL(vM(t.bridgeUrl,t.ssePath));a.searchParams.append("client_id",t.sessionId);let l=yield t.bridgeGatewayStorage.getLastEventId();if(l&&a.searchParams.append("last_event_id",l),s.aborted){n(new At("Bridge connection aborted"));return}let c=new EventSource(a.toString());c.onerror=u=>mt(this,void 0,void 0,function*(){if(s.aborted){c.close(),n(new At("Bridge connection aborted"));return}try{let f=yield t.errorHandler(c,u);f!==c&&c.close(),f&&f!==c&&e(f)}catch(f){c.close(),n(f)}}),c.onopen=()=>{if(s.aborted){c.close(),n(new At("Bridge connection aborted"));return}e(c)},c.onmessage=u=>{if(s.aborted){c.close(),n(new At("Bridge connection aborted"));return}t.messageHandler(u)},(i=t.signal)===null||i===void 0||i.addEventListener("abort",()=>{c.close(),n(new At("Bridge connection aborted"))})}),{timeout:t.openingDeadlineMS,signal:t.signal})})}function Lp(t){return!("connectEvent"in t)}var Vc=class{constructor(e){this.storage=e,this.storeKey="ton-connect-storage_bridge-connection"}storeConnection(e){return mt(this,void 0,void 0,function*(){if(e.type==="injected")return this.storage.setItem(this.storeKey,JSON.stringify(e));if(!Lp(e)){let r={sessionKeyPair:e.session.sessionCrypto.stringifyKeypair(),walletPublicKey:e.session.walletPublicKey,bridgeUrl:e.session.bridgeUrl},i={type:"http",connectEvent:e.connectEvent,session:r,lastWalletEventId:e.lastWalletEventId,nextRpcRequestId:e.nextRpcRequestId};return this.storage.setItem(this.storeKey,JSON.stringify(i))}let n={type:"http",connectionSource:e.connectionSource,sessionCrypto:e.sessionCrypto.stringifyKeypair()};return this.storage.setItem(this.storeKey,JSON.stringify(n))})}removeConnection(){return mt(this,void 0,void 0,function*(){return this.storage.removeItem(this.storeKey)})}getConnection(){return mt(this,void 0,void 0,function*(){let e=yield this.storage.getItem(this.storeKey);if(!e)return null;let n=JSON.parse(e);if(n.type==="injected")return n;if("connectEvent"in n){let r=new xf(n.session.sessionKeyPair);return{type:"http",connectEvent:n.connectEvent,lastWalletEventId:n.lastWalletEventId,nextRpcRequestId:n.nextRpcRequestId,session:{sessionCrypto:r,bridgeUrl:n.session.bridgeUrl,walletPublicKey:n.session.walletPublicKey}}}return{type:"http",sessionCrypto:new xf(n.sessionCrypto),connectionSource:n.connectionSource}})}getHttpConnection(){return mt(this,void 0,void 0,function*(){let e=yield this.getConnection();if(!e)throw new At("Trying to read HTTP connection source while nothing is stored");if(e.type==="injected")throw new At("Trying to read HTTP connection source while injected connection is stored");return e})}getHttpPendingConnection(){return mt(this,void 0,void 0,function*(){let e=yield this.getConnection();if(!e)throw new At("Trying to read HTTP connection source while nothing is stored");if(e.type==="injected")throw new At("Trying to read HTTP connection source while injected connection is stored");if(!Lp(e))throw new At("Trying to read HTTP-pending connection while http connection is stored");return e})}getInjectedConnection(){return mt(this,void 0,void 0,function*(){let e=yield this.getConnection();if(!e)throw new At("Trying to read Injected bridge connection source while nothing is stored");if(e?.type==="http")throw new At("Trying to read Injected bridge connection source while HTTP connection is stored");return e})}storedConnectionType(){return mt(this,void 0,void 0,function*(){let e=yield this.storage.getItem(this.storeKey);return e?JSON.parse(e).type:null})}storeLastWalletEventId(e){return mt(this,void 0,void 0,function*(){let n=yield this.getConnection();if(n&&n.type==="http"&&!Lp(n))return n.lastWalletEventId=e,this.storeConnection(n)})}getLastWalletEventId(){return mt(this,void 0,void 0,function*(){let e=yield this.getConnection();if(e&&"lastWalletEventId"in e)return e.lastWalletEventId})}increaseNextRpcRequestId(){return mt(this,void 0,void 0,function*(){let e=yield this.getConnection();if(e&&"nextRpcRequestId"in e){let n=e.nextRpcRequestId||0;return e.nextRpcRequestId=n+1,this.storeConnection(e)}})}getNextRpcRequestId(){return mt(this,void 0,void 0,function*(){let e=yield this.getConnection();return e&&"nextRpcRequestId"in e&&e.nextRpcRequestId||0})}},bM=2,l1=class t{constructor(e,n){this.storage=e,this.walletConnectionSource=n,this.type="http",this.standardUniversalLink="tc://",this.pendingRequests=new Map,this.session=null,this.gateway=null,this.pendingGateways=[],this.listeners=[],this.defaultOpeningDeadlineMS=12e3,this.defaultRetryTimeoutMS=2e3,this.connectionStorage=new Vc(e)}static fromStorage(e){return mt(this,void 0,void 0,function*(){let r=yield new Vc(e).getHttpConnection();return Lp(r)?new t(e,r.connectionSource):new t(e,{bridgeUrl:r.session.bridgeUrl})})}connect(e,n){var r;let i=gs(n?.signal);(r=this.abortController)===null||r===void 0||r.abort(),this.abortController=i,this.closeGateways();let o=new xf;this.session={sessionCrypto:o,bridgeUrl:"bridgeUrl"in this.walletConnectionSource?this.walletConnectionSource.bridgeUrl:""},this.connectionStorage.storeConnection({type:"http",connectionSource:this.walletConnectionSource,sessionCrypto:o}).then(()=>mt(this,void 0,void 0,function*(){i.signal.aborted||(yield Fp(a=>{var l;return this.openGateways(o,{openingDeadlineMS:(l=n?.openingDeadlineMS)!==null&&l!==void 0?l:this.defaultOpeningDeadlineMS,signal:a?.signal})},{attempts:Number.MAX_SAFE_INTEGER,delayMs:this.defaultRetryTimeoutMS,signal:i.signal}))}));let s="universalLink"in this.walletConnectionSource&&this.walletConnectionSource.universalLink?this.walletConnectionSource.universalLink:this.standardUniversalLink;return this.generateUniversalLink(s,e)}restoreConnection(e){var n,r;return mt(this,void 0,void 0,function*(){let i=gs(e?.signal);if((n=this.abortController)===null||n===void 0||n.abort(),this.abortController=i,i.signal.aborted)return;this.closeGateways();let o=yield this.connectionStorage.getHttpConnection();if(!o||i.signal.aborted)return;let s=(r=e?.openingDeadlineMS)!==null&&r!==void 0?r:this.defaultOpeningDeadlineMS;if(Lp(o))return this.session={sessionCrypto:o.sessionCrypto,bridgeUrl:"bridgeUrl"in this.walletConnectionSource?this.walletConnectionSource.bridgeUrl:""},yield this.openGateways(o.sessionCrypto,{openingDeadlineMS:s,signal:i?.signal});if(Array.isArray(this.walletConnectionSource))throw new At("Internal error. Connection source is array while WalletConnectionSourceHTTP was expected.");if(this.session=o.session,this.gateway&&(fi("Gateway is already opened, closing previous gateway"),yield this.gateway.close()),this.gateway=new Op(this.storage,this.walletConnectionSource.bridgeUrl,o.session.sessionCrypto.sessionId,this.gatewayListener.bind(this),this.gatewayErrorsListener.bind(this)),!i.signal.aborted){this.listeners.forEach(a=>a(o.connectEvent));try{yield Fp(a=>this.gateway.registerSession({openingDeadlineMS:s,signal:a.signal}),{attempts:Number.MAX_SAFE_INTEGER,delayMs:this.defaultRetryTimeoutMS,signal:i.signal})}catch{yield this.disconnect({signal:i.signal});return}}})}sendRequest(e,n){let r={};return typeof n=="function"?r.onRequestSent=n:(r.onRequestSent=n?.onRequestSent,r.signal=n?.signal,r.attempts=n?.attempts),new Promise((i,o)=>mt(this,void 0,void 0,function*(){var s;if(!this.gateway||!this.session||!("walletPublicKey"in this.session))throw new At("Trying to send bridge request without session");let a=(yield this.connectionStorage.getNextRpcRequestId()).toString();yield this.connectionStorage.increaseNextRpcRequestId(),fi("Send http-bridge request:",Object.assign(Object.assign({},e),{id:a}));let l=this.session.sessionCrypto.encrypt(JSON.stringify(Object.assign(Object.assign({},e),{id:a})),Pp(this.session.walletPublicKey));try{yield this.gateway.send(l,this.session.walletPublicKey,e.method,{attempts:r?.attempts,signal:r?.signal}),(s=r?.onRequestSent)===null||s===void 0||s.call(r),this.pendingRequests.set(a.toString(),i)}catch(c){o(c)}}))}closeConnection(){this.closeGateways(),this.listeners=[],this.session=null,this.gateway=null}disconnect(e){return mt(this,void 0,void 0,function*(){return new Promise(n=>mt(this,void 0,void 0,function*(){let r=!1,i=null,o=()=>{r||(r=!0,this.removeBridgeAndSession().then(n))};try{this.closeGateways();let s=gs(e?.signal);i=setTimeout(()=>{s.abort()},this.defaultOpeningDeadlineMS),yield this.sendRequest({method:"disconnect",params:[]},{onRequestSent:o,signal:s.signal,attempts:1})}catch(s){fi("Disconnect error:",s),r||this.removeBridgeAndSession().then(n)}finally{i&&clearTimeout(i),o()}}))})}listen(e){return this.listeners.push(e),()=>this.listeners=this.listeners.filter(n=>n!==e)}pause(){var e;(e=this.gateway)===null||e===void 0||e.pause(),this.pendingGateways.forEach(n=>n.pause())}unPause(){return mt(this,void 0,void 0,function*(){let e=this.pendingGateways.map(n=>n.unPause());this.gateway&&e.push(this.gateway.unPause()),yield Promise.all(e)})}pendingGatewaysListener(e,n,r){return mt(this,void 0,void 0,function*(){if(!this.pendingGateways.includes(e)){yield e.close();return}return this.closeGateways({except:e}),this.gateway&&(fi("Gateway is already opened, closing previous gateway"),yield this.gateway.close()),this.session.bridgeUrl=n,this.gateway=e,this.gateway.setErrorsListener(this.gatewayErrorsListener.bind(this)),this.gateway.setListener(this.gatewayListener.bind(this)),this.gatewayListener(r)})}gatewayListener(e){return mt(this,void 0,void 0,function*(){let n=JSON.parse(this.session.sessionCrypto.decrypt(X0.decode(e.message).toUint8Array(),Pp(e.from)));if(fi("Wallet message received:",n),!("event"in n)){let i=n.id.toString(),o=this.pendingRequests.get(i);if(!o){fi(`Response id ${i} doesn't match any request's id`);return}o(n),this.pendingRequests.delete(i);return}if(n.id!==void 0){let i=yield this.connectionStorage.getLastWalletEventId();if(i!==void 0&&n.id<=i){ka(`Received event id (=${n.id}) must be greater than stored last wallet event id (=${i}) `);return}n.event!=="connect"&&(yield this.connectionStorage.storeLastWalletEventId(n.id))}let r=this.listeners;n.event==="connect"&&(yield this.updateSession(n,e.from)),n.event==="disconnect"&&(fi("Removing bridge and session: received disconnect event"),yield this.removeBridgeAndSession()),r.forEach(i=>i(n))})}gatewayErrorsListener(e){return mt(this,void 0,void 0,function*(){throw new At(`Bridge error ${JSON.stringify(e)}`)})}updateSession(e,n){return mt(this,void 0,void 0,function*(){this.session=Object.assign(Object.assign({},this.session),{walletPublicKey:n});let r=e.payload.items.find(o=>o.name==="ton_addr"),i=Object.assign(Object.assign({},e),{payload:Object.assign(Object.assign({},e.payload),{items:[r]})});yield this.connectionStorage.storeConnection({type:"http",session:this.session,lastWalletEventId:e.id,connectEvent:i,nextRpcRequestId:0})})}removeBridgeAndSession(){return mt(this,void 0,void 0,function*(){this.closeConnection(),yield this.connectionStorage.removeConnection()})}generateUniversalLink(e,n){return Pa(e)?this.generateTGUniversalLink(e,n):this.generateRegularUniversalLink(e,n)}generateRegularUniversalLink(e,n){let r=new URL(e);return r.searchParams.append("v",bM.toString()),r.searchParams.append("id",this.session.sessionCrypto.sessionId),r.searchParams.append("r",JSON.stringify(n)),r.toString()}generateTGUniversalLink(e,n){let i=this.generateRegularUniversalLink("about:blank",n).split("?")[1],o="tonconnect-"+c2(i),s=this.convertToDirectLink(e),a=new URL(s);return a.searchParams.append("startapp",o),a.toString()}convertToDirectLink(e){let n=new URL(e);return n.searchParams.has("attach")&&(n.searchParams.delete("attach"),n.pathname+="/start"),n.toString()}openGateways(e,n){return mt(this,void 0,void 0,function*(){if(Array.isArray(this.walletConnectionSource)){this.pendingGateways.map(r=>r.close().catch()),this.pendingGateways=this.walletConnectionSource.map(r=>{let i=new Op(this.storage,r.bridgeUrl,e.sessionId,()=>{},()=>{});return i.setListener(o=>this.pendingGatewaysListener(i,r.bridgeUrl,o)),i}),yield Promise.allSettled(this.pendingGateways.map(r=>Fp(i=>{var o;return this.pendingGateways.some(s=>s===r)?r.registerSession({openingDeadlineMS:(o=n?.openingDeadlineMS)!==null&&o!==void 0?o:this.defaultOpeningDeadlineMS,signal:i.signal}):r.close()},{attempts:Number.MAX_SAFE_INTEGER,delayMs:this.defaultRetryTimeoutMS,signal:n?.signal})));return}else return this.gateway&&(fi("Gateway is already opened, closing previous gateway"),yield this.gateway.close()),this.gateway=new Op(this.storage,this.walletConnectionSource.bridgeUrl,e.sessionId,this.gatewayListener.bind(this),this.gatewayErrorsListener.bind(this)),yield this.gateway.registerSession({openingDeadlineMS:n?.openingDeadlineMS,signal:n?.signal})})}closeGateways(e){var n;(n=this.gateway)===null||n===void 0||n.close(),this.pendingGateways.filter(r=>r!==e?.except).forEach(r=>r.close()),this.pendingGateways=[]}};function gM(t,e){return wM(t,[e])}function wM(t,e){return!t||typeof t!="object"?!1:e.every(n=>n in t)}function jG(t){try{return!gM(t,"tonconnect")||!gM(t.tonconnect,"walletInfo")?!1:wM(t.tonconnect.walletInfo,["name","app_name","image","about_url","platforms"])}catch{return!1}}var o2=class t{constructor(){this.storage={}}static getInstance(){return t.instance||(t.instance=new t),t.instance}get length(){return Object.keys(this.storage).length}clear(){this.storage={}}getItem(e){var n;return(n=this.storage[e])!==null&&n!==void 0?n:null}key(e){var n;let r=Object.keys(this.storage);return e<0||e>=r.length?null:(n=r[e])!==null&&n!==void 0?n:null}removeItem(e){delete this.storage[e]}setItem(e,n){this.storage[e]=n}};function c1(){if(!(typeof window>"u"))return window}function UG(){let t=c1();if(!t)return[];try{return Object.keys(t)}catch{return[]}}function GG(){if(!(typeof document>"u"))return document}function HG(){var t;let e=(t=c1())===null||t===void 0?void 0:t.location.origin;return e?e+"/tonconnect-manifest.json":""}function WG(){if(zG())return localStorage;if(qG())throw new At("`localStorage` is unavailable, but it is required for TonConnect. For more details, see https://github.com/ton-connect/sdk/tree/main/packages/sdk#init-connector");return o2.getInstance()}function zG(){try{return typeof localStorage<"u"}catch{return!1}}function qG(){return typeof process<"u"&&process.versions!=null&&process.versions.node!=null}var $s=class t{constructor(e,n){this.injectedWalletKey=n,this.type="injected",this.unsubscribeCallback=null,this.listenSubscriptions=!1,this.listeners=[];let r=t.window;if(!t.isWindowContainsWallet(r,n))throw new X_;this.connectionStorage=new Vc(e),this.injectedWallet=r[n].tonconnect}static fromStorage(e){return mt(this,void 0,void 0,function*(){let r=yield new Vc(e).getInjectedConnection();return new t(e,r.jsBridgeKey)})}static isWalletInjected(e){return t.isWindowContainsWallet(this.window,e)}static isInsideWalletBrowser(e){return t.isWindowContainsWallet(this.window,e)?this.window[e].tonconnect.isWalletBrowser:!1}static getCurrentlyInjectedWallets(){return this.window?UG().filter(([r,i])=>jG(i)).map(([r,i])=>({name:i.tonconnect.walletInfo.name,appName:i.tonconnect.walletInfo.app_name,aboutUrl:i.tonconnect.walletInfo.about_url,imageUrl:i.tonconnect.walletInfo.image,tondns:i.tonconnect.walletInfo.tondns,jsBridgeKey:r,injected:!0,embedded:i.tonconnect.isWalletBrowser,platforms:i.tonconnect.walletInfo.platforms,features:i.tonconnect.walletInfo.features})):[]}static isWindowContainsWallet(e,n){return!!e&&n in e&&typeof e[n]=="object"&&"tonconnect"in e[n]}connect(e){this._connect(bM,e)}restoreConnection(){return mt(this,void 0,void 0,function*(){try{fi("Injected Provider restoring connection...");let e=yield this.injectedWallet.restoreConnection();fi("Injected Provider restoring connection response",e),e.event==="connect"?(this.makeSubscriptions(),this.listeners.forEach(n=>n(e))):yield this.connectionStorage.removeConnection()}catch(e){yield this.connectionStorage.removeConnection(),console.error(e)}})}closeConnection(){this.listenSubscriptions&&this.injectedWallet.disconnect(),this.closeAllListeners()}disconnect(){return mt(this,void 0,void 0,function*(){return new Promise(e=>{let n=()=>{this.closeAllListeners(),this.connectionStorage.removeConnection().then(e)};try{this.injectedWallet.disconnect(),n()}catch(r){fi(r),this.sendRequest({method:"disconnect",params:[]},n)}})})}closeAllListeners(){var e;this.listenSubscriptions=!1,this.listeners=[],(e=this.unsubscribeCallback)===null||e===void 0||e.call(this)}listen(e){return this.listeners.push(e),()=>this.listeners=this.listeners.filter(n=>n!==e)}sendRequest(e,n){var r;return mt(this,void 0,void 0,function*(){let i={};typeof n=="function"?i.onRequestSent=n:(i.onRequestSent=n?.onRequestSent,i.signal=n?.signal);let o=(yield this.connectionStorage.getNextRpcRequestId()).toString();yield this.connectionStorage.increaseNextRpcRequestId(),fi("Send injected-bridge request:",Object.assign(Object.assign({},e),{id:o}));let s=this.injectedWallet.send(Object.assign(Object.assign({},e),{id:o}));return s.then(a=>fi("Wallet message received:",a)),(r=i?.onRequestSent)===null||r===void 0||r.call(i),s})}_connect(e,n){return mt(this,void 0,void 0,function*(){try{fi(`Injected Provider connect request: protocolVersion: ${e}, message:`,n);let r=yield this.injectedWallet.connect(e,n);fi("Injected Provider connect response:",r),r.event==="connect"&&(yield this.updateSession(),this.makeSubscriptions()),this.listeners.forEach(i=>i(r))}catch(r){fi("Injected Provider connect error:",r);let i={event:"connect_error",payload:{code:0,message:r?.toString()}};this.listeners.forEach(o=>o(i))}})}makeSubscriptions(){this.listenSubscriptions=!0,this.unsubscribeCallback=this.injectedWallet.listen(e=>{fi("Wallet message received:",e),this.listenSubscriptions&&this.listeners.forEach(n=>n(e)),e.event==="disconnect"&&this.disconnect()})}updateSession(){return this.connectionStorage.storeConnection({type:"injected",jsBridgeKey:this.injectedWalletKey,nextRpcRequestId:0})}};$s.window=c1();var s2=class{constructor(){this.localStorage=WG()}getItem(e){return mt(this,void 0,void 0,function*(){return this.localStorage.getItem(e)})}removeItem(e){return mt(this,void 0,void 0,function*(){this.localStorage.removeItem(e)})}setItem(e,n){return mt(this,void 0,void 0,function*(){this.localStorage.setItem(e,n)})}};function Sl(t){return KG(t)&&t.injected}function Bp(t){return Sl(t)&&t.embedded}function KG(t){return"jsBridgeKey"in t}function u1(t){return"bridgeUrl"in t}var YG=[{app_name:"telegram-wallet",name:"Wallet",image:"https://wallet.tg/images/logo-288.png",about_url:"https://wallet.tg/",universal_url:"https://t.me/wallet?attach=wallet",bridge:[{type:"sse",url:"https://walletbot.me/tonconnect-bridge/bridge"}],platforms:["ios","android","macos","windows","linux"]},{app_name:"tonkeeper",name:"Tonkeeper",image:"https://tonkeeper.com/assets/tonconnect-icon.png",tondns:"tonkeeper.ton",about_url:"https://tonkeeper.com",universal_url:"https://app.tonkeeper.com/ton-connect",deepLink:"tonkeeper-tc://",bridge:[{type:"sse",url:"https://bridge.tonapi.io/bridge"},{type:"js",key:"tonkeeper"}],platforms:["ios","android","chrome","firefox","macos"]},{app_name:"mytonwallet",name:"MyTonWallet",image:"https://static.mytonwallet.io/icon-256.png",about_url:"https://mytonwallet.io",universal_url:"https://connect.mytonwallet.org",bridge:[{type:"js",key:"mytonwallet"},{type:"sse",url:"https://tonconnectbridge.mytonwallet.org/bridge/"}],platforms:["chrome","windows","macos","linux","ios","android","firefox"]},{app_name:"tonhub",name:"Tonhub",image:"https://tonhub.com/tonconnect_logo.png",about_url:"https://tonhub.com",universal_url:"https://tonhub.com/ton-connect",bridge:[{type:"js",key:"tonhub"},{type:"sse",url:"https://connect.tonhubapi.com/tonconnect"}],platforms:["ios","android"]},{app_name:"bitgetTonWallet",name:"Bitget Wallet",image:"https://raw.githubusercontent.com/bitgetwallet/download/refs/heads/main/logo/png/bitget_wallet_logo_288_mini.png",about_url:"https://web3.bitget.com",deepLink:"bitkeep://",bridge:[{type:"js",key:"bitgetTonWallet"},{type:"sse",url:"https://ton-connect-bridge.bgwapi.io/bridge"}],platforms:["ios","android","chrome"],universal_url:"https://bkcode.vip/ton-connect"},{app_name:"okxMiniWallet",name:"OKX Mini Wallet",image:"https://static.okx.com/cdn/assets/imgs/2411/8BE1A4A434D8F58A.png",about_url:"https://www.okx.com/web3",universal_url:"https://t.me/OKX_WALLET_BOT?attach=wallet",bridge:[{type:"sse",url:"https://www.okx.com/tonbridge/discover/rpc/bridge"}],platforms:["ios","android","macos","windows","linux"]},{app_name:"binanceWeb3TonWallet",name:"Binance Web3 Wallet",image:"https://public.bnbstatic.com/static/binance-w3w/ton-provider/binancew3w.png",about_url:"https://www.binance.com/en/web3wallet",deepLink:"bnc://app.binance.com/cedefi/ton-connect",bridge:[{type:"js",key:"binancew3w"},{type:"sse",url:"https://wallet.binance.com/tonbridge/bridge"}],platforms:["ios","android","macos","windows","linux"],universal_url:"https://app.binance.com/cedefi/ton-connect"},{app_name:"fintopio-tg",name:"Fintopio",image:"https://fintopio.com/tonconnect-icon.png",about_url:"https://fintopio.com",universal_url:"https://t.me/fintopio?attach=wallet",bridge:[{type:"sse",url:"https://wallet-bridge.fintopio.com/bridge"}],platforms:["ios","android","macos","windows","linux"]},{app_name:"okxTonWallet",name:"OKX Wallet",image:"https://static.okx.com/cdn/assets/imgs/247/58E63FEA47A2B7D7.png",about_url:"https://www.okx.com/web3",universal_url:"https://www.okx.com/download?appendQuery=true&deeplink=okx://web3/wallet/tonconnect",bridge:[{type:"js",key:"okxTonWallet"},{type:"sse",url:"https://www.okx.com/tonbridge/discover/rpc/bridge"}],platforms:["chrome","safari","firefox","ios","android"]},{app_name:"hot",name:"HOT",image:"https://raw.githubusercontent.com/hot-dao/media/main/logo.png",about_url:"https://hot-labs.org/",universal_url:"https://t.me/herewalletbot?attach=wallet",bridge:[{type:"sse",url:"https://sse-bridge.hot-labs.org"},{type:"js",key:"hotWallet"}],platforms:["ios","android","macos","windows","linux"]},{app_name:"bybitTonWallet",name:"Bybit Wallet",image:"https://raw.githubusercontent.com/bybit-web3/bybit-web3.github.io/main/docs/images/bybit-logo.png",about_url:"https://www.bybit.com/web3",universal_url:"https://app.bybit.com/ton-connect",deepLink:"bybitapp://",bridge:[{type:"js",key:"bybitTonWallet"},{type:"sse",url:"https://api-node.bybit.com/spot/api/web3/bridge/ton/bridge"}],platforms:["ios","android","chrome"]},{app_name:"dewallet",name:"DeWallet",image:"https://raw.githubusercontent.com/delab-team/manifests-images/main/WalletAvatar.png",about_url:"https://delabwallet.com",universal_url:"https://t.me/dewallet?attach=wallet",bridge:[{type:"sse",url:"https://bridge.dewallet.pro/bridge"}],platforms:["ios","android","macos","windows","linux"]},{app_name:"safepalwallet",name:"SafePal",image:"https://s.pvcliping.com/web/public_image/SafePal_x288.png",tondns:"",about_url:"https://www.safepal.com",universal_url:"https://link.safepal.io/ton-connect",deepLink:"safepal-tc://",bridge:[{type:"sse",url:"https://ton-bridge.safepal.com/tonbridge/v1/bridge"},{type:"js",key:"safepalwallet"}],platforms:["ios","android","chrome","firefox"]},{app_name:"GateWallet",name:"GateWallet",image:"https://img.gatedataimg.com/prd-ordinal-imgs/036f07bb8730716e/gateio-0925.png",about_url:"https://www.gate.io/",bridge:[{type:"js",key:"gatetonwallet"},{type:"sse",url:"https://dapp.gateio.services/tonbridge_api/bridge/v1"}],platforms:["ios","android"],universal_url:"https://gateio.go.link/gateio/web3?adj_t=1ff8khdw_1fu4ccc7"},{app_name:"openmask",name:"OpenMask",image:"https://raw.githubusercontent.com/OpenProduct/openmask-extension/main/public/openmask-logo-288.png",about_url:"https://www.openmask.app/",bridge:[{type:"js",key:"openmask"}],platforms:["chrome"]},{app_name:"BitgetWeb3",name:"BitgetWeb3",image:"https://img.bitgetimg.com/image/third/1731638059795.png",about_url:"\u200Bhttps://www.bitget.com",universal_url:"https://t.me/BitgetOfficialBot?attach=wallet",bridge:[{type:"sse",url:"https://ton-connect-bridge.bgwapi.io/bridge"}],platforms:["ios","android","windows","macos","linux"]},{app_name:"tobi",name:"Tobi",image:"https://app.tobiwallet.app/icons/logo-288.png",about_url:"https://tobi.fun",universal_url:"https://t.me/TobiCopilotBot?attach=wallet",bridge:[{type:"sse",url:"https://ton-bridge.tobiwallet.app/bridge"}],platforms:["ios","android","macos","windows","linux"]},{app_name:"xtonwallet",name:"XTONWallet",image:"https://xtonwallet.com/assets/img/icon-256-back.png",about_url:"https://xtonwallet.com",bridge:[{type:"js",key:"xtonwallet"}],platforms:["chrome","firefox"]},{app_name:"tonwallet",name:"TON Wallet",image:"https://wallet.ton.org/assets/ui/qr-logo.png",about_url:"https://chrome.google.com/webstore/detail/ton-wallet/nphplpgoakhhjchkkhmiggakijnkhfnd",bridge:[{type:"js",key:"tonwallet"}],platforms:["chrome"]}],Vp=class{constructor(e){var n;this.walletsListCache=null,this.walletsListCacheCreationTimestamp=null,this.walletsListSource=(n=e?.walletsListSource)!==null&&n!==void 0?n:"https://raw.githubusercontent.com/ton-blockchain/wallets-list/main/wallets-v2.json",this.cacheTTLMs=e?.cacheTTLMs}getWallets(){return mt(this,void 0,void 0,function*(){return this.cacheTTLMs&&this.walletsListCacheCreationTimestamp&&Date.now()>this.walletsListCacheCreationTimestamp+this.cacheTTLMs&&(this.walletsListCache=null),this.walletsListCache||(this.walletsListCache=this.fetchWalletsList(),this.walletsListCache.then(()=>{this.walletsListCacheCreationTimestamp=Date.now()}).catch(()=>{this.walletsListCache=null,this.walletsListCacheCreationTimestamp=null})),this.walletsListCache})}getEmbeddedWallet(){return mt(this,void 0,void 0,function*(){let n=(yield this.getWallets()).filter(Bp);return n.length===1?n[0]:null})}fetchWalletsList(){return mt(this,void 0,void 0,function*(){let e=[];try{if(e=yield(yield fetch(this.walletsListSource)).json(),!Array.isArray(e))throw new e2("Wrong wallets list format, wallets list must be an array.");let i=e.filter(o=>!this.isCorrectWalletConfigDTO(o));i.length&&(ka(`Wallet(s) ${i.map(o=>o?.name||"unknown").join(", ")} config format is wrong. They were removed from the wallets list.`),e=e.filter(o=>this.isCorrectWalletConfigDTO(o)))}catch(r){ka(r),e=YG}let n=[];try{n=$s.getCurrentlyInjectedWallets()}catch(r){ka(r)}return this.mergeWalletsLists(this.walletConfigDTOListToWalletConfigList(e),n)})}walletConfigDTOListToWalletConfigList(e){return e.map(n=>{let r={name:n.name,appName:n.app_name,imageUrl:n.image,aboutUrl:n.about_url,tondns:n.tondns,platforms:n.platforms,features:n.features};return n.bridge.forEach(i=>{if(i.type==="sse"&&(r.bridgeUrl=i.url,r.universalLink=n.universal_url,r.deepLink=n.deepLink),i.type==="js"){let o=i.key;r.jsBridgeKey=o,r.injected=$s.isWalletInjected(o),r.embedded=$s.isInsideWalletBrowser(o)}}),r})}mergeWalletsLists(e,n){return[...new Set(e.concat(n).map(i=>i.name)).values()].map(i=>{let o=e.find(a=>a.name===i),s=n.find(a=>a.name===i);return Object.assign(Object.assign({},o&&Object.assign({},o)),s&&Object.assign({},s))})}isCorrectWalletConfigDTO(e){if(!e||typeof e!="object")return!1;let n="name"in e,r="app_name"in e,i="image"in e,o="about_url"in e,s="platforms"in e;if(!n||!i||!o||!s||!r||!e.platforms||!Array.isArray(e.platforms)||!e.platforms.length||!("bridge"in e)||!Array.isArray(e.bridge)||!e.bridge.length)return!1;let a=e.bridge;if(a.some(u=>!u||typeof u!="object"||!("type"in u)))return!1;let l=a.find(u=>u.type==="sse");if(l&&(!(typeof l=="object"&&"url"in l)||!l.url||!e.universal_url))return!1;let c=a.find(u=>u.type==="js");return!(c&&(typeof c!="object"||!("key"in c)||!c.key))}};function JG(t,e){let n=t.includes("SendTransaction"),r=CM(t,"SendTransaction");if(!n&&!r)throw new Rp("Wallet doesn't support SendTransaction feature.");if(e.requireExtraCurrencies&&(!r||!r.extraCurrencySupported))throw new Rp("Wallet is not able to handle such SendTransaction request. Extra currencies support is required.");if(r&&r.maxMessages!==void 0){if(r.maxMessages<e.requiredMessagesNumber)throw new Rp(`Wallet is not able to handle such SendTransaction request. Max support messages number is ${r.maxMessages}, but ${e.requiredMessagesNumber} is required.`);return}LG("Connected wallet didn't provide information about max allowed messages in the SendTransaction request. Request may be rejected by the wallet.")}function u2(t,e){if(typeof e!="object")return!0;let{sendTransaction:n}=e;if(n){let r=CM(t,"SendTransaction");if(!r||!QG(r,n))return!1}return!0}function CM(t,e){return t.find(n=>n&&typeof n=="object"&&n.name===e)}function QG(t,e){let n=e.minMessages===void 0||e.minMessages<=t.maxMessages,r=!e.extraCurrencyRequired||t.extraCurrencySupported;return!!(n&&r)}function f2(){return{type:"request-version"}}function d2(t){return{type:"response-version",version:t}}function El(t){return{ton_connect_sdk_lib:t.ton_connect_sdk_lib,ton_connect_ui_lib:t.ton_connect_ui_lib}}function Tf(t,e){var n,r,i,o,s,a,l,c;let f=((n=e?.connectItems)===null||n===void 0?void 0:n.tonProof)&&"proof"in e.connectItems.tonProof?"ton_proof":"ton_addr";return{wallet_address:(i=(r=e?.account)===null||r===void 0?void 0:r.address)!==null&&i!==void 0?i:null,wallet_type:(o=e?.device.appName)!==null&&o!==void 0?o:null,wallet_version:(s=e?.device.appVersion)!==null&&s!==void 0?s:null,auth_type:f,custom_data:Object.assign({chain_id:(l=(a=e?.account)===null||a===void 0?void 0:a.chain)!==null&&l!==void 0?l:null,provider:(c=e?.provider)!==null&&c!==void 0?c:null},El(t))}}function p2(t){return{type:"connection-started",custom_data:El(t)}}function h2(t,e){return Object.assign({type:"connection-completed",is_success:!0},Tf(t,e))}function m2(t,e,n){return{type:"connection-error",is_success:!1,error_message:e,error_code:n??null,custom_data:El(t)}}function g2(t){return{type:"connection-restoring-started",custom_data:El(t)}}function v2(t,e){return Object.assign({type:"connection-restoring-completed",is_success:!0},Tf(t,e))}function y2(t,e){return{type:"connection-restoring-error",is_success:!1,error_message:e,custom_data:El(t)}}function b2(t,e){var n,r,i,o;return{valid_until:(n=String(e.validUntil))!==null&&n!==void 0?n:null,from:(o=(r=e.from)!==null&&r!==void 0?r:(i=t?.account)===null||i===void 0?void 0:i.address)!==null&&o!==void 0?o:null,messages:e.messages.map(s=>{var a,l;return{address:(a=s.address)!==null&&a!==void 0?a:null,amount:(l=s.amount)!==null&&l!==void 0?l:null}})}}function w2(t,e,n){return Object.assign(Object.assign({type:"transaction-sent-for-signature"},Tf(t,e)),b2(e,n))}function C2(t,e,n,r){return Object.assign(Object.assign({type:"transaction-signed",is_success:!0,signed_transaction:r.boc},Tf(t,e)),b2(e,n))}function _2(t,e,n,r,i){return Object.assign(Object.assign({type:"transaction-signing-failed",is_success:!1,error_message:r,error_code:i??null},Tf(t,e)),b2(e,n))}function x2(t,e,n){return Object.assign({type:"disconnection",scope:n},Tf(t,e))}var $p=class{constructor(){this.window=c1()}dispatchEvent(e,n){var r;return mt(this,void 0,void 0,function*(){let i=new CustomEvent(e,{detail:n});(r=this.window)===null||r===void 0||r.dispatchEvent(i)})}addEventListener(e,n,r){var i;return mt(this,void 0,void 0,function*(){return(i=this.window)===null||i===void 0||i.addEventListener(e,n,r),()=>{var o;return(o=this.window)===null||o===void 0?void 0:o.removeEventListener(e,n)}})}},a2=class{constructor(e){var n;this.eventPrefix="ton-connect-",this.tonConnectUiVersion=null,this.eventDispatcher=(n=e?.eventDispatcher)!==null&&n!==void 0?n:new $p,this.tonConnectSdkVersion=e.tonConnectSdkVersion,this.init().catch()}get version(){return El({ton_connect_sdk_lib:this.tonConnectSdkVersion,ton_connect_ui_lib:this.tonConnectUiVersion})}init(){return mt(this,void 0,void 0,function*(){try{yield this.setRequestVersionHandler(),this.tonConnectUiVersion=yield this.requestTonConnectUiVersion()}catch{}})}setRequestVersionHandler(){return mt(this,void 0,void 0,function*(){yield this.eventDispatcher.addEventListener("ton-connect-request-version",()=>mt(this,void 0,void 0,function*(){yield this.eventDispatcher.dispatchEvent("ton-connect-response-version",d2(this.tonConnectSdkVersion))}))})}requestTonConnectUiVersion(){return mt(this,void 0,void 0,function*(){return new Promise((e,n)=>mt(this,void 0,void 0,function*(){try{yield this.eventDispatcher.addEventListener("ton-connect-ui-response-version",r=>{e(r.detail.version)},{once:!0}),yield this.eventDispatcher.dispatchEvent("ton-connect-ui-request-version",f2())}catch(r){n(r)}}))})}dispatchUserActionEvent(e){try{this.eventDispatcher.dispatchEvent(`${this.eventPrefix}${e.type}`,e).catch()}catch{}}trackConnectionStarted(...e){try{let n=p2(this.version,...e);this.dispatchUserActionEvent(n)}catch{}}trackConnectionCompleted(...e){try{let n=h2(this.version,...e);this.dispatchUserActionEvent(n)}catch{}}trackConnectionError(...e){try{let n=m2(this.version,...e);this.dispatchUserActionEvent(n)}catch{}}trackConnectionRestoringStarted(...e){try{let n=g2(this.version,...e);this.dispatchUserActionEvent(n)}catch{}}trackConnectionRestoringCompleted(...e){try{let n=v2(this.version,...e);this.dispatchUserActionEvent(n)}catch{}}trackConnectionRestoringError(...e){try{let n=y2(this.version,...e);this.dispatchUserActionEvent(n)}catch{}}trackDisconnection(...e){try{let n=x2(this.version,...e);this.dispatchUserActionEvent(n)}catch{}}trackTransactionSentForSignature(...e){try{let n=w2(this.version,...e);this.dispatchUserActionEvent(n)}catch{}}trackTransactionSigned(...e){try{let n=C2(this.version,...e);this.dispatchUserActionEvent(n)}catch{}}trackTransactionSigningFailed(...e){try{let n=_2(this.version,...e);this.dispatchUserActionEvent(n)}catch{}}},ZG="3.1.0",Bs=class{constructor(e){if(this.walletsList=new Vp,this._wallet=null,this.provider=null,this.statusChangeSubscriptions=[],this.statusChangeErrorSubscriptions=[],this.dappSettings={manifestUrl:e?.manifestUrl||HG(),storage:e?.storage||new s2},this.walletsRequiredFeatures=e?.walletsRequiredFeatures,this.walletsList=new Vp({walletsListSource:e?.walletsListSource,cacheTTLMs:e?.walletsListCacheTTLMs}),this.tracker=new a2({eventDispatcher:e?.eventDispatcher,tonConnectSdkVersion:ZG}),!this.dappSettings.manifestUrl)throw new Q_("Dapp tonconnect-manifest.json must be specified if window.location.origin is undefined. See more https://github.com/ton-connect/docs/blob/main/requests-responses.md#app-manifest");this.bridgeConnectionStorage=new Vc(this.dappSettings.storage),e?.disableAutoPauseConnection||this.addWindowFocusAndBlurSubscriptions()}static getWallets(){return this.walletsList.getWallets()}get connected(){return this._wallet!==null}get account(){var e;return((e=this._wallet)===null||e===void 0?void 0:e.account)||null}get wallet(){return this._wallet}set wallet(e){this._wallet=e,this.statusChangeSubscriptions.forEach(n=>n(this._wallet))}getWallets(){return this.walletsList.getWallets()}onStatusChange(e,n){return this.statusChangeSubscriptions.push(e),n&&this.statusChangeErrorSubscriptions.push(n),()=>{this.statusChangeSubscriptions=this.statusChangeSubscriptions.filter(r=>r!==e),n&&(this.statusChangeErrorSubscriptions=this.statusChangeErrorSubscriptions.filter(r=>r!==n))}}connect(e,n){var r,i;let o={};if(typeof n=="object"&&"tonProof"in n&&(o.request=n),typeof n=="object"&&("openingDeadlineMS"in n||"signal"in n||"request"in n)&&(o.request=n?.request,o.openingDeadlineMS=n?.openingDeadlineMS,o.signal=n?.signal),this.connected)throw new Z_;let s=gs(o?.signal);if((r=this.abortController)===null||r===void 0||r.abort(),this.abortController=s,s.signal.aborted)throw new At("Connection was aborted");return(i=this.provider)===null||i===void 0||i.closeConnection(),this.provider=this.createProvider(e),s.signal.addEventListener("abort",()=>{var a;(a=this.provider)===null||a===void 0||a.closeConnection(),this.provider=null}),this.tracker.trackConnectionStarted(),this.provider.connect(this.createConnectRequest(o?.request),{openingDeadlineMS:o?.openingDeadlineMS,signal:s.signal})}restoreConnection(e){var n,r;return mt(this,void 0,void 0,function*(){this.tracker.trackConnectionRestoringStarted();let i=gs(e?.signal);if((n=this.abortController)===null||n===void 0||n.abort(),this.abortController=i,i.signal.aborted){this.tracker.trackConnectionRestoringError("Connection restoring was aborted");return}let[o,s]=yield Promise.all([this.bridgeConnectionStorage.storedConnectionType(),this.walletsList.getEmbeddedWallet()]);if(i.signal.aborted){this.tracker.trackConnectionRestoringError("Connection restoring was aborted");return}let a=null;try{switch(o){case"http":a=yield l1.fromStorage(this.dappSettings.storage);break;case"injected":a=yield $s.fromStorage(this.dappSettings.storage);break;default:if(s)a=this.createProvider(s);else return}}catch{this.tracker.trackConnectionRestoringError("Provider is not restored"),yield this.bridgeConnectionStorage.removeConnection(),a?.closeConnection(),a=null;return}if(i.signal.aborted){a?.closeConnection(),this.tracker.trackConnectionRestoringError("Connection restoring was aborted");return}if(!a){ka("Provider is not restored"),this.tracker.trackConnectionRestoringError("Provider is not restored");return}(r=this.provider)===null||r===void 0||r.closeConnection(),this.provider=a,a.listen(this.walletEventsListener.bind(this));let l=()=>{this.tracker.trackConnectionRestoringError("Connection restoring was aborted"),a?.closeConnection(),a=null};i.signal.addEventListener("abort",l);let c=Fp(f=>mt(this,void 0,void 0,function*(){yield a?.restoreConnection({openingDeadlineMS:e?.openingDeadlineMS,signal:f.signal}),i.signal.removeEventListener("abort",l),this.connected?this.tracker.trackConnectionRestoringCompleted(this.wallet):this.tracker.trackConnectionRestoringError("Connection restoring failed")}),{attempts:Number.MAX_SAFE_INTEGER,delayMs:2e3,signal:e?.signal}),u=new Promise(f=>setTimeout(()=>f(),12e3));return Promise.race([c,u])})}sendTransaction(e,n){return mt(this,void 0,void 0,function*(){let r={};typeof n=="function"?r.onRequestSent=n:(r.onRequestSent=n?.onRequestSent,r.signal=n?.signal);let i=gs(r?.signal);if(i.signal.aborted)throw new At("Transaction sending was aborted");this.checkConnection();let o=e.messages.length,s=e.messages.some(m=>m.extraCurrency&&Object.keys(m.extraCurrency).length>0);JG(this.wallet.device.features,{requiredMessagesNumber:o,requireExtraCurrencies:s}),this.tracker.trackTransactionSentForSignature(this.wallet,e);let{validUntil:a,messages:l}=e,c=pM(e,["validUntil","messages"]),u=e.from||this.account.address,f=e.network||this.account.chain,d=yield this.provider.sendRequest(e1.convertToRpcRequest(Object.assign(Object.assign({},c),{from:u,network:f,valid_until:a,messages:l.map(m=>{var{extraCurrency:v}=m,P=pM(m,["extraCurrency"]);return Object.assign(Object.assign({},P),{extra_currency:v})})})),{onRequestSent:r.onRequestSent,signal:i.signal});if(e1.isError(d))return this.tracker.trackTransactionSigningFailed(this.wallet,e,d.error.message,d.error.code),e1.parseAndThrowError(d);let h=e1.convertFromRpcResponse(d);return this.tracker.trackTransactionSigned(this.wallet,e,h),h})}disconnect(e){var n;return mt(this,void 0,void 0,function*(){if(!this.connected)throw new r1;let r=gs(e?.signal),i=this.abortController;if(this.abortController=r,r.signal.aborted)throw new At("Disconnect was aborted");this.onWalletDisconnected("dapp"),yield(n=this.provider)===null||n===void 0?void 0:n.disconnect({signal:r.signal}),i?.abort()})}pauseConnection(){var e;((e=this.provider)===null||e===void 0?void 0:e.type)==="http"&&this.provider.pause()}unPauseConnection(){var e;return((e=this.provider)===null||e===void 0?void 0:e.type)!=="http"?Promise.resolve():this.provider.unPause()}addWindowFocusAndBlurSubscriptions(){let e=GG();if(e)try{e.addEventListener("visibilitychange",()=>{e.hidden?this.pauseConnection():this.unPauseConnection().catch()})}catch(n){ka("Cannot subscribe to the document.visibilitychange: ",n)}}createProvider(e){let n;return!Array.isArray(e)&&RG(e)?n=new $s(this.dappSettings.storage,e.jsBridgeKey):n=new l1(this.dappSettings.storage,e),n.listen(this.walletEventsListener.bind(this)),n}walletEventsListener(e){switch(e.event){case"connect":this.onWalletConnected(e.payload);break;case"connect_error":this.tracker.trackConnectionError(e.payload.message,e.payload.code);let n=FG.parseError(e.payload);this.onWalletConnectError(n);break;case"disconnect":this.onWalletDisconnected("wallet")}}onWalletConnected(e){var n;let r=e.items.find(a=>a.name==="ton_addr"),i=e.items.find(a=>a.name==="ton_proof");if(!r)throw new At("ton_addr connection item was not found");if(!u2(e.device.features,this.walletsRequiredFeatures)){(n=this.provider)===null||n===void 0||n.disconnect(),this.onWalletConnectError(new Ef("Wallet does not support required features",{cause:{connectEvent:e}}));return}let s={device:e.device,provider:this.provider.type,account:{address:r.address,chain:r.network,walletStateInit:r.walletStateInit,publicKey:r.publicKey}};i&&(s.connectItems={tonProof:i}),this.wallet=s,this.tracker.trackConnectionCompleted(s)}onWalletConnectError(e){if(this.statusChangeErrorSubscriptions.forEach(n=>n(e)),fi(e),e instanceof n1||e instanceof t1)throw ka(e),e}onWalletDisconnected(e){this.tracker.trackDisconnection(this.wallet,e),this.wallet=null}checkConnection(){if(!this.connected)throw new r1}createConnectRequest(e){let n=[{name:"ton_addr"}];return e?.tonProof&&n.push({name:"ton_proof",payload:e.tonProof}),{manifestUrl:this.dappSettings.manifestUrl,items:n}}};Bs.walletsList=new Vp;Bs.isWalletInjected=t=>$s.isWalletInjected(t);Bs.isInsideWalletBrowser=t=>$s.isInsideWalletBrowser(t);var XG=81,eH=128;function jp(t,e=!1){let{wc:n,hex:r}=tH(t),i=XG;e&&(i|=eH);let o=new Int8Array(34);o[0]=i,o[1]=n,o.set(r,2);let s=new Uint8Array(36);return s.set(o),s.set(nH(o),34),X0.encode(s).replace(/\+/g,"-").replace(/\//g,"_")}function tH(t){if(!t.includes(":"))throw new Sf(`Wrong address ${t}. Address must include ":".`);let e=t.split(":");if(e.length!==2)throw new Sf(`Wrong address ${t}. Address must include ":" only once.`);let n=parseInt(e[0]);if(n!==0&&n!==-1)throw new Sf(`Wrong address ${t}. WC must be eq 0 or -1, but ${n} received.`);let r=e[1];if(r?.length!==64)throw new Sf(`Wrong address ${t}. Hex part must be 64bytes length, but ${r?.length} received.`);return{wc:n,hex:rH(r)}}function nH(t){let n=0,r=new Uint8Array(t.length+2);r.set(t);for(let i of r){let o=128;for(;o>0;)n<<=1,i&o&&(n+=1),o>>=1,n>65535&&(n&=65535,n^=4129)}return new Uint8Array([Math.floor(n/256),n%256])}var l2={};for(let t=0;t<=255;t++){let e=t.toString(16);e.length<2&&(e="0"+e),l2[e]=t}function rH(t){t=t.toLowerCase();let e=t.length;if(e%2!==0)throw new a1("Hex string must have length a multiple of 2: "+t);let n=e/2,r=new Uint8Array(n);for(let i=0;i<n;i++){let o=i*2,s=t.substring(o,o+2);if(!l2.hasOwnProperty(s))throw new a1("Invalid hex character: "+s);r[i]=l2[s]}return r}var xk=Wl(_M(),1),Sk=Wl(TM(),1),Kp=Wl(IM(),1),vH=Object.defineProperty,yH=Object.defineProperties,bH=Object.getOwnPropertyDescriptors,DM=Object.getOwnPropertySymbols,wH=Object.prototype.hasOwnProperty,CH=Object.prototype.propertyIsEnumerable,O2=(t,e,n)=>e in t?vH(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Qn=(t,e)=>{for(var n in e||(e={}))wH.call(e,n)&&O2(t,n,e[n]);if(DM)for(var n of DM(e))CH.call(e,n)&&O2(t,n,e[n]);return t},co=(t,e)=>yH(t,bH(e)),Pt=(t,e,n)=>(O2(t,typeof e!="symbol"?e+"":e,n),n),Kn=(t,e,n)=>new Promise((r,i)=>{var o=l=>{try{a(n.next(l))}catch(c){i(c)}},s=l=>{try{a(n.throw(l))}catch(c){i(c)}},a=l=>l.done?r(l.value):Promise.resolve(l.value).then(o,s);a((n=n.apply(t,e)).next())}),AM,MM,kM,PM,NM,RM,FM,OM,Nr={};function _H(t){Nr.context=t}var xH=(t,e)=>t===e,ys=Symbol("solid-proxy"),L2=Symbol("solid-track"),x1={equals:xH},Ek=Pk,Va=1,S1=2,Tk={owned:null,cleanups:null,context:null,owner:null},S2={},di=null,Uc=null,jr=null,Oi=null,Oa=null,nx=0;function Yp(t,e){let n=jr,r=di,i=t.length===0,o=i?Tk:{owned:null,cleanups:null,context:null,owner:e===void 0?r:e},s=i?t:()=>t(()=>yi(()=>j1(o)));di=o,jr=null;try{return Al(s,!0)}finally{jr=n,di=r}}function Nt(t,e){e=e?Object.assign({},x1,e):x1;let n={value:t,observers:null,observerSlots:null,comparator:e.equals||void 0},r=i=>(typeof i=="function"&&(i=i(n.value)),kk(n,i));return[Mk.bind(n),r]}function E1(t,e,n){let r=B1(t,e,!0,Va);Gf(r)}function _n(t,e,n){let r=B1(t,e,!1,Va);Gf(r)}function Qr(t,e,n){Ek=MH;let r=B1(t,e,!1,Va);r.user=!0,Oa?Oa.push(r):Gf(r)}function Ze(t,e,n){n=n?Object.assign({},x1,n):x1;let r=B1(t,e,!0,0);return r.observers=null,r.observerSlots=null,r.comparator=n.equals||void 0,Gf(r),Mk.bind(r)}function SH(t,e,n){let r,i,o;arguments.length===2&&typeof e=="object"||arguments.length===1?(r=!0,i=t,o=e||{}):(r=t,i=e,o=n||{});let s=null,a=S2,l=null,c=!1,u="initialValue"in o,f=typeof r=="function"&&Ze(r),d=new Set,[h,m]=(o.storage||Nt)(o.initialValue),[v,P]=Nt(void 0),[b,x]=Nt(void 0,{equals:!1}),[_,T]=Nt(u?"ready":"unresolved");if(Nr.context){l=`${Nr.context.id}${Nr.context.count++}`;let z;o.ssrLoadFrom==="initial"?a=o.initialValue:Nr.load&&(z=Nr.load(l))&&(a=z[0])}function k(z,ie,J,H){return s===z&&(s=null,u=!0,(z===a||ie===a)&&o.onHydrated&&queueMicrotask(()=>o.onHydrated(H,{value:ie})),a=S2,$(ie,J)),ie}function $(z,ie){Al(()=>{ie===void 0&&m(()=>z),T(ie!==void 0?"errored":"ready"),P(ie);for(let J of d.keys())J.decrement();d.clear()},!1)}function V(){let z=IH,ie=h(),J=v();if(J!==void 0&&!s)throw J;return jr&&!jr.user&&z&&E1(()=>{b(),s&&(z.resolved||d.has(z)||(z.increment(),d.add(z)))}),ie}function B(z=!0){if(z!==!1&&c)return;c=!1;let ie=f?f():r;if(ie==null||ie===!1){k(s,yi(h));return}let J=a!==S2?a:yi(()=>i(ie,{value:h(),refetching:z}));return typeof J!="object"||!(J&&"then"in J)?(k(s,J,void 0,ie),J):(s=J,c=!0,queueMicrotask(()=>c=!1),Al(()=>{T(u?"refreshing":"pending"),x()},!1),J.then(H=>k(J,H,void 0,ie),H=>k(J,void 0,Rk(H),ie)))}return Object.defineProperties(V,{state:{get:()=>_()},error:{get:()=>v()},loading:{get(){let z=_();return z==="pending"||z==="refreshing"}},latest:{get(){if(!u)return V();let z=v();if(z&&!s)throw z;return h()}}}),f?E1(()=>B(!1)):B(!1),[V,{refetch:B,mutate:m}]}function Ik(t){return Al(t,!1)}function yi(t){if(jr===null)return t();let e=jr;jr=null;try{return t()}finally{jr=e}}function EH(t,e,n){let r=Array.isArray(t),i,o=n&&n.defer;return s=>{let a;if(r){a=Array(t.length);for(let c=0;c<t.length;c++)a[c]=t[c]()}else a=t();if(o){o=!1;return}let l=yi(()=>e(a,i,s));return i=a,l}}function Dk(t){Qr(()=>yi(t))}function Wi(t){return di===null||(di.cleanups===null?di.cleanups=[t]:di.cleanups.push(t)),t}function Ak(){return jr}function TH(){return di}function V1(t,e){let n=Symbol("context");return{id:n,Provider:kH(n),defaultValue:t}}function zi(t){let e;return(e=Ok(di,t.id))!==void 0?e:t.defaultValue}function $1(t){let e=Ze(t),n=Ze(()=>V2(e()));return n.toArray=()=>{let r=n();return Array.isArray(r)?r:r!=null?[r]:[]},n}var IH;function Mk(){let t=Uc;if(this.sources&&(this.state||t))if(this.state===Va||t)Gf(this);else{let e=Oi;Oi=null,Al(()=>I1(this),!1),Oi=e}if(jr){let e=this.observers?this.observers.length:0;jr.sources?(jr.sources.push(this),jr.sourceSlots.push(e)):(jr.sources=[this],jr.sourceSlots=[e]),this.observers?(this.observers.push(jr),this.observerSlots.push(jr.sources.length-1)):(this.observers=[jr],this.observerSlots=[jr.sources.length-1])}return this.value}function kk(t,e,n){let r=t.value;return(!t.comparator||!t.comparator(r,e))&&(t.value=e,t.observers&&t.observers.length&&Al(()=>{for(let i=0;i<t.observers.length;i+=1){let o=t.observers[i],s=Uc&&Uc.running;s&&Uc.disposed.has(o),(s&&!o.tState||!s&&!o.state)&&(o.pure?Oi.push(o):Oa.push(o),o.observers&&Nk(o)),s||(o.state=Va)}if(Oi.length>1e6)throw Oi=[],new Error},!1)),e}function Gf(t){if(!t.fn)return;j1(t);let e=di,n=jr,r=nx;jr=di=t,DH(t,t.value,r),jr=n,di=e}function DH(t,e,n){let r;try{r=t.fn(e)}catch(i){t.pure&&(t.state=Va,t.owned&&t.owned.forEach(j1),t.owned=null),Fk(i)}(!t.updatedAt||t.updatedAt<=n)&&(t.updatedAt!=null&&"observers"in t?kk(t,r):t.value=r,t.updatedAt=n)}function B1(t,e,n,r=Va,i){let o={fn:t,state:r,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:e,owner:di,context:null,pure:n};return di===null||di!==Tk&&(di.owned?di.owned.push(o):di.owned=[o]),o}function T1(t){let e=Uc;if(t.state===0||e)return;if(t.state===S1||e)return I1(t);if(t.suspense&&yi(t.suspense.inFallback))return t.suspense.effects.push(t);let n=[t];for(;(t=t.owner)&&(!t.updatedAt||t.updatedAt<nx);)(t.state||e)&&n.push(t);for(let r=n.length-1;r>=0;r--)if(t=n[r],t.state===Va||e)Gf(t);else if(t.state===S1||e){let i=Oi;Oi=null,Al(()=>I1(t,n[0]),!1),Oi=i}}function Al(t,e){if(Oi)return t();let n=!1;e||(Oi=[]),Oa?n=!0:Oa=[],nx++;try{let r=t();return AH(n),r}catch(r){n||(Oa=null),Oi=null,Fk(r)}}function AH(t){if(Oi&&(Pk(Oi),Oi=null),t)return;let e=Oa;Oa=null,e.length&&Al(()=>Ek(e),!1)}function Pk(t){for(let e=0;e<t.length;e++)T1(t[e])}function MH(t){let e,n=0;for(e=0;e<t.length;e++){let r=t[e];r.user?t[n++]=r:T1(r)}for(Nr.context&&_H(),e=0;e<n;e++)T1(t[e])}function I1(t,e){let n=Uc;t.state=0;for(let r=0;r<t.sources.length;r+=1){let i=t.sources[r];i.sources&&(i.state===Va||n?i!==e&&T1(i):(i.state===S1||n)&&I1(i,e))}}function Nk(t){let e=Uc;for(let n=0;n<t.observers.length;n+=1){let r=t.observers[n];(!r.state||e)&&(r.state=S1,r.pure?Oi.push(r):Oa.push(r),r.observers&&Nk(r))}}function j1(t){let e;if(t.sources)for(;t.sources.length;){let n=t.sources.pop(),r=t.sourceSlots.pop(),i=n.observers;if(i&&i.length){let o=i.pop(),s=n.observerSlots.pop();r<i.length&&(o.sourceSlots[s]=r,i[r]=o,n.observerSlots[r]=s)}}if(t.owned){for(e=0;e<t.owned.length;e++)j1(t.owned[e]);t.owned=null}if(t.cleanups){for(e=0;e<t.cleanups.length;e++)t.cleanups[e]();t.cleanups=null}t.state=0,t.context=null}function Rk(t){return t instanceof Error||typeof t=="string"?t:new Error("Unknown error")}function Fk(t){throw t=Rk(t),t}function Ok(t,e){return t?t.context&&t.context[e]!==void 0?t.context[e]:Ok(t.owner,e):void 0}function V2(t){if(typeof t=="function"&&!t.length)return V2(t());if(Array.isArray(t)){let e=[];for(let n=0;n<t.length;n++){let r=V2(t[n]);Array.isArray(r)?e.push.apply(e,r):e.push(r)}return e}return t}function kH(t,e){return function(r){let i;return _n(()=>i=yi(()=>(di.context={[t]:r.value},$1(()=>r.children))),void 0),i}}var PH=Symbol("fallback");function LM(t){for(let e=0;e<t.length;e++)t[e]()}function NH(t,e,n={}){let r=[],i=[],o=[],s=0,a=e.length>1?[]:null;return Wi(()=>LM(o)),()=>{let l=t()||[],c,u;return l[L2],yi(()=>{let d=l.length,h,m,v,P,b,x,_,T,k;if(d===0)s!==0&&(LM(o),o=[],r=[],i=[],s=0,a&&(a=[])),n.fallback&&(r=[PH],i[0]=Yp($=>(o[0]=$,n.fallback())),s=1);else if(s===0){for(i=new Array(d),u=0;u<d;u++)r[u]=l[u],i[u]=Yp(f);s=d}else{for(v=new Array(d),P=new Array(d),a&&(b=new Array(d)),x=0,_=Math.min(s,d);x<_&&r[x]===l[x];x++);for(_=s-1,T=d-1;_>=x&&T>=x&&r[_]===l[T];_--,T--)v[T]=i[_],P[T]=o[_],a&&(b[T]=a[_]);for(h=new Map,m=new Array(T+1),u=T;u>=x;u--)k=l[u],c=h.get(k),m[u]=c===void 0?-1:c,h.set(k,u);for(c=x;c<=_;c++)k=r[c],u=h.get(k),u!==void 0&&u!==-1?(v[u]=i[c],P[u]=o[c],a&&(b[u]=a[c]),u=m[u],h.set(k,u)):o[c]();for(u=x;u<d;u++)u in v?(i[u]=v[u],o[u]=P[u],a&&(a[u]=b[u],a[u](u))):i[u]=Yp(f);i=i.slice(0,s=d),r=l.slice(0)}return i});function f(d){if(o[u]=d,a){let[h,m]=Nt(u);return a[u]=m,e(l[u],h)}return e(l[u])}}}function L(t,e){return yi(()=>t(e||{}))}function p1(){return!0}var $2={get(t,e,n){return e===ys?n:t.get(e)},has(t,e){return e===ys?!0:t.has(e)},set:p1,deleteProperty:p1,getOwnPropertyDescriptor(t,e){return{configurable:!0,enumerable:!0,get(){return t.get(e)},set:p1,deleteProperty:p1}},ownKeys(t){return t.keys()}};function E2(t){return(t=typeof t=="function"?t():t)?t:{}}function Us(...t){let e=!1;for(let r=0;r<t.length;r++){let i=t[r];e=e||!!i&&ys in i,t[r]=typeof i=="function"?(e=!0,Ze(i)):i}if(e)return new Proxy({get(r){for(let i=t.length-1;i>=0;i--){let o=E2(t[i])[r];if(o!==void 0)return o}},has(r){for(let i=t.length-1;i>=0;i--)if(r in E2(t[i]))return!0;return!1},keys(){let r=[];for(let i=0;i<t.length;i++)r.push(...Object.keys(E2(t[i])));return[...new Set(r)]}},$2);let n={};for(let r=t.length-1;r>=0;r--)if(t[r]){let i=Object.getOwnPropertyDescriptors(t[r]);for(let o in i)o in n||Object.defineProperty(n,o,{enumerable:!0,get(){for(let s=t.length-1;s>=0;s--){let a=(t[s]||{})[o];if(a!==void 0)return a}}})}return n}function rx(t,...e){let n=new Set(e.flat());if(ys in t){let i=e.map(o=>new Proxy({get(s){return o.includes(s)?t[s]:void 0},has(s){return o.includes(s)&&s in t},keys(){return o.filter(s=>s in t)}},$2));return i.push(new Proxy({get(o){return n.has(o)?void 0:t[o]},has(o){return n.has(o)?!1:o in t},keys(){return Object.keys(t).filter(o=>!n.has(o))}},$2)),i}let r=Object.getOwnPropertyDescriptors(t);return e.push(Object.keys(r).filter(i=>!n.has(i))),e.map(i=>{let o={};for(let s=0;s<i.length;s++){let a=i[s];a in t&&Object.defineProperty(o,a,r[a]?r[a]:{get(){return t[a]},set(){return!0},enumerable:!0})}return o})}function Lf(t){let e="fallback"in t&&{fallback:()=>t.fallback};return Ze(NH(()=>t.each,t.children,e||void 0))}function Ot(t){let e=!1,n=t.keyed,r=Ze(()=>t.when,void 0,{equals:(i,o)=>e?i===o:!i==!o});return Ze(()=>{let i=r();if(i){let o=t.children,s=typeof o=="function"&&o.length>0;return e=n||s,s?yi(()=>o(i)):o}return t.fallback},void 0,void 0)}function Ml(t){let e=!1,n=!1,r=(s,a)=>s[0]===a[0]&&(e?s[1]===a[1]:!s[1]==!a[1])&&s[2]===a[2],i=$1(()=>t.children),o=Ze(()=>{let s=i();Array.isArray(s)||(s=[s]);for(let a=0;a<s.length;a++){let l=s[a].when;if(l)return n=!!s[a].keyed,[a,l,s[a]]}return[-1]},void 0,{equals:r});return Ze(()=>{let[s,a,l]=o();if(s<0)return t.fallback;let c=l.children,u=typeof c=="function"&&c.length>0;return e=n||u,u?yi(()=>c(a)):c},void 0,void 0)}function wr(t){return t}var RH=["allowfullscreen","async","autofocus","autoplay","checked","controls","default","disabled","formnovalidate","hidden","indeterminate","ismap","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","seamless","selected"],FH=new Set(["className","value","readOnly","formNoValidate","isMap","noModule","playsInline",...RH]),OH=new Set(["innerHTML","textContent","innerText","children"]),LH=Object.assign(Object.create(null),{className:"class",htmlFor:"for"}),VM=Object.assign(Object.create(null),{class:"className",formnovalidate:"formNoValidate",ismap:"isMap",nomodule:"noModule",playsinline:"playsInline",readonly:"readOnly"}),VH=new Set(["beforeinput","click","dblclick","contextmenu","focusin","focusout","input","keydown","keyup","mousedown","mousemove","mouseout","mouseover","mouseup","pointerdown","pointermove","pointerout","pointerover","pointerup","touchend","touchmove","touchstart"]),$H=new Set(["altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignObject","g","glyph","glyphRef","hkern","image","line","linearGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","set","stop","svg","switch","symbol","text","textPath","tref","tspan","use","view","vkern"]),BH={xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace"};function jH(t,e,n){let r=n.length,i=e.length,o=r,s=0,a=0,l=e[i-1].nextSibling,c=null;for(;s<i||a<o;){if(e[s]===n[a]){s++,a++;continue}for(;e[i-1]===n[o-1];)i--,o--;if(i===s){let u=o<r?a?n[a-1].nextSibling:n[o-a]:l;for(;a<o;)t.insertBefore(n[a++],u)}else if(o===a)for(;s<i;)(!c||!c.has(e[s]))&&e[s].remove(),s++;else if(e[s]===n[o-1]&&n[a]===e[i-1]){let u=e[--i].nextSibling;t.insertBefore(n[a++],e[s++].nextSibling),t.insertBefore(n[--o],u),e[i]=n[o]}else{if(!c){c=new Map;let f=a;for(;f<o;)c.set(n[f],f++)}let u=c.get(e[s]);if(u!=null)if(a<u&&u<o){let f=s,d=1,h;for(;++f<i&&f<o&&!((h=c.get(e[f]))==null||h!==u+d);)d++;if(d>u-a){let m=e[s];for(;a<u;)t.insertBefore(n[a++],m)}else t.replaceChild(n[a++],e[s++])}else s++;else e[s++].remove()}}}var $M="_$DX_DELEGATE";function UH(t,e,n,r={}){let i;return Yp(o=>{i=o,e===document?t():vi(e,t(),e.firstChild?null:void 0,n)},r.owner),()=>{i(),e.textContent=""}}function xn(t,e,n){if(typeof window>"u")return null;let r=document.createElement("template");r.innerHTML=t;let i=r.content.firstChild;return n&&(i=i.firstChild),i}function GH(t,e=window.document){let n=e[$M]||(e[$M]=new Set);for(let r=0,i=t.length;r<i;r++){let o=t[r];n.has(o)||(n.add(o),e.addEventListener(o,QH))}}function St(t,e,n){n==null?t.removeAttribute(e):t.setAttribute(e,n)}function HH(t,e,n,r){r==null?t.removeAttributeNS(e,n):t.setAttributeNS(e,n,r)}function ix(t,e){e==null?t.removeAttribute("class"):t.className=e}function WH(t,e,n,r){if(r)Array.isArray(n)?(t[`$$${e}`]=n[0],t[`$$${e}Data`]=n[1]):t[`$$${e}`]=n;else if(Array.isArray(n)){let i=n[0];t.addEventListener(e,n[0]=o=>i.call(t,n[1],o))}else t.addEventListener(e,n)}function zH(t,e,n={}){let r=Object.keys(e||{}),i=Object.keys(n),o,s;for(o=0,s=i.length;o<s;o++){let a=i[o];!a||a==="undefined"||e[a]||(BM(t,a,!1),delete n[a])}for(o=0,s=r.length;o<s;o++){let a=r[o],l=!!e[a];!a||a==="undefined"||n[a]===l||!l||(BM(t,a,!0),n[a]=l)}return n}function qH(t,e,n){if(!e)return n?St(t,"style"):e;let r=t.style;if(typeof e=="string")return r.cssText=e;typeof n=="string"&&(r.cssText=n=void 0),n||(n={}),e||(e={});let i,o;for(o in n)e[o]==null&&r.removeProperty(o),delete n[o];for(o in e)i=e[o],i!==n[o]&&(r.setProperty(o,i),n[o]=i);return n}function Lk(t,e={},n,r){let i={};return r||_n(()=>i.children=Vf(t,e.children,i.children)),_n(()=>e.ref&&e.ref(t)),_n(()=>KH(t,e,n,!0,i,!0)),i}function Nf(t,e,n){return yi(()=>t(e,n))}function vi(t,e,n,r){if(n!==void 0&&!r&&(r=[]),typeof e!="function")return Vf(t,e,r,n);_n(i=>Vf(t,e(),i,n),r)}function KH(t,e,n,r,i={},o=!1){e||(e={});for(let s in i)if(!(s in e)){if(s==="children")continue;i[s]=jM(t,s,null,i[s],n,o)}for(let s in e){if(s==="children"){r||Vf(t,e.children);continue}let a=e[s];i[s]=jM(t,s,a,i[s],n,o)}}function YH(t){let e,n;return!Nr.context||!(e=Nr.registry.get(n=ZH()))?t.cloneNode(!0):(Nr.completed&&Nr.completed.add(e),Nr.registry.delete(n),e)}function JH(t){return t.toLowerCase().replace(/-([a-z])/g,(e,n)=>n.toUpperCase())}function BM(t,e,n){let r=e.trim().split(/\s+/);for(let i=0,o=r.length;i<o;i++)t.classList.toggle(r[i],n)}function jM(t,e,n,r,i,o){let s,a,l;if(e==="style")return qH(t,n,r);if(e==="classList")return zH(t,n,r);if(n===r)return r;if(e==="ref")o||n(t);else if(e.slice(0,3)==="on:"){let c=e.slice(3);r&&t.removeEventListener(c,r),n&&t.addEventListener(c,n)}else if(e.slice(0,10)==="oncapture:"){let c=e.slice(10);r&&t.removeEventListener(c,r,!0),n&&t.addEventListener(c,n,!0)}else if(e.slice(0,2)==="on"){let c=e.slice(2).toLowerCase(),u=VH.has(c);if(!u&&r){let f=Array.isArray(r)?r[0]:r;t.removeEventListener(c,f)}(u||n)&&(WH(t,c,n,u),u&&GH([c]))}else if((l=OH.has(e))||!i&&(VM[e]||(a=FH.has(e)))||(s=t.nodeName.includes("-")))e==="class"||e==="className"?ix(t,n):s&&!a&&!l?t[JH(e)]=n:t[VM[e]||e]=n;else{let c=i&&e.indexOf(":")>-1&&BH[e.split(":")[0]];c?HH(t,c,e,n):St(t,LH[e]||e,n)}return n}function QH(t){let e=`$$${t.type}`,n=t.composedPath&&t.composedPath()[0]||t.target;for(t.target!==n&&Object.defineProperty(t,"target",{configurable:!0,value:n}),Object.defineProperty(t,"currentTarget",{configurable:!0,get(){return n||document}}),Nr.registry&&!Nr.done&&(Nr.done=!0,document.querySelectorAll("[id^=pl-]").forEach(r=>{for(;r&&r.nodeType!==8&&r.nodeValue!=="pl-"+t;){let i=r.nextSibling;r.remove(),r=i}r&&r.remove()}));n;){let r=n[e];if(r&&!n.disabled){let i=n[`${e}Data`];if(i!==void 0?r.call(n,i,t):r.call(n,t),t.cancelBubble)return}n=n._$host||n.parentNode||n.host}}function Vf(t,e,n,r,i){for(Nr.context&&!n&&(n=[...t.childNodes]);typeof n=="function";)n=n();if(e===n)return n;let o=typeof e,s=r!==void 0;if(t=s&&n[0]&&n[0].parentNode||t,o==="string"||o==="number"){if(Nr.context)return n;if(o==="number"&&(e=e.toString()),s){let a=n[0];a&&a.nodeType===3?a.data=e:a=document.createTextNode(e),n=Df(t,n,r,a)}else n!==""&&typeof n=="string"?n=t.firstChild.data=e:n=t.textContent=e}else if(e==null||o==="boolean"){if(Nr.context)return n;n=Df(t,n,r)}else{if(o==="function")return _n(()=>{let a=e();for(;typeof a=="function";)a=a();n=Vf(t,a,n,r)}),()=>n;if(Array.isArray(e)){let a=[],l=n&&Array.isArray(n);if(B2(a,e,n,i))return _n(()=>n=Vf(t,a,n,r,!0)),()=>n;if(Nr.context){if(!a.length)return n;for(let c=0;c<a.length;c++)if(a[c].parentNode)return n=a}if(a.length===0){if(n=Df(t,n,r),s)return n}else l?n.length===0?UM(t,a,r):jH(t,n,a):(n&&Df(t),UM(t,a));n=a}else if(e instanceof Node){if(Nr.context&&e.parentNode)return n=s?[e]:e;if(Array.isArray(n)){if(s)return n=Df(t,n,r,e);Df(t,n,null,e)}else n==null||n===""||!t.firstChild?t.appendChild(e):t.replaceChild(e,t.firstChild);n=e}}return n}function B2(t,e,n,r){let i=!1;for(let o=0,s=e.length;o<s;o++){let a=e[o],l=n&&n[o];if(a instanceof Node)t.push(a);else if(!(a==null||a===!0||a===!1))if(Array.isArray(a))i=B2(t,a,l)||i;else if(typeof a=="function")if(r){for(;typeof a=="function";)a=a();i=B2(t,Array.isArray(a)?a:[a],Array.isArray(l)?l:[l])||i}else t.push(a),i=!0;else{let c=String(a);l&&l.nodeType===3&&l.data===c?t.push(l):t.push(document.createTextNode(c))}}return i}function UM(t,e,n=null){for(let r=0,i=e.length;r<i;r++)t.insertBefore(e[r],n)}function Df(t,e,n,r){if(n===void 0)return t.textContent="";let i=r||document.createTextNode("");if(e.length){let o=!1;for(let s=e.length-1;s>=0;s--){let a=e[s];if(i!==a){let l=a.parentNode===t;!o&&!s?l?t.replaceChild(i,a):t.insertBefore(i,n):l&&a.remove()}else o=!0}}else t.insertBefore(i,n);return[i]}function ZH(){let t=Nr.context;return`${t.id}${t.count++}`}var XH="http://www.w3.org/2000/svg";function Vk(t,e=!1){return e?document.createElementNS(XH,t):document.createElement(t)}function $k(t){let{useShadow:e}=t,n=document.createTextNode(""),r=t.mount||document.body;function i(){if(Nr.context){let[o,s]=Nt(!1);return queueMicrotask(()=>s(!0)),()=>o()&&t.children}else return()=>t.children}if(r instanceof HTMLHeadElement){let[o,s]=Nt(!1),a=()=>s(!0);Yp(l=>vi(r,()=>o()?l():i()(),null)),Wi(()=>{Nr.context?queueMicrotask(a):a()})}else{let o=Vk(t.isSVG?"g":"div",t.isSVG),s=e&&o.attachShadow?o.attachShadow({mode:"open"}):o;Object.defineProperty(o,"_$host",{get(){return n.parentNode},configurable:!0}),vi(s,i()),r.appendChild(o),t.ref&&t.ref(o),Wi(()=>r.removeChild(o))}return n}function $f(t){let[e,n]=rx(t,["component"]),r=Ze(()=>e.component);return Ze(()=>{let i=r();switch(typeof i){case"function":return yi(()=>i(n));case"string":let o=$H.has(i),s=Nr.context?YH():Vk(i,o);return Lk(s,n,o),s}})}var Tr=(t=>(t.DARK="DARK",t.LIGHT="LIGHT",t))(Tr||{}),eW={data:""},tW=t=>typeof window=="object"?((t?t.querySelector("#_goober"):window._goober)||Object.assign((t||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:t||eW,nW=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,rW=/\/\*[^]*?\*\/|  +/g,GM=/\n+/g,$c=(t,e)=>{let n="",r="",i="";for(let o in t){let s=t[o];o[0]=="@"?o[1]=="i"?n=o+" "+s+";":r+=o[1]=="f"?$c(s,o):o+"{"+$c(s,o[1]=="k"?"":e)+"}":typeof s=="object"?r+=$c(s,e?e.replace(/([^,])+/g,a=>o.replace(/(^:.*)|([^,])+/g,l=>/&/.test(l)?l.replace(/&/g,a):a?a+" "+l:l)):o):s!=null&&(o=/^--/.test(o)?o:o.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=$c.p?$c.p(o,s):o+":"+s+";")}return n+(e&&i?e+"{"+i+"}":i)+r},Na={},Bk=t=>{if(typeof t=="object"){let e="";for(let n in t)e+=n+Bk(t[n]);return e}return t},iW=(t,e,n,r,i)=>{let o=Bk(t),s=Na[o]||(Na[o]=(l=>{let c=0,u=11;for(;c<l.length;)u=101*u+l.charCodeAt(c++)>>>0;return"go"+u})(o));if(!Na[s]){let l=o!==t?t:(c=>{let u,f,d=[{}];for(;u=nW.exec(c.replace(rW,""));)u[4]?d.shift():u[3]?(f=u[3].replace(GM," ").trim(),d.unshift(d[0][f]=d[0][f]||{})):d[0][u[1]]=u[2].replace(GM," ").trim();return d[0]})(t);Na[s]=$c(i?{["@keyframes "+s]:l}:l,n?"":"."+s)}let a=n&&Na.g?Na.g:null;return n&&(Na.g=Na[s]),((l,c,u,f)=>{f?c.data=c.data.replace(f,l):c.data.indexOf(l)===-1&&(c.data=u?l+c.data:c.data+l)})(Na[s],e,r,a),s},oW=(t,e,n)=>t.reduce((r,i,o)=>{let s=e[o];if(s&&s.call){let a=s(n),l=a&&a.props&&a.props.className||/^go/.test(a)&&a;s=l?"."+l:a&&typeof a=="object"?a.props?"":$c(a,""):a===!1?"":a}return r+i+(s??"")},"");function La(t){let e=this||{},n=t.call?t(e.p):t;return iW(n.unshift?n.raw?oW(n,[].slice.call(arguments,1),e.p):n.reduce((r,i)=>Object.assign(r,i&&i.call?i(e.p):i),{}):n,tW(e.target),e.g,e.o,e.k)}La.bind({g:1});var sW=La.bind({k:1}),ox=V1();function aW(t){return L(ox.Provider,{value:t.theme,get children(){return t.children}})}function gr(){return zi(ox)}function jk(t){let e=this||{};return(...n)=>{let r=i=>{let o=zi(ox),s=Us(i,{theme:o}),a=Us(s,{get class(){let h=s.class,m="class"in s&&/^go[0-9]+/.test(h),v=La.apply({target:e.target,o:m,p:s,g:e.g},n);return[h,v].filter(Boolean).join(" ")}}),[l,c]=rx(a,["as","theme"]),u=c,f=l.as||t,d;return typeof f=="function"?d=f(u):e.g==1?(d=document.createElement(f),Lk(d,u)):d=$f(Us({component:f},u)),d};return r.class=i=>yi(()=>La.apply({target:e.target,p:i,g:e.g},n)),r}}var Se=new Proxy(jk,{get(t,e){return t(e)}});function lW(){let t=jk.call({g:1},"div").apply(null,arguments);return function(n){return t(n),null}}var Ra="tc-root",sx="tc-disable-scroll",T2="tc-using-mouse",cW=()=>{document.body.addEventListener("mousedown",()=>document.body.classList.add(T2)),document.body.addEventListener("keydown",e=>{e.key==="Tab"&&document.body.classList.remove(T2)});let t=lW`
    ${Ra} * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
        
        font-family: -apple-system, BlinkMacSystemFont, 'Roboto', 'Helvetica Neue', Arial, Tahoma, Verdana, sans-serif;
        -webkit-font-smoothing: antialiased;
        -moz-osx-font-smoothing: grayscale;        
        -webkit-tap-highlight-color: transparent;
    }
    
    ${Ra} img {
      -webkit-user-select: none;
      -webkit-touch-callout: none;
    }   
 
    ${Ra} *:focus {
        outline: #08f auto 2px;
    }
    
    ${Ra} li {
        list-style: none;
    }
    
    ${Ra} button {
        outline: none;
    }
    
    body.${sx} {
        position: fixed; 
        overflow-y: scroll;
        right: 0;
        left: 0;
    }
    
    body.${T2} ${Ra} *:focus {
        outline: none;
    }
`;return L(t,{})};function uW(t){t[0]==="#"&&(t=t.slice(1));let e=parseInt(t,16),n=e>>16&255,r=e>>8&255,i=e&255;return[n,r,i].join(",")}function Hc(t,e){return t[0]==="#"&&(t=uW(t)),`rgba(${t}, ${e})`}function Gs(t){return t.toString()+"px"}var Hp=class{constructor(){Pt(this,"storage",{})}static getInstance(){return Hp.instance||(Hp.instance=new Hp),Hp.instance}get length(){return Object.keys(this.storage).length}clear(){this.storage={}}getItem(t){var e;return(e=this.storage[t])!=null?e:null}key(t){var e;let n=Object.keys(this.storage);return t<0||t>=n.length?null:(e=n[t])!=null?e:null}removeItem(t){delete this.storage[t]}setItem(t,e){this.storage[t]=e}},Uk=Hp;Pt(Uk,"instance");var si=class t extends At{constructor(...e){super(...e),Object.setPrototypeOf(this,t.prototype)}};function w1(...t){try{console.debug("[TON_CONNECT_UI]",...t)}catch{}}function fW(...t){try{console.error("[TON_CONNECT_UI]",...t)}catch{}}function dW(...t){try{console.warn("[TON_CONNECT_UI]",...t)}catch{}}function Jp(t,e="_self"){w1("openLink",t,e),window.open(t,e,"noopener noreferrer")}function hr(t){Jp(t,"_blank")}function Il(t,e){let n=()=>{yn("safari")||vs("android")&&yn("firefox")||e()},r=setTimeout(()=>n(),200);window.addEventListener("blur",()=>clearTimeout(r),{once:!0}),Jp(t,"_self")}function pW(){return window.matchMedia&&window.matchMedia("(prefers-color-scheme: light)").matches?Tr.LIGHT:Tr.DARK}function hW(t){let e=n=>t(n.matches?Tr.DARK:Tr.LIGHT);return window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",e),()=>window.matchMedia("(prefers-color-scheme: dark)").removeEventListener("change",e)}function mW(){document.documentElement.scrollHeight!==document.documentElement.clientHeight&&(document.body.style.top=Gs(-document.documentElement.scrollTop),document.body.classList.add(sx))}function gW(){document.body.classList.remove(sx),document.documentElement.scrollTo({top:-parseFloat(getComputedStyle(document.body).top)}),document.body.style.top="auto"}function vW(){document.body.hasAttribute("ontouchstart")||document.body.setAttribute("ontouchstart","")}function yW(){customElements.define(Ra,class extends HTMLElement{})}function Gk(t){return Kn(this,null,function*(){yield new Promise(e=>requestAnimationFrame(e)),t()})}function bW(t){return Kn(this,null,function*(){return yield new Promise(e=>requestAnimationFrame(e)),t()})}function Hk(t){document.readyState!=="complete"?window.addEventListener("load",()=>Gk(()=>Hk(t)),{once:!0}):t.forEach(e=>{let n=new window.Image;n.src=e})}function Ks(){if(typeof window<"u")return window}function ax(){if(wW())return localStorage;if(CW())throw new si("`localStorage` is unavailable, but it is required for TonConnect. For more details, see https://github.com/ton-connect/sdk/tree/main/packages/sdk#init-connector");return Uk.getInstance()}function wW(){try{return typeof localStorage<"u"}catch{return!1}}function CW(){return typeof process<"u"&&process.versions!=null&&process.versions.node!=null}function lx(){var t,e,n;let r=new xk.default().getResult(),i=(t=r.os.name)==null?void 0:t.toLowerCase(),o=(e=r.device.model)==null?void 0:e.toLowerCase(),s;switch(!0){case o==="ipad":s="ipad";break;case i==="ios":s="ios";break;case i==="android":s="android";break;case i==="mac os":s="macos";break;case i==="linux":s="linux";break;case i?.includes("windows"):s="windows";break}let a=(n=r.browser.name)==null?void 0:n.toLowerCase(),l;switch(!0){case a==="chrome":l="chrome";break;case a==="firefox":l="firefox";break;case a?.includes("safari"):l="safari";break;case a?.includes("opera"):l="opera";break}return{os:s,browser:l}}function vs(...t){return t.includes(lx().os)}function yn(...t){return t.includes(lx().browser)}function h1(t,e){let n=new URL(t);return e+n.search}var j2=class{constructor(){Pt(this,"localStorage"),Pt(this,"storageKey","ton-connect-ui_wallet-info"),this.localStorage=ax()}setWalletInfo(e){this.localStorage.setItem(this.storageKey,JSON.stringify(e))}getWalletInfo(){let e=this.localStorage.getItem(this.storageKey);return e?JSON.parse(e):null}removeWalletInfo(){this.localStorage.removeItem(this.storageKey)}},U2=class{constructor(){Pt(this,"localStorage"),Pt(this,"storageKey","ton-connect-ui_preferred-wallet"),this.localStorage=ax()}setPreferredWalletAppName(e){this.localStorage.setItem(this.storageKey,e)}getPreferredWalletAppName(){return this.localStorage.getItem(this.storageKey)||void 0}},D1=class{constructor(){Pt(this,"localStorage"),Pt(this,"storageKey","ton-connect-ui_last-selected-wallet-info"),this.localStorage=ax()}setLastSelectedWalletInfo(e){this.localStorage.setItem(this.storageKey,JSON.stringify(e))}getLastSelectedWalletInfo(){let e=this.localStorage.getItem(this.storageKey);return e?JSON.parse(e):null}removeLastSelectedWalletInfo(){this.localStorage.removeItem(this.storageKey)}},[G2,HM]=Nt({status:"closed",closeReason:null}),WM=Ze(()=>G2().status==="opened"),[A1,zM]=Nt({status:"closed",closeReason:null}),qM=Ze(()=>A1().status==="opened"),_W=Ze(()=>{let t=A1();return t.status==="opened"?t.walletInfo:null}),Mf=typeof window<"u"?new D1:void 0,[xW,SW]=Nt(Mf?.getLastSelectedWalletInfo()||null),Ei=t=>{Mf||(Mf=new D1),t?Mf.setLastSelectedWalletInfo(t):Mf.removeLastSelectedWalletInfo(),SW(t)},[Fa,kf]=Nt(null),EW={close:"Close",openWallet:"Open wallet",copyLink:"Copy Link",linkCopied:"Link Copied",copied:"Copied",yourWallet:"Your Wallet",retry:"Retry",get:"GET",mobile:"Mobile",browserExtension:"Browser Extension",desktop:"Desktop"},TW={connectWallet:"Connect Wallet",dropdown:{copy:"Copy address",copied:"Address copied!",disconnect:"Disconnect"}},IW={confirm:{header:"Open {{ name }} to\xA0confirm the\xA0transaction."},transactionSent:{header:"Transaction sent",text:"Your transaction\xA0will be\xA0processed in\xA0a\xA0few seconds."},transactionCanceled:{header:"Transaction canceled",text:"There will be no changes to\xA0your account."}},DW={walletOn:"Wallet in",recent:"Recent",installed:"Installed",popular:"Popular"},AW={loading:"Loading wallets",wallets:"Wallets",mobileUniversalModal:{connectYourWallet:"Connect your TON\xA0wallet",openWalletOnTelegramOrSelect:"Use Wallet in Telegram or choose other application",openWalletOnTelegram:"Connect Wallet in Telegram",chooseOtherApplication:"Choose other application",openLink:"Open Link",scan:"Scan with your mobile\xA0wallet"},desktopUniversalModal:{connectYourWallet:"Connect your TON wallet",scan:"Scan with your mobile wallet",availableWallets:"Available wallets"},mobileConnectionModal:{showQR:"Show QR Code",scanQR:"Scan the\xA0QR code below with your phone\u2019s\xA0or\xA0{{ name }}\u2019s camera",missingFeatures:"Please update {{ name }}, your version does not support required features for this dApp",notSupportedWallet:"{{ name }} doesn\u2019t support the requested action. Please connect another wallet that supports it",continueIn:"Continue in {{ name }}\u2026",updateWallet:"Update {{ name }}",chooseAnotherWallet:"Choose Another Wallet",connectionDeclined:"Connection declined"},desktopConnectionModal:{scanQR:"Scan the\xA0QR code below with your phone\u2019s\xA0or\xA0{{ name }}\u2019s camera",continueInExtension:"Continue in\xA0{{ name }} browser extension\u2026",dontHaveExtension:"Seems you don't have installed {{ name }}\xA0browser\xA0extension",missingFeatures:"Please update {{ name }}, your version does not support required features for this dApp",notSupportedWallet:"{{ name }} doesn\u2019t support the requested action. Please connect another wallet that supports it",getWallet:"Get {{ name }}",updateWallet:"Update {{ name }}",chooseAnotherWallet:"Choose Another Wallet",continueOnDesktop:"Continue in\xA0{{ name }} on desktop\u2026",openWalletOnTelegram:"Connect Wallet in Telegram on desktop",connectionDeclined:"Connection declined"},infoModal:{whatIsAWallet:"What is a wallet",secureDigitalAssets:"Secure digital assets storage",walletProtects:"A wallet protects and manages your digital assets\xA0including TON, tokens and collectables.",controlIdentity:"Control your Web3 identity",manageIdentity:"Manage your digital identity and access decentralized applications with ease. Maintain control over your data and engage securely in\xA0the\xA0blockchain ecosystem.",effortlessCryptoTransactions:"Effortless crypto transactions",easilySend:"Easily send, receive, monitor your cryptocurrencies.\xA0Streamline your operations with\xA0decentralized applications.",getAWallet:"Get a Wallet"},allWallets:{walletsBelowNotSupported:"The wallets below don\u2019t support all features of\xA0the connected service. You can use your recovery phrase in one of the supported wallets above.",walletNotSupportService:"{{ name }} doesn\u2019t support connected service"}},MW={confirmTransaction:{header:"Confirm the\xA0transaction in\xA0{{ name }}",text:"It will only take a\xA0moment."},transactionSent:"$notifications.transactionSent",transactionCanceled:"$notifications.transactionCanceled"},kW={common:EW,button:TW,notifications:IW,walletItem:DW,walletModal:AW,actionModal:MW},PW={close:"\u0417\u0430\u043A\u0440\u044B\u0442\u044C",openWallet:"\u041E\u0442\u043A\u0440\u044B\u0442\u044C \u043A\u043E\u0448\u0435\u043B\u0451\u043A",copyLink:"\u0421\u043A\u043E\u043F\u0438\u0440\u043E\u0432\u0430\u0442\u044C",linkCopied:"\u0421\u0441\u044B\u043B\u043A\u0430 \u0441\u043A\u043E\u043F\u0438\u0440\u043E\u0432\u0430\u043D\u0430",copied:"\u0421\u043A\u043E\u043F\u0438\u0440\u043E\u0432\u0430\u043D\u043E",yourWallet:"\u0412\u0430\u0448 \u043A\u043E\u0448\u0435\u043B\u0451\u043A",retry:"\u041F\u043E\u0432\u0442\u043E\u0440\u0438\u0442\u044C",get:"\u0421\u043A\u0430\u0447\u0430\u0442\u044C",mobile:"\u041C\u043E\u0431\u0438\u043B\u044C\u043D\u044B\u0439",browserExtension:"\u0420\u0430\u0441\u0448\u0438\u0440\u0435\u043D\u0438\u0435",desktop:"\u0414\u0435\u0441\u043A\u0442\u043E\u043F"},NW={connectWallet:"\u041F\u043E\u0434\u043A\u043B\u044E\u0447\u0438\u0442\u044C \u043A\u043E\u0448\u0435\u043B\u0451\u043A",dropdown:{copy:"\u0421\u043A\u043E\u043F\u0438\u0440\u043E\u0432\u0430\u0442\u044C \u0430\u0434\u0440\u0435\u0441",copied:"\u0410\u0434\u0440\u0435\u0441 \u0441\u043A\u043E\u043F\u0438\u0440\u043E\u0432\u0430\u043D!",disconnect:"\u041E\u0442\u043A\u043B\u044E\u0447\u0438\u0442\u044C \u043A\u043E\u0448\u0435\u043B\u0451\u043A"}},RW={confirm:{header:"\u041E\u0442\u043A\u0440\u043E\u0439\u0442\u0435 {{ name }}, \u0447\u0442\u043E\u0431\u044B\xA0\u043F\u043E\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u044C \u0442\u0440\u0430\u043D\u0437\u0430\u043A\u0446\u0438\u044E."},transactionSent:{header:"\u0422\u0440\u0430\u043D\u0437\u0430\u043A\u0446\u0438\u044F \u043E\u0442\u043F\u0440\u0430\u0432\u043B\u0435\u043D\u0430",text:"\u0412\u0430\u0448\u0430 \u0442\u0440\u0430\u043D\u0437\u0430\u043A\u0446\u0438\u044F\xA0\u0431\u0443\u0434\u0435\u0442 \u043E\u0431\u0440\u0430\u0431\u043E\u0442\u0430\u043D\u0430 \u0447\u0435\u0440\u0435\u0437\xA0\u043D\u0435\u0441\u043A\u043E\u043B\u044C\u043A\u043E \u0441\u0435\u043A\u0443\u043D\u0434."},transactionCanceled:{header:"\u0422\u0440\u0430\u043D\u0437\u0430\u043A\u0446\u0438\u044F \u043E\u0442\u043C\u0435\u043D\u0435\u043D\u0430",text:"\u0421\u043E\u0441\u0442\u043E\u044F\u043D\u0438\u0435 \u0432\u0430\u0448\u0435\u0433\u043E \u0441\u0447\u0451\u0442\u0430 \u043D\u0435\xA0\u0438\u0437\u043C\u0435\u043D\u0438\u0442\u0441\u044F."}},FW={walletOn:"Wallet \u0432",recent:"\u041D\u0435\u0434\u0430\u0432\u043D\u0438\u0439",installed:"\u0423\u0441\u0442\u0430\u043D\u043E\u0432\u043B\u0435\u043D",popular:"\u041F\u043E\u043F\u0443\u043B\u044F\u0440\u0435\u043D"},OW={loading:"\u041A\u043E\u0448\u0435\u043B\u044C\u043A\u0438 \u0437\u0430\u0433\u0440\u0443\u0436\u0430\u044E\u0442\u0441\u044F",wallets:"\u041A\u043E\u0448\u0435\u043B\u044C\u043A\u0438",mobileUniversalModal:{connectYourWallet:"\u041F\u043E\u0434\u043A\u043B\u044E\u0447\u0438\u0442\u0435 TON\xA0\u043A\u043E\u0448\u0435\u043B\u0451\u043A",openWalletOnTelegramOrSelect:"\u041F\u043E\u0434\u043A\u043B\u044E\u0447\u0438\u0442\u0435 Wallet \u0432\xA0Telegram \u0438\u043B\u0438\xA0\u0432\u044B\u0431\u0435\u0440\u0435\u0442\u0435 \u0434\u0440\u0443\u0433\u043E\u0435 \u043F\u0440\u0438\u043B\u043E\u0436\u0435\u043D\u0438\u0435",openWalletOnTelegram:"\u041E\u0442\u043A\u0440\u044B\u0442\u044C Wallet \u0432 Telegram",chooseOtherApplication:"\u0412\u044B\u0431\u0435\u0440\u0438\u0442\u0435 \u0434\u0440\u0443\u0433\u043E\u0435 \u043F\u0440\u0438\u043B\u043E\u0436\u0435\u043D\u0438\u0435",openLink:"\u041E\u0442\u043A\u0440\u044B\u0442\u044C",scan:"\u041E\u0442\u0441\u043A\u0430\u043D\u0438\u0440\u0443\u0439\u0442\u0435 \u043A\u0430\u043C\u0435\u0440\u043E\u0439 \u0432\u0430\u0448\u0435\u0433\u043E\xA0\u0442\u0435\u043B\u0435\u0444\u043E\u043D\u0430"},desktopUniversalModal:{connectYourWallet:"\u041F\u043E\u0434\u043A\u043B\u044E\u0447\u0438\u0442\u0435 TON \u043A\u043E\u0448\u0435\u043B\u0451\u043A",scan:"\u041E\u0442\u0441\u043A\u0430\u043D\u0438\u0440\u0443\u0439\u0442\u0435 QR-\u043A\u043E\u0434 \u043A\u0430\u043C\u0435\u0440\u043E\u0439 \u0432\u0430\u0448\u0435\u0433\u043E\xA0\u0442\u0435\u043B\u0435\u0444\u043E\u043D\u0430",availableWallets:"\u0414\u043E\u0441\u0442\u0443\u043F\u043D\u044B\u0435 \u043A\u043E\u0448\u0435\u043B\u044C\u043A\u0438"},mobileConnectionModal:{showQR:"\u041F\u043E\u043A\u0430\u0437\u0430\u0442\u044C QR-\u043A\u043E\u0434",scanQR:"\u041E\u0442\u0441\u043A\u0430\u043D\u0438\u0440\u0443\u0439\u0442\u0435 QR-\u043A\u043E\u0434 \u043D\u0438\u0436\u0435 \u043A\u0430\u043C\u0435\u0440\u043E\u0439 \u0432\xA0\u043F\u0440\u0438\u043B\u043E\u0436\u0435\u043D\u0438\u0438 {{ name }}, \u0438\u043B\u0438\xA0\u043A\u0430\u043C\u0435\u0440\u043E\u0439 \u0442\u0435\u043B\u0435\u0444\u043E\u043D\u0430",missingFeatures:"\u041E\u0431\u043D\u043E\u0432\u0438\u0442\u0435 {{ name }}, \u0432\u0430\u0448\u0430 \u0432\u0435\u0440\u0441\u0438\u044F \u043D\u0435 \u043F\u043E\u0434\u0434\u0435\u0440\u0436\u0438\u0432\u0430\u0435\u0442 \u043D\u0435\u043E\u0431\u0445\u043E\u0434\u0438\u043C\u044B\u0435 \u0444\u0443\u043D\u043A\u0446\u0438\u0438 \u0434\u043B\u044F \u044D\u0442\u043E\u0433\u043E dApp",notSupportedWallet:"{{ name }} \u043D\u0435 \u043F\u043E\u0434\u0434\u0435\u0440\u0436\u0438\u0432\u0430\u0435\u0442 \u0437\u0430\u043F\u0440\u043E\u0448\u0435\u043D\u043D\u043E\u0435 \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0435. \u041F\u043E\u0436\u0430\u043B\u0443\u0439\u0441\u0442\u0430, \u043F\u043E\u0434\u043A\u043B\u044E\u0447\u0438\u0442\u0435 \u0434\u0440\u0443\u0433\u043E\u0439 \u043A\u043E\u0448\u0435\u043B\u0451\u043A, \u043A\u043E\u0442\u043E\u0440\u044B\u0439 \u043F\u043E\u0434\u0434\u0435\u0440\u0436\u0438\u0432\u0430\u0435\u0442 \u044D\u0442\u043E",continueIn:"\u041F\u0440\u043E\u0434\u043E\u043B\u0436\u0438\u0442\u0435 \u0432 {{ name }}\u2026",updateWallet:"\u041E\u0431\u043D\u043E\u0432\u0438\u0442\u044C {{ name }}",chooseAnotherWallet:"\u0412\u044B\u0431\u0440\u0430\u0442\u044C \u0434\u0440\u0443\u0433\u043E\u0439 \u043A\u043E\u0448\u0435\u043B\u0451\u043A",connectionDeclined:"\u041F\u043E\u0434\u043A\u043B\u044E\u0447\u0435\u043D\u0438\u0435 \u043E\u0442\u043A\u043B\u043E\u043D\u0435\u043D\u043E"},desktopConnectionModal:{scanQR:"\u041E\u0442\u0441\u043A\u0430\u043D\u0438\u0440\u0443\u0439\u0442\u0435 QR-\u043A\u043E\u0434 \u043D\u0438\u0436\u0435 \u043A\u0430\u043C\u0435\u0440\u043E\u0439 \u0432\xA0\u043F\u0440\u0438\u043B\u043E\u0436\u0435\u043D\u0438\u0438 {{ name }}, \u0438\u043B\u0438\xA0\u043A\u0430\u043C\u0435\u0440\u043E\u0439 \u0442\u0435\u043B\u0435\u0444\u043E\u043D\u0430",continueInExtension:"\u041E\u0442\u043A\u0440\u043E\u0439\u0442\u0435 \u0431\u0440\u0430\u0443\u0437\u0435\u0440\u043D\u043E\u0435 \u0440\u0430\u0441\u0448\u0438\u0440\u0435\u043D\u0438\u0435 {{ name }}",dontHaveExtension:"\u041F\u043E\u0445\u043E\u0436\u0435, \u0443 \u0432\u0430\u0441 \u043D\u0435\xA0\u0443\u0441\u0442\u0430\u043D\u043E\u0432\u043B\u0435\u043D\u043E \u0431\u0440\u0430\u0443\u0437\u0435\u0440\u043D\u043E\u0435\xA0\u0440\u0430\u0441\u0448\u0438\u0440\u0435\u043D\u0438\u0435\xA0{{ name }}",missingFeatures:"\u041E\u0431\u043D\u043E\u0432\u0438\u0442\u0435 {{ name }}, \u0432\u0430\u0448\u0430 \u0432\u0435\u0440\u0441\u0438\u044F \u043D\u0435 \u043F\u043E\u0434\u0434\u0435\u0440\u0436\u0438\u0432\u0430\u0435\u0442 \u043D\u0435\u043E\u0431\u0445\u043E\u0434\u0438\u043C\u044B\u0435 \u0444\u0443\u043D\u043A\u0446\u0438\u0438 \u0434\u043B\u044F \u044D\u0442\u043E\u0433\u043E dApp",notSupportedWallet:"{{ name }} \u043D\u0435 \u043F\u043E\u0434\u0434\u0435\u0440\u0436\u0438\u0432\u0430\u0435\u0442 \u0437\u0430\u043F\u0440\u043E\u0448\u0435\u043D\u043D\u043E\u0435 \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0435. \u041F\u043E\u0436\u0430\u043B\u0443\u0439\u0441\u0442\u0430, \u043F\u043E\u0434\u043A\u043B\u044E\u0447\u0438\u0442\u0435 \u0434\u0440\u0443\u0433\u043E\u0439 \u043A\u043E\u0448\u0435\u043B\u0451\u043A, \u043A\u043E\u0442\u043E\u0440\u044B\u0439 \u043F\u043E\u0434\u0434\u0435\u0440\u0436\u0438\u0432\u0430\u0435\u0442 \u044D\u0442\u043E",getWallet:"\u0421\u043A\u0430\u0447\u0430\u0442\u044C {{ name }}",updateWallet:"\u041E\u0431\u043D\u043E\u0432\u0438\u0442\u044C {{ name }}",chooseAnotherWallet:"\u0412\u044B\u0431\u0440\u0430\u0442\u044C \u0434\u0440\u0443\u0433\u043E\u0439 \u043A\u043E\u0448\u0435\u043B\u0451\u043A",continueOnDesktop:"\u041E\u0442\u043A\u0440\u043E\u0439\u0442\u0435 {{ name }} \u043D\u0430\xA0\u043A\u043E\u043C\u043F\u044C\u044E\u0442\u0435\u0440\u0435\u2026",openWalletOnTelegram:"\u041E\u0442\u043A\u0440\u044B\u0442\u044C Wallet \u0432\xA0Telegram",connectionDeclined:"\u041F\u043E\u0434\u043A\u043B\u044E\u0447\u0435\u043D\u0438\u0435 \u043E\u0442\u043A\u043B\u043E\u043D\u0435\u043D\u043E"},infoModal:{whatIsAWallet:"\u0427\u0442\u043E \u0442\u0430\u043A\u043E\u0435 \u043A\u043E\u0448\u0435\u043B\u0451\u043A?",secureDigitalAssets:"\u041D\u0430\u0434\u0435\u0436\u043D\u043E\u0435 \u0445\u0440\u0430\u043D\u0438\u043B\u0438\u0449\u0435 \u0446\u0438\u0444\u0440\u043E\u0432\u044B\u0445 \u0430\u043A\u0442\u0438\u0432\u043E\u0432",walletProtects:"\u041A\u043E\u0448\u0435\u043B\u0451\u043A \u0437\u0430\u0449\u0438\u0449\u0430\u0435\u0442 \u0432\u0430\u0448\u0438 \u0446\u0438\u0444\u0440\u043E\u0432\u044B\u0435 \u0430\u043A\u0442\u0438\u0432\u044B, \u0432\u043A\u043B\u044E\u0447\u0430\u044F TON, \u0442\u043E\u043A\u0435\u043D\u044B \u0438\xA0\u043F\u0440\u0435\u0434\u043C\u0435\u0442\u044B \u043A\u043E\u043B\u043B\u0435\u043A\u0446\u0438\u043E\u043D\u0438\u0440\u043E\u0432\u0430\u043D\u0438\u044F, \u0438\xA0\u0443\u043F\u0440\u0430\u0432\u043B\u044F\u0435\u0442 \u0438\u043C\u0438.",controlIdentity:"\u041A\u043E\u043D\u0442\u0440\u043E\u043B\u044C \u0441\u0432\u043E\u0435\u0439 \u043B\u0438\u0447\u043D\u043E\u0441\u0442\u0438 Web3",manageIdentity:"\u0423\u043F\u0440\u0430\u0432\u043B\u044F\u0439\u0442\u0435 \u0441\u0432\u043E\u0435\u0439 \u0446\u0438\u0444\u0440\u043E\u0432\u043E\u0439 \u0438\u0434\u0435\u043D\u0442\u0438\u0444\u0438\u043A\u0430\u0446\u0438\u0435\u0439 \u0438\xA0\u0441\xA0\u043B\u0435\u0433\u043A\u043E\u0441\u0442\u044C\u044E \u043F\u043E\u043B\u0443\u0447\u0430\u0439\u0442\u0435 \u0434\u043E\u0441\u0442\u0443\u043F \u043A\xA0\u0434\u0435\u0446\u0435\u043D\u0442\u0440\u0430\u043B\u0438\u0437\u043E\u0432\u0430\u043D\u043D\u044B\u043C \u043F\u0440\u0438\u043B\u043E\u0436\u0435\u043D\u0438\u044F\u043C. \u0421\u043E\u0445\u0440\u0430\u043D\u044F\u0439\u0442\u0435 \u043A\u043E\u043D\u0442\u0440\u043E\u043B\u044C \u043D\u0430\u0434\xA0\u0441\u0432\u043E\u0438\u043C\u0438 \u0434\u0430\u043D\u043D\u044B\u043C\u0438 \u0438\xA0\u0431\u0435\u0437\u043E\u043F\u0430\u0441\u043D\u043E \u0443\u0447\u0430\u0441\u0442\u0432\u0443\u0439\u0442\u0435 \u0432\xA0\u044D\u043A\u043E\u0441\u0438\u0441\u0442\u0435\u043C\u0435\xA0\u0431\u043B\u043E\u043A\u0447\u0435\u0439\u043D\u0430.",effortlessCryptoTransactions:"\u041F\u0440\u043E\u0441\u0442\u044B\u0435 \u043A\u0440\u0438\u043F\u0442\u043E\u0442\u0440\u0430\u043D\u0437\u0430\u043A\u0446\u0438\u0438",easilySend:"\u041B\u0435\u0433\u043A\u043E \u043E\u0442\u043F\u0440\u0430\u0432\u043B\u044F\u0439\u0442\u0435, \u043F\u043E\u043B\u0443\u0447\u0430\u0439\u0442\u0435 \u0438\xA0\u043E\u0442\u0441\u043B\u0435\u0436\u0438\u0432\u0430\u0439\u0442\u0435 \u0441\u0432\u043E\u0438 \u043A\u0440\u0438\u043F\u0442\u043E\u0432\u0430\u043B\u044E\u0442\u044B. \u041E\u043F\u0442\u0438\u043C\u0438\u0437\u0438\u0440\u0443\u0439\u0442\u0435 \u0441\u0432\u043E\u0438 \u043E\u043F\u0435\u0440\u0430\u0446\u0438\u0438 \u0441\xA0\u043F\u043E\u043C\u043E\u0449\u044C\u044E \u0434\u0435\u0446\u0435\u043D\u0442\u0440\u0430\u043B\u0438\u0437\u043E\u0432\u0430\u043D\u043D\u044B\u0445 \u043F\u0440\u0438\u043B\u043E\u0436\u0435\u043D\u0438\u0439.",getAWallet:"\u0421\u043A\u0430\u0447\u0430\u0442\u044C \u043A\u043E\u0448\u0435\u043B\u0451\u043A"},allWallets:{walletsBelowNotSupported:"\u041A\u043E\u0448\u0435\u043B\u044C\u043A\u0438 \u043D\u0438\u0436\u0435 \u043D\u0435 \u043F\u043E\u0434\u0434\u0435\u0440\u0436\u0438\u0432\u0430\u044E\u0442 \u0432\u0441\u0435 \u0444\u0443\u043D\u043A\u0446\u0438\u0438 \u043F\u043E\u0434\u043A\u043B\u044E\u0447\u0451\u043D\u043D\u043E\u0433\u043E \u0441\u0435\u0440\u0432\u0438\u0441\u0430. \u0412\u044B \u043C\u043E\u0436\u0435\u0442\u0435 \u0438\u0441\u043F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u0442\u044C \u0441\u0432\u043E\u044E \u0444\u0440\u0430\u0437\u0443 \u0432\u043E\u0441\u0441\u0442\u0430\u043D\u043E\u0432\u043B\u0435\u043D\u0438\u044F \u0432 \u043E\u0434\u043D\u043E\u043C \u0438\u0437 \u043F\u043E\u0434\u0434\u0435\u0440\u0436\u0438\u0432\u0430\u0435\u043C\u044B\u0445 \u0432\u044B\u0448\u0435 \u043A\u043E\u0448\u0435\u043B\u044C\u043A\u043E\u0432.",walletNotSupportService:"{{ name }} \u043D\u0435 \u043F\u043E\u0434\u0434\u0435\u0440\u0436\u0438\u0432\u0430\u0435\u0442 \u043F\u043E\u0434\u043A\u043B\u044E\u0447\u0451\u043D\u043D\u044B\u0439 \u0441\u0435\u0440\u0432\u0438\u0441"}},LW={confirmTransaction:{header:"\u041F\u043E\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u0435 \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0435 \u0432\xA0{{ name }}",text:"\u042D\u0442\u043E \u0437\u0430\u0439\u043C\u0435\u0442 \u043F\u0430\u0440\u0443 \u0441\u0435\u043A\u0443\u043D\u0434."},transactionSent:"$notifications.transactionSent",transactionCanceled:"$notifications.transactionCanceled"},VW={common:PW,button:NW,notifications:RW,walletItem:FW,walletModal:OW,actionModal:LW},$W={en:KM(kW),ru:KM(VW)};function KM(t){let e="$",n=r=>{Object.entries(r).forEach(([i,o])=>{if(typeof o=="object"&&o)return n(o);if(typeof o=="string"){if(o[0]===e){let s=o.slice(1).split("."),a=t;s.forEach(l=>{if(l in a)a=a[l];else throw new Error(`Cannot parse translations: there is no property ${l} in translation`)}),r[i]=a}o.slice(0,2)===`\\${e}`&&(r[i]=o.slice(1))}})};return n(t),t}var Hf=V1(),H2=Symbol("store-raw"),eh=Symbol("store-node"),BW=Symbol("store-name");function Wk(t,e){let n=t[ys];if(!n&&(Object.defineProperty(t,ys,{value:n=new Proxy(t,GW)}),!Array.isArray(t))){let r=Object.keys(t),i=Object.getOwnPropertyDescriptors(t);for(let o=0,s=r.length;o<s;o++){let a=r[o];i[a].get&&Object.defineProperty(t,a,{enumerable:i[a].enumerable,get:i[a].get.bind(n)})}}return n}function M1(t){let e;return t!=null&&typeof t=="object"&&(t[ys]||!(e=Object.getPrototypeOf(t))||e===Object.prototype||Array.isArray(t))}function Bf(t,e=new Set){let n,r,i,o;if(n=t!=null&&t[H2])return n;if(!M1(t)||e.has(t))return t;if(Array.isArray(t)){Object.isFrozen(t)?t=t.slice(0):e.add(t);for(let s=0,a=t.length;s<a;s++)i=t[s],(r=Bf(i,e))!==i&&(t[s]=r)}else{Object.isFrozen(t)?t=Object.assign({},t):e.add(t);let s=Object.keys(t),a=Object.getOwnPropertyDescriptors(t);for(let l=0,c=s.length;l<c;l++)o=s[l],!a[o].get&&(i=t[o],(r=Bf(i,e))!==i&&(t[o]=r))}return t}function cx(t){let e=t[eh];return e||Object.defineProperty(t,eh,{value:e={}}),e}function W2(t,e,n){return t[e]||(t[e]=qk(n))}function jW(t,e){let n=Reflect.getOwnPropertyDescriptor(t,e);return!n||n.get||!n.configurable||e===ys||e===eh||e===BW||(delete n.value,delete n.writable,n.get=()=>t[ys][e]),n}function zk(t){if(Ak()){let e=cx(t);(e._||(e._=qk()))()}}function UW(t){return zk(t),Reflect.ownKeys(t)}function qk(t){let[e,n]=Nt(t,{equals:!1,internal:!0});return e.$=n,e}var GW={get(t,e,n){if(e===H2)return t;if(e===ys)return n;if(e===L2)return zk(t),n;let r=cx(t),i=r.hasOwnProperty(e),o=i?r[e]():t[e];if(e===eh||e==="__proto__")return o;if(!i){let s=Object.getOwnPropertyDescriptor(t,e);Ak()&&(typeof o!="function"||t.hasOwnProperty(e))&&!(s&&s.get)&&(o=W2(r,e,o)())}return M1(o)?Wk(o):o},has(t,e){return e===H2||e===ys||e===L2||e===eh||e==="__proto__"?!0:(this.get(t,e,t),e in t)},set(){return!0},deleteProperty(){return!0},ownKeys:UW,getOwnPropertyDescriptor:jW};function k1(t,e,n,r=!1){if(!r&&t[e]===n)return;let i=t[e],o=t.length;n===void 0?delete t[e]:t[e]=n;let s=cx(t),a;(a=W2(s,e,i))&&a.$(()=>n),Array.isArray(t)&&t.length!==o&&(a=W2(s,"length",o))&&a.$(t.length),(a=s._)&&a.$()}function Kk(t,e){let n=Object.keys(e);for(let r=0;r<n.length;r+=1){let i=n[r];k1(t,i,e[i])}}function HW(t,e){if(typeof e=="function"&&(e=e(t)),e=Bf(e),Array.isArray(e)){if(t===e)return;let n=0,r=e.length;for(;n<r;n++){let i=e[n];t[n]!==i&&k1(t,n,i)}k1(t,"length",r)}else Kk(t,e)}function Wp(t,e,n=[]){let r,i=t;if(e.length>1){r=e.shift();let s=typeof r,a=Array.isArray(t);if(Array.isArray(r)){for(let l=0;l<r.length;l++)Wp(t,[r[l]].concat(e),n);return}else if(a&&s==="function"){for(let l=0;l<t.length;l++)r(t[l],l)&&Wp(t,[l].concat(e),n);return}else if(a&&s==="object"){let{from:l=0,to:c=t.length-1,by:u=1}=r;for(let f=l;f<=c;f+=u)Wp(t,[f].concat(e),n);return}else if(e.length>1){Wp(t[r],e,[r].concat(n));return}i=t[r],n=[r].concat(n)}let o=e[0];typeof o=="function"&&(o=o(i,n),o===i)||r===void 0&&o==null||(o=Bf(o),r===void 0||M1(i)&&M1(o)&&!Array.isArray(o)?Kk(i,o):k1(t,r,o))}function ux(...[t,e]){let n=Bf(t||{}),r=Array.isArray(n),i=Wk(n);function o(...s){Ik(()=>{r&&s.length===1?HW(n,s[0]):Wp(n,s)})}return[i,o]}var Yk={constant:{black:"#000000",white:"#FFFFFF"},connectButton:{background:"#0098EA",foreground:"#FFFFFF"},accent:"#0098EA",telegramButton:"#0098EA",icon:{primary:"#0F0F0F",secondary:"#7A8999",tertiary:"#C1CAD2",success:"#29CC6A",error:"#F5A73B"},background:{primary:"#FFFFFF",secondary:"#F1F3F5",segment:"#FFFFFF",tint:"#F1F3F5",qr:"#F1F3F5"},text:{primary:"#0F0F0F",secondary:"#6A7785"}},WW={constant:{black:"#000000",white:"#FFFFFF"},connectButton:{background:"#0098EA",foreground:"#FFFFFF"},accent:"#E5E5EA",telegramButton:"#31A6F5",icon:{primary:"#E5E5EA",secondary:"#909099",tertiary:"#434347",success:"#29CC6A",error:"#F5A73B"},background:{primary:"#121214",secondary:"#18181A",segment:"#262629",tint:"#222224",qr:"#FFFFFF"},text:{primary:"#E5E5EA",secondary:"#7D7D85"}};function YM(t){return Object.prototype.toString.call(t)==="[object Object]"}function zW(t){var e,n;return YM(t)===!1?!1:(e=t.constructor,e===void 0?!0:(n=e.prototype,!(YM(n)===!1||n.hasOwnProperty("isPrototypeOf")===!1)))}function Dl(t,e){return t?(0,Sk.default)(e,t,{arrayMerge:(r,i,o)=>i,isMergeableObject:zW}):e}var[qW,fx]=ux({theme:Tr.LIGHT,colors:Yk,borderRadius:"m"}),Jk={[Tr.LIGHT]:Yk,[Tr.DARK]:WW},js={[Tr.LIGHT]:void 0,[Tr.DARK]:void 0};function I2(t,e){e&&(js[Tr.DARK]=Dl(e[Tr.DARK],js[Tr.DARK]),js[Tr.LIGHT]=Dl(e[Tr.LIGHT],js[Tr.LIGHT])),fx({theme:t,colors:Dl(js[t],Jk[t])})}function KW(t){fx({borderRadius:t})}function YW(t){js[Tr.DARK]=Dl(t[Tr.DARK],js[Tr.DARK]),js[Tr.LIGHT]=Dl(t[Tr.LIGHT],js[Tr.LIGHT]),fx(e=>({colors:Dl(js[e.theme],Jk[e.theme])}))}var JW=Se.div`
    background-color: ${t=>t.theme.colors.background.secondary};
`,Wc=t=>{let e,[n,r]=Nt(null);return Qr(()=>{let i=new window.Image;return i.src=t.src,i.alt=t.alt||"",i.setAttribute("draggable","false"),t.class&&i.classList.add(t.class),i.complete?r(i):(i.addEventListener("load",()=>r(i)),()=>i.removeEventListener("load",()=>r(i)))}),[L(Ot,{get when(){return n()},get children(){return n()}}),L(Ot,{get when(){return!n()},get children(){return L(JW,{get class(){return t.class},ref(i){let o=e;typeof o=="function"?o(i):e=i}})}})]},Gc={};try{let t=location.hash.toString();Gc=QW(t)}catch{}var jf="unknown";Gc?.tgWebAppPlatform&&(jf=(AM=Gc.tgWebAppPlatform)!=null?AM:"unknown");if(jf==="unknown"){let t=Ks();jf=(PM=(kM=(MM=t?.Telegram)==null?void 0:MM.WebApp)==null?void 0:kM.platform)!=null?PM:"unknown"}var P1="6.0";Gc?.tgWebAppVersion&&(P1=Gc.tgWebAppVersion);if(!P1){let t=Ks();P1=(FM=(RM=(NM=t?.Telegram)==null?void 0:NM.WebApp)==null?void 0:RM.version)!=null?FM:"6.0"}function Bc(...t){return t.includes(jf)}function Ws(){var t;return jf!=="unknown"||!!((t=Ks())!=null&&t.TelegramWebviewProxy)}function Qk(){var t;let e=!!((t=Ks())!=null&&t.TelegramWebview);return(Ws()||e)&&jf==="unknown"}function dx(){Xk("web_app_expand",{})}function z2(t,e){let n=new URL(t);if(n.protocol!=="http:"&&n.protocol!=="https:"){if(e)return e();throw new si(`Url protocol is not supported: ${n}`)}if(n.hostname!=="t.me"){if(e)return e();throw new si(`Url host is not supported: ${n}`)}let r=n.pathname+n.search;Zk()||ez("6.1")?Xk("web_app_open_tg_link",{path_full:r}):hr("https://t.me"+r)}function Zk(){try{let t=Ks();return t?t.parent!=null&&t!==t.parent:!1}catch{return!1}}function Xk(t,e){try{let n=Ks();if(!n)throw new si("Can't post event to parent window: window is not defined");if(n.TelegramWebviewProxy!==void 0)w1("postEvent",t,e),n.TelegramWebviewProxy.postEvent(t,JSON.stringify(e));else if(n.external&&"notify"in n.external)w1("postEvent",t,e),n.external.notify(JSON.stringify({eventType:t,eventData:e}));else if(Zk()){let r="*",i=JSON.stringify({eventType:t,eventData:e});w1("postEvent",t,e),n.parent.postMessage(i,r)}else throw new si("Can't post event to TMA")}catch(n){fW(`Can't post event to parent window: ${n}`)}}function QW(t){t=t.replace(/^#/,"");let e={};if(!t.length)return e;if(t.indexOf("=")<0&&t.indexOf("?")<0)return e._path=N1(t),e;let n=t.indexOf("?");if(n>=0){let i=t.substr(0,n);e._path=N1(i),t=t.substr(n+1)}let r=ZW(t);for(let i in r)e[i]=r[i];return e}function N1(t){try{return t=t.replace(/\+/g,"%20"),decodeURIComponent(t)}catch{return t}}function ZW(t){let e={};if(!t.length)return e;let n=t.split("&"),r,i,o,s;for(r=0;r<n.length;r++)i=n[r].split("="),o=N1(i[0]),s=i[1]==null?null:N1(i[1]),e[o]=s;return e}function XW(t,e){typeof t!="string"&&(t=""),typeof e!="string"&&(e="");let n=t.replace(/^\s+|\s+$/g,"").split("."),r=e.replace(/^\s+|\s+$/g,"").split("."),i,o,s,a;for(i=Math.max(n.length,r.length),o=0;o<i;o++)if(s=parseInt(n[o])||0,a=parseInt(r[o])||0,s!==a)return s>a?1:-1;return 0}function ez(t){return XW(P1,t)>=0}var jc={mobile:440,tablet:1020};function Pf(t){let e=Ks();if(!e)return t==="desktop";if(Bc("weba"))return!0;let n=e.innerWidth;switch(t){case"desktop":return n>jc.tablet;case"tablet":return n>jc.mobile;default:case"mobile":return n<=jc.mobile||vs("ios","android","ipad")}}function To(t){switch(t){case"mobile":return`@media (max-width: ${jc.mobile}px)`;case"tablet":return`@media (max-width: ${jc.tablet}px) (min-width: ${jc.mobile}px)`;default:case"desktop":return`@media (min-width: ${jc.tablet}px)`}}var rh="@media (hover: none)",ih="@media not all and (hover: none)",tz={m:"100vh",s:"8px",none:"0"},D2={s:.02,m:.04},nz=Se.button`
    display: ${t=>t.leftIcon||t.rightIcon?"flex":"inline-block"};
    gap: ${t=>t.leftIcon||t.rightIcon?"6px":"unset"};
    align-items: ${t=>t.leftIcon||t.rightIcon?"center":"unset"};
    justify-content: ${t=>t.leftIcon||t.rightIcon?"space-between":"unset"};
    background-color: ${t=>t.appearance==="flat"?"transparent":t.appearance==="secondary"?t.theme.colors.background.tint:Hc(t.theme.colors.accent,.12)};
    color: ${t=>t.appearance==="secondary"?t.theme.colors.text.primary:t.theme.colors.accent};

    padding: ${t=>t.appearance==="flat"?"0":"9px 16px"};
    padding-left: ${t=>t.leftIcon&&t.appearance!=="flat"?"12px":"16px"};
    padding-right: ${t=>t.rightIcon&&t.appearance!=="flat"?"12px":"16px"};
    border: none;
    border-radius: ${t=>tz[t.theme.borderRadius]};
    cursor: ${t=>t.disabled?"not-allowed":"pointer"};

    font-size: 14px;
    font-weight: 510;
    line-height: 18px;

    transition: transform 0.125s ease-in-out;

    ${ih} {
        &:hover {
            transform: ${t=>t.disabled?"unset":`scale(${1+D2[t.scale]})`};
        }
    }

    &:active {
        transform: ${t=>t.disabled?"unset":`scale(${1-D2[t.scale]})`};
    }

    ${rh} {
        &:active {
            transform: ${t=>t.disabled?"unset":`scale(${1-D2[t.scale]*2})`};
        }
    }
`;function oh(t){let e=yi(()=>Object.keys(t).filter(r=>r.startsWith("data-"))),[n]=rx(t,e);return n}var dr=t=>{let e=oh(t);return L(nz,Us({get appearance(){return t.appearance||"primary"},get class(){return t.class},onClick:n=>{var r;return(r=t.onClick)==null?void 0:r.call(t,n)},onMouseEnter:n=>{var r;return(r=t.onMouseEnter)==null?void 0:r.call(t,n)},onMouseLeave:n=>{var r;return(r=t.onMouseLeave)==null?void 0:r.call(t,n)},ref(n){let r=t.ref;typeof r=="function"?r(n):t.ref=n},get disabled(){return t.disabled},get scale(){return t.scale||"m"},get leftIcon(){return!!t.leftIcon},get rightIcon(){return!!t.rightIcon},"data-tc-button":"true"},e,{get children(){return[Ze(()=>t.leftIcon),Ze(()=>t.children),Ze(()=>t.rightIcon)]}}))};function R1(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}var U1=t=>{let e,n=!0,[r,i]=Nt(),[o,s]=Nt(),a=$1(()=>t.children),{onBeforeEnter:l,onEnter:c,onAfterEnter:u,onBeforeExit:f,onExit:d,onAfterExit:h}=t,m=Ze(()=>{let b=t.name||"s";return{enterActiveClass:t.enterActiveClass||b+"-enter-active",enterClass:t.enterClass||b+"-enter",enterToClass:t.enterToClass||b+"-enter-to",exitActiveClass:t.exitActiveClass||b+"-exit-active",exitClass:t.exitClass||b+"-exit",exitToClass:t.exitToClass||b+"-exit-to"}});function v(b,x){if(!n||t.appear){let _=function(V){b&&(!V||V.target===b)&&(b.removeEventListener("transitionend",_),b.removeEventListener("animationend",_),b.classList.remove(...k),b.classList.remove(...$),Ik(()=>{r()!==b&&i(b),o()===b&&s(void 0)}),u&&u(b),t.mode==="inout"&&P(b,x))},T=m().enterClass.split(" "),k=m().enterActiveClass.split(" "),$=m().enterToClass.split(" ");l&&l(b),b.classList.add(...T),b.classList.add(...k),R1(()=>{b.classList.remove(...T),b.classList.add(...$),c&&c(b,()=>_()),(!c||c.length<2)&&(b.addEventListener("transitionend",_),b.addEventListener("animationend",_))})}x&&!t.mode?s(b):i(b)}function P(b,x){let _=m().exitClass.split(" "),T=m().exitActiveClass.split(" "),k=m().exitToClass.split(" ");if(!x.parentNode)return $();f&&f(x),x.classList.add(..._),x.classList.add(...T),R1(()=>{x.classList.remove(..._),x.classList.add(...k)}),d&&d(x,()=>$()),(!d||d.length<2)&&(x.addEventListener("transitionend",$),x.addEventListener("animationend",$));function $(V){(!V||V.target===x)&&(x.removeEventListener("transitionend",$),x.removeEventListener("animationend",$),x.classList.remove(...T),x.classList.remove(...k),r()===x&&i(void 0),h&&h(x),t.mode==="outin"&&v(b,x))}}return E1(b=>{for(e=a();typeof e=="function";)e=e();return yi(()=>(e&&e!==b&&(t.mode!=="outin"?v(e,b):n&&i(e)),b&&b!==e&&t.mode!=="inout"&&P(e,b),n=!1,e))}),[r,o]};function m1(t){let{top:e,bottom:n,left:r,right:i,width:o,height:s}=t.getBoundingClientRect(),a=t.parentNode.getBoundingClientRect();return{top:e-a.top,bottom:n,left:r-a.left,right:i,width:o,height:s}}var rz=t=>{let e=$1(()=>t.children),n=Ze(()=>{let h=t.name||"s";return{enterActiveClass:t.enterActiveClass||h+"-enter-active",enterClass:t.enterClass||h+"-enter",enterToClass:t.enterToClass||h+"-enter-to",exitActiveClass:t.exitActiveClass||h+"-exit-active",exitClass:t.exitClass||h+"-exit",exitToClass:t.exitToClass||h+"-exit-to",moveClass:t.moveClass||h+"-move"}}),{onBeforeEnter:r,onEnter:i,onAfterEnter:o,onBeforeExit:s,onExit:a,onAfterExit:l}=t,[c,u]=Nt(),f=[],d=!0;return E1(()=>{let h=e(),m=[...h],v=new Set(h),P=new Set(f),b=n().enterClass.split(" "),x=n().enterActiveClass.split(" "),_=n().enterToClass.split(" "),T=n().exitClass.split(" "),k=n().exitActiveClass.split(" "),$=n().exitToClass.split(" ");for(let V=0;V<h.length;V++){let B=h[V];if(!d&&!P.has(B)){let z=function(ie){B&&(!ie||ie.target===B)&&(B.removeEventListener("transitionend",z),B.removeEventListener("animationend",z),B.classList.remove(...x),B.classList.remove(..._),o&&o(B))};r&&r(B),B.classList.add(...b),B.classList.add(...x),R1(()=>{B.classList.remove(...b),B.classList.add(..._),i&&i(B,()=>z()),(!i||i.length<2)&&(B.addEventListener("transitionend",z),B.addEventListener("animationend",z))})}}for(let V=0;V<f.length;V++){let B=f[V];if(!v.has(B)&&B.parentNode){let z=function(ie){(!ie||ie.target===B)&&(B.removeEventListener("transitionend",z),B.removeEventListener("animationend",z),B.classList.remove(...k),B.classList.remove(...$),l&&l(B),f=f.filter(J=>J!==B),u(f))};m.splice(V,0,B),s&&s(B),B.classList.add(...T),B.classList.add(...k),R1(()=>{B.classList.remove(...T),B.classList.add(...$)}),a&&a(B,()=>z()),(!a||a.length<2)&&(B.addEventListener("transitionend",z),B.addEventListener("animationend",z))}}f=m,u(m)}),Qr(h=>{let m=c();return m.forEach(v=>{let P;(P=h.get(v))?P.new&&(P.new=!1,P.newPos=m1(v)):h.set(v,P={pos:m1(v),new:!d}),P.new&&v.addEventListener("transitionend",()=>{P.new=!1,v.parentNode&&(P.newPos=m1(v))},{once:!0}),P.newPos&&(P.pos=P.newPos),P.newPos=m1(v)}),d?(d=!1,h):(m.forEach(v=>{let P=h.get(v),b=P.pos,x=P.newPos,_=b.left-x.left,T=b.top-x.top;if(_||T){P.moved=!0;let k=v.style;k.transform=`translate(${_}px,${T}px)`,k.transitionDuration="0s"}}),document.body.offsetHeight,m.forEach(v=>{let P=h.get(v);if(P.moved){let b=function(T){T&&T.target!==v||!v.parentNode||(!T||/transform$/.test(T.propertyName))&&(v.removeEventListener("transitionend",b),v.classList.remove(..._))};P.moved=!1;let x=v.style,_=n().moveClass.split(" ");v.classList.add(..._),x.transform=x.transitionDuration="",v.addEventListener("transitionend",b)}}),h)},new Map),c};function iz(t,e){let n=r=>{var i;return!t.contains(r.target)&&((i=e())==null?void 0:i())};document.body.addEventListener("click",n),Wi(()=>document.body.removeEventListener("click",n))}function oz(t,e){let n=r=>{var i,o;r.key==="Escape"&&((i=document.activeElement)==null||i.blur(),(o=e())==null||o())};document.body.addEventListener("keydown",n),Wi(()=>document.body.removeEventListener("keydown",n))}function sz(t,e){let{isEnabled:n,onClose:r}=e();if(!n||!(lx().os==="android"))return;window.history.pushState(az,"");let o=s=>{s.preventDefault(),r()};window.addEventListener("popstate",o,{once:!0}),Wi(()=>{window.removeEventListener("popstate",o),Gk(()=>{var s;((s=window.history.state)==null?void 0:s[e5])===!0&&window.history.back()})})}var e5="androidBackHandler",az={[e5]:!0},lz=xn('<svg><path fill-rule="evenodd" clip-rule="evenodd" d="M10.2122 14.3407C10.5384 14.0854 10.5959 13.614 10.3406 13.2878L6.20237 8.00003L10.3406 2.71227C10.5959 2.38607 10.5384 1.91469 10.2122 1.6594C9.88604 1.40412 9.41465 1.46161 9.15937 1.7878L4.65937 7.5378C4.44688 7.80932 4.44688 8.19074 4.65937 8.46226L9.15937 14.2123C9.41465 14.5385 9.88604 14.5959 10.2122 14.3407Z"></path></svg>',4,!0),cz={left:0,top:90,right:180,bottom:270},t5=t=>{let e=gr(),n=()=>t.fill||e.colors.icon.secondary,r=()=>t.direction||"left",i=Se("svg")`
        transform: rotate(${o=>cz[o.svgDirection]}deg);
        transition: transform 0.1s ease-in-out;
    `;return L(i,{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",get svgDirection(){return r()},get children(){let o=lz.cloneNode(!0);return _n(()=>St(o,"fill",n())),o}})},uz=xn('<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16" fill="none"><path fill-rule="evenodd" clip-rule="evenodd" d="M2.71966 2.71968C3.01255 2.42678 3.48743 2.42677 3.78032 2.71966L8.00002 6.93925L12.2197 2.71967C12.5126 2.42677 12.9874 2.42678 13.2803 2.71967C13.5732 3.01257 13.5732 3.48744 13.2803 3.78033L9.06068 7.99991L13.2803 12.2197C13.5732 12.5126 13.5732 12.9874 13.2803 13.2803C12.9874 13.5732 12.5126 13.5732 12.2197 13.2803L8.00002 9.06057L3.78033 13.2803C3.48744 13.5732 3.01257 13.5732 2.71967 13.2803C2.42678 12.9874 2.42677 12.5126 2.71967 12.2197L6.93936 7.99991L2.71968 3.78034C2.42678 3.48745 2.42677 3.01257 2.71966 2.71968Z"></path></svg>'),fz=t=>{let e=gr(),n=()=>t.fill||e.colors.icon.secondary;return(()=>{let r=uz.cloneNode(!0),i=r.firstChild;return _n(()=>St(i,"fill",n())),r})()},dz=Se.button`
    padding: 0;
    display: flex;
    justify-content: center;
    align-items: center;
    width: 32px;
    height: 32px;
    border-radius: 50%;
    background-color: ${t=>t.theme.colors.background.tint};
    border: none;
    cursor: pointer;

    transition: transform 0.125s ease-in-out;

    ${ih} {
        &:hover {
            transform: scale(1.04);
        }
    }

    &:active {
        transform: scale(0.96);
    }

    ${rh} {
        &:active {
            transform: scale(0.92);
        }
    }
`,zc=t=>{let e=oh(t),n=()=>t.icon||"close";return L(dz,Us({get class(){return t.class},onClick:()=>t.onClick(),"data-tc-icon-button":"true"},e,{get children(){return[L(Ot,{get when(){return!!t.children},get children(){return t.children}}),L(Ot,{get when(){return!t.children},get children(){return L(Ml,{get children(){return[L(wr,{get when(){return n()==="close"},get children(){return L(fz,{get fill(){return t.fill}})}}),L(wr,{get when(){return n()==="arrow"},get children(){return L(t5,{get fill(){return t.fill}})}}),L(wr,{get when(){return n()==="question"},get children(){return L(mq,{get fill(){return t.fill}})}}),L(wr,{get when(){return typeof n()!="string"},get children(){return n()}})]}})}})]}}))},Rf={m:"24px",s:"16px",none:"0"},pz=Se.div`
    display: flex;
    position: fixed;
    z-index: 1000;
    left: 0;
    top: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0, 0, 0, 0.4);
    padding: 20px 0;
    overflow-y: auto;

    ${To("mobile")} {
        padding-bottom: 0;
    }
`,hz=La`
    box-shadow: 0 4px 16px rgba(0, 0, 0, 0.08), 0 16px 64px rgba(0, 0, 0, 0.16);
    width: fit-content;
    margin: auto;

    ${To("mobile")} {
        width: 100%;
        height: fit-content;
        margin: auto 0 0 0;
    }
`,mz=Se.div`
    position: relative;
    min-height: 100px;
    width: 416px;
    padding: 44px 56px 24px;

    box-shadow: 0 2px 8px 0 rgba(0, 0, 0, 0.04);

    background-color: ${t=>t.theme.colors.background.primary};
    border-radius: ${t=>Rf[t.theme.borderRadius]};

    ${To("mobile")} {
        width: 100%;
    }
`,gz=Se(zc)`
    position: absolute;
    right: 16px;
    top: 16px;
`,vz=Se.div`
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 16px 16px 16px 18px;
    border-radius: 0 0 ${t=>Rf[t.theme.borderRadius]}
        ${t=>Rf[t.theme.borderRadius]};
`,yz=Se(zc)`
    background-color: ${t=>Hc(t.theme.colors.icon.secondary,.12)};
`,q2=class{constructor(){Pt(this,"currentTime",0)}},zp=class{constructor(){Pt(this,"currentTime",0),Pt(this,"playbackRate",1),Pt(this,"startTime",null),Pt(this,"timeline",new q2),Pt(this,"finished",Promise.resolve(this)),Pt(this,"effect",null),Pt(this,"id",""),Pt(this,"pending",!1),Pt(this,"playState","finished"),Pt(this,"replaceState","active"),Pt(this,"ready",Promise.resolve(this)),Pt(this,"oncancel",null),Pt(this,"onfinish",null),Pt(this,"onremove",null)}static create(){return zp._instance||(dW("Animation is not supported in this environment: please consider using the `web-animations-js` polyfill to provide a fallback implementation of the Web Animations API."),zp._instance=new zp),zp._instance}cancel(){}finish(){}pause(){}play(){}reverse(){}addEventListener(t,e,n){}dispatchEvent(t){return!1}removeEventListener(t,e,n){}updatePlaybackRate(t){}commitStyles(){}persist(){}},n5=zp;Pt(n5,"_instance",null);function Go(t,e,n){return"animate"in t?t.animate(e,n):n5.create()}var bz=xn("<div></div>"),wz=iz,Cz=oz,_z=sz,r5=t=>{let e=gr(),n=oh(t);return Qr(()=>{t.opened?mW():gW()}),L(U1,{onBeforeEnter:r=>{let i=Pf("mobile")?200:100;Go(r,[{opacity:0},{opacity:1}],{duration:i}),Pf("mobile")&&Go(r.firstElementChild,[{transform:"translateY(390px)"},{transform:"translateY(0)"}],{duration:i})},onExit:(r,i)=>{let o=Pf("mobile")?200:100,s=Go(r,[{opacity:1},{opacity:0}],{duration:o});if(Pf("mobile")){let a=Go(r.firstElementChild,[{transform:"translateY(0)"},{transform:"translateY(390px)"}],{duration:o});Promise.all([s.finished,a.finished]).then(i)}else s.finished.then(i)},get children(){return L(Ot,{get when(){return t.opened},get children(){return L(pz,Us({"data-tc-modal":"true"},n,{get children(){let r=bz.cloneNode(!0);return Nf(_z,r,()=>({isEnabled:t.enableAndroidBackHandler,onClose:()=>t.onClose()})),Nf(Cz,r,()=>()=>t.onClose()),Nf(wz,r,()=>()=>t.onClose()),vi(r,L(mz,{get class(){return t.class},get children(){return[L(gz,{icon:"close",onClick:()=>t.onClose()}),Ze(()=>t.children)]}}),null),vi(r,L(Ot,{get when(){return t.onClickQuestion},get children(){return L(vz,{get children(){return[L(pq,{}),L(yz,{get onClick(){return t.onClickQuestion},icon:"question"})]}})}}),null),_n(()=>ix(r,(0,Kp.default)(hz,La`
                                border-radius: ${Rf[e.borderRadius]};
                                background-color: ${e.colors.background.tint};

                                ${To("mobile")} {
                                    border-radius: ${Rf[e.borderRadius]}
                                        ${Rf[e.borderRadius]} 0 0;
                                }
                            `))),r}}))}})}})},xz={m:"22px",s:"12px",none:"0"},Sz={m:"18px",s:"8px",none:"0"},Ez=Se.div`
    display: grid;
    grid-template: 1fr / 1fr 1fr;
    width: fit-content;
    justify-items: center;
    gap: 4px;

    position: relative;
    padding: 4px;
    border-radius: ${t=>xz[t.theme.borderRadius]};

    background-color: ${t=>t.theme.colors.background.secondary};
`,Tz=Se.div`
    position: absolute;
    top: 4px;
    left: 4px;

    height: calc(100% - 8px);
    width: calc(50% - 4px);

    border-radius: ${t=>Sz[t.theme.borderRadius]};
    background-color: ${t=>t.theme.colors.background.segment};

    transform: ${t=>t.right?"translateX(100%)":"translateX(0)"};

    transition: transform 0.13s ease-in-out;
`,JM=Se.input`
    display: none;
`,QM=Se.label`
    padding: 9px 12px;
    z-index: 1;

    cursor: ${t=>t.isActive?"default":"pointer"};

    transition: transform 0.13s ease-in-out;

    &:hover {
        transform: ${t=>t.isActive?"none":"scale(1.025)"};
    }

    > * {
        ${t=>t.isActive?"":`color: ${t.theme.colors.text.secondary};`}
    }
`,Iz=t=>{let e="tabBar"+Math.floor(Math.random()*1e4);return L(Ez,{get class(){return t.class},"data-tc-tab-bar":"true",get children(){return[L(Tz,{get right(){return t.selectedTabIndex===1}}),L(QM,{get isActive(){return t.selectedTabIndex===0},get children(){return[L(JM,{type:"radio",name:e,get checked(){return t.selectedTabIndex===0},onInput:()=>{var n;return(n=t.onSelectedTabIndexChange)==null?void 0:n.call(t,0)}}),Ze(()=>t.tab1)]}}),L(QM,{get isActive(){return t.selectedTabIndex===1},get children(){return[L(JM,{type:"radio",get checked(){return t.selectedTabIndex===1},name:e,onInput:()=>{var n;return(n=t.onSelectedTabIndexChange)==null?void 0:n.call(t,1)}}),Ze(()=>t.tab2)]}})]}})},Dz={m:"16px",s:"12px",none:"0"},Az={m:"12px",s:"8px",none:"0"},i5=256,K2=60,ZM=48,XM=24,C1=Se.div`
    width: 52px;
    height: 52px;
    background: transparent;
    position: absolute;
    right: 0;
    bottom: 0;

    display: flex;
    align-items: center;
    justify-content: center;
    transition: transform 0.125s ease-in-out;
`,Mz=Se.button`
    display: flex;
    align-items: center;
    justify-content: center;
    position: relative;
    background-color: ${t=>t.theme.colors.background.qr};
    border-radius: ${t=>Dz[t.theme.borderRadius]};
    padding: ${Gs(XM)} 0;
    height: ${Gs(i5+XM*2)};
    width: 100%;

    overflow: hidden;
    cursor: pointer;
    border: none;

    ${ih} {
        &:hover {
            ${C1.class} {
                transform: scale(1.04);
            }
        }
    }

    &:active {
        ${C1.class} {
            transform: scale(0.96);
        }
    }

    ${rh} {
        &:active {
            ${C1.class} {
                transform: scale(0.92);
            }
        }
    }
`,kz=Se.div`
    position: relative;
    display: flex;
    justify-content: center;
    align-items: center;
    margin: 0 auto;

    > div:first-child {
        display: flex;
        align-items: center;
        justify-content: center;
    }

    rect {
        fill: transparent;
    }

    path {
        fill: ${t=>t.theme.colors.constant.black};
    }
`,Pz=Se.div`
    position: absolute;
    width: ${Gs(K2)};
    height: ${Gs(K2)};
    background: ${t=>t.theme.colors.background.qr};

    display: flex;
    align-items: center;
    justify-content: center;
`,Nz=Se(Wc)`
    width: ${t=>Gs(t.size)};
    height: ${t=>Gs(t.size)};
    border-radius: ${t=>Az[t.theme.borderRadius]};
    background-color: ${t=>t.theme.colors.background.qr};
`,Rz=Se.div`
    position: absolute;
    bottom: 14px;
    left: 50%;
    transform: translate(-50%, 0);

    display: flex;
    gap: 6px;
    align-items: center;
    border-radius: 18px;
    min-width: 126px;
    padding: 9px 16px 9px 10px;

    filter: drop-shadow(0px 2px 8px rgba(0, 0, 0, 0.08));
    background-color: ${t=>t.theme.colors.background.segment};
`,o5={exports:{}};(function(t,e){var n=function(){var r=function(k,$){var V=236,B=17,z=k,ie=o[$],J=null,H=0,ce=null,ae=[],ee={},F=function(ve,be){H=z*4+17,J=function(ge){for(var _e=new Array(ge),Ae=0;Ae<ge;Ae+=1){_e[Ae]=new Array(ge);for(var $e=0;$e<ge;$e+=1)_e[Ae][$e]=null}return _e}(H),G(0,0),G(H-7,0),G(0,H-7),te(),N(),Oe(ve,be),z>=7&&X(ve),ce==null&&(ce=It(z,ie,ae)),Ye(ce,be)},G=function(ve,be){for(var ge=-1;ge<=7;ge+=1)if(!(ve+ge<=-1||H<=ve+ge))for(var _e=-1;_e<=7;_e+=1)be+_e<=-1||H<=be+_e||(0<=ge&&ge<=6&&(_e==0||_e==6)||0<=_e&&_e<=6&&(ge==0||ge==6)||2<=ge&&ge<=4&&2<=_e&&_e<=4?J[ve+ge][be+_e]=!0:J[ve+ge][be+_e]=!1)},D=function(){for(var ve=0,be=0,ge=0;ge<8;ge+=1){F(!0,ge);var _e=a.getLostPoint(ee);(ge==0||ve>_e)&&(ve=_e,be=ge)}return be},N=function(){for(var ve=8;ve<H-8;ve+=1)J[ve][6]==null&&(J[ve][6]=ve%2==0);for(var be=8;be<H-8;be+=1)J[6][be]==null&&(J[6][be]=be%2==0)},te=function(){for(var ve=a.getPatternPosition(z),be=0;be<ve.length;be+=1)for(var ge=0;ge<ve.length;ge+=1){var _e=ve[be],Ae=ve[ge];if(J[_e][Ae]==null)for(var $e=-2;$e<=2;$e+=1)for(var ke=-2;ke<=2;ke+=1)$e==-2||$e==2||ke==-2||ke==2||$e==0&&ke==0?J[_e+$e][Ae+ke]=!0:J[_e+$e][Ae+ke]=!1}},X=function(ve){for(var be=a.getBCHTypeNumber(z),ge=0;ge<18;ge+=1){var _e=!ve&&(be>>ge&1)==1;J[Math.floor(ge/3)][ge%3+H-8-3]=_e}for(var ge=0;ge<18;ge+=1){var _e=!ve&&(be>>ge&1)==1;J[ge%3+H-8-3][Math.floor(ge/3)]=_e}},Oe=function(ve,be){for(var ge=ie<<3|be,_e=a.getBCHTypeInfo(ge),Ae=0;Ae<15;Ae+=1){var $e=!ve&&(_e>>Ae&1)==1;Ae<6?J[Ae][8]=$e:Ae<8?J[Ae+1][8]=$e:J[H-15+Ae][8]=$e}for(var Ae=0;Ae<15;Ae+=1){var $e=!ve&&(_e>>Ae&1)==1;Ae<8?J[8][H-Ae-1]=$e:Ae<9?J[8][15-Ae-1+1]=$e:J[8][15-Ae-1]=$e}J[H-8][8]=!ve},Ye=function(ve,be){for(var ge=-1,_e=H-1,Ae=7,$e=0,ke=a.getMaskFunction(be),pt=H-1;pt>0;pt-=2)for(pt==6&&(pt-=1);;){for(var Zt=0;Zt<2;Zt+=1)if(J[_e][pt-Zt]==null){var hn=!1;$e<ve.length&&(hn=(ve[$e]>>>Ae&1)==1);var gt=ke(_e,pt-Zt);gt&&(hn=!hn),J[_e][pt-Zt]=hn,Ae-=1,Ae==-1&&($e+=1,Ae=7)}if(_e+=ge,_e<0||H<=_e){_e-=ge,ge=-ge;break}}},De=function(ve,be){for(var ge=0,_e=0,Ae=0,$e=new Array(be.length),ke=new Array(be.length),pt=0;pt<be.length;pt+=1){var Zt=be[pt].dataCount,hn=be[pt].totalCount-Zt;_e=Math.max(_e,Zt),Ae=Math.max(Ae,hn),$e[pt]=new Array(Zt);for(var gt=0;gt<$e[pt].length;gt+=1)$e[pt][gt]=255&ve.getBuffer()[gt+ge];ge+=Zt;var Yn=a.getErrorCorrectPolynomial(hn),Zn=c($e[pt],Yn.getLength()-1),kn=Zn.mod(Yn);ke[pt]=new Array(Yn.getLength()-1);for(var gt=0;gt<ke[pt].length;gt+=1){var Ir=gt+kn.getLength()-ke[pt].length;ke[pt][gt]=Ir>=0?kn.getAt(Ir):0}}for(var Cr=0,gt=0;gt<be.length;gt+=1)Cr+=be[gt].totalCount;for(var Et=new Array(Cr),Dt=0,gt=0;gt<_e;gt+=1)for(var pt=0;pt<be.length;pt+=1)gt<$e[pt].length&&(Et[Dt]=$e[pt][gt],Dt+=1);for(var gt=0;gt<Ae;gt+=1)for(var pt=0;pt<be.length;pt+=1)gt<ke[pt].length&&(Et[Dt]=ke[pt][gt],Dt+=1);return Et},It=function(ve,be,ge){for(var _e=u.getRSBlocks(ve,be),Ae=f(),$e=0;$e<ge.length;$e+=1){var ke=ge[$e];Ae.put(ke.getMode(),4),Ae.put(ke.getLength(),a.getLengthInBits(ke.getMode(),ve)),ke.write(Ae)}for(var pt=0,$e=0;$e<_e.length;$e+=1)pt+=_e[$e].dataCount;if(Ae.getLengthInBits()>pt*8)throw"code length overflow. ("+Ae.getLengthInBits()+">"+pt*8+")";for(Ae.getLengthInBits()+4<=pt*8&&Ae.put(0,4);Ae.getLengthInBits()%8!=0;)Ae.putBit(!1);for(;!(Ae.getLengthInBits()>=pt*8||(Ae.put(V,8),Ae.getLengthInBits()>=pt*8));)Ae.put(B,8);return De(Ae,_e)};ee.addData=function(ve,be){be=be||"Byte";var ge=null;switch(be){case"Numeric":ge=d(ve);break;case"Alphanumeric":ge=h(ve);break;case"Byte":ge=m(ve);break;case"Kanji":ge=v(ve);break;default:throw"mode:"+be}ae.push(ge),ce=null},ee.isDark=function(ve,be){if(ve<0||H<=ve||be<0||H<=be)throw ve+","+be;return J[ve][be]},ee.getModuleCount=function(){return H},ee.make=function(){if(z<1){for(var ve=1;ve<40;ve++){for(var be=u.getRSBlocks(ve,ie),ge=f(),_e=0;_e<ae.length;_e++){var Ae=ae[_e];ge.put(Ae.getMode(),4),ge.put(Ae.getLength(),a.getLengthInBits(Ae.getMode(),ve)),Ae.write(ge)}for(var $e=0,_e=0;_e<be.length;_e++)$e+=be[_e].dataCount;if(ge.getLengthInBits()<=$e*8)break}z=ve}F(!1,D())},ee.createTableTag=function(ve,be){ve=ve||2,be=typeof be>"u"?ve*4:be;var ge="";ge+='<table style="',ge+=" border-width: 0px; border-style: none;",ge+=" border-collapse: collapse;",ge+=" padding: 0px; margin: "+be+"px;",ge+='">',ge+="<tbody>";for(var _e=0;_e<ee.getModuleCount();_e+=1){ge+="<tr>";for(var Ae=0;Ae<ee.getModuleCount();Ae+=1)ge+='<td style="',ge+=" border-width: 0px; border-style: none;",ge+=" border-collapse: collapse;",ge+=" padding: 0px; margin: 0px;",ge+=" width: "+ve+"px;",ge+=" height: "+ve+"px;",ge+=" background-color: ",ge+=ee.isDark(_e,Ae)?"#000000":"#ffffff",ge+=";",ge+='"/>';ge+="</tr>"}return ge+="</tbody>",ge+="</table>",ge},ee.createSvgTag=function(ve,be,ge,_e){var Ae={};typeof arguments[0]=="object"&&(Ae=arguments[0],ve=Ae.cellSize,be=Ae.margin,ge=Ae.alt,_e=Ae.title),ve=ve||2,be=typeof be>"u"?ve*4:be,ge=typeof ge=="string"?{text:ge}:ge||{},ge.text=ge.text||null,ge.id=ge.text?ge.id||"qrcode-description":null,_e=typeof _e=="string"?{text:_e}:_e||{},_e.text=_e.text||null,_e.id=_e.text?_e.id||"qrcode-title":null;var $e=ee.getModuleCount()*ve+be*2,ke,pt,Zt,hn,gt="",Yn;for(Yn="l"+ve+",0 0,"+ve+" -"+ve+",0 0,-"+ve+"z ",gt+='<svg version="1.1" xmlns="http://www.w3.org/2000/svg"',gt+=Ae.scalable?"":' width="'+$e+'px" height="'+$e+'px"',gt+=' viewBox="0 0 '+$e+" "+$e+'" ',gt+=' preserveAspectRatio="xMinYMin meet"',gt+=_e.text||ge.text?' role="img" aria-labelledby="'+Bt([_e.id,ge.id].join(" ").trim())+'"':"",gt+=">",gt+=_e.text?'<title id="'+Bt(_e.id)+'">'+Bt(_e.text)+"</title>":"",gt+=ge.text?'<description id="'+Bt(ge.id)+'">'+Bt(ge.text)+"</description>":"",gt+='<rect width="100%" height="100%" fill="white" cx="0" cy="0"/>',gt+='<path d="',Zt=0;Zt<ee.getModuleCount();Zt+=1)for(hn=Zt*ve+be,ke=0;ke<ee.getModuleCount();ke+=1)ee.isDark(Zt,ke)&&(pt=ke*ve+be,gt+="M"+pt+","+hn+Yn);return gt+='" stroke="transparent" fill="black"/>',gt+="</svg>",gt},ee.createDataURL=function(ve,be){ve=ve||2,be=typeof be>"u"?ve*4:be;var ge=ee.getModuleCount()*ve+be*2,_e=be,Ae=ge-be;return T(ge,ge,function($e,ke){if(_e<=$e&&$e<Ae&&_e<=ke&&ke<Ae){var pt=Math.floor(($e-_e)/ve),Zt=Math.floor((ke-_e)/ve);return ee.isDark(Zt,pt)?0:1}else return 1})},ee.createImgTag=function(ve,be,ge){ve=ve||2,be=typeof be>"u"?ve*4:be;var _e=ee.getModuleCount()*ve+be*2,Ae="";return Ae+="<img",Ae+=' src="',Ae+=ee.createDataURL(ve,be),Ae+='"',Ae+=' width="',Ae+=_e,Ae+='"',Ae+=' height="',Ae+=_e,Ae+='"',ge&&(Ae+=' alt="',Ae+=Bt(ge),Ae+='"'),Ae+="/>",Ae};var Bt=function(ve){for(var be="",ge=0;ge<ve.length;ge+=1){var _e=ve.charAt(ge);switch(_e){case"<":be+="&lt;";break;case">":be+="&gt;";break;case"&":be+="&amp;";break;case'"':be+="&quot;";break;default:be+=_e;break}}return be},zt=function(ve){var be=1;ve=typeof ve>"u"?be*2:ve;var ge=ee.getModuleCount()*be+ve*2,_e=ve,Ae=ge-ve,$e,ke,pt,Zt,hn,gt={"\u2588\u2588":"\u2588","\u2588 ":"\u2580"," \u2588":"\u2584","  ":" "},Yn={"\u2588\u2588":"\u2580","\u2588 ":"\u2580"," \u2588":" ","  ":" "},Zn="";for($e=0;$e<ge;$e+=2){for(pt=Math.floor(($e-_e)/be),Zt=Math.floor(($e+1-_e)/be),ke=0;ke<ge;ke+=1)hn="\u2588",_e<=ke&&ke<Ae&&_e<=$e&&$e<Ae&&ee.isDark(pt,Math.floor((ke-_e)/be))&&(hn=" "),_e<=ke&&ke<Ae&&_e<=$e+1&&$e+1<Ae&&ee.isDark(Zt,Math.floor((ke-_e)/be))?hn+=" ":hn+="\u2588",Zn+=ve<1&&$e+1>=Ae?Yn[hn]:gt[hn];Zn+=`
`}return ge%2&&ve>0?Zn.substring(0,Zn.length-ge-1)+Array(ge+1).join("\u2580"):Zn.substring(0,Zn.length-1)};return ee.createASCII=function(ve,be){if(ve=ve||1,ve<2)return zt(be);ve-=1,be=typeof be>"u"?ve*2:be;var ge=ee.getModuleCount()*ve+be*2,_e=be,Ae=ge-be,$e,ke,pt,Zt,hn=Array(ve+1).join("\u2588\u2588"),gt=Array(ve+1).join("  "),Yn="",Zn="";for($e=0;$e<ge;$e+=1){for(pt=Math.floor(($e-_e)/ve),Zn="",ke=0;ke<ge;ke+=1)Zt=1,_e<=ke&&ke<Ae&&_e<=$e&&$e<Ae&&ee.isDark(pt,Math.floor((ke-_e)/ve))&&(Zt=0),Zn+=Zt?hn:gt;for(pt=0;pt<ve;pt+=1)Yn+=Zn+`
`}return Yn.substring(0,Yn.length-1)},ee.renderTo2dContext=function(ve,be){be=be||2;for(var ge=ee.getModuleCount(),_e=0;_e<ge;_e++)for(var Ae=0;Ae<ge;Ae++)ve.fillStyle=ee.isDark(_e,Ae)?"black":"white",ve.fillRect(_e*be,Ae*be,be,be)},ee};r.stringToBytesFuncs={default:function(k){for(var $=[],V=0;V<k.length;V+=1){var B=k.charCodeAt(V);$.push(B&255)}return $}},r.stringToBytes=r.stringToBytesFuncs.default,r.createStringToBytes=function(k,$){var V=function(){for(var z=x(k),ie=function(){var N=z.read();if(N==-1)throw"eof";return N},J=0,H={};;){var ce=z.read();if(ce==-1)break;var ae=ie(),ee=ie(),F=ie(),G=String.fromCharCode(ce<<8|ae),D=ee<<8|F;H[G]=D,J+=1}if(J!=$)throw J+" != "+$;return H}(),B=63;return function(z){for(var ie=[],J=0;J<z.length;J+=1){var H=z.charCodeAt(J);if(H<128)ie.push(H);else{var ce=V[z.charAt(J)];typeof ce=="number"?(ce&255)==ce?ie.push(ce):(ie.push(ce>>>8),ie.push(ce&255)):ie.push(B)}}return ie}};var i={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8},o={L:1,M:0,Q:3,H:2},s={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},a=function(){var k=[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],$=1335,V=7973,B=21522,z={},ie=function(J){for(var H=0;J!=0;)H+=1,J>>>=1;return H};return z.getBCHTypeInfo=function(J){for(var H=J<<10;ie(H)-ie($)>=0;)H^=$<<ie(H)-ie($);return(J<<10|H)^B},z.getBCHTypeNumber=function(J){for(var H=J<<12;ie(H)-ie(V)>=0;)H^=V<<ie(H)-ie(V);return J<<12|H},z.getPatternPosition=function(J){return k[J-1]},z.getMaskFunction=function(J){switch(J){case s.PATTERN000:return function(H,ce){return(H+ce)%2==0};case s.PATTERN001:return function(H,ce){return H%2==0};case s.PATTERN010:return function(H,ce){return ce%3==0};case s.PATTERN011:return function(H,ce){return(H+ce)%3==0};case s.PATTERN100:return function(H,ce){return(Math.floor(H/2)+Math.floor(ce/3))%2==0};case s.PATTERN101:return function(H,ce){return H*ce%2+H*ce%3==0};case s.PATTERN110:return function(H,ce){return(H*ce%2+H*ce%3)%2==0};case s.PATTERN111:return function(H,ce){return(H*ce%3+(H+ce)%2)%2==0};default:throw"bad maskPattern:"+J}},z.getErrorCorrectPolynomial=function(J){for(var H=c([1],0),ce=0;ce<J;ce+=1)H=H.multiply(c([1,l.gexp(ce)],0));return H},z.getLengthInBits=function(J,H){if(1<=H&&H<10)switch(J){case i.MODE_NUMBER:return 10;case i.MODE_ALPHA_NUM:return 9;case i.MODE_8BIT_BYTE:return 8;case i.MODE_KANJI:return 8;default:throw"mode:"+J}else if(H<27)switch(J){case i.MODE_NUMBER:return 12;case i.MODE_ALPHA_NUM:return 11;case i.MODE_8BIT_BYTE:return 16;case i.MODE_KANJI:return 10;default:throw"mode:"+J}else if(H<41)switch(J){case i.MODE_NUMBER:return 14;case i.MODE_ALPHA_NUM:return 13;case i.MODE_8BIT_BYTE:return 16;case i.MODE_KANJI:return 12;default:throw"mode:"+J}else throw"type:"+H},z.getLostPoint=function(J){for(var H=J.getModuleCount(),ce=0,ae=0;ae<H;ae+=1)for(var ee=0;ee<H;ee+=1){for(var F=0,G=J.isDark(ae,ee),D=-1;D<=1;D+=1)if(!(ae+D<0||H<=ae+D))for(var N=-1;N<=1;N+=1)ee+N<0||H<=ee+N||D==0&&N==0||G==J.isDark(ae+D,ee+N)&&(F+=1);F>5&&(ce+=3+F-5)}for(var ae=0;ae<H-1;ae+=1)for(var ee=0;ee<H-1;ee+=1){var te=0;J.isDark(ae,ee)&&(te+=1),J.isDark(ae+1,ee)&&(te+=1),J.isDark(ae,ee+1)&&(te+=1),J.isDark(ae+1,ee+1)&&(te+=1),(te==0||te==4)&&(ce+=3)}for(var ae=0;ae<H;ae+=1)for(var ee=0;ee<H-6;ee+=1)J.isDark(ae,ee)&&!J.isDark(ae,ee+1)&&J.isDark(ae,ee+2)&&J.isDark(ae,ee+3)&&J.isDark(ae,ee+4)&&!J.isDark(ae,ee+5)&&J.isDark(ae,ee+6)&&(ce+=40);for(var ee=0;ee<H;ee+=1)for(var ae=0;ae<H-6;ae+=1)J.isDark(ae,ee)&&!J.isDark(ae+1,ee)&&J.isDark(ae+2,ee)&&J.isDark(ae+3,ee)&&J.isDark(ae+4,ee)&&!J.isDark(ae+5,ee)&&J.isDark(ae+6,ee)&&(ce+=40);for(var X=0,ee=0;ee<H;ee+=1)for(var ae=0;ae<H;ae+=1)J.isDark(ae,ee)&&(X+=1);var Oe=Math.abs(100*X/H/H-50)/5;return ce+=Oe*10,ce},z}(),l=function(){for(var k=new Array(256),$=new Array(256),V=0;V<8;V+=1)k[V]=1<<V;for(var V=8;V<256;V+=1)k[V]=k[V-4]^k[V-5]^k[V-6]^k[V-8];for(var V=0;V<255;V+=1)$[k[V]]=V;var B={};return B.glog=function(z){if(z<1)throw"glog("+z+")";return $[z]},B.gexp=function(z){for(;z<0;)z+=255;for(;z>=256;)z-=255;return k[z]},B}();function c(k,$){if(typeof k.length>"u")throw k.length+"/"+$;var V=function(){for(var z=0;z<k.length&&k[z]==0;)z+=1;for(var ie=new Array(k.length-z+$),J=0;J<k.length-z;J+=1)ie[J]=k[J+z];return ie}(),B={};return B.getAt=function(z){return V[z]},B.getLength=function(){return V.length},B.multiply=function(z){for(var ie=new Array(B.getLength()+z.getLength()-1),J=0;J<B.getLength();J+=1)for(var H=0;H<z.getLength();H+=1)ie[J+H]^=l.gexp(l.glog(B.getAt(J))+l.glog(z.getAt(H)));return c(ie,0)},B.mod=function(z){if(B.getLength()-z.getLength()<0)return B;for(var ie=l.glog(B.getAt(0))-l.glog(z.getAt(0)),J=new Array(B.getLength()),H=0;H<B.getLength();H+=1)J[H]=B.getAt(H);for(var H=0;H<z.getLength();H+=1)J[H]^=l.gexp(l.glog(z.getAt(H))+ie);return c(J,0).mod(z)},B}var u=function(){var k=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12,7,37,13],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],$=function(z,ie){var J={};return J.totalCount=z,J.dataCount=ie,J},V={},B=function(z,ie){switch(ie){case o.L:return k[(z-1)*4+0];case o.M:return k[(z-1)*4+1];case o.Q:return k[(z-1)*4+2];case o.H:return k[(z-1)*4+3];default:return}};return V.getRSBlocks=function(z,ie){var J=B(z,ie);if(typeof J>"u")throw"bad rs block @ typeNumber:"+z+"/errorCorrectionLevel:"+ie;for(var H=J.length/3,ce=[],ae=0;ae<H;ae+=1)for(var ee=J[ae*3+0],F=J[ae*3+1],G=J[ae*3+2],D=0;D<ee;D+=1)ce.push($(F,G));return ce},V}(),f=function(){var k=[],$=0,V={};return V.getBuffer=function(){return k},V.getAt=function(B){var z=Math.floor(B/8);return(k[z]>>>7-B%8&1)==1},V.put=function(B,z){for(var ie=0;ie<z;ie+=1)V.putBit((B>>>z-ie-1&1)==1)},V.getLengthInBits=function(){return $},V.putBit=function(B){var z=Math.floor($/8);k.length<=z&&k.push(0),B&&(k[z]|=128>>>$%8),$+=1},V},d=function(k){var $=i.MODE_NUMBER,V=k,B={};B.getMode=function(){return $},B.getLength=function(J){return V.length},B.write=function(J){for(var H=V,ce=0;ce+2<H.length;)J.put(z(H.substring(ce,ce+3)),10),ce+=3;ce<H.length&&(H.length-ce==1?J.put(z(H.substring(ce,ce+1)),4):H.length-ce==2&&J.put(z(H.substring(ce,ce+2)),7))};var z=function(J){for(var H=0,ce=0;ce<J.length;ce+=1)H=H*10+ie(J.charAt(ce));return H},ie=function(J){if("0"<=J&&J<="9")return J.charCodeAt(0)-48;throw"illegal char :"+J};return B},h=function(k){var $=i.MODE_ALPHA_NUM,V=k,B={};B.getMode=function(){return $},B.getLength=function(ie){return V.length},B.write=function(ie){for(var J=V,H=0;H+1<J.length;)ie.put(z(J.charAt(H))*45+z(J.charAt(H+1)),11),H+=2;H<J.length&&ie.put(z(J.charAt(H)),6)};var z=function(ie){if("0"<=ie&&ie<="9")return ie.charCodeAt(0)-48;if("A"<=ie&&ie<="Z")return ie.charCodeAt(0)-65+10;switch(ie){case" ":return 36;case"$":return 37;case"%":return 38;case"*":return 39;case"+":return 40;case"-":return 41;case".":return 42;case"/":return 43;case":":return 44;default:throw"illegal char :"+ie}};return B},m=function(k){var $=i.MODE_8BIT_BYTE,V=r.stringToBytes(k),B={};return B.getMode=function(){return $},B.getLength=function(z){return V.length},B.write=function(z){for(var ie=0;ie<V.length;ie+=1)z.put(V[ie],8)},B},v=function(k){var $=i.MODE_KANJI,V=r.stringToBytesFuncs.SJIS;if(!V)throw"sjis not supported.";(function(ie,J){var H=V(ie);if(H.length!=2||(H[0]<<8|H[1])!=J)throw"sjis not supported."})("\u53CB",38726);var B=V(k),z={};return z.getMode=function(){return $},z.getLength=function(ie){return~~(B.length/2)},z.write=function(ie){for(var J=B,H=0;H+1<J.length;){var ce=(255&J[H])<<8|255&J[H+1];if(33088<=ce&&ce<=40956)ce-=33088;else if(57408<=ce&&ce<=60351)ce-=49472;else throw"illegal char at "+(H+1)+"/"+ce;ce=(ce>>>8&255)*192+(ce&255),ie.put(ce,13),H+=2}if(H<J.length)throw"illegal char at "+(H+1)},z},P=function(){var k=[],$={};return $.writeByte=function(V){k.push(V&255)},$.writeShort=function(V){$.writeByte(V),$.writeByte(V>>>8)},$.writeBytes=function(V,B,z){B=B||0,z=z||V.length;for(var ie=0;ie<z;ie+=1)$.writeByte(V[ie+B])},$.writeString=function(V){for(var B=0;B<V.length;B+=1)$.writeByte(V.charCodeAt(B))},$.toByteArray=function(){return k},$.toString=function(){var V="";V+="[";for(var B=0;B<k.length;B+=1)B>0&&(V+=","),V+=k[B];return V+="]",V},$},b=function(){var k=0,$=0,V=0,B="",z={},ie=function(H){B+=String.fromCharCode(J(H&63))},J=function(H){if(!(H<0)){if(H<26)return 65+H;if(H<52)return 97+(H-26);if(H<62)return 48+(H-52);if(H==62)return 43;if(H==63)return 47}throw"n:"+H};return z.writeByte=function(H){for(k=k<<8|H&255,$+=8,V+=1;$>=6;)ie(k>>>$-6),$-=6},z.flush=function(){if($>0&&(ie(k<<6-$),k=0,$=0),V%3!=0)for(var H=3-V%3,ce=0;ce<H;ce+=1)B+="="},z.toString=function(){return B},z},x=function(k){var $=k,V=0,B=0,z=0,ie={};ie.read=function(){for(;z<8;){if(V>=$.length){if(z==0)return-1;throw"unexpected end of file./"+z}var H=$.charAt(V);if(V+=1,H=="=")return z=0,-1;if(H.match(/^\s$/))continue;B=B<<6|J(H.charCodeAt(0)),z+=6}var ce=B>>>z-8&255;return z-=8,ce};var J=function(H){if(65<=H&&H<=90)return H-65;if(97<=H&&H<=122)return H-97+26;if(48<=H&&H<=57)return H-48+52;if(H==43)return 62;if(H==47)return 63;throw"c:"+H};return ie},_=function(k,$){var V=k,B=$,z=new Array(k*$),ie={};ie.setPixel=function(ae,ee,F){z[ee*V+ae]=F},ie.write=function(ae){ae.writeString("GIF87a"),ae.writeShort(V),ae.writeShort(B),ae.writeByte(128),ae.writeByte(0),ae.writeByte(0),ae.writeByte(0),ae.writeByte(0),ae.writeByte(0),ae.writeByte(255),ae.writeByte(255),ae.writeByte(255),ae.writeString(","),ae.writeShort(0),ae.writeShort(0),ae.writeShort(V),ae.writeShort(B),ae.writeByte(0);var ee=2,F=H(ee);ae.writeByte(ee);for(var G=0;F.length-G>255;)ae.writeByte(255),ae.writeBytes(F,G,255),G+=255;ae.writeByte(F.length-G),ae.writeBytes(F,G,F.length-G),ae.writeByte(0),ae.writeString(";")};var J=function(ae){var ee=ae,F=0,G=0,D={};return D.write=function(N,te){if(N>>>te)throw"length over";for(;F+te>=8;)ee.writeByte(255&(N<<F|G)),te-=8-F,N>>>=8-F,G=0,F=0;G=N<<F|G,F=F+te},D.flush=function(){F>0&&ee.writeByte(G)},D},H=function(ae){for(var ee=1<<ae,F=(1<<ae)+1,G=ae+1,D=ce(),N=0;N<ee;N+=1)D.add(String.fromCharCode(N));D.add(String.fromCharCode(ee)),D.add(String.fromCharCode(F));var te=P(),X=J(te);X.write(ee,G);var Oe=0,Ye=String.fromCharCode(z[Oe]);for(Oe+=1;Oe<z.length;){var De=String.fromCharCode(z[Oe]);Oe+=1,D.contains(Ye+De)?Ye=Ye+De:(X.write(D.indexOf(Ye),G),D.size()<4095&&(D.size()==1<<G&&(G+=1),D.add(Ye+De)),Ye=De)}return X.write(D.indexOf(Ye),G),X.write(F,G),X.flush(),te.toByteArray()},ce=function(){var ae={},ee=0,F={};return F.add=function(G){if(F.contains(G))throw"dup key:"+G;ae[G]=ee,ee+=1},F.size=function(){return ee},F.indexOf=function(G){return ae[G]},F.contains=function(G){return typeof ae[G]<"u"},F};return ie},T=function(k,$,V){for(var B=_(k,$),z=0;z<$;z+=1)for(var ie=0;ie<k;ie+=1)B.setPixel(ie,z,V(ie,z));var J=P();B.write(J);for(var H=b(),ce=J.toByteArray(),ae=0;ae<ce.length;ae+=1)H.writeByte(ce[ae]);return H.flush(),"data:image/gif;base64,"+H};return r}();(function(){n.stringToBytesFuncs["UTF-8"]=function(r){function i(o){for(var s=[],a=0;a<o.length;a++){var l=o.charCodeAt(a);l<128?s.push(l):l<2048?s.push(192|l>>6,128|l&63):l<55296||l>=57344?s.push(224|l>>12,128|l>>6&63,128|l&63):(a++,l=65536+((l&1023)<<10|o.charCodeAt(a)&1023),s.push(240|l>>18,128|l>>12&63,128|l>>6&63,128|l&63))}return s}return i(r)}})(),function(r){t.exports=r()}(function(){return n})})(o5);var Fz=o5.exports;function G1(t){return Kn(this,null,function*(){try{if(!navigator?.clipboard)throw new si("Clipboard API not available");return yield navigator.clipboard.writeText(t)}catch{}Oz(t)})}function Oz(t){let e=document.createElement("textarea");e.value=t,e.style.top="0",e.style.left="0",e.style.position="fixed",document.body.appendChild(e),e.focus(),e.select();try{document.execCommand("copy")}finally{document.body.removeChild(e)}}var Lz=xn("<div></div>"),H1=t=>{let e,n,r,[i,o]=Nt(!1),[s,a]=Nt(ZM);Qr(()=>{let d=Fz(0,"L");d.addData(t.sourceUrl),d.make(),e.innerHTML=d.createSvgTag(4,0);let h=e.firstElementChild.clientWidth,m=Math.round(i5/h*1e5)/1e5;if(r){let v=Math.ceil(K2/(m*4))*4,P=Gs(Math.ceil((h-v)/(2*4))*4);r.style.top=P,r.style.left=P,r.style.height=Gs(v),r.style.width=Gs(v),a(Math.round(ZM/m))}n.style.transform=`scale(${m})`});let l=null;return L(Mz,{get class(){return t.class},onClick:()=>{o(!0),G1(t.sourceUrl),l!=null&&clearTimeout(l),l=setTimeout(()=>o(!1),1500)},get children(){return[L(kz,{ref(u){let f=n;typeof f=="function"?f(u):n=u},get children(){return[(()=>{let u=Lz.cloneNode(!0),f=e;return typeof f=="function"?Nf(f,u):e=u,u})(),L(Ot,{get when(){return t.imageUrl},get children(){return L(Pz,{ref(u){let f=r;typeof f=="function"?f(u):r=u},get children(){return L(Nz,{get src(){return t.imageUrl},alt:"",get size(){return s()}})}})}})]}}),L(U1,{onBeforeEnter:u=>{Go(u,[{opacity:0,transform:"translate(-50%, 44px)"},{opacity:1,transform:"translate(-50%, 0)"}],{duration:150,easing:"ease-out"})},onExit:(u,f)=>{Go(u,[{opacity:1,transform:"translate(-50%, 0)"},{opacity:0,transform:"translate(-50%, 44px)"}],{duration:150,easing:"ease-out"}).finished.then(()=>{f()})},get children(){return L(Ot,{get when(){return i()&&!t.disableCopy},get children(){return L(Rz,{get children(){return[L(hx,{size:"xs"}),L(Wo,{translationKey:"common.linkCopied",children:"Link Copied"})]}})}})}}),L(Ot,{get when(){return!t.disableCopy},get children(){return L(C1,{get children(){return L(Fq,{})}})}})]}})},Y2=(t,e,n)=>{let r=e.trim().split(".").reduce((i,o)=>i?i[o]:void 0,t);return r!==void 0?r:n},Vz=(t,e,n=/{{(.*?)}}/g)=>t.replace(n,(r,i)=>Y2(e,i,"")),$z=(t={},e=navigator.language in t?navigator.language:Object.keys(t)[0])=>{let[n,r]=Nt(e),[i,o]=ux(t);return[(l,c,u)=>{let f=Y2(i[n()],l,u||"");return typeof f=="function"?f(c):typeof f=="string"?Vz(f,c||{}):f},{add(l,c){o(l,u=>Object.assign(u||{},c))},locale:l=>l?r(l):n(),dict:l=>Y2(i,l)}]},s5=V1({}),Ys=()=>zi(s5),Bz=Se.div`
    font-style: normal;
    font-weight: ${t=>t.fontWeight};
    font-size: ${t=>t.fontSize};
    line-height: ${t=>t.lineHeight};

    color: ${t=>t.color};
`,Wo=t=>{let e=gr(),[n]=Ys(),r,i=()=>t.color||e.colors.text.primary,o=Us({fontSize:"14px",fontWeight:"510",lineHeight:"130%"},t);return Qr(()=>{r&&o.cursor!=="unset"&&getComputedStyle(r).cursor!=="pointer"&&(r.style.cursor="default")}),L(Bz,{get fontSize(){return o.fontSize},get fontWeight(){return o.fontWeight},get lineHeight(){return o.lineHeight},get color(){return i()},get class(){return o.class},ref(s){let a=r;typeof a=="function"?a(s):r=s},"data-tc-text":"true",get children(){var s;return Ze(()=>!!o.translationKey)()?n(o.translationKey,o.translationValues,(s=o.children)==null?void 0:s.toString()):o.children}})},jz=Se.div`
    position: relative;

    &::after {
        content: '';
        display: block;
        position: absolute;
        top: 0;
        bottom: 0;
        left: 0;
        right: 0;
        border: 0.5px solid rgba(0, 0, 0, 0.08);
        border-radius: inherit;
    }
`,Uz=Se(Wc)`
    width: 100%;
    height: 100%;
    border-radius: inherit;
`,a5=t=>L(jz,{get class(){return t.class},get children(){return[L(Uz,{get src(){return t.src}}),Ze(()=>t.badge)]}}),Gz={m:"16px",s:"12px",none:"0"},Hz={m:"6px",s:"6px",none:"0"},Wz=Se.ul`
    display: flex;
    gap: 0;
    width: 100%;
    overflow-x: auto;
    padding: 8px 12px 16px 12px;
    margin: 0;
    list-style: none;
    flex-wrap: nowrap;

    &&::-webkit-scrollbar {
        display: none;
    }
    -ms-overflow-style: none;
    scrollbar-width: none;

    > li {
        display: flex;
        flex: 1;
        min-width: 78px;
        height: fit-content;
    }

    > li > button {
        width: 100%;
    }
`,zz=Se.button`
    position: relative;
    cursor: pointer;
    border: none;
    background-color: unset;
    padding: 8px 4px;
    width: 100%;
    min-width: 78px;
    display: flex;
    flex-direction: column;
    align-items: center;

    transition: transform 0.125s ease-in-out;

    ${ih} {
        &:hover {
            transform: scale(1.04);
        }
    }

    &:active {
        transform: scale(0.96);
    }

    ${rh} {
        &:active {
            transform: scale(0.92);
        }
    }
`,qz=Se(a5)`
    width: 60px;
    height: 60px;
    border-radius: ${t=>Gz[t.theme.borderRadius]};
    margin-bottom: 8px;
    position: relative;
`,Kz=Se(Wc)`
    position: absolute;
    right: -6px;
    bottom: -6px;
    width: 24px;
    height: 24px;
    border-radius: ${t=>Hz[t.theme.borderRadius]};
    box-shadow: 0 2px 8px 0 rgba(0, 0, 0, 0.08);
`,Yz=Se(Wo)`
    max-width: 90px;
    font-weight: 510;
    white-space: nowrap;
    text-overflow: ellipsis;
    overflow: hidden;

    ${To("mobile")} {
        max-width: 80px;
    }
`,Jz=Se(Wo)`
    font-weight: ${t=>t.colorPrimary?"510":"400"};
    max-width: 90px;
    white-space: nowrap;
    text-overflow: ellipsis;
    overflow: hidden;
    color: ${t=>t.colorPrimary?t.theme.colors.text.primary:t.theme.colors.text.secondary};

    ${To("mobile")} {
        max-width: 80px;
    }
`,Qz=xn("<div></div>"),F1=t=>{let e=null,n=()=>{let r=e?.querySelector("div");if(r&&r.scrollWidth>r.clientWidth){let i=0,o=-.4,s=.05;for(;r.scrollWidth>r.clientWidth&&i>=o;)i-=s,r.style.letterSpacing=`${i}px`;i!==0&&(i-=s,r.style.letterSpacing=`${i}px`)}};return Dk(()=>n()),Qr(()=>{n()}),L(zz,{get class(){return t.class},onClick:()=>t.onClick(),"data-tc-wallet-item":"true",get children(){return[Ze(()=>Ze(()=>typeof t.icon=="string")()?L(qz,{get src(){return t.icon},get badge(){return Ze(()=>!!t.badgeUrl)()&&L(Kz,{get src(){return t.badgeUrl}})}}):t.icon),(()=>{let r=Qz.cloneNode(!0);return Nf(i=>e=i,r),vi(r,L(Yz,{get children(){return t.name}})),r})(),Ze(()=>Ze(()=>!!t.secondLine)()&&L(Jz,{get colorPrimary(){var r;return(r=t.secondLineColorPrimary)!=null?r:!0},get children(){return t.secondLine}}))]}})},Zz=Se.h1`
    font-style: normal;
    font-weight: 590;
    font-size: 20px;
    line-height: 28px;

    text-align: center;

    color: ${t=>t.theme.colors.text.primary};

    margin-top: 0;
    margin-bottom: 0;

    cursor: default;
`,Js=t=>{let[e]=Ys();return L(Zz,{get class(){return t.class},"data-tc-h1":"true",get children(){var n;return Ze(()=>!!t.translationKey)()?e(t.translationKey,t.translationValues,(n=t.children)==null?void 0:n.toString()):t.children}})},Xz=Se.h2`
    font-style: normal;
    font-weight: 400;
    font-size: 16px;
    line-height: 22px;

    text-align: center;

    color: ${t=>t.theme.colors.text.secondary};

    margin-top: 0;
    margin-bottom: 32px;

    cursor: default;
`,$a=t=>{let[e]=Ys();return L(Xz,{get class(){return t.class},"data-tc-h2":"true",get children(){var n;return Ze(()=>!!t.translationKey)()?e(t.translationKey,t.translationValues,(n=t.children)==null?void 0:n.toString()):t.children}})},eq=Se.h3`
    font-style: normal;
    font-weight: 510;
    font-size: 16px;
    line-height: 20px;

    color: ${t=>t.theme.colors.text.primary};

    margin-top: 0;
    margin-bottom: 0;

    cursor: default;
`,px=t=>{let[e]=Ys();return L(eq,{"data-tc-h3":"true",get class(){return t.class},get children(){var n;return Ze(()=>!!t.translationKey)()?e(t.translationKey,t.translationValues,(n=t.children)==null?void 0:n.toString()):t.children}})},tq=xn('<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M14.1839 17.7069C13.6405 18.6507 13.3688 19.1226 13.0591 19.348C12.4278 19.8074 11.5723 19.8074 10.941 19.348C10.6312 19.1226 10.3595 18.6507 9.81613 17.7069L5.52066 10.2464C4.76864 8.94024 4.39263 8.28717 4.33762 7.75894C4.2255 6.68236 4.81894 5.65591 5.80788 5.21589C6.29309 5 7.04667 5 8.55383 5H15.4462C16.9534 5 17.7069 5 18.1922 5.21589C19.1811 5.65591 19.7745 6.68236 19.6624 7.75894C19.6074 8.28717 19.2314 8.94024 18.4794 10.2464L14.1839 17.7069ZM11.1 16.3412L6.56139 8.48002C6.31995 8.06185 6.19924 7.85276 6.18146 7.68365C6.14523 7.33896 6.33507 7.01015 6.65169 6.86919C6.80703 6.80002 7.04847 6.80002 7.53133 6.80002H7.53134L11.1 6.80002V16.3412ZM12.9 16.3412L17.4387 8.48002C17.6801 8.06185 17.8008 7.85276 17.8186 7.68365C17.8548 7.33896 17.665 7.01015 17.3484 6.86919C17.193 6.80002 16.9516 6.80002 16.4687 6.80002L12.9 6.80002V16.3412Z"></path></svg>'),nq=t=>{let e=gr(),n=()=>t.fill||e.colors.icon.primary;return(()=>{let r=tq.cloneNode(!0),i=r.firstChild;return _n(()=>St(i,"fill",n())),r})()},rq=xn('<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16" fill="none"><g clip-path="url(#clip0_3783_2045)"><circle cx="8" cy="8.00098" r="8"></circle><path d="M4.75 8.50098L7 10.751L11.75 6.00098" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path></g><defs><clipPath id="clip0_3783_2045"><rect width="16" height="16" fill="white" transform="translate(0 0.000976562)"></rect></clipPath></defs></svg>'),iq=xn('<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><circle cx="12" cy="12" r="11"></circle><path d="M17.1364 9.6364C17.4879 9.28493 17.4879 8.71508 17.1364 8.36361C16.7849 8.01214 16.2151 8.01214 15.8636 8.36361L10 14.2272L8.1364 12.3636C7.78493 12.0121 7.21508 12.0121 6.86361 12.3636C6.51214 12.7151 6.51214 13.2849 6.86361 13.6364L9.36361 16.1364C9.71508 16.4879 10.2849 16.4879 10.6364 16.1364L17.1364 9.6364Z"></path></svg>'),oq=xn('<svg width="72" height="72" viewBox="0 0 72 72" fill="none" xmlns="http://www.w3.org/2000/svg"><circle cx="36" cy="36" r="33"></circle><path d="M50.9142 28.4142C51.6953 27.6332 51.6953 26.3668 50.9142 25.5858C50.1332 24.8047 48.8668 24.8047 48.0858 25.5858L30 43.6716L23.9142 37.5858C23.1332 36.8047 21.8668 36.8047 21.0858 37.5858C20.3047 38.3668 20.3047 39.6332 21.0858 40.4142L28.5858 47.9142C29.3668 48.6953 30.6332 48.6953 31.4142 47.9142L50.9142 28.4142Z"></path></svg>'),hx=t=>{let e=gr(),n=()=>t.size||"s",r=()=>t.fill||e.colors.icon.success;return Ze((()=>{let i=Ze(()=>n()==="xs");return()=>i()?(()=>{let o=rq.cloneNode(!0),s=o.firstChild,a=s.firstChild,l=a.nextSibling;return _n(c=>{let u=t.class,f=r(),d=e.colors.constant.white;return u!==c._v$&&St(o,"class",c._v$=u),f!==c._v$2&&St(a,"fill",c._v$2=f),d!==c._v$3&&St(l,"stroke",c._v$3=d),c},{_v$:void 0,_v$2:void 0,_v$3:void 0}),o})():(()=>{let o=Ze(()=>n()==="s");return()=>o()?(()=>{let s=iq.cloneNode(!0),a=s.firstChild,l=a.nextSibling;return _n(c=>{let u=t.class,f=r(),d=e.colors.constant.white;return u!==c._v$4&&St(s,"class",c._v$4=u),f!==c._v$5&&St(a,"fill",c._v$5=f),d!==c._v$6&&St(l,"fill",c._v$6=d),c},{_v$4:void 0,_v$5:void 0,_v$6:void 0}),s})():(()=>{let s=oq.cloneNode(!0),a=s.firstChild,l=a.nextSibling;return _n(c=>{let u=t.class,f=r(),d=e.colors.constant.white;return u!==c._v$7&&St(s,"class",c._v$7=u),f!==c._v$8&&St(a,"fill",c._v$8=f),d!==c._v$9&&St(l,"fill",c._v$9=d),c},{_v$7:void 0,_v$8:void 0,_v$9:void 0}),s})()})()})())},sq=xn('<svg width="72" height="72" viewBox="0 0 72 72" fill="none" xmlns="http://www.w3.org/2000/svg"><circle cx="36" cy="36" r="33"></circle><path d="M24.0858 26.9142C23.3047 26.1332 23.3047 24.8668 24.0858 24.0858C24.8668 23.3047 26.1332 23.3047 26.9142 24.0858L36 33.1716L45.0858 24.0858C45.8668 23.3047 47.1332 23.3047 47.9142 24.0858C48.6953 24.8668 48.6953 26.1332 47.9142 26.9142L38.8284 36L47.9142 45.0858C48.6953 45.8668 48.6953 47.1332 47.9142 47.9142C47.1332 48.6953 45.8668 48.6953 45.0858 47.9142L36 38.8284L26.9142 47.9142C26.1332 48.6953 24.8668 48.6953 24.0858 47.9142C23.3047 47.1332 23.3047 45.8668 24.0858 45.0858L33.1716 36L24.0858 26.9142Z"></path></svg>'),aq=xn('<svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 48 48" fill="none"><circle cx="24" cy="24.001" r="22"></circle><path d="M24 24.001L31.5 16.501M24 24.001L16.5 16.501M24 24.001L16.5 31.501M24 24.001L31.5 31.501" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"></path></svg>'),lq=xn('<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><circle cx="12" cy="12" r="11"></circle><path d="M7.86361 9.1364C7.51214 8.78493 7.51214 8.21508 7.86361 7.86361C8.21508 7.51214 8.78493 7.51214 9.1364 7.86361L12 10.7272L14.8636 7.86361C15.2151 7.51214 15.7849 7.51214 16.1364 7.86361C16.4879 8.21508 16.4879 8.78493 16.1364 9.1364L13.2728 12L16.1364 14.8636C16.4879 15.2151 16.4879 15.7849 16.1364 16.1364C15.7849 16.4879 15.2151 16.4879 14.8636 16.1364L12 13.2728L9.1364 16.1364C8.78493 16.4879 8.21508 16.4879 7.86361 16.1364C7.51214 15.7849 7.51214 15.2151 7.86361 14.8636L10.7272 12L7.86361 9.1364Z"></path></svg>'),sh=t=>{let e=gr(),n=()=>t.size||"m",r=()=>t.fill||e.colors.icon.error;return Ze((()=>{let i=Ze(()=>n()==="m");return()=>i()?(()=>{let o=sq.cloneNode(!0),s=o.firstChild,a=s.nextSibling;return _n(l=>{let c=t.class,u=r(),f=e.colors.constant.white;return c!==l._v$&&St(o,"class",l._v$=c),u!==l._v$2&&St(s,"fill",l._v$2=u),f!==l._v$3&&St(a,"fill",l._v$3=f),l},{_v$:void 0,_v$2:void 0,_v$3:void 0}),o})():(()=>{let o=Ze(()=>n()==="s");return()=>o()?(()=>{let s=aq.cloneNode(!0),a=s.firstChild,l=a.nextSibling;return _n(c=>{let u=t.class,f=r(),d=e.colors.constant.white;return u!==c._v$4&&St(s,"class",c._v$4=u),f!==c._v$5&&St(a,"fill",c._v$5=f),d!==c._v$6&&St(l,"stroke",c._v$6=d),c},{_v$4:void 0,_v$5:void 0,_v$6:void 0}),s})():(()=>{let s=lq.cloneNode(!0),a=s.firstChild,l=a.nextSibling;return _n(c=>{let u=t.class,f=r(),d=e.colors.constant.white;return u!==c._v$7&&St(s,"class",c._v$7=u),f!==c._v$8&&St(a,"fill",c._v$8=f),d!==c._v$9&&St(l,"fill",c._v$9=d),c},{_v$7:void 0,_v$8:void 0,_v$9:void 0}),s})()})()})())},cq=xn('<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M15.55 5.85123C18.9459 7.81184 20.1094 12.1541 18.1488 15.55C16.1882 18.9459 11.8459 20.1094 8.44998 18.1488C8.01952 17.9003 7.46909 18.0478 7.22056 18.4782C6.97203 18.9087 7.11952 19.4591 7.54998 19.7076C11.8068 22.1653 17.2499 20.7068 19.7076 16.45C22.1653 12.1932 20.7068 6.75005 16.45 4.29239C12.1932 1.83472 6.75003 3.29321 4.29236 7.55001C4.04383 7.98047 4.19132 8.53091 4.62178 8.77943C5.05224 9.02796 5.60268 8.88048 5.8512 8.45001C7.81181 5.05413 12.1541 3.89062 15.55 5.85123Z"></path></svg>'),uq=xn('<svg xmlns="http://www.w3.org/2000/svg" width="44" height="44" viewBox="0 0 44 44" fill="none"><path fill-rule="evenodd" clip-rule="evenodd" d="M22 2.99951C11.5066 2.99951 3 11.5061 3 21.9995C3 32.4929 11.5066 40.9995 22 40.9995C22.8284 40.9995 23.5 41.6711 23.5 42.4995C23.5 43.3279 22.8284 43.9995 22 43.9995C9.84974 43.9995 0 34.1498 0 21.9995C0 9.84925 9.84974 -0.000488281 22 -0.000488281C34.1503 -0.000488281 44 9.84925 44 21.9995C44 22.8279 43.3284 23.4995 42.5 23.4995C41.6716 23.4995 41 22.8279 41 21.9995C41 11.5061 32.4934 2.99951 22 2.99951Z"></path></svg>'),fq=xn('<svg width="72" height="72" viewBox="0 0 72 72" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M24 56.7846C35.479 63.412 50.1572 59.479 56.7846 47.9999C63.412 36.5209 59.479 21.8427 48 15.2153C36.521 8.58791 21.8428 12.5209 15.2154 23.9999" stroke-width="4" stroke-linecap="round" stroke-linejoin="round"></path></svg>'),Ba=t=>{let e=gr(),n=()=>t.size||"xs",r=()=>t.fill||e.colors.icon.tertiary,i=sW`
        0% {
          transform: rotate(0deg);
        }
        100% {
          transform: rotate(360deg);
        }
    `,o=La`
        animation: ${i} 1s linear infinite;
    `;return Ze((()=>{let s=Ze(()=>n()==="xs");return()=>s()?(()=>{let a=cq.cloneNode(!0),l=a.firstChild;return _n(c=>{let u=(0,Kp.default)(o,t.class),f=r();return u!==c._v$&&St(a,"class",c._v$=u),f!==c._v$2&&St(l,"fill",c._v$2=f),c},{_v$:void 0,_v$2:void 0}),a})():(()=>{let a=Ze(()=>n()==="s");return()=>a()?(()=>{let l=uq.cloneNode(!0),c=l.firstChild;return _n(u=>{let f=(0,Kp.default)(o,t.class),d=r();return f!==u._v$3&&St(l,"class",u._v$3=f),d!==u._v$4&&St(c,"fill",u._v$4=d),u},{_v$3:void 0,_v$4:void 0}),l})():(()=>{let l=fq.cloneNode(!0),c=l.firstChild;return _n(u=>{let f=(0,Kp.default)(o,t.class),d=r();return f!==u._v$5&&St(l,"class",u._v$5=f),d!==u._v$6&&St(c,"stroke",u._v$6=d),u},{_v$5:void 0,_v$6:void 0}),l})()})()})())},dq=xn('<svg width="158" height="28" viewBox="0 0 158 28" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M28 14.001C28 21.733 21.732 28.001 14 28.001C6.26801 28.001 0 21.733 0 14.001C0 6.26899 6.26801 0.000976562 14 0.000976562C21.732 0.000976562 28 6.26899 28 14.001ZM9.21931 8.00098H18.7801H18.7813C20.538 8.00098 21.6522 9.89966 20.7691 11.4302L14.8672 21.6576C14.4822 22.3254 13.5172 22.3254 13.1322 21.6576L7.23158 11.4302C6.34721 9.89726 7.4614 8.00098 9.21931 8.00098ZM13.1262 18.5882V9.74806H9.21811C8.78976 9.74806 8.53708 10.2029 8.74163 10.5578L11.8423 16.1035L13.1262 18.5882ZM16.1559 16.1047L19.2554 10.5566C19.4599 10.2017 19.2073 9.74685 18.7789 9.74685H14.8709V18.5906L16.1559 16.1047Z" fill="#0098EA"></path><path d="M18.7802 8.00098H9.21936C7.46145 8.00098 6.34727 9.89726 7.23164 11.4302L13.1322 21.6576C13.5173 22.3254 14.4823 22.3254 14.8673 21.6576L20.7691 11.4302C21.6523 9.89966 20.5381 8.00098 18.7814 8.00098H18.7802ZM13.1274 18.5906L11.8424 16.1035L8.74168 10.5578C8.53714 10.2029 8.78981 9.74806 9.21816 9.74806H13.1262V18.5918L13.1274 18.5906ZM19.2555 10.5566L16.156 16.1047L14.8709 18.5906V9.74685H18.779C19.2073 9.74685 19.46 10.2017 19.2555 10.5566Z" fill="white"></path><path fill-rule="evenodd" clip-rule="evenodd" d="M51.7483 22.1967C55.7182 22.1967 58.9609 18.954 58.9609 14.9841C58.9609 11.0142 55.7182 7.77148 51.7483 7.77148C47.7588 7.77148 44.5357 11.0142 44.5357 14.9841C44.5357 18.954 47.7588 22.1967 51.7483 22.1967ZM51.7483 19.1702C49.4686 19.1702 47.6802 17.2442 47.6802 14.9841C47.6802 12.724 49.4686 10.798 51.7483 10.798C54.0084 10.798 55.7968 12.724 55.7968 14.9841C55.7968 17.2442 54.0084 19.1702 51.7483 19.1702ZM37.0698 21.9609H40.2142V10.9946H44.2843V8.00732H33V10.9946H37.0698V21.9609ZM69.9379 8.00732H73.0823V21.9609H70.3899L63.59 13.3333V21.9609H60.4652V8.00732H63.1576L69.9379 16.6153V8.00732ZM79.2259 14.9887C79.2259 10.9202 82.351 7.77539 86.4982 7.77539C89.8592 7.77539 92.5519 9.95709 93.2202 12.6891H90.7437C90.154 11.0971 88.4637 9.9964 86.4982 9.9964C83.5893 9.9964 81.5452 12.1781 81.5452 14.9887C81.5452 17.7994 83.5893 19.9811 86.4982 19.9811C88.4637 19.9811 90.154 18.8804 90.7437 17.2884H93.2202C92.5519 20.0204 89.8592 22.2021 86.4982 22.2021C82.351 22.2021 79.2259 19.0573 79.2259 14.9887ZM104.584 17.0525C104.584 19.9025 102.343 22.1628 99.4342 22.1628C96.5253 22.1628 94.2846 19.9025 94.2846 17.0525C94.2846 14.2025 96.5253 11.9422 99.4342 11.9422C102.343 11.9422 104.584 14.2025 104.584 17.0525ZM96.4663 17.0525C96.4663 18.8018 97.6849 20.158 99.4342 20.158C101.164 20.158 102.382 18.8018 102.382 17.0525C102.382 15.3032 101.164 13.947 99.4342 13.947C97.6849 13.947 96.4663 15.3032 96.4663 17.0525ZM108.626 12.1388H106.463V21.9662H108.626V17.1311C108.626 15.0281 109.726 13.9077 111.161 13.9077C112.419 13.9077 113.205 14.8512 113.205 16.4039V21.9662H115.367V16.0501C115.367 13.5539 113.893 11.9422 111.613 11.9422C110.335 11.9422 109.215 12.4926 108.626 13.4753V12.1388ZM117.839 12.1388H120.001V13.4753C120.59 12.4926 121.711 11.9422 122.988 11.9422C125.268 11.9422 126.742 13.5539 126.742 16.0501V21.9662H124.58V16.4039C124.58 14.8512 123.794 13.9077 122.536 13.9077C121.101 13.9077 120.001 15.0281 120.001 17.1311V21.9662H117.839V12.1388ZM133.558 22.1628C136.054 22.1628 137.823 20.728 138.373 18.8804H136.113C135.661 19.8238 134.717 20.2563 133.636 20.2563C131.887 20.2563 130.747 19.077 130.668 17.5832H138.491C138.688 14.2419 136.585 11.9422 133.577 11.9422C130.551 11.9422 128.526 14.1436 128.526 17.0525C128.526 20.0007 130.629 22.1628 133.558 22.1628ZM130.747 16.0501C131.042 14.5367 132.162 13.7505 133.518 13.7505C134.717 13.7505 135.838 14.4581 136.172 16.0501H130.747ZM149.851 18.3694C149.32 20.5511 147.453 22.1628 144.859 22.1628C141.871 22.1628 139.709 19.8828 139.709 17.0525C139.709 14.2222 141.871 11.9422 144.859 11.9422C147.453 11.9422 149.32 13.5539 149.851 15.7356H147.571C147.178 14.6743 146.215 13.9077 144.859 13.9077C143.109 13.9077 141.91 15.2246 141.91 17.0525C141.91 18.8804 143.109 20.1973 144.859 20.1973C146.215 20.1973 147.178 19.4307 147.571 18.3694H149.851ZM155.75 22.0645C156.418 22.0645 156.929 21.9859 157.362 21.8483V19.9221C157.047 20.0401 156.615 20.1187 156.202 20.1187C155.082 20.1187 154.551 19.6666 154.551 18.448V14.065H157.362V12.1388H154.551V9.40675H152.389V12.1388H150.345V14.065H152.389V18.8018C152.389 21.0228 153.863 22.0645 155.75 22.0645Z"></path></svg>'),pq=()=>{let t=gr(),e=()=>t.theme===Tr.DARK?t.colors.constant.white:t.colors.constant.black;return(()=>{let n=dq.cloneNode(!0),r=n.firstChild,i=r.nextSibling,o=i.nextSibling;return _n(()=>St(o,"fill",e())),n})()},hq=xn('<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16" fill="none"><path fill-rule="evenodd" clip-rule="evenodd" d="M5.56608 4.42584C5.82527 3.32158 6.8176 2.5 8.00001 2.5C9.38072 2.5 10.5 3.61929 10.5 5C10.5 5.63026 10.3391 6.0386 10.1264 6.34455C9.90018 6.66993 9.58561 6.92478 9.18864 7.20877C9.12579 7.25372 9.05873 7.30025 8.9887 7.34883C8.27392 7.84472 7.25001 8.55507 7.25001 10V10.25C7.25001 10.6642 7.5858 11 8.00001 11C8.41422 11 8.75001 10.6642 8.75001 10.25V10C8.75001 9.36502 9.10777 9.1096 9.94554 8.51149L10.0614 8.42873C10.4769 8.13147 10.9748 7.75194 11.358 7.20076C11.7547 6.63015 12 5.91973 12 5C12 2.79086 10.2091 1 8.00001 1C6.10564 1 4.5205 2.31615 4.10577 4.08308C4.01112 4.48634 4.26129 4.88997 4.66454 4.98462C5.0678 5.07927 5.47143 4.8291 5.56608 4.42584ZM8.00001 15C8.60752 15 9.10001 14.5075 9.10001 13.9C9.10001 13.2925 8.60752 12.8 8.00001 12.8C7.39249 12.8 6.90001 13.2925 6.90001 13.9C6.90001 14.5075 7.39249 15 8.00001 15Z"></path></svg>'),mq=t=>{let e=gr(),n=()=>t.fill||e.colors.icon.secondary;return(()=>{let r=hq.cloneNode(!0),i=r.firstChild;return _n(()=>St(i,"fill",n())),r})()},gq=xn('<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16" fill="none"><path fill-rule="evenodd" clip-rule="evenodd" d="M9.98156 8.75C9.84854 11.4328 9.01206 13.5 8 13.5C6.98794 13.5 6.15146 11.4328 6.01844 8.75H9.98156ZM11.4832 8.75C11.4217 10.1155 11.1929 11.3869 10.8239 12.4017C10.7734 12.5405 10.7188 12.6789 10.6595 12.8154C12.1454 11.993 13.2103 10.5029 13.4493 8.75H11.4832ZM13.4493 7.25H11.4832C11.4217 5.88453 11.1929 4.61314 10.8239 3.5983C10.7734 3.4595 10.7188 3.32111 10.6595 3.18459C12.1454 4.00697 13.2103 5.49709 13.4493 7.25ZM9.98156 7.25H6.01844C6.15144 4.56764 6.98769 2.50062 7.99955 2.5H8C9.01206 2.5 9.84854 4.56724 9.98156 7.25ZM4.51678 7.25C4.57826 5.88453 4.80706 4.61314 5.1761 3.5983C5.22657 3.4595 5.28124 3.32111 5.3405 3.18459C3.85463 4.00697 2.78972 5.49709 2.55071 7.25H4.51678ZM2.55071 8.75C2.78972 10.5029 3.85463 11.993 5.3405 12.8154C5.28124 12.6789 5.22657 12.5405 5.1761 12.4017C4.80706 11.3869 4.57826 10.1155 4.51678 8.75H2.55071ZM15 8C15 11.866 11.866 15 8 15C4.13401 15 1 11.866 1 8C1 4.13401 4.13401 1 8 1C11.866 1 15 4.13401 15 8Z"></path></svg>'),vq=t=>{let e=gr(),n=()=>t.fill||e.colors.icon.primary;return(()=>{let r=gq.cloneNode(!0),i=r.firstChild;return _n(()=>St(i,"fill",n())),r})()},yq=xn('<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16" fill="none"><path fill-rule="evenodd" clip-rule="evenodd" d="M2.5 4.8C2.5 3.11984 2.5 2.27976 2.82698 1.63803C3.1146 1.07354 3.57354 0.614601 4.13803 0.32698C4.77976 0 5.61984 0 7.3 0H8.7C10.3802 0 11.2202 0 11.862 0.32698C12.4265 0.614601 12.8854 1.07354 13.173 1.63803C13.5 2.27976 13.5 3.11984 13.5 4.8V11.2C13.5 12.8802 13.5 13.7202 13.173 14.362C12.8854 14.9265 12.4265 15.3854 11.862 15.673C11.2202 16 10.3802 16 8.7 16H7.3C5.61984 16 4.77976 16 4.13803 15.673C3.57354 15.3854 3.1146 14.9265 2.82698 14.362C2.5 13.7202 2.5 12.8802 2.5 11.2V4.8ZM4 3.9C4 3.05992 4 2.63988 4.16349 2.31901C4.3073 2.03677 4.53677 1.8073 4.81901 1.66349C5.13988 1.5 5.55992 1.5 6.4 1.5H9.6C10.4401 1.5 10.8601 1.5 11.181 1.66349C11.4632 1.8073 11.6927 2.03677 11.8365 2.31901C12 2.63988 12 3.05992 12 3.9V12.1C12 12.9401 12 13.3601 11.8365 13.681C11.6927 13.9632 11.4632 14.1927 11.181 14.3365C10.8601 14.5 10.4401 14.5 9.6 14.5H6.4C5.55992 14.5 5.13988 14.5 4.81901 14.3365C4.53677 14.1927 4.3073 13.9632 4.16349 13.681C4 13.3601 4 12.9401 4 12.1V3.9ZM7 2.5C6.58579 2.5 6.25 2.83579 6.25 3.25C6.25 3.66421 6.58579 4 7 4H9C9.41421 4 9.75 3.66421 9.75 3.25C9.75 2.83579 9.41421 2.5 9 2.5H7Z"></path></svg>'),bq=t=>{let e=gr(),n=()=>t.fill||e.colors.icon.primary;return(()=>{let r=yq.cloneNode(!0),i=r.firstChild;return _n(()=>St(i,"fill",n())),r})()},wq=xn('<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16" fill="none"><path fill-rule="evenodd" clip-rule="evenodd" d="M1.5 6.8C1.5 5.11984 1.5 4.27976 1.82698 3.63803C2.1146 3.07354 2.57354 2.6146 3.13803 2.32698C3.77976 2 4.61984 2 6.3 2H9.7C11.3802 2 12.2202 2 12.862 2.32698C13.4265 2.6146 13.8854 3.07354 14.173 3.63803C14.5 4.27976 14.5 5.11984 14.5 6.8V11.5H15.25C15.6642 11.5 16 11.8358 16 12.25C16 12.6642 15.6642 13 15.25 13H0.75C0.335786 13 0 12.6642 0 12.25C0 11.8358 0.335786 11.5 0.75 11.5H1.5V6.8ZM3 11.5H13V5.9C13 5.05992 13 4.63988 12.8365 4.31901C12.6927 4.03677 12.4632 3.8073 12.181 3.66349C11.8601 3.5 11.4401 3.5 10.6 3.5H5.4C4.55992 3.5 4.13988 3.5 3.81901 3.66349C3.53677 3.8073 3.3073 4.03677 3.16349 4.31901C3 4.63988 3 5.05992 3 5.9V11.5Z"></path></svg>'),Cq=t=>{let e=gr(),n=()=>t.fill||e.colors.icon.primary;return(()=>{let r=wq.cloneNode(!0),i=r.firstChild;return _n(()=>St(i,"fill",n())),r})()},_q=xn('<svg xmlns="http://www.w3.org/2000/svg" width="17" height="16" viewBox="0 0 17 16" fill="none"><g clip-path="url(#clip0_3676_1603)"><path fill-rule="evenodd" clip-rule="evenodd" d="M15.5 1.25049C15.5 0.836275 15.1642 0.500488 14.75 0.500488C14.3358 0.500488 14 0.836275 14 1.25049V3.67012C12.7187 2.04487 10.7318 1.00049 8.5 1.00049C4.63401 1.00049 1.5 4.1345 1.5 8.00049C1.5 11.8665 4.63401 15.0005 8.5 15.0005C11.6844 15.0005 14.3703 12.8748 15.2199 9.96661C15.3361 9.56902 15.1079 9.15254 14.7103 9.03638C14.3127 8.92023 13.8962 9.14838 13.7801 9.54597C13.1123 11.8319 11 13.5005 8.5 13.5005C5.46243 13.5005 3 11.0381 3 8.00049C3 4.96292 5.46243 2.50049 8.5 2.50049C10.321 2.50049 11.9363 3.3855 12.9377 4.75049H10.5C10.0858 4.75049 9.75 5.08627 9.75 5.50049C9.75 5.9147 10.0858 6.25049 10.5 6.25049H14.75C15.1642 6.25049 15.5 5.9147 15.5 5.50049V1.25049Z"></path></g><defs><clipPath id="clip0_3676_1603"><rect width="16" height="16" fill="white" transform="translate(0.5 0.000488281)"></rect></clipPath></defs></svg>'),Ff=t=>{let e=gr(),n=()=>t.fill||e.colors.accent;return(()=>{let r=_q.cloneNode(!0),i=r.firstChild,o=i.firstChild;return _n(()=>St(o,"fill",n())),r})()},xq=xn('<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16" fill="none"><path fill-rule="evenodd" clip-rule="evenodd" d="M13 4.06119V6.75053C13 7.16474 13.3358 7.50053 13.75 7.50053C14.1642 7.50053 14.5 7.16474 14.5 6.75053V2.75053L14.5 2.72807C14.5001 2.63191 14.5003 2.49627 14.4842 2.37627C14.4638 2.22503 14.4063 1.99261 14.2071 1.79342C14.0079 1.59423 13.7755 1.5367 13.6243 1.51637C13.5043 1.50023 13.3686 1.50039 13.2725 1.50051L13.25 1.50053H9.25C8.83579 1.50053 8.5 1.83631 8.5 2.25053C8.5 2.66474 8.83579 3.00053 9.25 3.00053H11.9393L7.21967 7.7202C6.92678 8.01309 6.92678 8.48796 7.21967 8.78086C7.51256 9.07375 7.98744 9.07375 8.28033 8.78086L13 4.06119ZM5.85 1.50053H5.81903H5.81899C5.21528 1.50052 4.71702 1.50051 4.31113 1.53367C3.88956 1.56812 3.50203 1.64204 3.13803 1.82751C2.57354 2.11513 2.1146 2.57407 1.82698 3.13856C1.64151 3.50256 1.56759 3.89009 1.53315 4.31166C1.49998 4.71755 1.49999 5.21581 1.5 5.81953V5.81955V5.85053V10.1505V10.1815V10.1815C1.49999 10.7852 1.49998 11.2835 1.53315 11.6894C1.56759 12.111 1.64151 12.4985 1.82698 12.8625C2.1146 13.427 2.57354 13.8859 3.13803 14.1735C3.50203 14.359 3.88956 14.4329 4.31113 14.4674C4.71702 14.5005 5.21527 14.5005 5.81897 14.5005H5.81901H5.85H10.15H10.181H10.181C10.7847 14.5005 11.283 14.5005 11.6889 14.4674C12.1104 14.4329 12.498 14.359 12.862 14.1735C13.4265 13.8859 13.8854 13.427 14.173 12.8625C14.3585 12.4985 14.4324 12.111 14.4669 11.6894C14.5 11.2835 14.5 10.7853 14.5 10.1816V10.1815V10.1505V9.75053C14.5 9.33631 14.1642 9.00053 13.75 9.00053C13.3358 9.00053 13 9.33631 13 9.75053V10.1505C13 10.793 12.9994 11.2297 12.9718 11.5672C12.945 11.8961 12.8963 12.0642 12.8365 12.1815C12.6927 12.4638 12.4632 12.6932 12.181 12.837C12.0637 12.8968 11.8955 12.9455 11.5667 12.9724C11.2292 12.9999 10.7924 13.0005 10.15 13.0005H5.85C5.20757 13.0005 4.77085 12.9999 4.43328 12.9724C4.10447 12.9455 3.93632 12.8968 3.81902 12.837C3.53677 12.6932 3.3073 12.4638 3.16349 12.1815C3.10372 12.0642 3.05503 11.8961 3.02816 11.5672C3.00058 11.2297 3 10.793 3 10.1505V5.85053C3 5.20809 3.00058 4.77137 3.02816 4.43381C3.05503 4.10499 3.10372 3.93684 3.16349 3.81954C3.3073 3.5373 3.53677 3.30783 3.81902 3.16402C3.93632 3.10425 4.10447 3.05556 4.43328 3.02869C4.77085 3.00111 5.20757 3.00053 5.85 3.00053H6.25C6.66422 3.00053 7 2.66474 7 2.25053C7 1.83631 6.66422 1.50053 6.25 1.50053H5.85Z"></path></svg>'),_1=t=>{let e=gr(),n=()=>t.fill||e.colors.accent;return(()=>{let r=xq.cloneNode(!0),i=r.firstChild;return _n(()=>St(i,"fill",n())),r})()},Sq=xn('<svg xmlns="http://www.w3.org/2000/svg" width="17" height="16" viewBox="0 0 17 16" fill="none"><g clip-path="url(#clip0_3676_1274)"><path fill-rule="evenodd" clip-rule="evenodd" d="M1.82698 2.63901C1.5 3.28074 1.5 4.12082 1.5 5.80098V8.80098V9.00098V10.201C1.5 11.8811 1.5 12.7212 1.82698 13.3629C2.1146 13.9274 2.57354 14.3864 3.13803 14.674C3.77976 15.001 4.61984 15.001 6.3 15.001H11.7C13.3802 15.001 14.2202 15.001 14.862 14.674C15.4265 14.3864 15.8854 13.9274 16.173 13.3629C16.5 12.7212 16.5 11.8811 16.5 10.201V8.80098C16.5 7.12082 16.5 6.28074 16.173 5.63901C15.8854 5.07452 15.4265 4.61558 14.862 4.32796C14.743 4.26733 14.6172 4.21795 14.4805 4.17772C14.4501 3.49449 14.3722 3.02994 14.173 2.63901C13.8854 2.07452 13.4265 1.61558 12.862 1.32796C12.2202 1.00098 11.3802 1.00098 9.7 1.00098H6.3C4.61984 1.00098 3.77976 1.00098 3.13803 1.32796C2.57354 1.61558 2.1146 2.07452 1.82698 2.63901ZM12.9861 4.00942C12.9684 3.7108 12.9281 3.49982 12.8365 3.31999C12.6927 3.03775 12.4632 2.80828 12.181 2.66447C11.8601 2.50098 11.4401 2.50098 10.6 2.50098H5.4C4.55992 2.50098 4.13988 2.50098 3.81901 2.66447C3.53677 2.80828 3.3073 3.03775 3.16349 3.31999C3.03615 3.56991 3.00799 3.88 3.00177 4.40188C3.04646 4.37612 3.09189 4.35146 3.13803 4.32796C3.77976 4.00098 4.61984 4.00098 6.3 4.00098H11.7C12.1966 4.00098 12.6197 4.00098 12.9861 4.00942ZM3 7.90098V8.10098C3 8.47468 3 8.76527 3.01439 9.00098H3V11.101C3 11.9411 3 12.3611 3.16349 12.682C3.3073 12.9642 3.53677 13.1937 3.81901 13.3375C4.13988 13.501 4.55992 13.501 5.4 13.501H12.6C13.4401 13.501 13.8601 13.501 14.181 13.3375C14.4632 13.1937 14.6927 12.9642 14.8365 12.682C15 12.3611 15 11.9411 15 11.101V7.90098C15 7.0609 15 6.64086 14.8365 6.31999C14.6927 6.03775 14.4632 5.80828 14.181 5.66447C13.8601 5.50098 13.4401 5.50098 12.6 5.50098H5.4C4.55992 5.50098 4.13988 5.50098 3.81901 5.66447C3.53677 5.80828 3.3073 6.03775 3.16349 6.31999C3 6.64086 3 7.0609 3 7.90098ZM10.5 9.75098C10.5 9.33676 10.8358 9.00098 11.25 9.00098H12.75C13.1642 9.00098 13.5 9.33676 13.5 9.75098C13.5 10.1652 13.1642 10.501 12.75 10.501H11.25C10.8358 10.501 10.5 10.1652 10.5 9.75098Z"></path></g><defs><clipPath id="clip0_3676_1274"><rect width="16" height="16" fill="white" transform="translate(0.5 0.000976562)"></rect></clipPath></defs></svg>'),Eq=t=>{let e=gr(),n=()=>t.fill||e.colors.accent;return(()=>{let r=Sq.cloneNode(!0),i=r.firstChild,o=i.firstChild;return _n(()=>St(o,"fill",n())),r})()},Tq=xn('<svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 48 48" fill="none"><path fill-rule="evenodd" clip-rule="evenodd" d="M39.6319 16.8719C38.3212 16.2041 36.7002 16.0478 34 16.0112V11C34 5.47715 29.5228 1 24 1C18.4772 1 14 5.47715 14 11V16.0112C11.2998 16.0478 9.6788 16.2041 8.36808 16.8719C6.86278 17.6389 5.63893 18.8628 4.87195 20.3681C4 22.0794 4 24.3196 4 28.8V32.2C4 36.6804 4 38.9206 4.87195 40.6319C5.63893 42.1372 6.86278 43.3611 8.36808 44.1281C10.0794 45 12.3196 45 16.8 45H31.2C35.6804 45 37.9206 45 39.6319 44.1281C41.1372 43.3611 42.3611 42.1372 43.1281 40.6319C44 38.9206 44 36.6804 44 32.2V28.8C44 24.3196 44 22.0794 43.1281 20.3681C42.3611 18.8628 41.1372 17.6389 39.6319 16.8719ZM31 11V16H17V11C17 7.13401 20.134 4 24 4C27.866 4 31 7.13401 31 11ZM7.54497 21.73C7 22.7996 7 24.1997 7 27V34C7 36.8003 7 38.2004 7.54497 39.27C8.02433 40.2108 8.78924 40.9757 9.73005 41.455C10.7996 42 12.1997 42 15 42H33C35.8003 42 37.2004 42 38.27 41.455C39.2108 40.9757 39.9757 40.2108 40.455 39.27C41 38.2004 41 36.8003 41 34V27C41 24.1997 41 22.7996 40.455 21.73C39.9757 20.7892 39.2108 20.0243 38.27 19.545C37.2004 19 35.8003 19 33 19H15C12.1997 19 10.7996 19 9.73005 19.545C8.78924 20.0243 8.02433 20.7892 7.54497 21.73ZM24 24C23.1716 24 22.5 24.6716 22.5 25.5V29.5C22.5 30.3284 23.1716 31 24 31C24.8284 31 25.5 30.3284 25.5 29.5V25.5C25.5 24.6716 24.8284 24 24 24Z"></path></svg>'),Iq=t=>{let e=gr(),n=()=>t.fill||e.colors.icon.secondary;return(()=>{let r=Tq.cloneNode(!0),i=r.firstChild;return _n(o=>{let s=t.class,a=n();return s!==o._v$&&St(r,"class",o._v$=s),a!==o._v$2&&St(i,"fill",o._v$2=a),o},{_v$:void 0,_v$2:void 0}),r})()},Dq=xn('<svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 48 48" fill="none"><path fill-rule="evenodd" clip-rule="evenodd" d="M37.485 37.3849C40.894 33.9506 43 29.2212 43 24C43 13.5066 34.4934 5 24 5C13.5066 5 5 13.5066 5 24C5 29.2213 7.1061 33.9507 10.5151 37.385C13.3583 32.9438 18.3354 30 24.0001 30C29.6647 30 34.6418 32.9437 37.485 37.3849ZM35.1809 39.3635C32.9143 35.5532 28.7554 33 24.0001 33C19.2448 33 15.0858 35.5533 12.8193 39.3636C15.9564 41.6506 19.8206 43 24 43C28.1795 43 32.0437 41.6505 35.1809 39.3635ZM24 46C36.1503 46 46 36.1503 46 24C46 11.8497 36.1503 2 24 2C11.8497 2 2 11.8497 2 24C2 36.1503 11.8497 46 24 46ZM24 24C26.7614 24 29 21.7614 29 19C29 16.2386 26.7614 14 24 14C21.2386 14 19 16.2386 19 19C19 21.7614 21.2386 24 24 24ZM24 27C28.4183 27 32 23.4183 32 19C32 14.5817 28.4183 11 24 11C19.5817 11 16 14.5817 16 19C16 23.4183 19.5817 27 24 27Z"></path></svg>'),Aq=t=>{let e=gr(),n=()=>t.fill||e.colors.icon.secondary;return(()=>{let r=Dq.cloneNode(!0),i=r.firstChild;return _n(o=>{let s=t.class,a=n();return s!==o._v$&&St(r,"class",o._v$=s),a!==o._v$2&&St(i,"fill",o._v$2=a),o},{_v$:void 0,_v$2:void 0}),r})()},Mq=xn('<svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 48 48" fill="none"><path fill-rule="evenodd" clip-rule="evenodd" d="M34.5607 4.43934C33.9749 3.85355 33.0251 3.85355 32.4393 4.43934C31.8536 5.02513 31.8536 5.97487 32.4393 6.56066L37.8787 12H10.5C9.67157 12 9 12.6716 9 13.5C9 14.3284 9.67157 15 10.5 15H37.8787L32.4393 20.4393C31.8536 21.0251 31.8536 21.9749 32.4393 22.5607C33.0251 23.1464 33.9749 23.1464 34.5607 22.5607L42.5607 14.5607C43.1464 13.9749 43.1464 13.0251 42.5607 12.4393L34.5607 4.43934ZM13.4393 25.4393C14.0251 24.8536 14.9749 24.8536 15.5607 25.4393C16.1464 26.0251 16.1464 26.9749 15.5607 27.5607L10.1213 33H37.5C38.3284 33 39 33.6716 39 34.5C39 35.3284 38.3284 36 37.5 36H10.1213L15.5607 41.4393C16.1464 42.0251 16.1464 42.9749 15.5607 43.5607C14.9749 44.1464 14.0251 44.1464 13.4393 43.5607L5.43934 35.5607C4.85355 34.9749 4.85355 34.0251 5.43934 33.4393L13.4393 25.4393Z"></path></svg>'),kq=t=>{let e=gr(),n=()=>t.fill||e.colors.icon.secondary;return(()=>{let r=Mq.cloneNode(!0),i=r.firstChild;return _n(o=>{let s=t.class,a=n();return s!==o._v$&&St(r,"class",o._v$=s),a!==o._v$2&&St(i,"fill",o._v$2=a),o},{_v$:void 0,_v$2:void 0}),r})()},Pq=xn('<svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 28 28" fill="none"><path fill-rule="evenodd" clip-rule="evenodd" d="M1.75 12.002C1.75 9.20169 1.75 7.80156 2.29497 6.732C2.77433 5.79119 3.53924 5.02629 4.48005 4.54692C5.54961 4.00195 6.94974 4.00195 9.75 4.00195H17.25C20.0503 4.00195 21.4504 4.00195 22.52 4.54692C23.4608 5.02629 24.2257 5.79119 24.705 6.732C24.8256 6.96861 24.9195 7.2214 24.9926 7.50195H21.5C19.6377 7.50195 18.7065 7.50195 17.9609 7.77334C16.711 8.22828 15.7263 9.21291 15.2714 10.4629C15 11.2085 15 12.1396 15 14.002C15 15.8643 15 16.7954 15.2714 17.541C15.7263 18.791 16.711 19.7756 17.9609 20.2306C18.7065 20.502 19.6377 20.502 21.5 20.502H24.9926C24.9195 20.7825 24.8256 21.0353 24.705 21.2719C24.2257 22.2127 23.4608 22.9776 22.52 23.457C21.4504 24.002 20.0503 24.002 17.25 24.002H9.75C6.94974 24.002 5.54961 24.002 4.48005 23.457C3.53924 22.9776 2.77433 22.2127 2.29497 21.2719C1.75 20.2023 1.75 18.8022 1.75 16.002V12.002ZM16.4999 13.802C16.4999 12.1218 16.4999 11.2817 16.8269 10.64C17.1145 10.0755 17.5735 9.61656 18.138 9.32894C18.7797 9.00196 19.6198 9.00196 21.2999 9.00196H23.1999C24.8801 9.00196 25.7202 9.00196 26.3619 9.32894C26.9264 9.61656 27.3853 10.0755 27.673 10.64C27.9999 11.2817 27.9999 12.1218 27.9999 13.802V14.202C27.9999 15.8821 27.9999 16.7222 27.673 17.3639C27.3853 17.9284 26.9264 18.3874 26.3619 18.675C25.7202 19.002 24.8801 19.002 23.1999 19.002H21.2999C19.6198 19.002 18.7797 19.002 18.138 18.675C17.5735 18.3874 17.1145 17.9284 16.8269 17.3639C16.4999 16.7222 16.4999 15.8821 16.4999 14.202V13.802ZM22.4999 14.002C22.4999 14.9685 21.7164 15.752 20.7499 15.752C19.7834 15.752 18.9999 14.9685 18.9999 14.002C18.9999 13.0355 19.7834 12.252 20.7499 12.252C21.7164 12.252 22.4999 13.0355 22.4999 14.002Z"></path></svg>'),Nq=t=>{let e=gr(),n=()=>t.fill||e.colors.constant.white;return(()=>{let r=Pq.cloneNode(!0),i=r.firstChild;return _n(o=>{let s=t.class,a=n();return s!==o._v$&&St(r,"class",o._v$=s),a!==o._v$2&&St(i,"fill",o._v$2=a),o},{_v$:void 0,_v$2:void 0}),r})()},Rq=xn('<svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 28 28"><path fill-rule="evenodd" clip-rule="evenodd" d="M10.0001 10.0001C10.0016 8.02333 10.0267 6.98719 10.436 6.18404C10.8195 5.43139 11.4314 4.81947 12.184 4.43597C13.0397 4 14.1598 4 16.4 4H17.6C19.8402 4 20.9603 4 21.816 4.43597C22.5686 4.81947 23.1805 5.43139 23.564 6.18404C24 7.03969 24 8.15979 24 10.4V11.6C24 13.8402 24 14.9603 23.564 15.816C23.1805 16.5686 22.5686 17.1805 21.816 17.564C21.0128 17.9733 19.9767 17.9984 17.9999 17.9999C17.9984 19.9767 17.9733 21.0128 17.564 21.816C17.1805 22.5686 16.5686 23.1805 15.816 23.564C14.9603 24 13.8402 24 11.6 24H10.4C8.15979 24 7.03969 24 6.18404 23.564C5.43139 23.1805 4.81947 22.5686 4.43597 21.816C4 20.9603 4 19.8402 4 17.6V16.4C4 14.1598 4 13.0397 4.43597 12.184C4.81947 11.4314 5.43139 10.8195 6.18404 10.436C6.98719 10.0267 8.02333 10.0016 10.0001 10.0001ZM10 11.5H9.5C8.09987 11.5 7.3998 11.5 6.86502 11.7725C6.39462 12.0122 6.01217 12.3946 5.77248 12.865C5.5 13.3998 5.5 14.0999 5.5 15.5V18.5C5.5 19.9001 5.5 20.6002 5.77248 21.135C6.01217 21.6054 6.39462 21.9878 6.86502 22.2275C7.3998 22.5 8.09987 22.5 9.5 22.5H12.5C13.9001 22.5 14.6002 22.5 15.135 22.2275C15.6054 21.9878 15.9878 21.6054 16.2275 21.135C16.5 20.6002 16.5 19.9001 16.5 18.5V18H16.4C14.1598 18 13.0397 18 12.184 17.564C11.4314 17.1805 10.8195 16.5686 10.436 15.816C10 14.9603 10 13.8402 10 11.6V11.5ZM11.5 9.5C11.5 8.09987 11.5 7.3998 11.7725 6.86502C12.0122 6.39462 12.3946 6.01217 12.865 5.77248C13.3998 5.5 14.0999 5.5 15.5 5.5H18.5C19.9001 5.5 20.6002 5.5 21.135 5.77248C21.6054 6.01217 21.9878 6.39462 22.2275 6.86502C22.5 7.3998 22.5 8.09987 22.5 9.5V12.5C22.5 13.9001 22.5 14.6002 22.2275 15.135C21.9878 15.6054 21.6054 15.9878 21.135 16.2275C20.6002 16.5 19.9001 16.5 18.5 16.5H15.5C14.0999 16.5 13.3998 16.5 12.865 16.2275C12.3946 15.9878 12.0122 15.6054 11.7725 15.135C11.5 14.6002 11.5 13.9001 11.5 12.5V9.5Z"></path></svg>'),Fq=t=>{let e=gr(),n=()=>t.fill||e.colors.icon.secondary;return(()=>{let r=Rq.cloneNode(!0),i=r.firstChild;return _n(o=>{let s=n(),a=n();return s!==o._v$&&St(r,"fill",o._v$=s),a!==o._v$2&&St(i,"fill",o._v$2=a),o},{_v$:void 0,_v$2:void 0}),r})()},Oq=xn('<svg xmlns="http://www.w3.org/2000/svg" width="16" height="17" viewBox="0 0 16 17" fill="none"><path fill-rule="evenodd" clip-rule="evenodd" d="M1 4.12695C1 3.07754 1 2.55284 1.19202 2.14684C1.38986 1.72856 1.7266 1.39181 2.14489 1.19397C2.55088 1.00195 3.07559 1.00195 4.125 1.00195C5.17441 1.00195 5.69912 1.00195 6.10511 1.19397C6.5234 1.39181 6.86014 1.72856 7.05798 2.14684C7.25 2.55284 7.25 3.07754 7.25 4.12695C7.25 5.17636 7.25 5.70107 7.05798 6.10706C6.86014 6.52535 6.5234 6.8621 6.10511 7.05993C5.69912 7.25195 5.17441 7.25195 4.125 7.25195C3.07559 7.25195 2.55088 7.25195 2.14489 7.05993C1.7266 6.8621 1.38986 6.52535 1.19202 6.10706C1 5.70107 1 5.17636 1 4.12695ZM2.5 3.30195C2.5 3.02193 2.5 2.88191 2.5545 2.77496C2.60243 2.68088 2.67892 2.60439 2.773 2.55645C2.87996 2.50195 3.01997 2.50195 3.3 2.50195H4.95C5.23003 2.50195 5.37004 2.50195 5.477 2.55645C5.57108 2.60439 5.64757 2.68088 5.6955 2.77496C5.75 2.88191 5.75 3.02193 5.75 3.30195V4.95195C5.75 5.23198 5.75 5.37199 5.6955 5.47895C5.64757 5.57303 5.57108 5.64952 5.477 5.69746C5.37004 5.75195 5.23003 5.75195 4.95 5.75195H3.3C3.01997 5.75195 2.87996 5.75195 2.773 5.69746C2.67892 5.64952 2.60243 5.57303 2.5545 5.47895C2.5 5.37199 2.5 5.23198 2.5 4.95195V3.30195ZM1 11.877C1 10.8275 1 10.3028 1.19202 9.89684C1.38986 9.47856 1.7266 9.14181 2.14489 8.94397C2.55088 8.75195 3.07559 8.75195 4.125 8.75195C5.17441 8.75195 5.69912 8.75195 6.10511 8.94397C6.5234 9.14181 6.86014 9.47856 7.05798 9.89684C7.25 10.3028 7.25 10.8275 7.25 11.877C7.25 12.9264 7.25 13.4511 7.05798 13.8571C6.86014 14.2753 6.5234 14.6121 6.10511 14.8099C5.69912 15.002 5.17441 15.002 4.125 15.002C3.07559 15.002 2.55088 15.002 2.14489 14.8099C1.7266 14.6121 1.38986 14.2753 1.19202 13.8571C1 13.4511 1 12.9264 1 11.877ZM2.5 11.052C2.5 10.7719 2.5 10.6319 2.5545 10.525C2.60243 10.4309 2.67892 10.3544 2.773 10.3064C2.87996 10.252 3.01997 10.252 3.3 10.252H4.95C5.23003 10.252 5.37004 10.252 5.477 10.3064C5.57108 10.3544 5.64757 10.4309 5.6955 10.525C5.75 10.6319 5.75 10.7719 5.75 11.052V12.702C5.75 12.982 5.75 13.122 5.6955 13.2289C5.64757 13.323 5.57108 13.3995 5.477 13.4475C5.37004 13.502 5.23003 13.502 4.95 13.502H3.3C3.01997 13.502 2.87996 13.502 2.773 13.4475C2.67892 13.3995 2.60243 13.323 2.5545 13.2289C2.5 13.122 2.5 12.982 2.5 12.702V11.052ZM8.94202 2.14684C8.75 2.55284 8.75 3.07754 8.75 4.12695C8.75 5.17636 8.75 5.70107 8.94202 6.10706C9.13986 6.52535 9.4766 6.8621 9.89489 7.05993C10.3009 7.25195 10.8256 7.25195 11.875 7.25195C12.9244 7.25195 13.4491 7.25195 13.8551 7.05993C14.2734 6.8621 14.6101 6.52535 14.808 6.10706C15 5.70107 15 5.17636 15 4.12695C15 3.07754 15 2.55284 14.808 2.14684C14.6101 1.72856 14.2734 1.39181 13.8551 1.19397C13.4491 1.00195 12.9244 1.00195 11.875 1.00195C10.8256 1.00195 10.3009 1.00195 9.89489 1.19397C9.4766 1.39181 9.13986 1.72856 8.94202 2.14684ZM10.3045 2.77496C10.25 2.88191 10.25 3.02193 10.25 3.30195V4.95195C10.25 5.23198 10.25 5.37199 10.3045 5.47895C10.3524 5.57303 10.4289 5.64952 10.523 5.69746C10.63 5.75195 10.77 5.75195 11.05 5.75195H12.7C12.98 5.75195 13.12 5.75195 13.227 5.69746C13.3211 5.64952 13.3976 5.57303 13.4455 5.47895C13.5 5.37199 13.5 5.23198 13.5 4.95195V3.30195C13.5 3.02193 13.5 2.88191 13.4455 2.77496C13.3976 2.68088 13.3211 2.60439 13.227 2.55645C13.12 2.50195 12.98 2.50195 12.7 2.50195H11.05C10.77 2.50195 10.63 2.50195 10.523 2.55645C10.4289 2.60439 10.3524 2.68088 10.3045 2.77496ZM8.80727 9.13518C8.75 9.26242 8.75 9.4256 8.75 9.75195C8.75 10.0783 8.75 10.2415 8.80727 10.3687C8.87245 10.5136 8.9884 10.6295 9.13323 10.6947C9.26047 10.752 9.42365 10.752 9.75 10.752C10.0764 10.752 10.2395 10.752 10.3668 10.6947C10.5116 10.6295 10.6276 10.5136 10.6927 10.3687C10.75 10.2415 10.75 10.0783 10.75 9.75195C10.75 9.4256 10.75 9.26242 10.6927 9.13518C10.6276 8.99035 10.5116 8.8744 10.3668 8.80922C10.2395 8.75195 10.0764 8.75195 9.75 8.75195C9.42365 8.75195 9.26047 8.75195 9.13323 8.80922C8.9884 8.8744 8.87245 8.99035 8.80727 9.13518ZM10.87 11.8771C10.87 11.546 10.87 11.3805 10.9289 11.2517C10.9938 11.1098 11.1077 10.9959 11.2497 10.931C11.3784 10.8721 11.5439 10.8721 11.875 10.8721C12.2061 10.8721 12.3716 10.8721 12.5003 10.931C12.6423 10.9959 12.7562 11.1098 12.8211 11.2517C12.88 11.3805 12.88 11.546 12.88 11.8771C12.88 12.2081 12.88 12.3737 12.8211 12.5024C12.7562 12.6444 12.6423 12.7583 12.5003 12.8232C12.3716 12.8821 12.2061 12.8821 11.875 12.8821C11.5439 12.8821 11.3784 12.8821 11.2497 12.8232C11.1077 12.7583 10.9938 12.6444 10.9289 12.5024C10.87 12.3737 10.87 12.2081 10.87 11.8771ZM8.80727 13.3852C8.75 13.5124 8.75 13.6756 8.75 14.002C8.75 14.3283 8.75 14.4915 8.80727 14.6187C8.87245 14.7636 8.9884 14.8795 9.13323 14.9447C9.26047 15.002 9.42365 15.002 9.75 15.002C10.0764 15.002 10.2395 15.002 10.3668 14.9447C10.5116 14.8795 10.6276 14.7636 10.6927 14.6187C10.75 14.4915 10.75 14.3283 10.75 14.002C10.75 13.6756 10.75 13.5124 10.6927 13.3852C10.6276 13.2404 10.5116 13.1244 10.3668 13.0592C10.2395 13.002 10.0764 13.002 9.75 13.002C9.42365 13.002 9.26047 13.002 9.13323 13.0592C8.9884 13.1244 8.87245 13.2404 8.80727 13.3852ZM13 9.75195C13 9.4256 13 9.26242 13.0573 9.13518C13.1224 8.99035 13.2384 8.8744 13.3832 8.80922C13.5105 8.75195 13.6736 8.75195 14 8.75195C14.3264 8.75195 14.4895 8.75195 14.6168 8.80922C14.7616 8.8744 14.8776 8.99035 14.9427 9.13518C15 9.26242 15 9.4256 15 9.75195C15 10.0783 15 10.2415 14.9427 10.3687C14.8776 10.5136 14.7616 10.6295 14.6168 10.6947C14.4895 10.752 14.3264 10.752 14 10.752C13.6736 10.752 13.5105 10.752 13.3832 10.6947C13.2384 10.6295 13.1224 10.5136 13.0573 10.3687C13 10.2415 13 10.0783 13 9.75195ZM13.0573 13.3852C13 13.5124 13 13.6756 13 14.002C13 14.3283 13 14.4915 13.0573 14.6187C13.1224 14.7636 13.2384 14.8795 13.3832 14.9447C13.5105 15.002 13.6736 15.002 14 15.002C14.3264 15.002 14.4895 15.002 14.6168 14.9447C14.7616 14.8795 14.8776 14.7636 14.9427 14.6187C15 14.4915 15 14.3283 15 14.002C15 13.6756 15 13.5124 14.9427 13.3852C14.8776 13.2404 14.7616 13.1244 14.6168 13.0592C14.4895 13.002 14.3264 13.002 14 13.002C13.6736 13.002 13.5105 13.002 13.3832 13.0592C13.2384 13.1244 13.1224 13.2404 13.0573 13.3852Z"></path></svg>'),J2=t=>{let e=gr(),n=()=>t.fill||e.colors.icon.secondary;return(()=>{let r=Oq.cloneNode(!0),i=r.firstChild;return _n(()=>St(i,"fill",n())),r})()},Lq={m:"16px",s:"12px",none:"0"},Vq={m:"6px",s:"6px",none:"0"},$q=Se.div`
    width: 60px;
    height: 60px;
    padding: 8px;
    margin-bottom: 8px;
    border-radius: ${t=>Lq[t.theme.borderRadius]};
    background-color: ${t=>t.theme.colors.background.tint};
    display: grid;
    grid-template: 1fr 1fr / 1fr 1fr;
    gap: 4px;
`,Bq=Se(a5)`
    width: 20px;
    height: 20px;
    border-radius: ${t=>Vq[t.theme.borderRadius]};
`,l5=t=>L(F1,{get name(){return t.labelLine1},get secondLine(){return t.labelLine2},get icon(){return L($q,{get children(){return L(Lf,{each:[0,1,2,3],children:e=>L(Bq,{get src(){return t.images[e]}})})}})},onClick:()=>t.onClick()}),Hs="telegram-wallet",ah={TON:"https://raw.githubusercontent.com/ton-connect/sdk/main/assets/ton-icon-48.png",TG:"https://raw.githubusercontent.com/ton-connect/sdk/main/assets/tg.png"},c5=t=>{let[e]=Ys(),n=()=>{if(t.wallet.appName!==Hs){if("isPreferred"in t.wallet&&t.wallet.isPreferred)return e("walletItem.recent",{},"Recent");if(Sl(t.wallet))return e("walletItem.installed",{},"Installed");if(t.wallet.name==="Tonkeeper")return e("walletItem.popular",{},"Popular")}};return Ze((()=>{let r=Ze(()=>t.wallet.appName===Hs);return()=>r()?L(F1,{get icon(){return t.wallet.imageUrl},get name(){return e("walletItem.walletOn",{},"Wallet in")},secondLine:"Telegram",get badgeUrl(){return ah.TG},onClick:()=>t.onClick(),get class(){return t.class}}):L(F1,{get icon(){return t.wallet.imageUrl},get name(){return t.wallet.name},get secondLine(){return n()},secondLineColorPrimary:!1,onClick:()=>t.onClick(),get class(){return t.class}})})())},jq=Se.div`
    width: 100%;
    overflow-y: auto;
    max-height: ${t=>t.maxHeight};

    scrollbar-width: none;
    &&::-webkit-scrollbar {
        display: none;
    }

    &&::-webkit-scrollbar-track {
        background: transparent;
    }

    &&::-webkit-scrollbar-thumb {
        display: none;
    }
`,Uq=Se.div`
    height: 1px;
    margin: 0 -24px;
    width: calc(100% + 48px);
    opacity: 0.08;
    background: ${t=>t.isShown?t.theme.colors.icon.secondary:"transparent"};
    transition: background 0.15s ease-in-out;

    ${To("mobile")} {
        width: 100%;
        margin: 0;
    }
`,[Gq,Hq]=Nt(((OM=Ks())==null?void 0:OM.innerHeight)||0);Ks()&&window.addEventListener("resize",()=>Hq(window.innerHeight));var[Uf,Wq]=Nt(Pf("mobile")),O1=()=>Wq(Pf("mobile"));Ks()&&(window.addEventListener("resize",()=>O1()),window.addEventListener("load",()=>O1(),{once:!0}));var u5=t=>{let[e,n]=Nt(!1),r=s=>{n(s.target.scrollTop>0)},i=()=>Uf()?150:200,o=()=>t.maxHeight!==void 0?`${t.maxHeight}px`:`${Gq()-i()}px`;return[L(Uq,{get isShown(){return e()}}),L(jq,{get maxHeight(){return o()},onScroll:r,get class(){return t.class},get children(){return t.children}})]},zq=Se.a`
    display: block;
    text-decoration: unset;
`,Of=t=>L(zq,Us({get href(){return t.href},get target(){return t.blank?"_blank":"_self"},get class(){return t.class}},()=>t.blank?{rel:"noreferrer noopener"}:{},{get children(){return t.children}})),Nl=V1(),qq=xn('<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M7.76228 2.09998H10.2378C11.0458 2.09997 11.7067 2.09996 12.2438 2.14384C12.7997 2.18926 13.3017 2.28614 13.7706 2.52505C14.5045 2.89896 15.1011 3.49558 15.475 4.22941C15.7139 4.6983 15.8108 5.20038 15.8562 5.75629C15.9001 6.29337 15.9001 6.95422 15.9001 7.76227V8.1H16.2377C17.0457 8.09999 17.7066 8.09998 18.2437 8.14386C18.7996 8.18928 19.3017 8.28616 19.7705 8.52507C20.5044 8.89898 21.101 9.4956 21.4749 10.2294C21.7138 10.6983 21.8107 11.2004 21.8561 11.7563C21.9 12.2934 21.9 12.9542 21.9 13.7623V16.2377C21.9 17.0458 21.9 17.7066 21.8561 18.2437C21.8107 18.7996 21.7138 19.3017 21.4749 19.7706C21.101 20.5044 20.5044 21.101 19.7705 21.4749C19.3017 21.7138 18.7996 21.8107 18.2437 21.8561C17.7066 21.9 17.0458 21.9 16.2378 21.9H13.7623C12.9543 21.9 12.2934 21.9 11.7563 21.8561C11.2004 21.8107 10.6983 21.7138 10.2294 21.4749C9.49561 21.101 8.89898 20.5044 8.52508 19.7706C8.28616 19.3017 8.18928 18.7996 8.14386 18.2437C8.09998 17.7066 8.09999 17.0458 8.1 16.2377V15.9H7.76227C6.95426 15.9 6.29335 15.9 5.75629 15.8561C5.20038 15.8107 4.6983 15.7138 4.22941 15.4749C3.49558 15.101 2.89896 14.5044 2.52505 13.7705C2.28614 13.3017 2.18926 12.7996 2.14384 12.2437C2.09996 11.7066 2.09997 11.0458 2.09998 10.2377V7.76228C2.09997 6.95424 2.09996 6.29336 2.14384 5.75629C2.18926 5.20038 2.28614 4.6983 2.52505 4.22941C2.89896 3.49558 3.49558 2.89896 4.22941 2.52505C4.6983 2.28614 5.20038 2.18926 5.75629 2.14384C6.29336 2.09996 6.95425 2.09997 7.76228 2.09998ZM8.1 14.1V13.7623C8.09999 12.9542 8.09998 12.2934 8.14386 11.7563C8.18928 11.2004 8.28616 10.6983 8.52508 10.2294C8.89898 9.4956 9.49561 8.89898 10.2294 8.52507C10.6983 8.28616 11.2004 8.18928 11.7563 8.14386C12.2934 8.09998 12.9542 8.09999 13.7623 8.1H14.1001V7.79998C14.1001 6.94505 14.0994 6.35798 14.0622 5.90287C14.0259 5.45827 13.9593 5.21944 13.8712 5.0466C13.6699 4.65146 13.3486 4.3302 12.9535 4.12886C12.7806 4.04079 12.5418 3.97419 12.0972 3.93786C11.6421 3.90068 11.055 3.89998 10.2001 3.89998H7.79998C6.94505 3.89998 6.35798 3.90068 5.90287 3.93786C5.45827 3.97419 5.21944 4.04079 5.0466 4.12886C4.65146 4.3302 4.3302 4.65146 4.12886 5.0466C4.04079 5.21944 3.97419 5.45827 3.93786 5.90287C3.90068 6.35798 3.89998 6.94505 3.89998 7.79998V10.2C3.89998 11.0549 3.90068 11.642 3.93786 12.0971C3.97419 12.5417 4.04079 12.7805 4.12886 12.9534C4.3302 13.3485 4.65146 13.6698 5.0466 13.8711C5.21944 13.9592 5.45827 14.0258 5.90287 14.0621C6.35798 14.0993 6.94505 14.1 7.79998 14.1H8.1ZM11.0466 10.1289C11.2195 10.0408 11.4583 9.97421 11.9029 9.93788C12.358 9.9007 12.9451 9.9 13.8 9.9H16.2C17.0549 9.9 17.642 9.9007 18.0971 9.93788C18.5417 9.97421 18.7805 10.0408 18.9534 10.1289C19.3485 10.3302 19.6698 10.6515 19.8711 11.0466C19.9592 11.2195 20.0258 11.4583 20.0621 11.9029C20.0993 12.358 20.1 12.9451 20.1 13.8V16.2C20.1 17.0549 20.0993 17.642 20.0621 18.0971C20.0258 18.5417 19.9592 18.7805 19.8711 18.9534C19.6698 19.3485 19.3485 19.6698 18.9534 19.8711C18.7805 19.9592 18.5417 20.0258 18.0971 20.0621C17.642 20.0993 17.0549 20.1 16.2 20.1H13.8C12.9451 20.1 12.358 20.0993 11.9029 20.0621C11.4583 20.0258 11.2195 19.9592 11.0466 19.8711C10.6515 19.6698 10.3302 19.3485 10.1289 18.9534C10.0408 18.7805 9.97421 18.5417 9.93788 18.0971C9.9007 17.642 9.9 17.0549 9.9 16.2V13.8C9.9 12.9451 9.9007 12.358 9.93788 11.9029C9.97421 11.4583 10.0408 11.2195 10.1289 11.0466C10.3302 10.6515 10.6515 10.3302 11.0466 10.1289Z"></path></svg>'),Kq=t=>{let e=gr(),n=()=>t.fill||e.colors.icon.primary;return(()=>{let r=qq.cloneNode(!0),i=r.firstChild;return _n(o=>{let s=t.class,a=n();return s!==o._v$&&St(r,"class",o._v$=s),a!==o._v$2&&St(i,"fill",o._v$2=a),o},{_v$:void 0,_v$2:void 0}),r})()},Yq=xn('<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M8.7624 3.10001C7.95435 3.1 7.29349 3.09999 6.75642 3.14387C6.2005 3.18929 5.69842 3.28617 5.22954 3.52508C4.4957 3.89899 3.89908 4.49561 3.52517 5.22944C3.28626 5.69833 3.18938 6.20041 3.14396 6.75632C3.10008 7.2934 3.10009 7.95424 3.1001 8.76229V15.2377C3.10009 16.0458 3.10008 16.7066 3.14396 17.2437C3.18938 17.7996 3.28626 18.3017 3.52517 18.7706C3.89908 19.5044 4.4957 20.101 5.22954 20.4749C5.69842 20.7138 6.2005 20.8107 6.75642 20.8561C7.29349 20.9 7.95434 20.9 8.76239 20.9H12.0001C12.4972 20.9 12.9001 20.4971 12.9001 20C12.9001 19.503 12.4972 19.1 12.0001 19.1H8.8001C7.94517 19.1 7.3581 19.0993 6.90299 19.0621C6.45839 19.0258 6.21956 18.9592 6.04672 18.8711C5.65158 18.6698 5.33032 18.3485 5.12898 17.9534C5.04092 17.7805 4.97431 17.5417 4.93798 17.0971C4.9008 16.642 4.9001 16.0549 4.9001 15.2V8.80001C4.9001 7.94508 4.9008 7.35801 4.93798 6.9029C4.97431 6.4583 5.04092 6.21947 5.12898 6.04663C5.33032 5.65149 5.65158 5.33023 6.04672 5.12889C6.21956 5.04082 6.45839 4.97422 6.90299 4.93789C7.3581 4.90071 7.94517 4.90001 8.8001 4.90001H12.0001C12.4972 4.90001 12.9001 4.49706 12.9001 4.00001C12.9001 3.50295 12.4972 3.10001 12.0001 3.10001H8.7624Z"></path><path d="M17.6364 7.3636C17.2849 7.01212 16.7151 7.01212 16.3636 7.3636C16.0121 7.71507 16.0121 8.28492 16.3636 8.63639L18.8272 11.1H9.00001C8.50295 11.1 8.10001 11.5029 8.10001 12C8.10001 12.497 8.50295 12.9 9.00001 12.9H18.8272L16.3636 15.3636C16.0121 15.7151 16.0121 16.2849 16.3636 16.6364C16.7151 16.9879 17.2849 16.9879 17.6364 16.6364L21.6364 12.6364C21.9879 12.2849 21.9879 11.7151 21.6364 11.3636L17.6364 7.3636Z"></path></svg>'),Jq=t=>{let e=gr(),n=()=>t.fill||e.colors.icon.primary;return(()=>{let r=Yq.cloneNode(!0),i=r.firstChild,o=i.nextSibling;return _n(s=>{let a=n(),l=n();return a!==s._v$&&St(i,"fill",s._v$=a),l!==s._v$2&&St(o,"fill",s._v$2=l),s},{_v$:void 0,_v$2:void 0}),r})()},Qq={m:"8px",s:"4px",none:"0"},Zq={m:"16px",s:"8px",none:"0"},Xq=Se.div`
    width: 256px;
    box-shadow: 0 4px 24px rgba(0, 0, 0, 0.16);
    border-radius: ${t=>Zq[t.theme.borderRadius]};

    background-color: ${t=>t.theme.colors.background.primary}
           
    color: ${t=>t.theme.colors.text.primary}
`,eK=Se.ul`
    background-color: ${t=>t.theme.colors.background.primary};
    padding: 8px;
`,ek=Se.button`
    display: flex;
    align-items: center;
    gap: 8px;
    height: 40px;
    padding-left: 8px;
    width: 100%;

    background-color: ${t=>t.theme.colors.background.primary};
    border: none;
    border-radius: ${t=>Qq[t.theme.borderRadius]};
    cursor: pointer;

    transition: background-color, transform 0.1s ease-in-out;

    &:hover {
        background-color: ${t=>t.theme.colors.background.secondary};
    }

    &:active {
        transform: scale(0.96);
    }
`,tk=xn("<li></li>"),A2=t=>L(Wo,{get translationKey(){return t.translationKey},fontSize:"15px",fontWeight:"590",get children(){return t.children}}),tK=t=>{let e=zi(Nl),[n,r]=Nt(!1),i=()=>Kn(void 0,null,function*(){let s=jp(e.account.address,e.account.chain===Np.TESTNET);yield G1(s),r(!0),setTimeout(()=>r(!1),1e3)}),o=()=>{e.disconnect(),t.onClose()};return L(Xq,{ref(s){let a=t.ref;typeof a=="function"?a(s):t.ref=s},get class(){return t.class},"data-tc-dropdown":"true",get children(){return L(eK,{get children(){return[(()=>{let s=tk.cloneNode(!0);return vi(s,L(ek,{onClick:()=>i(),get children(){return[L(Kq,{}),L(Ot,{get when(){return!n()},get children(){return L(A2,{translationKey:"button.dropdown.copy",children:"Copy address"})}}),L(Ot,{get when(){return n()},get children(){return L(A2,{translationKey:"button.dropdown.copied",children:"Address copied!"})}})]}})),s})(),(()=>{let s=tk.cloneNode(!0);return vi(s,L(ek,{onClick:()=>o(),get children(){return[L(Jq,{}),L(A2,{translationKey:"button.dropdown.disconnect",children:"Disconnect"})]}})),s})()]}})}})},nK={m:"16px",s:"8px",none:"0"},rK=Se.div`
    width: 256px;
    padding: 12px 16px;
    display: flex;
    gap: 9px;

    background-color: ${t=>t.theme.colors.background.primary};
    box-shadow: 0 4px 24px rgba(0, 0, 0, 0.16);
    border-radius: ${t=>nK[t.theme.borderRadius]};
`,iK=Se.div`
    width: 192px;

    > h3 {
        font-size: 15px;
    }
`,oK=Se(Wo)`
    margin-top: 4px;
    color: ${t=>t.theme.colors.text.secondary};
`,mx=t=>{let e=oh(t);return L(rK,Us({get class(){return t.class},"data-tc-notification":"true"},e,{get children(){return[L(iK,{get children(){return[L(px,{get translationKey(){return t.header.translationKey},get translationValues(){return t.header.translationValues},get children(){return t.children}}),L(Ot,{get when(){return t.text},get children(){return L(oK,{get translationKey(){return t.text.translationKey},get translationValues(){return t.text.translationValues}})}})]}}),Ze(()=>t.icon)]}}))},sK=Se(Ba)`
    align-self: center;
`,aK=t=>{let e=zi(Nl),[n]=Ys(),r=()=>e.wallet&&"name"in e.wallet?e.wallet.name:n("common.yourWallet",{},"Your wallet");return L(mx,{get header(){return{translationKey:"notifications.confirm.header",translationValues:{name:r()}}},get class(){return t.class},get icon(){return L(sK,{})},"data-tc-notification-confirm":"true",children:"Confirm operation in your wallet"})},lK=Se(sh)`
    margin-top: 2px;
`,cK=t=>L(mx,{header:{translationKey:"notifications.transactionCanceled.header"},text:{translationKey:"notifications.transactionCanceled.text"},get icon(){return L(lK,{size:"xs"})},get class(){return t.class},"data-tc-notification-tx-cancelled":"true",children:"Transaction cancelled"}),uK=Se(hx)`
    margin-top: 2px;
`,fK=t=>L(mx,{header:{translationKey:"notifications.transactionSent.header"},text:{translationKey:"notifications.transactionSent.text"},get icon(){return L(uK,{})},get class(){return t.class},"data-tc-notification-tx-sent":"true",children:"Transaction sent"}),M2=La`
    transform: translateY(-8px);
    margin-bottom: 12px;
`,dK={timeout:4500},[nk,pK]=Nt(null);function hK(t){let{timeout:e}=Qn(Qn({},dK),t),[n,r]=Nt([]),[i,o]=Nt([]);return Qr(EH(Fa,s=>{var a;if(!s||!s.showNotification||nk()===s||((a=nk())==null?void 0:a.name)==="confirm-transaction"&&s.name==="confirm-transaction")return;pK(s),r(u=>u.filter(f=>f.action!=="confirm-transaction"));let l={action:s.name};r(u=>[...u,l]);let c=setTimeout(()=>{r(u=>u.filter(f=>f!==l)),o(u=>u.filter(f=>f!==c))},e);o(u=>[...u,c])})),Wi(()=>{i().forEach(s=>clearTimeout(s))}),n}var mK=xn('<div data-tc-list-notifications="true"></div>'),gK=t=>{let e=hK();return(()=>{let n=mK.cloneNode(!0);return vi(n,L(rz,{onBeforeEnter:r=>{Go(r,[{opacity:0,transform:"translateY(0)"},{opacity:1,transform:"translateY(-8px)"}],{duration:200})},onExit:(r,i)=>{Go(r,[{opacity:1,transform:"translateY(-8px)"},{opacity:0,transform:"translateY(-30px)"}],{duration:200}).finished.then(i)},get children(){return L(Lf,{get each(){return e()},children:r=>L(Ml,{get children(){return[L(wr,{get when(){return r.action==="transaction-sent"},get children(){return L(fK,{class:M2})}}),L(wr,{get when(){return r.action==="transaction-canceled"},get children(){return L(cK,{class:M2})}}),L(wr,{get when(){return r.action==="confirm-transaction"},get children(){return L(aK,{class:M2})}})]}})})}})),_n(()=>ix(n,t.class)),n})()},f5=Se(dr)`
    background-color: ${t=>t.theme.colors.connectButton.background};
    color: ${t=>t.theme.colors.connectButton.foreground};
    box-shadow: ${t=>`0 4px 24px ${Hc(t.theme.colors.constant.black,.16)}`};
    padding: 8px 16px 8px 12px;

    display: flex;
    align-items: center;
    gap: 4px;
    height: 40px;
`,vK=Se(f5)`
    padding: 12px 16px;
    min-width: 148px;
    justify-content: center;
    background-color: ${t=>t.theme.colors.background.primary};
`,yK=Se(dr)`
    min-width: 148px;
    height: 40px;

    background-color: ${t=>t.theme.colors.background.primary};
    color: ${t=>t.theme.colors.connectButton.foreground};
    box-shadow: ${t=>`0 4px 24px ${Hc(t.theme.colors.constant.black,.16)}`};

    display: flex;
    align-items: center;
    justify-content: center;
`,bK=Se(Ba)`
    height: 18px;
    width: 18px;
`,wK=Se.div`
    width: fit-content;
    display: flex;
    flex-direction: column;
    align-items: flex-end;
`,CK=Se(tK)`
    box-sizing: border-box;
    overflow: hidden;
    margin-top: 12px;
`,_K=Se(gK)`
    > div:first-child {
        margin-top: 20px;
    }
`;function d5(t){return t.split("-")[0]}function xK(t){return t.split("-")[1]}function SK(t){return["top","bottom"].includes(d5(t))?"x":"y"}function EK(t){return t==="y"?"height":"width"}function rk(t,e,n){let{reference:r,floating:i}=t,o=r.x+r.width/2-i.width/2,s=r.y+r.height/2-i.height/2,a=SK(e),l=EK(a),c=r[l]/2-i[l]/2,u=d5(e),f=a==="x",d;switch(u){case"top":d={x:o,y:r.y-i.height};break;case"bottom":d={x:o,y:r.y+r.height};break;case"right":d={x:r.x+r.width,y:s};break;case"left":d={x:r.x-i.width,y:s};break;default:d={x:r.x,y:r.y}}switch(xK(e)){case"start":d[a]-=c*(n&&f?-1:1);break;case"end":d[a]+=c*(n&&f?-1:1);break}return d}var TK=(t,e,n)=>Kn(void 0,null,function*(){let{placement:r="bottom",strategy:i="absolute",middleware:o=[],platform:s}=n,a=o.filter(Boolean),l=yield s.isRTL==null?void 0:s.isRTL(e);if({}.NODE_ENV!=="production"){if(s==null&&console.error(["Floating UI: `platform` property was not passed to config. If you","want to use Floating UI on the web, install @floating-ui/dom","instead of the /core package. Otherwise, you can create your own","`platform`: https://floating-ui.com/docs/platform"].join(" ")),a.filter(v=>{let{name:P}=v;return P==="autoPlacement"||P==="flip"}).length>1)throw new Error(["Floating UI: duplicate `flip` and/or `autoPlacement` middleware","detected. This will lead to an infinite loop. Ensure only one of","either has been passed to the `middleware` array."].join(" "));(!t||!e)&&console.error(["Floating UI: The reference and/or floating element was not defined","when `computePosition()` was called. Ensure that both elements have","been created and can be measured."].join(" "))}let c=yield s.getElementRects({reference:t,floating:e,strategy:i}),{x:u,y:f}=rk(c,r,l),d=r,h={},m=0;for(let v=0;v<a.length;v++){let{name:P,fn:b}=a[v],{x,y:_,data:T,reset:k}=yield b({x:u,y:f,initialPlacement:r,placement:d,strategy:i,middlewareData:h,rects:c,platform:s,elements:{reference:t,floating:e}});if(u=x??u,f=_??f,h=co(Qn({},h),{[P]:Qn(Qn({},h[P]),T)}),{}.NODE_ENV!=="production"&&m>50&&console.warn(["Floating UI: The middleware lifecycle appears to be running in an","infinite loop. This is usually caused by a `reset` continually","being returned without a break condition."].join(" ")),k&&m<=50){m++,typeof k=="object"&&(k.placement&&(d=k.placement),k.rects&&(c=k.rects===!0?yield s.getElementRects({reference:t,floating:e,strategy:i}):k.rects),{x:u,y:f}=rk(c,d,l)),v=-1;continue}}return{x:u,y:f,placement:d,strategy:i,middlewareData:h}});function ik(t){return co(Qn({},t),{top:t.y,left:t.x,right:t.x+t.width,bottom:t.y+t.height})}function ja(t){var e;return((e=t.ownerDocument)==null?void 0:e.defaultView)||window}function zs(t){return ja(t).getComputedStyle(t)}function kl(t){return h5(t)?(t.nodeName||"").toLowerCase():""}var g1;function p5(){if(g1)return g1;let t=navigator.userAgentData;return t&&Array.isArray(t.brands)?(g1=t.brands.map(e=>e.brand+"/"+e.version).join(" "),g1):navigator.userAgent}function qs(t){return t instanceof ja(t).HTMLElement}function Ho(t){return t instanceof ja(t).Element}function h5(t){return t instanceof ja(t).Node}function ok(t){if(typeof ShadowRoot>"u")return!1;let e=ja(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function W1(t){let{overflow:e,overflowX:n,overflowY:r,display:i}=zs(t);return/auto|scroll|overlay|hidden/.test(e+r+n)&&!["inline","contents"].includes(i)}function IK(t){return["table","td","th"].includes(kl(t))}function gx(t){let e=/firefox/i.test(p5()),n=zs(t),r=n.backdropFilter||n.WebkitBackdropFilter;return n.transform!=="none"||n.perspective!=="none"||(r?r!=="none":!1)||e&&n.willChange==="filter"||e&&(n.filter?n.filter!=="none":!1)||["transform","perspective"].some(i=>n.willChange.includes(i))||["paint","layout","strict","content"].some(i=>{let o=n.contain;return o!=null?o.includes(i):!1})}function m5(){return!/^((?!chrome|android).)*safari/i.test(p5())}function vx(t){return["html","body","#document"].includes(kl(t))}var sk=Math.min,Qp=Math.max,ak=Math.round,Q2={x:1,y:1};function th(t){let e=!Ho(t)&&t.contextElement?t.contextElement:Ho(t)?t:null;if(!e)return Q2;let n=e.getBoundingClientRect(),r=zs(e);if(r.boxSizing!=="border-box")return qs(e)?{x:e.offsetWidth>0&&ak(n.width)/e.offsetWidth||1,y:e.offsetHeight>0&&ak(n.height)/e.offsetHeight||1}:Q2;let i=n.width/parseFloat(r.width),o=n.height/parseFloat(r.height);return(!i||!Number.isFinite(i))&&(i=1),(!o||!Number.isFinite(o))&&(o=1),{x:i,y:o}}function Pl(t,e,n,r){var i,o,s,a;e===void 0&&(e=!1),n===void 0&&(n=!1);let l=t.getBoundingClientRect(),c=Q2;e&&(r?Ho(r)&&(c=th(r)):c=th(t));let u=Ho(t)?ja(t):window,f=!m5()&&n,d=(l.left+(f&&(i=(o=u.visualViewport)==null?void 0:o.offsetLeft)!=null?i:0))/c.x,h=(l.top+(f&&(s=(a=u.visualViewport)==null?void 0:a.offsetTop)!=null?s:0))/c.y,m=l.width/c.x,v=l.height/c.y;return{width:m,height:v,top:h,right:d+m,bottom:h+v,left:d,x:d,y:h}}function Rl(t){return((h5(t)?t.ownerDocument:t.document)||window.document).documentElement}function z1(t){return Ho(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function g5(t){return Pl(Rl(t)).left+z1(t).scrollLeft}function DK(t,e,n){let r=qs(e),i=Rl(e),o=Pl(t,!0,n==="fixed",e),s={scrollLeft:0,scrollTop:0},a={x:0,y:0};if(r||!r&&n!=="fixed")if((kl(e)!=="body"||W1(i))&&(s=z1(e)),qs(e)){let l=Pl(e,!0);a.x=l.x+e.clientLeft,a.y=l.y+e.clientTop}else i&&(a.x=g5(i));return{x:o.left+s.scrollLeft-a.x,y:o.top+s.scrollTop-a.y,width:o.width,height:o.height}}function nh(t){if(kl(t)==="html")return t;let e=t.assignedSlot||t.parentNode||(ok(t)?t.host:null)||Rl(t);return ok(e)?e.host:e}function lk(t){return!qs(t)||zs(t).position==="fixed"?null:t.offsetParent}function AK(t){let e=nh(t);for(;qs(e)&&!vx(e);){if(gx(e))return e;e=nh(e)}return null}function ck(t){let e=ja(t),n=lk(t);for(;n&&IK(n)&&zs(n).position==="static";)n=lk(n);return n&&(kl(n)==="html"||kl(n)==="body"&&zs(n).position==="static"&&!gx(n))?e:n||AK(t)||e}function MK(t){if(qs(t))return{width:t.offsetWidth,height:t.offsetHeight};let e=Pl(t);return{width:e.width,height:e.height}}function kK(t){let{rect:e,offsetParent:n,strategy:r}=t,i=qs(n),o=Rl(n);if(n===o)return e;let s={scrollLeft:0,scrollTop:0},a={x:1,y:1},l={x:0,y:0};if((i||!i&&r!=="fixed")&&((kl(n)!=="body"||W1(o))&&(s=z1(n)),qs(n))){let c=Pl(n);a=th(n),l.x=c.x+n.clientLeft,l.y=c.y+n.clientTop}return{width:e.width*a.x,height:e.height*a.y,x:e.x*a.x-s.scrollLeft*a.x+l.x,y:e.y*a.y-s.scrollTop*a.y+l.y}}function PK(t,e){let n=ja(t),r=Rl(t),i=n.visualViewport,o=r.clientWidth,s=r.clientHeight,a=0,l=0;if(i){o=i.width,s=i.height;let c=m5();(c||!c&&e==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:o,height:s,x:a,y:l}}function NK(t){var e;let n=Rl(t),r=z1(t),i=(e=t.ownerDocument)==null?void 0:e.body,o=Qp(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),s=Qp(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),a=-r.scrollLeft+g5(t),l=-r.scrollTop;return zs(i||n).direction==="rtl"&&(a+=Qp(n.clientWidth,i?i.clientWidth:0)-o),{width:o,height:s,x:a,y:l}}function v5(t){let e=nh(t);return vx(e)?t.ownerDocument.body:qs(e)&&W1(e)?e:v5(e)}function Zp(t,e){var n;e===void 0&&(e=[]);let r=v5(t),i=r===((n=t.ownerDocument)==null?void 0:n.body),o=ja(r);return i?e.concat(o,o.visualViewport||[],W1(r)?r:[]):e.concat(r,Zp(r))}function RK(t,e){let n=Pl(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,o=qs(t)?th(t):{x:1,y:1},s=t.clientWidth*o.x,a=t.clientHeight*o.y,l=i*o.x,c=r*o.y;return{top:c,left:l,right:l+s,bottom:c+a,x:l,y:c,width:s,height:a}}function uk(t,e,n){return e==="viewport"?ik(PK(t,n)):Ho(e)?RK(e,n):ik(NK(Rl(t)))}function FK(t,e){let n=e.get(t);if(n)return n;let r=Zp(t).filter(a=>Ho(a)&&kl(a)!=="body"),i=null,o=zs(t).position==="fixed",s=o?nh(t):t;for(;Ho(s)&&!vx(s);){let a=zs(s),l=gx(s);(o?!l&&!i:!l&&a.position==="static"&&!!i&&["absolute","fixed"].includes(i.position))?r=r.filter(u=>u!==s):i=a,s=nh(s)}return e.set(t,r),r}function OK(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t,s=[...n==="clippingAncestors"?FK(e,this._c):[].concat(n),r],a=s[0],l=s.reduce((c,u)=>{let f=uk(e,u,i);return c.top=Qp(f.top,c.top),c.right=sk(f.right,c.right),c.bottom=sk(f.bottom,c.bottom),c.left=Qp(f.left,c.left),c},uk(e,a,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}var LK={getClippingRect:OK,convertOffsetParentRelativeRectToViewportRelativeRect:kK,isElement:Ho,getDimensions:MK,getOffsetParent:ck,getDocumentElement:Rl,getScale:th,getElementRects(t){return Kn(this,null,function*(){let{reference:e,floating:n,strategy:r}=t,i=this.getOffsetParent||ck,o=this.getDimensions;return{reference:DK(e,yield i(n),r),floating:Qn({x:0,y:0},yield o(n))}})},getClientRects:t=>Array.from(t.getClientRects()),isRTL:t=>zs(t).direction==="rtl"};function VK(t,e,n,r){r===void 0&&(r={});let{ancestorScroll:i=!0,ancestorResize:o=!0,elementResize:s=!0,animationFrame:a=!1}=r,l=i&&!a,c=l||o?[...Ho(t)?Zp(t):t.contextElement?Zp(t.contextElement):[],...Zp(e)]:[];c.forEach(m=>{l&&m.addEventListener("scroll",n,{passive:!0}),o&&m.addEventListener("resize",n)});let u=null;if(s){let m=!0;u=new ResizeObserver(()=>{m||n(),m=!1}),Ho(t)&&!a&&u.observe(t),!Ho(t)&&t.contextElement&&!a&&u.observe(t.contextElement),u.observe(e)}let f,d=a?Pl(t):null;a&&h();function h(){let m=Pl(t);d&&(m.x!==d.x||m.y!==d.y||m.width!==d.width||m.height!==d.height)&&n(),d=m,f=requestAnimationFrame(h)}return n(),()=>{var m;c.forEach(v=>{l&&v.removeEventListener("scroll",n),o&&v.removeEventListener("resize",n)}),(m=u)==null||m.disconnect(),u=null,a&&cancelAnimationFrame(f)}}var $K=(t,e,n)=>{let r=new Map,i=Qn({platform:LK},n),o=co(Qn({},i.platform),{_c:r});return TK(t,e,co(Qn({},i),{platform:o}))};function BK(t,e,n){let r=()=>{var f;return(f=n?.placement)!=null?f:"bottom"},i=()=>{var f;return(f=n?.strategy)!=null?f:"absolute"},[o,s]=Nt({x:null,y:null,placement:r(),strategy:i(),middlewareData:{}}),[a,l]=Nt();Qr(()=>{let f=a();if(f)throw f.value});let c=Ze(()=>(t(),e(),{}));function u(){let f=t(),d=e();if(f&&d){let h=c();$K(f,d,{middleware:n?.middleware,placement:r(),strategy:i()}).then(m=>{h===c()&&s(m)},m=>{l(m)})}}return Qr(()=>{let f=t(),d=e();if(n?.middleware,r(),i(),f&&d)if(n!=null&&n.whileElementsMounted){let h=n.whileElementsMounted(f,d,u);h&&Wi(h)}else u()}),{get x(){return o().x},get y(){return o().y},get placement(){return o().placement},get strategy(){return o().strategy},get middlewareData(){return o().middlewareData},update:u}}var jK=xn('<tc-root data-tc-dropdown-container="true"></tc-root>'),UK=()=>{let t=gr(),e=zi(Hf),n=zi(Nl),[r,i]=Nt(!1),[o,s]=Nt(e.account),[a,l]=Nt(!e.account),c,[u,f]=Nt(),[d,h]=Nt(),m=BK(d,u,{whileElementsMounted:VK,placement:"bottom-end"}),v=()=>{let x=o();if(x){let _=jp(x.address,x.chain===Np.TESTNET);return _.slice(0,4)+"\u2026"+_.slice(-4)}return""};n.connectionRestored.then(()=>l(!1));let P=e.onStatusChange(x=>{if(!x){i(!1),s(null),l(!1);return}s(x.account),l(!1)}),b=x=>{if(!o()||!r())return;let _=d().contains(x.target),T=c.contains(x.target);!_&&!T&&i(!1)};return Dk(()=>{document.body.addEventListener("click",b)}),Wi(()=>{document.body.removeEventListener("click",b),P()}),L($f,{component:Ra,get children(){return[L(Ot,{get when(){return a()},get children(){return L(yK,{disabled:!0,"data-tc-connect-button-loading":"true",get children(){return L(bK,{})}})}}),L(Ot,{get when(){return!a()},get children(){return[L(Ot,{get when(){return!o()},get children(){return L(f5,{onClick:()=>n.openModal(),"data-tc-connect-button":"true",scale:"s",get children(){return[L(nq,{get fill(){return t.colors.connectButton.foreground}}),L(Wo,{translationKey:"button.connectWallet",fontSize:"15px",lineHeight:"18px",fontWeight:"590",get color(){return t.colors.connectButton.foreground},children:"Connect wallet"})]}})}}),L(Ot,{get when(){return o()},get children(){return L(wK,{get children(){return[L(vK,{onClick:()=>i(x=>!x),ref:h,"data-tc-dropdown-button":"true",scale:"s",get children(){return[L(Wo,{fontSize:"15px",fontWeight:"590",lineHeight:"18px",get children(){return v()}}),L(t5,{direction:"bottom"})]}}),L($k,{get children(){let x=yi(()=>document.importNode(jK,!0));return Nf(f,x),x.style.setProperty("z-index","999"),x._$owner=TH(),vi(x,L(U1,{onBeforeEnter:_=>{Go(_,[{opacity:0,transform:"translateY(-8px)"},{opacity:1,transform:"translateY(0)"}],{duration:150})},onExit:(_,T)=>{Go(_,[{opacity:1,transform:"translateY(0)"},{opacity:0,transform:"translateY(-8px)"}],{duration:150}).finished.then(T)},get children(){return L(Ot,{get when(){return r()},get children(){return L(CK,{get hidden(){return!r()},onClose:()=>i(!1),ref(_){let T=c;typeof T=="function"?T(_):c=_}})}})}}),null),vi(x,L(_K,{}),null),_n(_=>{var T,k;let $=m.strategy,V=`${(T=m.y)!=null?T:0}px`,B=`${(k=m.x)!=null?k:0}px`;return $!==_._v$&&x.style.setProperty("position",_._v$=$),V!==_._v$2&&x.style.setProperty("top",_._v$2=V),B!==_._v$3&&x.style.setProperty("left",_._v$3=B),_},{_v$:void 0,_v$2:void 0,_v$3:void 0}),x}})]}})}})]}})]}})},y5=Se(r5)`
    padding-left: 24px;
    padding-right: 24px;
    padding-top: 18px;
    padding-bottom: 0;

    ${To("mobile")} {
        padding-left: 0;
        padding-right: 0;
    }
`,b5=Se(Js)`
    margin-top: 12px;

    ${To("mobile")} {
        padding: 0 10px;
    }
`,w5=Se.div`
    margin: 30px 0;
    width: 100%;
    display: flex;
    justify-content: center;

    ${To("mobile")} {
        height: 160px;
        align-items: center;
    }
`;Se(Wo)`
    min-width: 84px;
    text-align: center;
    font-weight: 590;
`;Se(Iz)`
    margin: 0 auto 22px;
`;var[Hn,v1]=ux({buttonRootId:null,language:"en",returnStrategy:"back",twaReturnUrl:void 0,walletsListConfiguration:{},enableAndroidBackHandler:!0});function GK(t){return[...new Set(t)]}function HK(t,e,n){return e.map(r=>{let i=n.find(o=>o[t]===r[t]);return n=n.filter(o=>o[t]!==r[t]),i===void 0?r:i}).concat(n)}function WK(t){return"jsBridgeKey"in t?co(Qn({},t),{injected:Bs.isWalletInjected(t.jsBridgeKey),embedded:Bs.isInsideWalletBrowser(t.jsBridgeKey)}):t}function yx(t,e){var n;return e&&(n=e.includeWallets)!=null&&n.length&&(t=HK("name",t,e.includeWallets.map(WK))),t}function fk(t){return t.platforms.some(e=>["macos","linux","windows"].includes(e))}function Xp(t){return t.platforms.some(e=>["ios","android"].includes(e))}function dk(t){return t.platforms.some(e=>["chrome","firefox","safari"].includes(e))}function Tl(t,e){return e?t.name.toLowerCase()===e.toLowerCase()||t.appName.toLowerCase()===e.toLowerCase():!1}var zK=Se.div`
    display: flex;
    flex-direction: column;
    align-items: center;
`,qK=Se(Js)`
    margin-bottom: 18px;
`;Se.div`
    height: 1px;
    margin: 0 -24px;
    width: calc(100% + 48px);
    opacity: 0.12;
    background: ${t=>t.isShown?t.theme.colors.icon.secondary:"transparent"};
    transition: background 0.15s ease-in-out;

    ${To("mobile")} {
        width: 100%;
    }
`;var pk=Se.ul`
    display: grid;
    grid-template-columns: repeat(auto-fit, 92px);
    grid-template-rows: auto;
    align-content: flex-start;
    row-gap: 8px;
    width: 100%;
    padding: 0 0 16px;
    align-self: flex-start;
    max-width: 400px;
    margin: 0 auto;
    list-style: none;

    > li {
        display: block;
        height: fit-content;
    }

    ${To("mobile")} {
        display: grid;
        grid-template-columns: repeat(4, 1fr);
        gap: 0;
        padding: 8px 12px 16px;
        max-width: none;

        > li {
            min-width: 78px;
            display: flex;
        }

        > li > * {
            width: 100%;
        }
    }
`;Se(dr)`
    display: block;
    margin: 0 auto 1px;
    font-size: 15px;
`;var KK=Se(zc)`
    position: absolute;
    top: 16px;
    left: 16px;
`,hk=Se(c5)`
    opacity: ${t=>t.withOpacity?"0.4":"1"};
`,YK=Se.div`
    display: grid;
    grid-template-columns: auto 28px;
    gap: 16px;
    padding: 16px;
    margin-bottom: 16px;
    border-radius: 16px;
    color: ${t=>t.theme.colors.text.secondary};
    background: ${t=>t.theme.colors.background.tint};

    ${To("mobile")} {
        margin-left: 16px;
        margin-right: 16px;
    }
`,JK=Se($a)`
    color: ${t=>t.theme.colors.text.secondary};
    text-align: left;
    margin: 0;
`,QK=Se.div`
    position: absolute;
    bottom: 14px;
    left: 50%;
    transform: translate(-50%, 0);

    text-wrap: nowrap;
    display: flex;
    gap: 6px;
    align-items: center;
    border-radius: 18px;
    min-width: 126px;
    padding: 9px 16px 9px 10px;

    filter: drop-shadow(0px 2px 8px rgba(0, 0, 0, 0.08));
    background-color: ${t=>t.theme.colors.background.segment};
`,ZK=xn('<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg"><g clip-path="url(#clip0_5122_10355)"><circle cx="8" cy="8" r="8"></circle><circle cx="8" cy="11" r="1"></circle><path d="M7.04994 4.99875C7.02277 4.45542 7.45598 4 8 4C8.54402 4 8.97723 4.45541 8.95006 4.99875L8.78745 8.25094C8.76647 8.67055 8.42014 9 8 9C7.57986 9 7.23353 8.67055 7.21255 8.25094L7.04994 4.99875Z"></path></g><defs><clipPath id="clip0_5122_10355"><rect width="16" height="16"></rect></clipPath></defs></svg>'),XK=xn('<svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 28 28" fill="none"><circle cx="14" cy="14" r="12"></circle><circle cx="14" cy="18.9" r="1.4"></circle><path d="M12.6658 8.89845C12.63 8.13698 13.2377 7.5 14 7.5C14.7623 7.5 15.37 8.13698 15.3342 8.89845L15.047 15.0013C15.0207 15.5604 14.5597 16.0002 14 16.0002C13.4403 16.0002 12.9793 15.5604 12.953 15.0013L12.6658 8.89845Z"></path></svg>'),eY=t=>{let e=gr(),n=()=>t.size,r=()=>t.fill||e.colors.icon.error;return Ze((()=>{let i=Ze(()=>n()==="16");return()=>i()?(()=>{let o=ZK.cloneNode(!0),s=o.firstChild,a=s.firstChild,l=a.nextSibling,c=l.nextSibling,u=s.nextSibling,f=u.firstChild,d=f.firstChild;return _n(h=>{let m=r(),v=e.colors.constant.white,P=e.colors.constant.white,b=e.colors.constant.white;return m!==h._v$&&St(a,"fill",h._v$=m),v!==h._v$2&&St(l,"fill",h._v$2=v),P!==h._v$3&&St(c,"fill",h._v$3=P),b!==h._v$4&&St(d,"fill",h._v$4=b),h},{_v$:void 0,_v$2:void 0,_v$3:void 0,_v$4:void 0}),o})():(()=>{let o=Ze(()=>n()==="28");return()=>o()?(()=>{let s=XK.cloneNode(!0),a=s.firstChild,l=a.nextSibling,c=l.nextSibling;return _n(u=>{let f=t.class,d=r(),h=e.colors.constant.white,m=e.colors.constant.white;return f!==u._v$5&&St(s,"class",u._v$5=f),d!==u._v$6&&St(a,"fill",u._v$6=d),h!==u._v$7&&St(l,"fill",u._v$7=h),m!==u._v$8&&St(c,"fill",u._v$8=m),u},{_v$5:void 0,_v$6:void 0,_v$7:void 0,_v$8:void 0}),s})():null})()})())},mk=xn("<li></li>"),tY=t=>{let e=()=>Uf()?void 0:510,[n,r]=Nt(null),i=null,o=u=>{r(u),i!=null&&clearTimeout(i),i=setTimeout(()=>r(null),1500)},s=u=>{if(!u.isSupportRequiredFeatures){o(u);return}t.onSelect(u)},a=()=>Uf()?t.walletsList.filter(Xp):t.walletsList,l=()=>a().filter(u=>u.isSupportRequiredFeatures),c=()=>a().filter(u=>!u.isSupportRequiredFeatures);return L(zK,{"data-tc-wallets-modal-list":"true",get children(){return[L(KK,{icon:"arrow",onClick:()=>t.onBack()}),L(qK,{translationKey:"walletModal.wallets",children:"Wallets"}),L(u5,{get maxHeight(){return e()},get children(){return[L(pk,{get children(){return L(Lf,{get each(){return l()},children:u=>(()=>{let f=mk.cloneNode(!0);return vi(f,L(hk,{wallet:u,onClick:()=>t.onSelect(u)})),f})()})}}),L(Ot,{get when(){return c().length>0},get children(){return[L(YK,{get children(){return[L(JK,{translationKey:"walletModal.allWallets.walletsBelowNotSupported",children:"The wallets below don\u2019t support all features of the connected service. You can use your recovery phrase in one of the supported wallets above."}),L(eY,{size:"28"})]}}),L(pk,{get children(){return L(Lf,{get each(){return c()},children:u=>(()=>{let f=mk.cloneNode(!0);return vi(f,L(hk,{wallet:u,onClick:()=>s(u),withOpacity:!0})),f})()})}}),L(U1,{onBeforeEnter:u=>{Go(u,[{opacity:0,transform:"translate(-50%, 44px)"},{opacity:1,transform:"translate(-50%, 0)"}],{duration:150,easing:"ease-out"})},onExit:(u,f)=>{Go(u,[{opacity:1,transform:"translate(-50%, 0)"},{opacity:0,transform:"translate(-50%, 44px)"}],{duration:150,easing:"ease-out"}).finished.then(()=>{f()})},get children(){return L(Ot,{get when(){return n()},get children(){return L(QK,{get children(){return[L(sh,{size:"xs"}),L(Wo,{translationKey:"walletModal.allWallets.walletNotSupportService",get translationValues(){return{name:n().name}},get children(){return[Ze(()=>n().name)," doesn\u2019t support connected service"]}})]}})}})}})]}})]}})]}})},nY={m:"16px",s:"12px",none:"0"},rY={m:"6px",s:"6px",none:"0"},iY=Se.div`
    display: flex;
    flex-direction: column;
`,oY=Se.div`
    flex: 1;
    margin-top: ${t=>t.qr?"0":"18px"};
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    min-height: 232px;
`,sY=Se(H1)`
    margin-bottom: 24px;
`,aY=Se(Js)`
    max-width: 288px;
    margin: 0 auto 2px;
`,lY=Se($a)`
    max-width: 288px;
    text-align: center;
    margin: 0 auto 20px;
`,cY=Se(zc)`
    position: absolute;
    top: 16px;
    left: 16px;
`,qp=Se.div`
    display: flex;
    justify-content: center;
    gap: 8px;
    padding-bottom: 16px;
`,uY=Se(qp)`
    padding-bottom: 0;
`,k2=Se(dr)`
    margin-bottom: 24px;
`,fY=Se(Ba)`
    margin-bottom: 18px;
    margin-top: 2px;
`,dY=Se(sh)`
    margin-bottom: 16px;
`,Af=Se($a)`
    color: ${t=>t.theme.colors.text.secondary};
    text-align: center;
    margin-bottom: 20px;
`,pY=Se(dr)`
    margin-top: -8px;
    margin-bottom: 24px;
    width: 100%;
    padding: 12px 12px 12px 20px;
    border-radius: ${t=>nY[t.theme.borderRadius]};
    font-size: 16px;
    line-height: 20px;
`,hY=Se(Wc)`
    width: 32px;
    height: 32px;
    border-radius: ${t=>rY[t.theme.borderRadius]};
`,mr=t=>{let[e]=Ys();return Ze(()=>{var n;return e(t.translationKey,t.translationValues,(n=t.children)==null?void 0:n.toString())})};function lr(t,e){let n;typeof e=="string"?n=e:n=Ws()?e.twaReturnUrl||e.returnStrategy:"none";let r=mY(t,"ret",n);if(!Pa(t))return r;let i=r.slice(r.lastIndexOf("&")+1);return r.slice(0,r.lastIndexOf("&"))+"-"+c2(i)}function lh(t,e){e=Qn({},e);let n=gY(t),r=new URL(n);if(r.searchParams.has("startapp")||r.searchParams.append("startapp","tonconnect"),Qk()){e.returnStrategy="back";let i=lr(r.toString(),e.returnStrategy);hr(i)}else if(Ws())if(Bc("ios","android","macos","tdesktop","web")){e.returnStrategy="back";let i=lr(r.toString(),e.returnStrategy);z2(i)}else Bc("weba")?z2(lr(r.toString(),e)):hr(lr(r.toString(),e));else if(vs("ios")){e.returnStrategy==="back"&&(yn("safari")?e.returnStrategy="back":yn("chrome")?e.returnStrategy="googlechrome://":yn("firefox")?e.returnStrategy="firefox://":yn("opera")?e.returnStrategy="opera-http://":e.returnStrategy=location.href);let i=yn("chrome"),o=yn("firefox");if((i||o)&&!e.forceRedirect){let a=lr(r.toString(),e.returnStrategy),l=y1(a);Il(l,()=>hr(a))}else{let a=lr(r.toString(),e.returnStrategy);hr(a)}}else if(vs("android")){e.returnStrategy="back";let i=yn("chrome"),o=yn("firefox");if((i||o)&&!e.forceRedirect){let a=lr(r.toString(),e.returnStrategy),l=y1(a);Il(l,()=>hr(a))}else{let a=lr(r.toString(),e.returnStrategy);hr(a)}}else if(vs("ipad")){e.returnStrategy==="back"&&(yn("safari")?e.returnStrategy="back":yn("chrome")?e.returnStrategy="googlechrome://":yn("firefox")?e.returnStrategy="firefox://":yn("opera")?e.returnStrategy="opera-http://":e.returnStrategy=location.href);let i=yn("chrome"),o=yn("firefox"),s=(i||o)&&!e.forceRedirect,a=lr(r.toString(),e.returnStrategy);if(s){let l=y1(a);Il(l,()=>hr(a))}else hr(a)}else if(vs("macos","windows","linux")){e.returnStrategy="back",e.twaReturnUrl=void 0;let i=lr(r.toString(),e.returnStrategy);if(e.forceRedirect)hr(i);else{let o=y1(i);Il(o,()=>hr(i))}}else hr(lr(r.toString(),e))}function ch(t,e,n,r){if(n=Qn({},n),Qk())if(vs("ios","android"))n.returnStrategy==="back"&&(n.returnStrategy="tg://resolve"),r("universal-link"),Jp(lr(t,n.returnStrategy),"_self");else{r("universal-link");let i=lr(t,n.returnStrategy);hr(i)}else if(Ws())if(Bc("ios","android")){n.returnStrategy==="back"&&(n.returnStrategy="tg://resolve"),r("universal-link");let i=lr(t,n.returnStrategy);z2(i,()=>{r("universal-link"),hr(i)})}else if(Bc("macos","tdesktop")){n.returnStrategy==="back"&&(n.returnStrategy="tg://resolve");let i=lr(t,n.returnStrategy);!!e&&!n.forceRedirect?(r("custom-deeplink"),Il(h1(i,e),()=>{r("universal-link"),hr(i)})):(r("universal-link"),hr(i))}else if(Bc("weba")){n.returnStrategy==="back"&&(yn("safari")?n.returnStrategy=location.href:yn("chrome")?n.returnStrategy="googlechrome://":yn("firefox")?n.returnStrategy="firefox://":yn("opera")?n.returnStrategy="opera-http://":n.returnStrategy=location.href);let i=lr(t,n.returnStrategy);!!e&&!n.forceRedirect?(r("custom-deeplink"),Il(h1(i,e),()=>{r("universal-link"),hr(i)})):(r("universal-link"),hr(i))}else if(Bc("web")){n.returnStrategy==="back"&&(yn("safari")?n.returnStrategy=location.href:yn("chrome")?n.returnStrategy="googlechrome://":yn("firefox")?n.returnStrategy="firefox://":yn("opera")?n.returnStrategy="opera-http://":n.returnStrategy=location.href);let i=lr(t,n.returnStrategy);!!e&&!n.forceRedirect?(r("custom-deeplink"),Il(h1(i,e),()=>{r("universal-link"),hr(i)})):(r("universal-link"),hr(i))}else{r("universal-link");let i=lr(t,n.returnStrategy);hr(i)}else if(vs("ios"))n.returnStrategy==="back"&&(yn("safari")?n.returnStrategy="none":yn("chrome")?n.returnStrategy="googlechrome://":yn("firefox")?n.returnStrategy="firefox://":yn("opera")?n.returnStrategy="opera-http://":n.returnStrategy=location.href),yn("chrome")?(r("universal-link"),Jp(lr(t,n.returnStrategy),"_self")):(r("universal-link"),hr(lr(t,n.returnStrategy)));else if(vs("android"))n.returnStrategy==="back"&&(yn("chrome")?n.returnStrategy="googlechrome://":yn("firefox")?n.returnStrategy="firefox://":yn("opera")?n.returnStrategy="opera-http://":n.returnStrategy=location.href),r("universal-link"),hr(lr(t,n.returnStrategy));else if(vs("ipad"))n.returnStrategy==="back"&&(yn("safari")?n.returnStrategy="none":yn("chrome")?n.returnStrategy="googlechrome://":yn("firefox")?n.returnStrategy="firefox://":yn("opera")?n.returnStrategy="opera-http://":n.returnStrategy=location.href),yn("chrome")?(r("universal-link"),Jp(lr(t,n.returnStrategy),"_self")):(r("universal-link"),hr(lr(t,n.returnStrategy)));else if(vs("macos","windows","linux")){n.returnStrategy==="back"&&(yn("safari")?n.returnStrategy="none":yn("chrome")?n.returnStrategy="googlechrome://":yn("firefox")?n.returnStrategy="firefox://":yn("opera")?n.returnStrategy="opera-http://":n.returnStrategy="none");let i=lr(t,n.returnStrategy);!!e&&!n.forceRedirect?(r("custom-deeplink"),Il(h1(i,e),()=>{r("universal-link"),hr(i)})):(r("universal-link"),hr(i))}else r("universal-link"),hr(lr(t,n.returnStrategy))}function mY(t,e,n){let r=new URL(t);return r.searchParams.append(e,n),r.toString()}function gY(t){let e=new URL(t);return e.searchParams.has("attach")&&(e.searchParams.delete("attach"),e.pathname+="/start"),e.toString()}function y1(t){let e=new URL(t),[,n,r]=e.pathname.split("/"),i=e.searchParams.get("startapp");return`tg://resolve?domain=${n}&appname=${r}&startapp=${i}`}var C5=t=>{let[e,n]=Nt("mobile"),[r,i]=Nt(null);Qr(()=>{var P;i((P=t.defaultError)!=null?P:null)});let[o,s]=Nt(),[a,l]=Nt(!0),c=zi(Hf),u=c.onStatusChange(()=>{},P=>{if(P instanceof Ef){i("missing-features");return}t.wallet.appName!==Hs&&i("connection-declined")});Wi(u);let f=()=>{try{let P=c.connect({universalLink:t.wallet.universalLink,bridgeUrl:t.wallet.bridgeUrl},t.additionalRequest);s(P)}catch{}};Qr(()=>{yi(e)!=="extension"&&(Xp(t.wallet)||fk(t.wallet))&&f()});let d=()=>{i(null),e()==="extension"&&f(),n("mobile"),Ei(co(Qn({},t.wallet),{openMethod:"qrcode"}))},h=()=>{if(i(null),e()==="extension"&&f(),n("desktop"),Pa(o()))m();else{let P=!a();l(!1),ch(o(),t.wallet.deepLink,{returnStrategy:Hn.returnStrategy,forceRedirect:P},b=>{Ei(co(Qn({},t.wallet),{openMethod:b}))})}},m=()=>{let P=!a();l(!1),Ei(co(Qn({},t.wallet),{openMethod:"universal-link"})),lh(o(),{returnStrategy:Hn.returnStrategy,twaReturnUrl:Hn.twaReturnUrl,forceRedirect:P})},v=()=>{i(null),n("extension"),Sl(t.wallet)&&(Ei(t.wallet),c.connect({jsBridgeKey:t.wallet.jsBridgeKey},t.additionalRequest))};return Xp(t.wallet)?d():dk(t.wallet)?v():h(),L(iY,{"data-tc-wallets-modal-connection-desktop":"true",get children(){return[L(Ot,{get when(){return!t.backDisabled},get children(){return L(cY,{icon:"arrow",onClick:()=>t.onBackClick()})}}),L(aY,{get children(){return t.wallet.name}}),L(Ot,{get when(){return Ze(()=>e()==="mobile")()&&!r()},get children(){return L(lY,{translationKey:"walletModal.desktopConnectionModal.scanQR",get translationValues(){return{name:t.wallet.name}},get children(){return["Scan the QR code below with your phone\u2019s or ",Ze(()=>t.wallet.name),"\u2019s camera"]}})}}),L(oY,{get qr(){return e()==="mobile"},get children(){return L(Ml,{get children(){return[L(wr,{get when(){return r()},get children(){return[L(dY,{size:"s"}),L(Ml,{get children(){return[L(wr,{get when(){return r()==="missing-features"},get children(){return L(Af,{translationKey:"walletModal.desktopConnectionModal.missingFeatures",get translationValues(){return{name:t.wallet.name}},children:"Please update Wallet, your version does not support required features for this dApp"})}}),L(wr,{get when(){return r()==="connection-declined"},get children(){return L(Af,{translationKey:"walletModal.desktopConnectionModal.connectionDeclined",children:"Connection declined"})}}),L(wr,{get when(){return r()==="not-supported"},get children(){return L(Af,{translationKey:"walletModal.desktopConnectionModal.notSupportedWallet",get translationValues(){return{name:t.wallet.name}},get children(){return[Ze(()=>t.wallet.name)," doesn\u2019t support the requested action. Please connect another wallet that supports it."]}})}})]}}),L(qp,{get children(){return[L(Ot,{get when(){return r()!=="not-supported"},get children(){return L(dr,{get leftIcon(){return L(Ff,{})},get onClick(){return e()==="extension"?v:h},get children(){return L(mr,{translationKey:"common.retry",children:"Retry"})}})}}),L(Ot,{get when(){return r()==="missing-features"},get children(){return L(Of,{get href(){return t.wallet.aboutUrl},blank:!0,get children(){return L(dr,{get leftIcon(){return L(_1,{})},get children(){return L(mr,{translationKey:"walletModal.desktopConnectionModal.updateWallet",get translationValues(){return{name:t.wallet.name}},get children(){return["Update ",Ze(()=>t.wallet.name)]}})}})}})}}),L(Ot,{get when(){return r()==="not-supported"},get children(){return L(dr,{onClick:()=>t.onBackClick(),get children(){return L(mr,{translationKey:"walletModal.desktopConnectionModal.chooseAnotherWallet",children:"Choose Another Wallet"})}})}})]}})]}}),L(wr,{get when(){return e()==="mobile"},get children(){return L(sY,{disableCopy:!1,get sourceUrl(){return lr(o(),"none")},get imageUrl(){return t.wallet.imageUrl}})}}),L(wr,{get when(){return e()==="extension"},get children(){return[L(Ot,{get when(){return Sl(t.wallet)},get children(){return[L(fY,{size:"s"}),L(Af,{translationKey:"walletModal.desktopConnectionModal.continueInExtension",get translationValues(){return{name:t.wallet.name}},get children(){return["Continue in ",Ze(()=>t.wallet.name)," browser extension\u2026"]}}),L(qp,{get children(){return L(dr,{get leftIcon(){return L(Ff,{})},onClick:v,get children(){return L(mr,{translationKey:"common.retry",children:"Retry"})}})}})]}}),L(Ot,{get when(){return!Sl(t.wallet)},get children(){return[L(Af,{translationKey:"walletModal.desktopConnectionModal.dontHaveExtension",get translationValues(){return{name:t.wallet.name}},get children(){return["Seems you don't have installed ",Ze(()=>t.wallet.name)," browser extension"]}}),L(qp,{get children(){return L(Of,{get href(){return t.wallet.aboutUrl},blank:!0,get children(){return L(dr,{get rightIcon(){return L(_1,{})},onClick:v,get children(){return L(mr,{translationKey:"walletModal.desktopConnectionModal.getWallet",get translationValues(){return{name:t.wallet.name}},get children(){return["Get ",Ze(()=>t.wallet.name)]}})}})}})}})]}})]}}),L(wr,{get when(){return e()==="desktop"},get children(){return[L(Ba,{size:"m"}),L(Af,{translationKey:"walletModal.desktopConnectionModal.continueOnDesktop",get translationValues(){return{name:t.wallet.name}},get children(){return["Continue in ",Ze(()=>t.wallet.name)," on desktop\u2026"]}}),L(qp,{get children(){return[L(dr,{get leftIcon(){return L(Ff,{})},onClick:h,get children(){return L(mr,{translationKey:"common.retry",children:"Retry"})}}),L(Of,{get href(){return t.wallet.aboutUrl},blank:!0,get children(){return L(dr,{get rightIcon(){return L(_1,{})},get children(){return L(mr,{translationKey:"walletModal.desktopConnectionModal.getWallet",get translationValues(){return{name:t.wallet.name}},get children(){return["Get ",Ze(()=>t.wallet.name)]}})}})}})]}})]}})]}})}}),L(Ot,{get when(){return t.wallet.appName===Hs},get children(){return L(pY,{get rightIcon(){return L(hY,{get src(){return ah.TG}})},scale:"s",onClick:m,get children(){return L(mr,{translationKey:"walletModal.desktopConnectionModal.openWalletOnTelegram",children:"Open Wallet in Telegram on desktop"})}})}}),L(Ot,{get when(){return t.wallet.appName!==Hs},get children(){return L(uY,{get children(){return[L(Ot,{get when(){return Ze(()=>e()!=="mobile")()&&Xp(t.wallet)},get children(){return L(k2,{appearance:"secondary",get leftIcon(){return L(bq,{})},onClick:d,get children(){return L(mr,{translationKey:"common.mobile",children:"Mobile"})}})}}),L(Ot,{get when(){return Ze(()=>e()!=="extension")()&&dk(t.wallet)},get children(){return L(k2,{appearance:"secondary",get leftIcon(){return L(vq,{})},onClick:v,get children(){return L(mr,{translationKey:"common.browserExtension",children:"Browser Extension"})}})}}),L(Ot,{get when(){return Ze(()=>e()!=="desktop")()&&fk(t.wallet)},get children(){return L(k2,{appearance:"secondary",get leftIcon(){return L(Cq,{})},onClick:h,get children(){return L(mr,{translationKey:"common.desktop",children:"Desktop"})}})}})]}})}})]}})},vY=Se.div``,yY=Se(zc)`
    position: absolute;
    top: 16px;
    left: 16px;
`,bY=Se(Js)`
    margin-bottom: 18px;
`,P2=Se.div`
    padding: 16px 0;
    display: flex;
    flex-direction: column;
    align-items: center;
`,N2=La`
    margin-bottom: 12px;
`,R2=Se(px)`
    text-align: center;
    margin-bottom: 4px;
`,F2=Se(Wo)`
    text-align: center;
    max-width: 352px;
    color: ${t=>t.theme.colors.text.secondary};
`,wY=Se.div`
    padding: 16px 24px 24px;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 8px;
`,CY={GET_A_WALLET:"https://ton.org/wallets?filters[wallet_features][slug][$in]=dapp-auth&pagination[limit]=-1"},_5=t=>L(vY,{"data-tc-wallets-modal-info":"true",get children(){return[L(yY,{icon:"arrow",onClick:()=>t.onBackClick()}),L(bY,{translationKey:"walletModal.infoModal.whatIsAWallet",children:"What is a wallet"}),L(u5,{get children(){return[L(P2,{get children(){return[L(Iq,{class:N2}),L(R2,{translationKey:"walletModal.infoModal.secureDigitalAssets",children:"Secure digital assets storage"}),L(F2,{translationKey:"walletModal.infoModal.walletProtects",children:"A wallet protects and manages your digital assets including TON, tokens and collectables."})]}}),L(P2,{get children(){return[L(Aq,{class:N2}),L(R2,{translationKey:"walletModal.infoModal.controlIdentity",children:"Control your Web3 identity"}),L(F2,{translationKey:"walletModal.infoModal.manageIdentity",children:"Manage your digital identity and access decentralized applications with ease. Maintain control over your data and engage securely in the blockchain ecosystem."})]}}),L(P2,{get children(){return[L(kq,{class:N2}),L(R2,{translationKey:"walletModal.infoModal.effortlessCryptoTransactions",children:"Effortless crypto transactions"}),L(F2,{translationKey:"walletModal.infoModal.easilySend",children:"Easily send, receive, monitor your cryptocurrencies. Streamline your operations with decentralized applications."})]}}),L(wY,{get children(){return L(Of,{get href(){return CY.GET_A_WALLET},blank:!0,get children(){return L(dr,{get rightIcon(){return L(Eq,{})},get children(){return L(mr,{translationKey:"walletModal.infoModal.getAWallet",children:"Get a Wallet"})}})}})}})]}})]}}),_Y=Se.div``,xY=Se.div`
    flex: 1;
    margin-top: 18px;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    min-height: 232px;
`,SY=Se(Js)`
    max-width: 262px;
    margin: 0 auto 8px;
`,EY=Se(zc)`
    position: absolute;
    top: 16px;
    left: 16px;
`,TY=Se.div`
    padding: 16px;
    display: flex;
    align-items: center;
    gap: 12px;
    border-top: 0.5px solid ${t=>Hc(t.theme.colors.icon.secondary,.2)};
`,IY=Se(Wc)`
    width: 36px;
    height: 36px;
    border-radius: 10px;
`,DY=Se(Of)`
    margin-left: auto;
`,AY=Se(Ba)`
    margin-bottom: 18px;
    margin-top: 2px;
`,MY=Se(sh)`
    margin-bottom: 16px;
`,b1=Se($a)`
    color: ${t=>t.theme.colors.text.secondary};
    text-align: center;
    margin-bottom: 20px;
`,gk=Se.div`
    display: flex;
    justify-content: center;
    gap: 8px;
    padding-bottom: 16px;
`,kY={m:"16px",s:"8px",none:"0"},PY=Se(Js)`
    margin-bottom: 2px;
    padding: 0 52px;
`,NY=Se($a)`
    margin-bottom: 20px;
    padding: 0 64px;
`,RY=Se.div`
    padding: 0 24px 16px;
`,FY=Se.div`
    display: flex;
    flex-direction: row;
    gap: 16px;
    padding: 0 24px 24px;
    margin-top: 0;
`,vk=Se(dr)`
    width: 100%;
    height: 56px;
    border-radius: ${t=>kY[t.theme.borderRadius]};
    background-color: ${t=>Hc(t.theme.colors.accent,.12)};
    color: ${t=>t.theme.colors.accent};
    font-size: 16px;
    line-height: 20px;
    font-weight: 500;
    padding: 17px 20px 19px 20px;
`,OY=t=>[L(PY,{get children(){return t.walletInfo.name}}),L(NY,{translationKey:"walletModal.mobileConnectionModal.scanQR",get translationValues(){return{name:t.walletInfo.name}},get children(){return["Scan the QR code below with your phone\u2019s or ",Ze(()=>t.walletInfo.name),"\u2019s camera"]}}),L(RY,{get children(){return L(H1,{get imageUrl(){return t.walletInfo.imageUrl},get sourceUrl(){return lr(t.universalLink,"none")},disableCopy:!0})}}),L(FY,{get children(){return[L(vk,{appearance:"secondary",onClick:()=>{var e;return(e=t.onOpenLink)==null?void 0:e.call(t)},get children(){return L(mr,{translationKey:"walletModal.mobileUniversalModal.openLink",children:"Open Link"})}}),L(vk,{appearance:"secondary",onClick:()=>{var e;return(e=t.onCopy)==null?void 0:e.call(t)},get children(){return L(mr,{get translationKey(){return t.isCopiedShown!==void 0?"common.copied":"common.copyLink"},get children(){return t.isCopiedShown!==void 0?"Copied":"Copy Link"}})}})]}})],x5=t=>{let e=gr(),[n,r]=Nt(!0),[i,o]=Nt(!1),[s,a]=Nt(null);Qr(()=>{var _;a((_=t.defaultError)!=null?_:null)});let l=zi(Hf),c=l.onStatusChange(()=>{},()=>{a(null)}),u=Ze(()=>l.connect({universalLink:t.wallet.universalLink,bridgeUrl:t.wallet.bridgeUrl},t.additionalRequest)),f=()=>{Ei(co(Qn({},t.wallet),{openMethod:"universal-link"})),lh(u(),{returnStrategy:Hn.returnStrategy,twaReturnUrl:Hn.twaReturnUrl,forceRedirect:!0})},d=()=>{let _=u();if(Pa(_))return f();a(null);let T=!n();r(!1),ch(u(),t.wallet.deepLink,{returnStrategy:Hn.returnStrategy,forceRedirect:T},k=>{Ei(co(Qn({},t.wallet),{openMethod:k}))})},[h,m]=Nt(void 0),v=()=>Kn(void 0,null,function*(){h()!==void 0&&clearTimeout(h()),yield G1(u());let _=setTimeout(()=>m(void 0),1500);m(_)}),P=()=>{a(null),o(!0),Ei(co(Qn({},t.wallet),{openMethod:"qrcode"}))},b=()=>{o(!1),Ei(co(Qn({},t.wallet),{openMethod:"universal-link"}))},x=()=>{i()?b():t.onBackClick()};return Wi(c),d(),L(_Y,{"data-tc-wallets-modal-connection-mobile":"true",get children(){return[L(Ot,{get when(){return!t.backDisabled||i()},get children(){return L(EY,{icon:"arrow",onClick:x})}}),L(Ot,{get when(){return i()},get children(){return L(OY,{get universalLink(){return u()},get walletInfo(){return t.wallet},onOpenLink:d,onCopy:v,get isCopiedShown(){return h()}})}}),L(Ot,{get when(){return!i()},get children(){return[L(SY,{get children(){return t.wallet.name}}),L(xY,{get children(){return[L(Ot,{get when(){return s()},get children(){return[L(MY,{size:"s"}),L(Ml,{get children(){return[L(wr,{get when(){return s()==="missing-features"},get children(){return L(b1,{translationKey:"walletModal.mobileConnectionModal.missingFeatures",get translationValues(){return{name:t.wallet.name}},children:"Please update Wallet, your version does not support required features for this dApp"})}}),L(wr,{get when(){return s()==="connection-declined"},get children(){return L(b1,{translationKey:"walletModal.mobileConnectionModal.connectionDeclined",children:"Connection declined"})}}),L(wr,{get when(){return s()==="not-supported"},get children(){return L(b1,{translationKey:"walletModal.mobileConnectionModal.notSupportedWallet",get translationValues(){return{name:t.wallet.name}},get children(){return[Ze(()=>t.wallet.name)," doesn\u2019t support the requested action. Please connect another wallet that supports it."]}})}})]}}),L(gk,{get children(){return L(Ml,{get children(){return[L(wr,{get when(){return s()==="missing-features"},get children(){return[L(dr,{get leftIcon(){return L(Ff,{})},onClick:d,get children(){return L(mr,{translationKey:"common.retry",children:"Retry"})}}),L(Of,{get href(){return t.wallet.aboutUrl},blank:!0,get children(){return L(dr,{get leftIcon(){return L(_1,{})},get children(){return L(mr,{translationKey:"walletModal.mobileConnectionModal.updateWallet",get translationValues(){return{name:t.wallet.name}},get children(){return["Update ",Ze(()=>t.wallet.name)]}})}})}})]}}),L(wr,{get when(){return s()==="not-supported"},get children(){return L(dr,{onClick:()=>t.onBackClick(),get children(){return L(mr,{translationKey:"walletModal.mobileConnectionModal.chooseAnotherWallet",children:"Choose Another Wallet"})}})}}),L(wr,{get when(){return s()==="connection-declined"},get children(){return[L(dr,{get leftIcon(){return L(Ff,{})},onClick:d,get children(){return L(mr,{translationKey:"common.retry",children:"Retry"})}}),L(dr,{get leftIcon(){return L(J2,{get fill(){return e.colors.accent}})},onClick:P,get children(){return L(mr,{translationKey:"walletModal.mobileConnectionModal.showQR",children:"Show QR Code"})}})]}})]}})}})]}}),L(Ot,{get when(){return!s()},get children(){return[L(AY,{size:"s"}),L(b1,{translationKey:"walletModal.mobileConnectionModal.continueIn",get translationValues(){return{name:t.wallet.name}},get children(){return["Continue in ",Ze(()=>t.wallet.name),"\u2026"]}}),L(gk,{get children(){return[L(dr,{get leftIcon(){return L(Ff,{})},onClick:d,get children(){return L(mr,{translationKey:"common.retry",children:"Retry"})}}),L(dr,{get leftIcon(){return L(J2,{get fill(){return e.colors.accent}})},onClick:P,get children(){return L(mr,{translationKey:"walletModal.mobileConnectionModal.showQR",children:"Show QR Code"})}})]}})]}})]}}),L(TY,{get children(){return[L(IY,{get src(){return t.wallet.imageUrl}}),L(px,{get children(){return t.wallet.name}}),L(DY,{get href(){return t.wallet.aboutUrl},blank:!0,get children(){return L(dr,{get children(){return L(mr,{translationKey:"common.get",children:"GET"})}})}})]}})]}})]}})},LY={m:"16px",s:"12px",none:"0"},VY={m:"6px",s:"6px",none:"0"};Se.li`
    width: 82px;
    min-width: 82px;
    height: 124px;
    display: flex;
    flex-direction: column;
    align-items: center;
    padding: 8px 4px;

    text-align: center;
    cursor: pointer;

    transition: transform 0.1s ease-in-out;

    ${ih} {
        &:hover {
            transform: scale(1.04);
        }
    }

    &:active {
        transform: scale(0.96);
    }

    ${rh} {
        &:active {
            transform: scale(0.92);
        }
    }
`;var $Y=Se(Js)`
    margin-top: 38px;
    margin-bottom: 4px;
    padding: 0 24px;
`,yk=Se($a)`
    margin: ${t=>{var e;return(e=t.margin)!=null?e:"0 0 28px 0"}};
    padding: ${t=>{var e;return(e=t.padding)!=null?e:"0 24px"}};
    min-height: ${t=>{var e;return(e=t.padding)!=null?e:"44px"}};
    max-width: ${t=>t.maxWidth}px;
    margin-left: ${t=>t.maxWidth?"auto":"0px"};
    margin-right: ${t=>t.maxWidth?"auto":"0px"};
`;Se(dr)`
    display: block;
    margin: 0 auto;
`;var BY=Se(dr)`
    margin: 0 28px 24px;
    width: calc(100% - 56px);
    border-radius: ${t=>LY[t.theme.borderRadius]};
    padding: 14px 16px 14px 14px;
    background-color: ${t=>t.theme.colors.telegramButton};

    color: ${t=>t.theme.colors.constant.white};
    font-weight: 500;
    font-size: 16px;
    line-height: 20px;

    @media (max-width: 375px) {
        margin: 0 16px 24px;
        width: calc(100% - 32px);
    }
`,jY=Se(Wc)`
    background-color: transparent;
    border-radius: ${t=>VY[t.theme.borderRadius]};
    width: 24px;
    height: 24px;
`,bk=Se(zc)`
    position: absolute;
    top: 16px;
    left: 16px;
`,UY={m:"16px",s:"8px",none:"0"},GY=Se(Js)`
    margin-bottom: 2px;
    padding: 0 52px;
`,HY=Se($a)`
    margin-bottom: 20px;
    padding: 0 64px;
`,WY=Se.div`
    padding: 0 24px 16px;
`,zY=Se.div`
    display: flex;
    flex-direction: row;
    gap: 16px;
    padding: 0 24px 24px;
    margin-top: 0;
`,wk=Se(dr)`
    width: 100%;
    height: 56px;
    border-radius: ${t=>UY[t.theme.borderRadius]};
    background-color: ${t=>Hc(t.theme.colors.accent,.12)};
    color: ${t=>t.theme.colors.accent};
    font-size: 16px;
    line-height: 20px;
    font-weight: 500;
    padding: 17px 20px 19px 20px;
`,qY=t=>[L(GY,{translationKey:"walletModal.mobileUniversalModal.connectYourWallet",children:"Connect your TON wallet"}),L(HY,{translationKey:"walletModal.mobileUniversalModal.scan",children:"Scan with your mobile wallet"}),L(WY,{get children(){return L(H1,{get imageUrl(){return ah.TON},get sourceUrl(){return lr(t.universalLink,"none")},disableCopy:!0})}}),L(zY,{get children(){return[L(wk,{appearance:"secondary",onClick:()=>t.onOpenLink(),get children(){return L(mr,{translationKey:"walletModal.mobileUniversalModal.openLink",children:"Open Link"})}}),L(wk,{appearance:"secondary",onClick:()=>t.onCopy(),get children(){return L(mr,{get translationKey(){return t.isCopiedShown!==void 0?"common.copied":"common.copyLink"},get children(){return t.isCopiedShown!==void 0?"Copied":"Copy Link"}})}})]}})];function S5(t){let e=new Set(t.filter(u1).map(n=>n.bridgeUrl));return Array.from(e).map(n=>({bridgeUrl:n}))}function E5(t,e){let n=new Set(t?.map(i=>i.bridgeUrl)),r=new Set(e?.map(i=>i.bridgeUrl));return n.size===r.size&&[...n].every(i=>r.has(i))}var Ck=xn("<li></li>"),KY=xn('<div data-tc-wallets-modal-universal-mobile="true"></div>'),YY=t=>{let[e,n]=Nt(!1),[r,i]=Nt(!0),[o,s]=Nt(null),a=Hn.connector,l=()=>t.walletsList.filter(V=>Xp(V)&&V.appName!==Hs),c=()=>l().length>7,u=Ze(()=>S5(t.walletsList),null,{equals:E5}),f=Ze(()=>{var V,B;return(B=(V=t.walletsList.find(z=>z.appName===Hs))==null?void 0:V.isSupportRequiredFeatures)!=null?B:!1},null),d=()=>(o()||s(a.connect(u(),t.additionalRequest)),o());Ei({openMethod:"universal-link"});let[h,m]=Nt(void 0),v=()=>Kn(void 0,null,function*(){h()!==void 0&&clearTimeout(h()),yield G1(d());let V=setTimeout(()=>m(void 0),1500);m(V)}),P=()=>{let V=!r();i(!1),ch(d(),void 0,{returnStrategy:Hn.returnStrategy,forceRedirect:V},B=>{Ei({openMethod:B})})},b=()=>{s(null);let V=t.walletsList.find(ie=>ie.appName===Hs);if(!V||!u1(V))throw new si("@wallet bot not found in the wallets list");let B=a.connect({bridgeUrl:V.bridgeUrl,universalLink:V.universalLink},t.additionalRequest),z=!r();i(!1),lh(B,{returnStrategy:Hn.returnStrategy,twaReturnUrl:Hn.twaReturnUrl,forceRedirect:z})},x=()=>{n(!0),Ei({openMethod:"qrcode"})},_=()=>{n(!1),Ei({openMethod:"universal-link"})},T=Ze(()=>l().filter(V=>V.isSupportRequiredFeatures),null),k=Ze(()=>T().slice(0,3),null),$=Ze(()=>l().filter(V=>!k().find(B=>B.appName===V.appName)).slice(0,4),null);return(()=>{let V=KY.cloneNode(!0);return vi(V,L(Ot,{get when(){return e()},get children(){return[L(bk,{icon:"arrow",onClick:_}),L(qY,{get universalLink(){return d()},get isCopiedShown(){return h()},onOpenLink:P,onCopy:v})]}}),null),vi(V,L(Ot,{get when(){return!e()},get children(){return[L(bk,{get icon(){return L(J2,{})},onClick:x}),L($Y,{translationKey:"walletModal.mobileUniversalModal.connectYourWallet",children:"Connect your TON wallet"}),L(Ot,{get when(){return f()},get children(){return[L(yk,{translationKey:"walletModal.mobileUniversalModal.openWalletOnTelegramOrSelect",maxWidth:320,children:"Use Wallet in Telegram or choose other application"}),L(BY,{get leftIcon(){return L(Nq,{})},get rightIcon(){return L(jY,{get src(){return ah.TG}})},onClick:b,scale:"s",get children(){return L(mr,{translationKey:"walletModal.mobileUniversalModal.openWalletOnTelegram",children:"Connect Wallet in Telegram"})}})]}}),L(yk,{translationKey:"walletModal.mobileUniversalModal.chooseOtherApplication",maxWidth:342,padding:"0 24px 8px 24px",margin:"0",children:"Choose other application"}),L(Wz,{get children(){return[L(Lf,{get each(){return Ze(()=>!!c())()?k():T()},children:B=>(()=>{let z=Ck.cloneNode(!0);return vi(z,L(F1,{get icon(){return B.imageUrl},get name(){return B.name},onClick:()=>t.onSelect(B)})),z})()}),L(Ot,{get when(){return c()},get children(){let B=Ck.cloneNode(!0);return vi(B,L(l5,{labelLine1:"View all",labelLine2:"wallets",get images(){return $().map(z=>z.imageUrl)},onClick:()=>t.onSelectAllWallets()})),B}})]}})]}}),null),V})()},T5={m:"16px",s:"8px",none:"0"},JY={m:"8px",s:"4px",none:"0"},QY=Se.div`
    display: flex;
    flex-direction: column;
    align-items: center;
    padding-bottom: 16px;
`,ZY=Se($a)`
    max-width: 320px;
    margin-top: 2px;
    margin-bottom: 20px;
`,XY=Se($a)`
    margin-bottom: 16px;
`,eJ=Se(H1)`
    margin-bottom: 24px;
`,tJ=Se.ul`
    display: flex;
`;Se.div`
    display: flex;
    gap: 16px;
    width: 100%;
`;Se(dr)`
    position: relative;
    font-size: 16px;
    line-height: 20px;
    width: 100%;
    padding: 0 16px;
    height: 56px;
    border-radius: ${t=>T5[t.theme.borderRadius]};

    &:hover {
        ${t=>t.disableEventsAnimation?"transform: unset;":""}
    }

    &:active {
        ${t=>t.disableEventsAnimation?"transform: unset;":""}
    }
`;Se.ul`
    position: absolute;
    bottom: 100%;
    left: 0;
    margin: 0;
    padding: 8px;
    width: 188px;
    transform: translateY(-16px);

    background-color: ${t=>t.theme.colors.background.primary};
    border-radius: ${t=>T5[t.theme.borderRadius]};
    box-shadow: 0 4px 24px rgba(0, 0, 0, 0.16);
`;Se.li`
    padding: 8px;

    display: flex;
    align-items: center;
    gap: 8px;

    cursor: pointer;
    border-radius: ${t=>JY[t.theme.borderRadius]};

    transition: background-color, transform 0.1s ease-in-out;

    &:hover {
        background-color: ${t=>t.theme.colors.background.secondary};
    }

    &:active {
        transform: scale(0.96);
    }
`;Se(Wc)`
    width: 24px;
    height: 24px;

    border-radius: 6px;
`;Se.div`
    margin-top: 23px;
    margin-bottom: 1px;
    width: 100%;
    display: flex;
    justify-content: center;
    align-items: center;
`;Se(Wo)`
    color: ${t=>t.theme.colors.text.secondary};
    font-size: 16px;
`;var nJ=xn("<li></li>"),rJ=t=>{let[e,n]=Nt(!1),r=Hn.connector,i=Ze(()=>S5(t.walletsList),null,{equals:E5});Ei({openMethod:"qrcode"});let o=Ze(()=>r.connect(i(),t.additionalRequest)),s=Ze(()=>t.walletsList.filter(c=>c.isSupportRequiredFeatures),null),a=Ze(()=>s().slice(0,3),null),l=Ze(()=>t.walletsList.filter(c=>!a().find(u=>u.appName===c.appName)).slice(0,4),null);return L(QY,{onClick:()=>n(!1),"data-tc-wallets-modal-universal-desktop":"true",get children(){return[L(Js,{translationKey:"walletModal.desktopUniversalModal.connectYourWallet",children:"Connect your wallet"}),L(ZY,{translationKey:"walletModal.desktopUniversalModal.scan",children:"Scan with your mobile wallet"}),L(eJ,{get sourceUrl(){return lr(o(),"none")},get disableCopy(){return e()},get imageUrl(){return ah.TON}}),L(XY,{translationKey:"walletModal.desktopUniversalModal.availableWallets",children:"Available wallets"}),L(tJ,{get children(){return[L(Lf,{get each(){return a()},children:c=>(()=>{let u=nJ.cloneNode(!0);return vi(u,L(c5,{wallet:c,onClick:()=>t.onSelect(c)})),u})()}),L(l5,{labelLine1:"View all",labelLine2:"wallets",get images(){return l().map(c=>c.imageUrl)},onClick:()=>t.onSelectAllWallets()})]}})]}})},iJ=()=>{let{locale:t}=Ys()[1];Qr(()=>t(Hn.language)),Qr(()=>{WM()?O1():(o(null),c("universal"),f(!1))});let e=zi(Hf),n=zi(Nl),[r]=SH(()=>n.getWallets()),[i,o]=Nt(null),[s,a]=Nt(null),[l,c]=Nt("universal"),[u,f]=Nt(!1),d=Ze(()=>{if(r.state!=="ready")return null;let T=yx(r(),Hn.walletsListConfiguration),k=T.filter(Sl),$=T.filter(H=>!Sl(H));T=(k||[]).concat($);let V=Hn.preferredWalletAppName,B=T.find(H=>Tl(H,V)),z=T.filter(H=>Tl(H,V)).length>=2;V&&B&&!z&&(T=[co(Qn({},B),{isPreferred:!0})].concat(T.filter(H=>!Tl(H,V))));let ie=T.find(H=>Tl(H,Hs));return ie&&(T=[ie].concat(T.filter(H=>!Tl(H,Hs)))),T.map(H=>{var ce;return co(Qn({},H),{isSupportRequiredFeatures:n?.walletsRequiredFeatures?u2((ce=H.features)!=null?ce:[],n.walletsRequiredFeatures):!0})})}),h=()=>{var T;return((T=Hn.connectRequestParameters)==null?void 0:T.state)==="loading"},m=Ze(()=>{var T;if(!h())return(T=Hn.connectRequestParameters)==null?void 0:T.value}),v=T=>{n.closeModal(T)},P=e.onStatusChange(T=>{T&&v("wallet-selected")},T=>{var k;if(T instanceof Ef){let $=T.cause.connectEvent.device.appName.toLowerCase(),V=(k=d())==null?void 0:k.find(z=>z.appName.toLowerCase()===$);if(!V)throw new At("Wallet not found");let B=V.isSupportRequiredFeatures?"missing-features":"not-supported";a(B),o(V)}}),b=()=>{c("all-wallets")},x=()=>{c("universal")},_=()=>{o(null),a(null)};return Wi(()=>{o(null),a(null),f(!1)}),Wi(P),L(y5,{get opened(){return WM()},get enableAndroidBackHandler(){return Hn.enableAndroidBackHandler},onClose:()=>v("action-cancelled"),onClickQuestion:()=>f(T=>!T),"data-tc-wallets-modal-container":"true",get children(){return[L(Ot,{get when(){return u()},get children(){return L(_5,{onBackClick:()=>f(!1)})}}),L(Ot,{get when(){return!u()},get children(){return[L(Ot,{get when(){return h()||!d()},get children(){return[L(b5,{translationKey:"walletModal.loading",children:"Wallets list is loading"}),L(w5,{get children(){return L(Ba,{size:"m"})}})]}}),L(Ot,{get when(){return Ze(()=>!h())()&&d()},get children(){return L(Ml,{get children(){return[L(wr,{get when(){return i()},get children(){return L($f,{get component(){return Uf()?x5:C5},get wallet(){return i()},get additionalRequest(){return m()},onBackClick:_,get defaultError(){return s()}})}}),L(wr,{get when(){return l()==="universal"},get children(){return L($f,{get component(){return Uf()?YY:rJ},onSelect:o,get walletsList(){return d()},get additionalRequest(){return m()},onSelectAllWallets:b})}}),L(wr,{get when(){return l()==="all-wallets"},get children(){return L(tY,{get walletsList(){return d()},onBack:x,onSelect:o})}})]}})}})]}})]}})},oJ=Se.div`
    display: flex;
    flex-direction: column;
    align-items: center;
    padding-bottom: 8px;
`,sJ=Se(Js)`
    margin-top: 16px;
`,aJ=Se(Wo)`
    font-weight: 510;
    font-size: 16px;
    line-height: 20px;
    text-align: center;
    max-width: 250px;

    color: ${t=>t.theme.colors.text.secondary};
`,lJ=Se(dr)`
    min-width: 112px;
    margin-top: 32px;
`,cJ=Se(Ba)`
    height: 16px;
    width: 16px;
`,_k=Se(dr)`
    margin-top: 32px;
`,bx=t=>{let e=oh(t),n=zi(Nl),[r,i]=Nt(!0),[o,s]=Nt(!1);Qr(()=>{let u=Fa();s(!!u&&"sent"in u&&u.sent)});let a;n?.wallet&&"universalLink"in n.wallet&&(n.wallet.openMethod==="universal-link"||Pa(n.wallet.universalLink)&&Ws())&&(a=n.wallet.universalLink);let l;n?.wallet&&"deepLink"in n.wallet&&(n.wallet.openMethod==="custom-deeplink"||Pa(n.wallet.deepLink)&&Ws())&&(l=n.wallet.deepLink);let c=()=>{let u=Fa(),f="returnStrategy"in u?u.returnStrategy:Hn.returnStrategy,d=!r();i(!1),Pa(a)?lh(a,{returnStrategy:f,twaReturnUrl:"twaReturnUrl"in u?u.twaReturnUrl:Hn.twaReturnUrl,forceRedirect:d}):ch(a,l,{returnStrategy:f,forceRedirect:d},()=>{})};return L(oJ,Us(e,{get children(){return[Ze(()=>t.icon),L(sJ,{get translationKey(){return t.headerTranslationKey},get translationValues(){return t.headerTranslationValues}}),L(aJ,{get translationKey(){return t.textTranslationKey},get translationValues(){return t.textTranslationValues}}),L(Ot,{get when(){return!o()&&(t.showButton==="open-wallet"&&a||t.showButton!=="open-wallet")},get children(){return L(lJ,{disabled:!0,"data-tc-connect-button-loading":"true",get children(){return L(cJ,{})}})}}),L(Ot,{get when(){return o()},get children(){return[L(Ot,{get when(){return t.showButton!=="open-wallet"},get children(){return L(_k,{onClick:()=>t.onClose(),get children(){return L(mr,{translationKey:"common.close",children:"Close"})}})}}),L(Ot,{get when(){return t.showButton==="open-wallet"&&a},get children(){return L(_k,{onClick:c,get children(){return L(mr,{translationKey:"common.openWallet",children:"Open wallet"})}})}})]}})]}}))},uJ=t=>{let e=zi(Nl),[n]=Ys(),r=()=>e.wallet&&"name"in e.wallet?e.wallet.name:n("common.yourWallet",{},"Your wallet");return L(bx,{headerTranslationKey:"actionModal.confirmTransaction.header",get headerTranslationValues(){return{name:r()}},textTranslationKey:"actionModal.confirmTransaction.text",get icon(){return L(Ba,{size:"m"})},onClose:()=>t.onClose(),showButton:"open-wallet","data-tc-confirm-modal":"true"})},fJ=t=>L(bx,{headerTranslationKey:"actionModal.transactionCanceled.header",textTranslationKey:"actionModal.transactionCanceled.text",get icon(){return L(sh,{size:"m"})},onClose:()=>t.onClose(),"data-tc-transaction-canceled-modal":"true"}),dJ=t=>L(bx,{headerTranslationKey:"actionModal.transactionSent.header",textTranslationKey:"actionModal.transactionSent.text",get icon(){return L(hx,{size:"m"})},onClose:()=>t.onClose(),"data-tc-transaction-sent-modal":"true"}),pJ=()=>L(r5,{get opened(){var t;return Ze(()=>Fa()!==null)()&&((t=Fa())==null?void 0:t.openModal)===!0},get enableAndroidBackHandler(){return Hn.enableAndroidBackHandler},onClose:()=>kf(null),"data-tc-actions-modal-container":"true",get children(){return L(Ml,{get children(){return[L(wr,{get when(){return Fa().name==="transaction-sent"},get children(){return L(dJ,{onClose:()=>kf(null)})}}),L(wr,{get when(){return Fa().name==="transaction-canceled"},get children(){return L(fJ,{onClose:()=>kf(null)})}}),L(wr,{get when(){return Fa().name==="confirm-transaction"},get children(){return L(uJ,{onClose:()=>kf(null)})}})]}})}}),hJ=()=>{let{locale:t}=Ys()[1];Qr(()=>t(Hn.language)),Qr(()=>{qM()&&O1()});let e=zi(Hf),n=zi(Nl),[r,i]=Nt(!1),o=()=>{var c;return((c=Hn.connectRequestParameters)==null?void 0:c.state)==="loading"},s=Ze(()=>{var c;if(!o())return(c=Hn.connectRequestParameters)==null?void 0:c.value}),a=c=>{n.closeSingleWalletModal(c)},l=e.onStatusChange(c=>{c&&a("wallet-selected")});return Wi(l),Wi(()=>{i(!1)}),L(y5,{get opened(){return qM()},get enableAndroidBackHandler(){return Hn.enableAndroidBackHandler},onClose:()=>a("action-cancelled"),onClickQuestion:()=>i(c=>!c),"data-tc-wallets-modal-container":"true",get children(){return[L(Ot,{get when(){return r()},get children(){return L(_5,{onBackClick:()=>i(!1)})}}),L(Ot,{get when(){return!r()},get children(){return[L(Ot,{get when(){return o()},get children(){return[L(b5,{translationKey:"walletModal.loading",children:"Wallets list is loading"}),L(w5,{get children(){return L(Ba,{size:"m"})}})]}}),L(Ot,{get when(){return!o()},get children(){return L($f,{get component(){return Uf()?x5:C5},get wallet(){return _W()},get additionalRequest(){return s()},onBackClick:()=>{},backDisabled:!0})}})]}})]}})},mJ=t=>{let e=$z($W,Hn.language);return yW(),vW(),L(s5.Provider,{value:e,get children(){return L(Nl.Provider,{get value(){return t.tonConnectUI},get children(){return L(Hf.Provider,{get value(){return Hn.connector},get children(){return[L(cW,{}),L(aW,{theme:qW,get children(){return[L(Ot,{get when(){return Hn.buttonRootId},get children(){return L($k,{get mount(){return document.getElementById(Hn.buttonRootId)},get children(){return L(UK,{})}})}}),L($f,{component:Ra,get children(){return[L(iJ,{}),L(hJ,{}),L(pJ,{})]}})]}})]}})}})}})},Eo={openWalletsModal:()=>void setTimeout(()=>HM({status:"opened",closeReason:null})),closeWalletsModal:t=>void setTimeout(()=>HM({status:"closed",closeReason:t})),openSingleWalletModal:t=>{setTimeout(()=>zM({status:"opened",closeReason:null,walletInfo:t}))},closeSingleWalletModal:t=>void setTimeout(()=>zM({status:"closed",closeReason:t})),setAction:t=>void setTimeout(()=>kf(t)),clearAction:()=>void setTimeout(()=>kf(null)),getSelectedWalletInfo:()=>xW(),removeSelectedWalletInfo:()=>Ei(null),renderApp:(t,e)=>UH(()=>L(mJ,{tonConnectUI:e}),document.getElementById(t))},Z2=class{constructor(e){Pt(this,"connector"),Pt(this,"setConnectRequestParametersCallback"),Pt(this,"consumers",[]),Pt(this,"tracker"),Pt(this,"state",G2()),this.connector=e.connector,this.tracker=e.tracker,this.setConnectRequestParametersCallback=e.setConnectRequestParametersCallback,Qr(()=>{let n=G2();this.state=n,this.consumers.forEach(r=>r(n))})}open(){return Kn(this,null,function*(){this.tracker.trackConnectionStarted();let n=(yield this.connector.getWallets()).find(Bp);return n?this.connectEmbeddedWallet(n):this.openWalletsModal()})}close(e="action-cancelled"){e==="action-cancelled"&&this.tracker.trackConnectionError("Connection was cancelled"),Eo.closeWalletsModal(e)}onStateChange(e){return this.consumers.push(e),()=>{this.consumers=this.consumers.filter(n=>n!==e)}}connectEmbeddedWallet(e){let n=i=>{Ei(e),this.connector.connect({jsBridgeKey:e.jsBridgeKey},i)},r=Hn.connectRequestParameters;r?.state==="loading"?this.setConnectRequestParametersCallback(n):n(r?.value)}openWalletsModal(){return Kn(this,null,function*(){return Ws()&&dx(),Eo.openWalletsModal(),new Promise(e=>{let n=this.onStateChange(r=>{let{status:i}=r;i==="opened"&&(n(),e())})})})}},X2=class{constructor(e){Pt(this,"connector"),Pt(this,"consumers",[]),this.connector=e.connector,Qr(()=>{let n=Fa();this.consumers.forEach(r=>r(n))})}onStateChange(e){return this.consumers.push(e),()=>{this.consumers=this.consumers.filter(n=>n!==e)}}},ex=class{constructor(e){Pt(this,"connector"),Pt(this,"setConnectRequestParametersCallback"),Pt(this,"consumers",[]),Pt(this,"tracker"),Pt(this,"state",A1()),this.connector=e.connector,this.tracker=e.tracker,this.setConnectRequestParametersCallback=e.setConnectRequestParametersCallback,Qr(()=>{let n=A1();this.state=n,this.consumers.forEach(r=>r(n))})}open(e){return Kn(this,null,function*(){this.tracker.trackConnectionStarted();let n=yield this.connector.getWallets(),r=yx(n,Hn.walletsListConfiguration),i=r.find(Bp);if(!!i)return this.connectEmbeddedWallet(i);let a=r.filter(u1).find(u=>Tl(u,e));if(!!a)return this.openSingleWalletModal(a);let c=`Trying to open modal window with unknown wallet "${e}".`;throw this.tracker.trackConnectionError(c),new si(c)})}close(e="action-cancelled"){e==="action-cancelled"&&this.tracker.trackConnectionError("Connection was cancelled"),Eo.closeSingleWalletModal("action-cancelled")}onStateChange(e){return this.consumers.push(e),()=>{this.consumers=this.consumers.filter(n=>n!==e)}}connectEmbeddedWallet(e){let n=i=>{Ei(e),this.connector.connect({jsBridgeKey:e.jsBridgeKey},i)},r=Hn.connectRequestParameters;r?.state==="loading"?this.setConnectRequestParametersCallback(n):n(r?.value)}openSingleWalletModal(e){return Kn(this,null,function*(){return Ws()&&dx(),Eo.openSingleWalletModal(e),new Promise(n=>{let r=this.onStateChange(i=>{let{status:o}=i;o==="opened"&&(r(),n())})})})}},tx=class{constructor(e){Pt(this,"eventPrefix","ton-connect-ui-"),Pt(this,"tonConnectUiVersion"),Pt(this,"tonConnectSdkVersion",null),Pt(this,"eventDispatcher");var n;this.eventDispatcher=(n=e?.eventDispatcher)!=null?n:new $p,this.tonConnectUiVersion=e.tonConnectUiVersion,this.init().catch()}get version(){return El({ton_connect_sdk_lib:this.tonConnectSdkVersion,ton_connect_ui_lib:this.tonConnectUiVersion})}init(){return Kn(this,null,function*(){try{yield this.setRequestVersionHandler(),this.tonConnectSdkVersion=yield this.requestTonConnectSdkVersion()}catch{}})}setRequestVersionHandler(){return Kn(this,null,function*(){yield this.eventDispatcher.addEventListener("ton-connect-ui-request-version",()=>Kn(this,null,function*(){yield this.eventDispatcher.dispatchEvent("ton-connect-ui-response-version",d2(this.tonConnectUiVersion))}))})}requestTonConnectSdkVersion(){return Kn(this,null,function*(){return new Promise((e,n)=>Kn(this,null,function*(){try{yield this.eventDispatcher.addEventListener("ton-connect-response-version",r=>{e(r.detail.version)},{once:!0}),yield this.eventDispatcher.dispatchEvent("ton-connect-request-version",f2())}catch(r){n(r)}}))})}dispatchUserActionEvent(e){var n;try{(n=this.eventDispatcher)==null||n.dispatchEvent(`${this.eventPrefix}${e.type}`,e).catch()}catch{}}trackConnectionStarted(...e){try{let n=p2(this.version,...e);this.dispatchUserActionEvent(n)}catch{}}trackConnectionCompleted(...e){try{let n=h2(this.version,...e);this.dispatchUserActionEvent(n)}catch{}}trackConnectionError(...e){try{let n=m2(this.version,...e);this.dispatchUserActionEvent(n)}catch{}}trackConnectionRestoringStarted(...e){try{let n=g2(this.version,...e);this.dispatchUserActionEvent(n)}catch{}}trackConnectionRestoringCompleted(...e){try{let n=v2(this.version,...e);this.dispatchUserActionEvent(n)}catch{}}trackConnectionRestoringError(...e){try{let n=y2(this.version,...e);this.dispatchUserActionEvent(n)}catch{}}trackDisconnection(...e){try{let n=x2(this.version,...e);this.dispatchUserActionEvent(n)}catch{}}trackTransactionSentForSignature(...e){try{let n=w2(this.version,...e);this.dispatchUserActionEvent(n)}catch{}}trackTransactionSigned(...e){try{let n=C2(this.version,...e);this.dispatchUserActionEvent(n)}catch{}}trackTransactionSigningFailed(...e){try{let n=_2(this.version,...e);this.dispatchUserActionEvent(n)}catch{}}},gJ="2.1.0",L1=class{constructor(e){if(Pt(this,"walletInfoStorage",new j2),Pt(this,"preferredWalletStorage",new U2),Pt(this,"tracker"),Pt(this,"walletInfo",null),Pt(this,"systemThemeChangeUnsubscribe",null),Pt(this,"actionsConfiguration"),Pt(this,"walletsList"),Pt(this,"walletsRequiredFeatures"),Pt(this,"connectRequestParametersCallback"),Pt(this,"connector"),Pt(this,"modal"),Pt(this,"singleWalletModal"),Pt(this,"transactionModal"),Pt(this,"connectionRestored",Promise.resolve(!1)),e&&"connector"in e&&e.connector)this.connector=e.connector;else if(e&&"manifestUrl"in e&&e.manifestUrl)this.connector=new Bs({manifestUrl:e.manifestUrl,eventDispatcher:e.eventDispatcher,walletsRequiredFeatures:e.walletsRequiredFeatures});else throw new si("You have to specify a `manifestUrl` or a `connector` in the options.");this.tracker=new tx({eventDispatcher:e?.eventDispatcher,tonConnectUiVersion:gJ}),this.modal=new Z2({connector:this.connector,tracker:this.tracker,setConnectRequestParametersCallback:i=>{this.connectRequestParametersCallback=i}}),this.singleWalletModal=new ex({connector:this.connector,tracker:this.tracker,setConnectRequestParametersCallback:i=>{this.connectRequestParametersCallback=i}}),this.transactionModal=new X2({connector:this.connector}),this.walletsRequiredFeatures=e.walletsRequiredFeatures,this.walletsList=this.getWallets(),this.walletsList.then(i=>Hk(GK(i.map(o=>o.imageUrl))));let n=this.normalizeWidgetRoot(e?.widgetRootId);this.subscribeToWalletChange(),e?.restoreConnection!==!1&&(this.connectionRestored=bW(()=>Kn(this,null,function*(){return this.tracker.trackConnectionRestoringStarted(),yield this.connector.restoreConnection(),this.connector.connected?this.tracker.trackConnectionRestoringCompleted(this.wallet):(this.tracker.trackConnectionRestoringError("Connection was not restored"),this.walletInfoStorage.removeWalletInfo()),this.connector.connected}))),this.uiOptions=Dl(e,{uiPreferences:{theme:"SYSTEM"}});let r=this.preferredWalletStorage.getPreferredWalletAppName();v1({connector:this.connector,preferredWalletAppName:r}),Eo.renderApp(n,this)}static getWallets(){return Bs.getWallets()}get connected(){return this.connector.connected}get account(){return this.connector.account}get wallet(){return this.connector.wallet?Qn(Qn({},this.connector.wallet),this.walletInfo):null}set uiOptions(e){var n,r,i,o,s;this.checkButtonRootExist(e.buttonRootId),this.actionsConfiguration=e.actionsConfiguration,(n=e.uiPreferences)!=null&&n.theme?((r=e.uiPreferences)==null?void 0:r.theme)!=="SYSTEM"?((i=this.systemThemeChangeUnsubscribe)==null||i.call(this),I2(e.uiPreferences.theme,e.uiPreferences.colorsSet)):(I2(pW(),e.uiPreferences.colorsSet),this.systemThemeChangeUnsubscribe||(this.systemThemeChangeUnsubscribe=hW(I2))):(o=e.uiPreferences)!=null&&o.colorsSet&&YW(e.uiPreferences.colorsSet),(s=e.uiPreferences)!=null&&s.borderRadius&&KW(e.uiPreferences.borderRadius),v1(a=>{var l,c;let u=Dl(Qn(Qn(Qn(Qn({},e.language&&{language:e.language}),!!((l=e.actionsConfiguration)!=null&&l.returnStrategy)&&{returnStrategy:e.actionsConfiguration.returnStrategy}),!!((c=e.actionsConfiguration)!=null&&c.twaReturnUrl)&&{twaReturnUrl:e.actionsConfiguration.twaReturnUrl}),!!e.walletsListConfiguration&&{walletsListConfiguration:e.walletsListConfiguration}),Bf(a));return e.buttonRootId!==void 0&&(u.buttonRootId=e.buttonRootId),e.enableAndroidBackHandler!==void 0&&(u.enableAndroidBackHandler=e.enableAndroidBackHandler),u})}setConnectRequestParameters(e){var n;v1({connectRequestParameters:e}),(e?.state==="ready"||!e)&&((n=this.connectRequestParametersCallback)==null||n.call(this,e?.value))}getWallets(){return Kn(this,null,function*(){return this.connector.getWallets()})}onStatusChange(e,n){return this.connector.onStatusChange(r=>Kn(this,null,function*(){if(r){let i=yield this.getSelectedWalletInfo(r);e(Qn(Qn({},r),i||this.walletInfoStorage.getWalletInfo()))}else e(r)}),n)}openModal(){return Kn(this,null,function*(){return this.modal.open()})}closeModal(e){this.modal.close(e)}onModalStateChange(e){return this.modal.onStateChange(e)}get modalState(){return this.modal.state}openSingleWalletModal(e){return Kn(this,null,function*(){return this.singleWalletModal.open(e)})}closeSingleWalletModal(e){this.singleWalletModal.close(e)}onSingleWalletModalStateChange(e){return this.singleWalletModal.onStateChange(e)}get singleWalletModalState(){return this.singleWalletModal.state}connectWallet(){return Kn(this,null,function*(){let n=(yield this.getWallets()).find(Bp);return n?yield this.connectEmbeddedWallet(n):yield this.connectExternalWallet()})}disconnect(){return this.tracker.trackDisconnection(this.wallet,"dapp"),Eo.clearAction(),Eo.removeSelectedWalletInfo(),this.walletInfoStorage.removeWalletInfo(),this.connector.disconnect()}sendTransaction(e,n){return Kn(this,null,function*(){if(this.tracker.trackTransactionSentForSignature(this.wallet,e),!this.connected)throw this.tracker.trackTransactionSigningFailed(this.wallet,e,"Wallet was not connected"),new si("Connect wallet to send a transaction.");Ws()&&dx();let{notifications:r,modals:i,returnStrategy:o,twaReturnUrl:s}=this.getModalsAndNotificationsConfiguration(n);Eo.setAction({name:"confirm-transaction",showNotification:r.includes("before"),openModal:i.includes("before"),sent:!1});let a=()=>{l.signal.aborted||(Eo.setAction({name:"confirm-transaction",showNotification:r.includes("before"),openModal:i.includes("before"),sent:!0}),this.walletInfo&&"universalLink"in this.walletInfo&&(this.walletInfo.openMethod==="universal-link"||this.walletInfo.openMethod==="custom-deeplink")&&(Pa(this.walletInfo.universalLink)?lh(this.walletInfo.universalLink,{returnStrategy:o,twaReturnUrl:s||Hn.twaReturnUrl,forceRedirect:!1}):ch(this.walletInfo.universalLink,this.walletInfo.deepLink,{returnStrategy:o,forceRedirect:!1},()=>{})))},l=new AbortController,c=this.onTransactionModalStateChange(u=>{u?.openModal||(c(),u||l.abort())});try{let u=yield this.waitForSendTransaction({transaction:e,signal:l.signal},a);return this.tracker.trackTransactionSigned(this.wallet,e,u),Eo.setAction({name:"transaction-sent",showNotification:r.includes("success"),openModal:i.includes("success")}),u}catch(u){throw Eo.setAction({name:"transaction-canceled",showNotification:r.includes("error"),openModal:i.includes("error")}),u instanceof At?u:(console.error(u),new si("Unhandled error:"+u))}finally{c()}})}connectEmbeddedWallet(e){return Kn(this,null,function*(){let n=i=>{Ei(e),this.connector.connect({jsBridgeKey:e.jsBridgeKey},i)},r=Hn.connectRequestParameters;return r?.state==="loading"?this.connectRequestParametersCallback=n:n(r?.value),yield this.waitForWalletConnection({ignoreErrors:!1})})}connectExternalWallet(){return Kn(this,null,function*(){let e=new AbortController;Eo.openWalletsModal();let n=this.onModalStateChange(r=>{let{status:i,closeReason:o}=r;i!=="opened"&&(n(),o==="action-cancelled"&&e.abort())});return yield this.waitForWalletConnection({ignoreErrors:!0,signal:e.signal})})}waitForWalletConnection(e){return Kn(this,null,function*(){return new Promise((n,r)=>{this.tracker.trackConnectionStarted();let{ignoreErrors:i=!1,signal:o=null}=e;if(o&&o.aborted)return this.tracker.trackConnectionError("Connection was cancelled"),r(new si("Wallet was not connected"));let s=c=>Kn(this,null,function*(){if(c)this.tracker.trackConnectionCompleted(c),l(),n(c);else{if(this.tracker.trackConnectionError("Connection was cancelled"),i)return;l(),r(new si("Wallet was not connected"))}}),a=c=>{this.tracker.trackConnectionError(c.message),!i&&(l(),r(c))},l=this.onStatusChange(c=>s(c),c=>a(c));o&&o.addEventListener("abort",()=>{l(),r(new si("Wallet was not connected"))},{once:!0})})})}waitForSendTransaction(e,n){return Kn(this,null,function*(){return new Promise((r,i)=>{let{transaction:o,signal:s}=e;if(s.aborted)return this.tracker.trackTransactionSigningFailed(this.wallet,o,"Transaction was cancelled"),i(new si("Transaction was not sent"));let a=u=>Kn(this,null,function*(){r(u)}),l=u=>{i(u)},c=()=>{this.tracker.trackTransactionSigningFailed(this.wallet,o,"Transaction was cancelled"),i(new si("Transaction was not sent"))};s.addEventListener("abort",c,{once:!0}),this.connector.sendTransaction(o,{onRequestSent:n,signal:s}).then(u=>(s.removeEventListener("abort",c),a(u))).catch(u=>(s.removeEventListener("abort",c),l(u)))})})}onTransactionModalStateChange(e){return this.transactionModal.onStateChange(e)}subscribeToWalletChange(){this.connector.onStatusChange(e=>Kn(this,null,function*(){var n;e?(yield this.updateWalletInfo(e),this.setPreferredWalletAppName(((n=this.walletInfo)==null?void 0:n.appName)||e.device.appName)):this.walletInfoStorage.removeWalletInfo()}))}setPreferredWalletAppName(e){this.preferredWalletStorage.setPreferredWalletAppName(e),v1({preferredWalletAppName:e})}getSelectedWalletInfo(e){return Kn(this,null,function*(){let n=Eo.getSelectedWalletInfo();if(!n)return null;let r;if("name"in n)r=n;else{let o=yx(yield this.walletsList,Hn.walletsListConfiguration).find(s=>Tl(s,e.device.appName));if(!o)throw new si(`Cannot find WalletInfo for the '${e.device.appName}' wallet`);r=Qn(Qn({},o),n)}return r})}updateWalletInfo(e){return Kn(this,null,function*(){let n=yield this.getSelectedWalletInfo(e);if(n){this.walletInfo=n,this.walletInfoStorage.setWalletInfo(n);return}let r=this.walletInfoStorage.getWalletInfo();if(r){this.walletInfo=r;return}this.walletInfo=(yield this.walletsList).find(i=>Tl(i,e.device.appName))||null})}normalizeWidgetRoot(e){if(!e||!document.getElementById(e)){e="tc-widget-root";let n=document.createElement("div");n.id=e,document.body.appendChild(n)}return e}checkButtonRootExist(e){if(e!=null&&!document.getElementById(e))throw new si(`${e} element not found in the document.`)}getModalsAndNotificationsConfiguration(e){var n,r,i,o,s,a;let l=["before","success","error"],c=l;(n=this.actionsConfiguration)!=null&&n.notifications&&((r=this.actionsConfiguration)==null?void 0:r.notifications)!=="all"&&(c=this.actionsConfiguration.notifications),e?.notifications&&(e.notifications==="all"?c=l:c=e.notifications);let u=["before"];(i=this.actionsConfiguration)!=null&&i.modals&&(this.actionsConfiguration.modals==="all"?u=l:u=this.actionsConfiguration.modals),e?.modals&&(e.modals==="all"?u=l:u=e.modals);let f=e?.returnStrategy||((o=this.actionsConfiguration)==null?void 0:o.returnStrategy)||"back",d=e?.twaReturnUrl||((s=this.actionsConfiguration)==null?void 0:s.twaReturnUrl),h=e?.skipRedirectToWallet||((a=this.actionsConfiguration)==null?void 0:a.skipRedirectToWallet)||"ios";return Ws()&&(h="never"),{notifications:c,modals:u,returnStrategy:f,twaReturnUrl:d,skipRedirectToWallet:h}}};var Fl=class t{constructor(e){this.http=e}tonConnect;walletAddressSubject=new Vr(null);walletAddress$=this.walletAddressSubject.asObservable();apiUrl=`${In.apiUrl}/wallet`;initTonConnect(){let e=`${In.baseUrl}${In.apiUrl}/wallet/tonconnect-manifest`,r=In.production?e:"https://stage.giftjackpot.com/api/wallet/tonconnect-manifest";this.tonConnect||(this.tonConnect=new L1({manifestUrl:r,actionsConfiguration:{twaReturnUrl:`https://t.me/${In.twaLink}`},uiPreferences:{theme:Tr.DARK,borderRadius:"m"}}),this.tonConnect.onStatusChange(i=>{if(i){let o=jp(i.account.address);this.walletAddressSubject.next(o)}else this.walletAddressSubject.next(null)}))}connectWallet(){this.tonConnect.openModal().then()}disconnectWallet(){this.tonConnect.disconnect().then()}getWalletAddress(){return this.walletAddressSubject.value}getBalance(e){let n=`${this.apiUrl}/balance`,r={"Content-Type":"application/json"},i={address:e};return this.http.get(n,{params:i,headers:r})}createDeposit(e){return Wt(this,null,function*(){try{let n=String(e).replace(",",".");console.log("creating deposit",n);let r=yield Kh(this.createDepositRequest(n));console.log("depositTransaction",r);let i=yield this.tonConnect.sendTransaction(r);yield Kh(this.processDeposit(r.messages[0].payload,i.boc)),console.log("boc result",i.boc)}catch(n){throw console.error("\u041E\u0448\u0438\u0431\u043A\u0430 \u043F\u0440\u0438 \u0441\u043E\u0437\u0434\u0430\u043D\u0438\u0438 \u0434\u0435\u043F\u043E\u0437\u0438\u0442\u0430:",n),n}})}createDepositRequest(e){let n=`${this.apiUrl}/createDeposit`,r={"Content-Type":"application/json"};return this.http.post(n,{amount:e},{headers:r})}processDeposit(e,n){let r=`${this.apiUrl}/processDeposit`,i={"Content-Type":"application/json"},o={transactionId:e,boc:n};return this.http.post(r,o,{headers:i})}static \u0275fac=function(n){return new(n||t)(Je(Sr))};static \u0275prov=Ve({token:t,factory:t.\u0275fac,providedIn:"root"})};var vJ=t=>({"border-red-500 focus:ring-red-500 focus:border-red-500":t}),yJ=(t,e)=>({"text-red-400":t,"text-[#ABABAB]":e});function bJ(t,e){t&1&&(S(0,"span"),K(1),de(2,"transloco"),A()),t&2&&(E(),Ie(he(2,1,"NO_FUNDS")))}function wJ(t,e){t&1&&(S(0,"span"),K(1),de(2,"transloco"),A()),t&2&&(E(),Te("",he(2,1,"MIN_AMOUNT")," 0.01 TON"))}function CJ(t,e){t&1&&(qn(),S(0,"svg",26),Y(1,"circle",27)(2,"path",28),A())}function _J(t,e){if(t&1){let n=Be();S(0,"div",1),re("click",function(){ue(n);let i=Q();return fe(i.closeModal())}),S(1,"div",2),re("click",function(i){return ue(n),fe(i.stopPropagation())}),S(2,"div",3)(3,"h2",4),K(4),de(5,"transloco"),A(),S(6,"button",5),re("click",function(){ue(n);let i=Q();return fe(i.closeModal())}),Y(7,"i",6),A()(),S(8,"p",7),K(9),de(10,"transloco"),A(),S(11,"form",8),re("ngSubmit",function(){ue(n);let i=Q();return fe(i.submitDeposit())}),S(12,"div",9)(13,"div",10)(14,"span",11),K(15),de(16,"transloco"),A(),S(17,"div",12)(18,"span",13),K(19),de(20,"transloco"),A(),S(21,"div",14),re("click",function(){ue(n);let i=Q();return fe(i.onBalanceTap())}),S(22,"span",15),K(23),A(),qn(),S(24,"svg",16),Y(25,"path",17)(26,"path",18),A()()()(),ti(),S(27,"div",19),Y(28,"input",20),A(),S(29,"div",21),oe(30,bJ,3,3,"span",22)(31,wJ,3,3,"span",22),A()(),S(32,"button",23)(33,"div",24),oe(34,CJ,3,0,"svg",25),K(35),de(36,"transloco"),de(37,"transloco"),A()()()()()}if(t&2){let n,r,i=Q();O("@fadeInOut",void 0),E(),O("@slideInOut",void 0),E(3),Ie(he(5,15,"DEPOSIT")),E(5),Te(" ",he(10,17,"ENTER_AMOUNT")," "),E(2),O("formGroup",i.depositForm),E(4),Te(" ",he(16,19,"AMOUNT")," "),E(4),Te("",he(20,21,"BALANCE"),":"),E(4),Ie(i.balance.toFixed(2)),E(5),O("ngClass",ui(27,vJ,i.isAmountInvalid())),E(),O("ngClass",sr(29,yJ,i.isAmountInvalid()||i.hasInsufficientBalanceError(),!i.isAmountInvalid()&&!i.hasInsufficientBalanceError())),E(),O("ngIf",i.hasInsufficientBalanceError()),E(),O("ngIf",i.isAmountInvalid()&&((n=i.depositForm.get("amount"))==null?null:n.value)),E(),O("disabled",i.isAmountInvalid()||i.hasInsufficientBalanceError()||!((r=i.depositForm.get("amount"))!=null&&r.value)||i.isLoading),E(2),O("ngIf",i.isLoading),E(),Te(" ",i.isLoading?he(36,23,"PROCESSING")+"...":he(37,25,"TOP_UP")," ")}}var Wf=class t{constructor(e,n,r,i){this.fb=e;this.tonWalletService=n;this.scrollService=r;this.alertService=i;this.depositForm=this.fb.group({amount:["",[Rc.required,Rc.min(.01)]]})}isOpen=!1;address=null;close=new yt;depositSubmitted=new yt;depositForm;isLoading=!1;error=null;balance=0;ngOnInit(){this.updateScrollState()}ngOnChanges(e){this.updateScrollState(),e.address&&this.address&&this.loadWalletBalance()}ngOnDestroy(){this.scrollService.enableScroll()}updateScrollState(){this.isOpen?this.scrollService.disableScroll():this.scrollService.enableScroll()}closeModal(){this.close.emit(),setTimeout(()=>{this.resetForm()},400)}submitDeposit(){return Wt(this,null,function*(){if(this.isAmountInvalid()||this.hasInsufficientBalanceError())return;let e=this.depositForm.value.amount;this.isLoading=!0,this.error=null;try{yield this.tonWalletService.createDeposit(e),this.depositSubmitted.emit(e),this.closeModal()}catch(n){this.alertService.error("ALERT_DEPOSIT_FAILED",3e3),console.error(n)}finally{this.isLoading=!1}})}resetForm(){this.depositForm.reset(),this.error=null}onBalanceTap(){this.depositForm.patchValue({amount:this.balance})}updateBalanceValidator(){let e=this.depositForm.get("amount"),n=[Rc.required,Rc.min(.01),this.sufficientBalanceValidator(this.balance)];e?.setValidators(n),e?.updateValueAndValidity()}sufficientBalanceValidator(e){return n=>{let r=n.value;if(r==null||r==="")return null;let i=String(r).replace(",","."),o=parseFloat(i);return isNaN(o)||o>e?{insufficientBalance:!0}:null}}hasInsufficientBalanceError(){let e=this.depositForm.get("amount");return e?.errors?.insufficientBalance===!0&&(e?.dirty||e?.touched)}isAmountInvalid(){let e=this.depositForm.get("amount"),n=String(e?.value).replace(",","."),r=parseFloat(n);return e?.invalid&&(e?.dirty||e?.touched)&&!e?.errors?.insufficientBalance&&(isNaN(r)||r<.01)||!1}loadWalletBalance(){this.address&&this.tonWalletService.getBalance(this.address).subscribe({next:e=>{let n=parseFloat(String(e.balance));this.balance=isNaN(n)?0:Math.max(0,Math.round((n/1e9-.015)*100)/100),this.updateBalanceValidator()},error:e=>{console.error("Error receiving balance:",e)}})}static \u0275fac=function(n){return new(n||t)(ne(KA),ne(Fl),ne(oi),ne(or))};static \u0275cmp=xe({type:t,selectors:[["app-deposit-modal"]],inputs:{isOpen:"isOpen",address:"address"},outputs:{close:"close",depositSubmitted:"depositSubmitted"},features:[zn],decls:1,vars:1,consts:[["class","fixed inset-0 bg-black/50 flex items-center justify-center z-25",3,"click",4,"ngIf"],[1,"fixed","inset-0","bg-black/50","flex","items-center","justify-center","z-25",3,"click"],[1,"bg-[#141414]","rounded-2xl","shadow-lg","w-full","max-w-md","mx-4","p-6","relative",3,"click"],[1,"flex","justify-between","items-center","mb-2"],[1,"text-xl","font-semibold","dark:text-white"],[1,"text-gray-500","hover:text-gray-700","hover:text-white","transition-colors","cursor-pointer",3,"click"],[1,"fa-solid","fa-xmark","text-2xl"],[1,"text-[#ABABAB]","text-sm","mb-4"],[3,"ngSubmit","formGroup"],[1,"mb-6"],[1,"flex","justify-between","items-end"],[1,"block","text-white/80","font-medium","my-1.5"],[1,"flex","items-center","my-2"],[1,"text-[#ABABAB]","mr-2"],[1,"flex","items-center","px-1.5","bg-white/10","rounded-lg","cursor-pointer",3,"click"],[1,"font-semibold","text-white","mr-1.5"],["width","18","height","18","viewBox","0 0 24 24","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M12 24c6.627 0 12 -5.373 12 -12S18.627 0 12 0 0 5.373 0 12s5.373 12 12 12","fill","#0098EA"],["d","M16.097 6.699H7.903c-1.507 0 -2.463 1.625 -1.704 2.939l5.058 8.766a0.86 0.86 0 0 0 1.487 0l5.059 -8.766c0.757 -1.311 -0.198 -2.939 -1.704 -2.939zm-4.845 9.076 -1.101 -2.132 -2.658 -4.754a0.464 0.464 0 0 1 0.408 -0.693h3.351v7.581zm5.252 -6.885 -2.657 4.755 -1.101 2.131V8.196h3.351a0.464 0.464 0 0 1 0.408 0.693","fill","white"],[1,"relative"],["type","text","inputmode","decimal","pattern","^\\d+([.,]\\d+)?$","id","amount","formControlName","amount","placeholder","0.5","min","0.1","step","0.5",1,"w-full","p-3","border-1","rounded-2xl","focus:ring-0.5","focus:ring-white/80","focus:border-white/80","outline-none","transition-colors","bg-white/8","border-white/15",3,"ngClass"],[1,"mt-1.5","text-sm","h-4",3,"ngClass"],[4,"ngIf"],["type","submit",1,"w-full","bg-white","hover:bg-white/70","text-black","font-semibold","py-3","px-4","rounded-2xl","cursor-pointer","transition-colors","focus:outline-none","disabled:opacity-50","disabled:cursor-not-allowed",3,"disabled"],[1,"flex","items-center","justify-center"],["class","animate-spin -ml-1 mr-2 h-5 w-5 text-white","xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24",4,"ngIf"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24",1,"animate-spin","-ml-1","mr-2","h-5","w-5","text-white"],["cx","12","cy","12","r","10","stroke","currentColor","stroke-width","4",1,"opacity-25"],["fill","currentColor","d","M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z",1,"opacity-75"]],template:function(n,r){n&1&&oe(0,_J,38,32,"div",0),n&2&&O("ngIf",r.isOpen)},dependencies:[Qe,Mn,ut,_l,ao,Fi,oo,so,q_,W_,z_,dt],encapsulation:2,data:{animation:[tp("fadeInOut",[fl(":enter",[bo({opacity:0}),ul("200ms ease-in",bo({opacity:1}))]),fl(":leave",[ul("200ms ease-out",bo({opacity:0}))])]),tp("slideInOut",[fl(":enter",[bo({transform:"translateY(-20px)",opacity:0}),ul("200ms ease-out",bo({transform:"translateY(0)",opacity:1}))]),fl(":leave",[ul("200ms ease-in",bo({transform:"translateY(-20px)",opacity:0}))])])]}})};var q1=class t{isOpen=!1;onClose=new yt;onAction=new yt;static \u0275fac=function(n){return new(n||t)};static \u0275cmp=xe({type:t,selectors:[["app-disconnect-wallet"]],inputs:{isOpen:"isOpen"},outputs:{onClose:"onClose",onAction:"onAction"},decls:19,vars:12,consts:[[1,"flex","flex-col","p-4"],[1,"absolute","top-3","right-3","cursor-pointer",3,"click"],[1,"fa-solid","fa-xmark","w-6","h-6","fa-xl","text-white/70","p-2"],[1,"flex","flex-col","gap-2","items-center","mb-2"],[1,"rounded-full","bg-white/8","p-1.5","mt-2"],["width","45","height","45","viewBox","0 0 24 24","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M16.097 6.699H7.903c-1.507 0 -2.463 1.625 -1.704 2.939l5.058 8.766a0.86 0.86 0 0 0 1.487 0l5.059 -8.766c0.757 -1.311 -0.198 -2.939 -1.704 -2.939zm-4.845 9.076 -1.101 -2.132 -2.658 -4.754a0.464 0.464 0 0 1 0.408 -0.693h3.351v7.581zm5.252 -6.885 -2.657 4.755 -1.101 2.131V8.196h3.351a0.464 0.464 0 0 1 0.408 0.693","fill","white"],[1,"text-2xl","font-bold","mt-2","mb-1","safari-fix"],[1,"text-[#ABABAB]","text-sm","font-medium","safari-fix","mr-3","text-center","px-2"],[1,"p-4",3,"click"]],template:function(n,r){n&1&&(S(0,"div",0)(1,"button",1),re("click",function(){return r.onClose.emit()}),Y(2,"i",2),A(),S(3,"div",3)(4,"div",4),qn(),S(5,"svg",5),Y(6,"path",6),A()(),ti(),S(7,"p",7),K(8),de(9,"transloco"),A(),S(10,"p",8),K(11),de(12,"transloco"),Y(13,"br"),K(14),de(15,"transloco"),A()(),S(16,"app-main-button",9),re("click",function(){return r.onAction.emit()}),K(17),de(18,"transloco"),A()()),n&2&&(E(8),Ie(he(9,4,"WALLET_DISCONNECT_TITLE")),E(3),Te(" ",he(12,6,"WALLET_DISCONNECT_DESCRIPTION_1"),""),E(3),Te("",he(15,8,"WALLET_DISCONNECT_DESCRIPTION_2")," "),E(3),Te(" ",he(18,10,"WALLET_DISCONNECT_BUTTON")," "))},dependencies:[yl,dt],encapsulation:2})};var I5=(t,e)=>({"bg-white text-black":t,"bg-white/8 text-white":e});function xJ(t,e){if(t&1){let n=Be();S(0,"div",8),re("click",function(){let i=ue(n).$implicit,o=Q();return fe(o.selectLanguage(i))}),K(1),A()}if(t&2){let n=e.$implicit,r=Q();O("ngClass",sr(2,I5,r.activeLanguage===n,r.activeLanguage!==n)),E(),Te(" ",r.languageText(n)," ")}}function SJ(t,e){if(t&1){let n=Be();S(0,"div",8),re("click",function(){let i=ue(n).$implicit,o=Q();return fe(o.onSoundOptionTap(i.value))}),K(1),de(2,"transloco"),de(3,"transloco"),A()}if(t&2){let n=e.$implicit,r=Q();O("ngClass",sr(6,I5,r.isSoundsEnabled===n.value,r.isSoundsEnabled!==n.value)),E(),Te(" ",n.value?he(2,2,"ON"):he(3,4,"OFF")," ")}}var K1=class t{constructor(e){this.transloco=e}isOpen=!1;onClose=new yt;languages=["en","ru","zh"];isSoundsEnabled=!0;soundOptions=[{value:!0},{value:!1}];activeLanguage="en";ngOnInit(){this.activeLanguage=this.transloco.getActiveLang();let e=localStorage.getItem("isSoundsEnabled");e&&(this.isSoundsEnabled=e==="true")}selectLanguage(e){this.activeLanguage=e,this.transloco.setActiveLang(e),localStorage.setItem("selectedLanguage",e),Telegram.WebApp.HapticFeedback.impactOccurred("light")}onSoundOptionTap(e){this.isSoundsEnabled=e,localStorage.setItem("isSoundsEnabled",String(e)),Telegram.WebApp.HapticFeedback.impactOccurred("light")}languageText(e){switch(e){case"en":return"English";case"ru":return"\u0420\u0443\u0441\u0441\u043A\u0438\u0439";case"zh":return"\u4E2D\u6587";default:return""}}static \u0275fac=function(n){return new(n||t)(ne(ar))};static \u0275cmp=xe({type:t,selectors:[["app-settings"]],inputs:{isOpen:"isOpen"},outputs:{onClose:"onClose"},decls:17,vars:11,consts:[[1,"p-5","mb-10"],[1,"absolute","top-3","right-3","cursor-pointer",3,"click"],[1,"fa-solid","fa-xmark","size-6","fa-xl","text-white","p-2"],[1,"flex","flex-col"],[1,"text-white","text-xl","font-semibold","mb-3"],[1,"text-sm","font-semibold","text-white/50","mb-2"],[1,"flex","flex-row","gap-2","mb-4"],["class","p-2 px-3 rounded-2xl font-semibold cursor-pointer transition-colors duration-200",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"p-2","px-3","rounded-2xl","font-semibold","cursor-pointer","transition-colors","duration-200",3,"click","ngClass"]],template:function(n,r){n&1&&(S(0,"div",0)(1,"button",1),re("click",function(){return r.onClose.emit()}),Y(2,"i",2),A(),S(3,"div",3)(4,"h1",4),K(5),de(6,"transloco"),A(),S(7,"p",5),K(8),de(9,"transloco"),A(),S(10,"div",6),oe(11,xJ,2,5,"div",7),A(),S(12,"p",5),K(13),de(14,"transloco"),A(),S(15,"div",6),oe(16,SJ,4,9,"div",7),A()()()),n&2&&(E(5),Te(" ",he(6,5,"SETTINGS")," "),E(3),Te(" ",he(9,7,"LANGUAGE")," "),E(3),O("ngForOf",r.languages),E(2),Te(" ",he(14,9,"SOUND")," "),E(3),O("ngForOf",r.soundOptions))},dependencies:[Qe,Mn,bt,dt],encapsulation:2})};var Ol=class t{constructor(e){this.http=e}apiUrl=`${In.apiUrl}/market`;getGifts(e,n,r="asc",i){let o=this.apiUrl;i?o+="/caseGifts":o+="/gifts";let s={"Content-Type":"application/json"},a=new ri().set("page",e.toString()).set("pageSize",n.toString()).set("sortOrder",r);return this.http.get(o,{params:a,headers:s})}getVirtualGifts(){let e=this.apiUrl+"/virtualGifts",n={"Content-Type":"application/json"};return this.http.get(e,{headers:n})}buyGift(e,n){let r=`${this.apiUrl}/${n?"caseGifts":"gifts"}/${e}/buy`,i={"Content-Type":"application/json"};return this.http.post(r,{headers:i})}mint(e){let n=this.apiUrl+"/mint",r={"Content-Type":"application/json"},i={gift:e};return this.http.post(n,i,{headers:r})}sellGift(e,n){let r=`${this.apiUrl}/gifts/${e}/${n?"forCases":"sell"}`,i={"Content-Type":"application/json"};return this.http.post(r,{headers:i})}static \u0275fac=function(n){return new(n||t)(Je(Sr))};static \u0275prov=Ve({token:t,factory:t.\u0275fac,providedIn:"root"})};var EJ=["giftSheet"],TJ=()=>[],IJ=t=>({count:t});function DJ(t,e){if(t&1){let n=Be();S(0,"div",10),re("click",function(){ue(n);let i=Q();return fe(i.openChat())}),Y(1,"i",33),A()}}function AJ(t,e){if(t&1){let n=Be();S(0,"div",34),re("click",function(){ue(n);let i=Q();return fe(i.navigateToAllTransactions())}),K(1),de(2,"transloco"),A()}t&2&&(E(),Te(" ",he(2,1,"TRANSACTIONS")," "))}function MJ(t,e){if(t&1){let n=Be();S(0,"div",34),re("click",function(){ue(n);let i=Q();return fe(i.navigateToCasinoStats())}),K(1),de(2,"transloco"),A()}t&2&&(E(),Te(" ",he(2,1,"STATS")," "))}function kJ(t,e){if(t&1){let n=Be();S(0,"div",34),re("click",function(){ue(n);let i=Q();return fe(i.navigateToWithdraws())}),K(1),de(2,"transloco"),A()}t&2&&(E(),Te(" ",he(2,1,"WITHDRAWALS")," "))}function PJ(t,e){if(t&1&&Y(0,"img",35),t&2){let n=Q();O("src",n.photoUrl,Gn)}}function NJ(t,e){if(t&1){let n=Be();S(0,"div",36),re("click",function(){ue(n);let i=Q();return fe(i.connectWallet())}),Y(1,"i",37),S(2,"span"),K(3),de(4,"transloco"),A()()}t&2&&(E(3),Ie(he(4,1,"CONNECT_WALLET")))}function RJ(t,e){if(t&1){let n=Be();S(0,"div",38),re("click",function(){ue(n);let i=Q();return fe(i.disconnectWallet())}),Y(1,"i",39),S(2,"span"),K(3),A()()}if(t&2){let n=Q();E(3),Ie(n.shortAddress(n.walletAddress))}}function FJ(t,e){t&1&&Y(0,"div",46)}function OJ(t,e){t&1&&(nt(0),S(1,"div",41)(2,"h1",42),K(3),de(4,"transloco"),A()(),S(5,"div",43)(6,"div",44),oe(7,FJ,1,0,"div",45),A()(),rt()),t&2&&(E(3),Te(" ",he(4,2,"GIFTS")," "),E(4),O("ngForOf",zr(4,TJ).constructor(8)))}function LJ(t,e){if(t&1){let n=Be();S(0,"app-gift",54),re("onTap",function(){let i=ue(n).$implicit,o=Q(4);return fe(o.onGiftTap(i))}),A()}if(t&2){let n=e.$implicit,r=Q(4);O("gift",n)("autoplay",!1)("canTransferSince",n.canTransferSince)("isSelected",r.selectedGifts.has(n))}}function VJ(t,e){if(t&1){let n=Be();nt(0),S(1,"div",41)(2,"h1",42),K(3),de(4,"transloco"),S(5,"span",48),K(6),A()(),S(7,"button",49),re("click",function(){ue(n);let i=Q(3);return fe(i.toggleMultiselect())}),K(8),de(9,"transloco"),de(10,"transloco"),A()(),S(11,"div",50)(12,"div",51)(13,"app-gift-add",52),re("click",function(){ue(n);let i=Q(3);return fe(i.isDepositSheetOpen=!0)}),A(),oe(14,LJ,1,4,"app-gift",53),A()(),rt()}if(t&2){let n=Q(3);E(3),Te(" ",he(4,5,"GIFTS")," "),E(3),Ie(n.gifts.length),E(2),Te(" ",n.isMultiselect?he(9,7,"SELECT_GIFTS"):he(10,9,"WITHDRAW")," "),E(6),O("ngForOf",n.gifts)("ngForTrackBy",n.trackByGiftId)}}function $J(t,e){if(t&1&&(nt(0),oe(1,VJ,15,11,"ng-container",47),rt()),t&2){Q();let n=xt(4),r=Q();E(),O("ngIf",r.gifts.length>0)("ngIfElse",n)}}function BJ(t,e){if(t&1&&(S(0,"div",41)(1,"h1",42),K(2),de(3,"transloco"),S(4,"span",48),K(5),A()()(),Y(6,"app-empty-gifts-card")),t&2){let n=Q(2);E(2),Te(" ",he(3,2,"GIFTS")," "),E(3),Ie(n.gifts.length)}}function jJ(t,e){if(t&1){let n=Be();S(0,"app-loading-button",55),re("click",function(){ue(n);let i=Q(2);return fe(i.onWithdrawTap())}),S(1,"p",56),K(2),de(3,"transloco"),de(4,"transloco"),A()()}if(t&2){let n=Q(2);E(2),ba(" ",he(3,2,"TO_WITHDRAW")," ",Ad(4,4,"GIFTS_PLURAL",ui(7,IJ,n.selectedGifts.size))," ")}}function UJ(t,e){if(t&1&&(S(0,"div"),oe(1,OJ,8,5,"ng-container",27)(2,$J,2,2,"ng-container",27)(3,BJ,7,4,"ng-template",null,1,Qt)(5,jJ,5,9,"app-loading-button",40),A()),t&2){let n=Q();E(),O("ngIf",!n.isLoaded),E(),O("ngIf",n.isLoaded),E(3),O("ngIf",n.isMultiselect&&n.selectedGifts.size>=1)}}function GJ(t,e){if(t&1){let n=Be();S(0,"div")(1,"div",57),Y(2,"app-stats-table",58),A(),S(3,"app-transactions",59),re("onInventoryUpdate",function(){ue(n);let i=Q();return fe(i.updateNeeded=!0)}),A()()}if(t&2){let n=Q();E(2),O("tableData",n.playerStats)}}function HJ(t,e){t&1&&Y(0,"div")}function WJ(t,e){if(t&1){let n=Be();nt(0),S(1,"app-picker",23),re("itemChanged",function(i){ue(n);let o=Q();return fe(o.selectUser(i))}),A(),Y(2,"div",60),rt()}if(t&2){let n=Q();E(),O("items",n.users)}}function zJ(t,e){if(t&1){let n=Be();S(0,"app-gift-details",61),re("onClose",function(){ue(n),Q();let i=xt(29);return fe(i.closeSheet())})("onUpgradeTransfer",function(i){ue(n);let o=Q();return fe(o.sellGift(i,!0))})("onSell",function(i){ue(n);let o=Q();return fe(o.sellGift(i,!1))}),A()}if(t&2){let n=Q();O("gift",n.selectedGift)("type","sell")("roles",n.roles)}}function qJ(t,e){if(t&1){let n=Be();S(0,"app-bottom-sheet",28,2),re("onClose",function(){ue(n);let i=Q();return fe(i.isDepositSheetOpen=!1)}),S(2,"app-gift-deposit-sheet",28),re("onClose",function(){ue(n);let i=xt(1);return fe(i.closeSheet())}),A()()}if(t&2){let n=Q();O("isOpen",n.isDepositSheetOpen),E(2),O("isOpen",n.isDepositSheetOpen)}}function KJ(t,e){if(t&1){let n=Be();S(0,"app-bottom-sheet",28,3),re("onClose",function(){ue(n);let i=Q();return fe(i.isSettingsSheetOpen=!1)}),S(2,"app-settings",28),re("onClose",function(){ue(n);let i=xt(1);return fe(i.closeSheet())}),A()()}if(t&2){let n=Q();O("isOpen",n.isSettingsSheetOpen),E(2),O("isOpen",n.isSettingsSheetOpen)}}function YJ(t,e){if(t&1){let n=Be();S(0,"app-bottom-sheet",28,4),re("onClose",function(){ue(n);let i=Q();return fe(i.isDisconnectSheetOpen=!1)}),S(2,"app-disconnect-wallet",62),re("onAction",function(){ue(n);let i=Q();return fe(i.disconnectWalletSheet())})("onClose",function(){ue(n);let i=xt(1);return fe(i.closeSheet())}),A()()}if(t&2){let n=Q();O("isOpen",n.isDisconnectSheetOpen),E(2),O("isOpen",n.isDisconnectSheetOpen)}}var D5=(n=>(n[n.Gifts=0]="Gifts",n[n.Stats=1]="Stats",n))(D5||{}),Y1=class t{constructor(e,n,r,i,o,s,a,l,c){this.profileService=e;this.marketService=n;this.transactionsService=r;this.authService=i;this.alertService=o;this.tonWalletService=s;this.transloco=a;this.router=l;this.cdr=c}ProfileTab=D5;name="...";username="...";photoUrl="";balance="0.00";balanceNumber=0;roles=[];gifts=[];playerStats=[{label:"GAMES_PLAYED",value:"0"},{label:"TOTAL_WINNINGS",value:"0 TON"},{label:"TOP_WIN",value:"0 TON"}];pickerItems=["GIFTS","STATS"];selectedTab=0;users=["\u0421\u0430\u043D\u044F","\u0421\u0442\u0430\u0440\u0441\u044B"];selectedUser=0;selectedGift;isLoaded=!1;isMultiselect=!1;updateNeeded=!1;selectedGifts=new Set;isDepositSheetOpen=!1;isDisconnectSheetOpen=!1;isSettingsSheetOpen=!1;walletAddress=null;isDepositModalOpen=!1;isBalanceLoading=!1;subscription=new nr;updateSubscription=new nr;giftSheet;ngOnInit(){this.fetchProfile(),this.roles=this.authService.getRoles(),Telegram.WebApp.onEvent("invoiceClosed",e=>this.onInvoiceClosed(e.status)),this.preloadCaseImages()}ngAfterViewInit(){this.tonWalletService.initTonConnect(),this.subscription.add(this.tonWalletService.walletAddress$.subscribe(e=>{this.walletAddress=e,this.cdr.detectChanges()}))}ngOnDestroy(){Telegram.WebApp.offEvent("invoiceClosed",e=>this.onInvoiceClosed(e.status)),this.subscription.unsubscribe()}refresh(){this.fetchProfile()}selectTab(e){Telegram.WebApp.HapticFeedback.impactOccurred("light"),this.selectedTab=e,this.selectedTab===0&&this.updateNeeded&&(this.updateNeeded=!1,this.fetchProfile())}selectUser(e){this.selectedUser=e,this.selectedUser===0?this.login(this.sologankTgData):this.selectedUser===1&&this.login(this.user2TgData)}onGiftTap(e){if(Telegram.WebApp.HapticFeedback.impactOccurred("light"),this.isMultiselect){if(pl(new Date,e.canTransferSince)){let n="\u041F\u043E\u0434\u0430\u0440\u043E\u043A \u0431\u0443\u0434\u0435\u0442 \u0434\u043E\u0441\u0442\u0443\u043F\u0435\u043D \u043A \u0432\u044B\u0432\u043E\u0434\u0443 \u0447\u0435\u0440\u0435\u0437 "+this.availableSince(e);this.alertService.error(n,2500);return}if(e.type==="VIRTUAL"){this.alertService.info("ALERT_GIFT_NOTE",2500);return}this.selectedGifts.has(e)?this.selectedGifts.delete(e):this.selectedGifts.add(e)}else this.selectedGift=e}onSettingsTap(){Telegram.WebApp.HapticFeedback.impactOccurred("light"),this.isSettingsSheetOpen=!0}onSheetClose(){this.selectedGift=void 0}toggleMultiselect(){Telegram.WebApp.HapticFeedback.impactOccurred("light"),this.isMultiselect=!this.isMultiselect,this.selectedGifts.clear()}onWithdrawTap(){Telegram.WebApp.HapticFeedback.impactOccurred("light");let e=Array.from(this.selectedGifts).filter(n=>n.type==="UNIQUE");this.transactionsService.withdrawalInvoice(e).subscribe({next:n=>{switch(n.type){case"INVOICE":n.invoice&&this.openInvoice(n.invoice);break;case"TRANSACTION":this.onInvoiceClosed("paid");break}},error:n=>{console.error("\u041E\u0448\u0438\u0431\u043A\u0430 \u0432\u044B\u0432\u043E\u0434\u0430:",n),this.selectedGifts.clear(),this.isMultiselect=!1}})}openInvoice(e){Telegram.WebApp.openInvoice(e,n=>{this.onInvoiceClosed(n)})}onInvoiceClosed=e=>{(e==="paid"||e==="pending")&&(this.alertService.success("ALERT_WITHDRAW_REQUESTED",3e3),this.isMultiselect=!1,this.gifts=this.gifts.filter(n=>!this.selectedGifts.has(n)),this.selectedGifts.clear(),this.cdr.detectChanges())};navigateToAllTransactions(){return Wt(this,null,function*(){Telegram.WebApp.HapticFeedback.impactOccurred("light"),yield this.router.navigate(["/profile/allTransactions"])})}navigateToCasinoStats(){return Wt(this,null,function*(){Telegram.WebApp.HapticFeedback.impactOccurred("light"),yield this.router.navigate(["/profile/casinoStats"])})}navigateToWithdraws(){return Wt(this,null,function*(){Telegram.WebApp.HapticFeedback.impactOccurred("light"),yield this.router.navigate(["/profile/withdrawals"])})}fetchProfile(){this.profileService.getProfile().subscribe({next:e=>{let n=this.profileService.isNeedDelayProfile;this.gifts=e.gifts.filter(r=>n?!(Date.now()-new Date(r.updatedAt).getTime()<$t.giftUpdateDelay)||v0(r.id):!0).sort((r,i)=>parseFloat(r.priceInfo.price)-parseFloat(i.priceInfo.price)),this.name=e.tgUser.firstName,e.tgUser.username.length>0?this.username="@"+e.tgUser.username:this.username="id"+e.tgUser.tgId,this.photoUrl=e.tgUser.photoUrl,this.balance=r0(e.balance,!0),parseFloat(e.balance)>this.balanceNumber&&(this.updateSubscription.unsubscribe(),this.isBalanceLoading=!1),this.balanceNumber=parseFloat(e.balance),this.playerStats=[{label:"GAMES_PLAYED",value:e.stats.totalGames.toFixed(0)},{label:"TOTAL_WINNINGS",value:`${e.stats.totalWinAmount.toFixed(2)} TON`},{label:"TOP_WIN",value:`${e.stats.maxWinAmount.toFixed(2)} TON`}],this.isLoaded=!0},error:e=>{console.error("Error receiving profile:",e)}})}openGuide(){Telegram.WebApp.HapticFeedback.impactOccurred("light"),Telegram.WebApp.openLink("https://telegra.ph/Dobro-pozhalovat-v-GIFTs-03-29",{try_instant_view:!0})}openChat(){return Wt(this,null,function*(){if(Telegram.WebApp.HapticFeedback.impactOccurred("light"),this.roles.includes("TESTER")){yield this.navigateToCasinoStats();return}Telegram.WebApp.openTelegramLink("https://t.me/GIFTcommunity_chat")})}login(e){if(In.production)return;let n={};n.data=e,this.authService.login(n).subscribe({next:r=>{this.roles=this.authService.getRoles(),this.fetchProfile()},error:r=>{console.error("\u041E\u0448\u0438\u0431\u043A\u0430 \u0430\u0432\u0442\u043E\u0440\u0438\u0437\u0430\u0446\u0438\u0438:",r)}})}onBalanceTap(){Telegram.WebApp.HapticFeedback.impactOccurred("light"),this.walletAddress?this.openDepositModal():this.connectWallet()}connectWallet(){this.tonWalletService.connectWallet()}disconnectWallet(){this.isDisconnectSheetOpen=!0}disconnectWalletSheet(){this.tonWalletService.disconnectWallet(),this.isDisconnectSheetOpen=!1}openDepositModal(){this.isDepositModalOpen=!0}closeDepositModal(){this.isDepositModalOpen=!1}handleDepositSubmitted(e){let n=this.transloco.translate("ALERT_DEPOSIT_SUCCESS",{amount:e});this.alertService.success(n,3e3),this.isBalanceLoading=!0,this.updateSubscription=sd(3e3).subscribe(()=>{this.fetchProfile()})}sellGift(e,n){Telegram.WebApp.HapticFeedback.impactOccurred("light"),this.marketService.sellGift(e.id,n).subscribe({next:r=>{this.gifts=this.gifts.filter(s=>s.id!==e.id),n&&this.alertService.success("ALERT_GIFT_MOVED_TO_CASE_POOL");let i=cp(e.priceInfo.price);!e.isFromGame&&e.type==="UNIQUE"&&(i*=$t.sellGiftCoefficient);let o=this.balanceNumber+i;this.balanceNumber=o,this.balance=Fs(o,!0),this.giftSheet.closeSheet()},error:r=>{this.alertService.error(r.error.message),console.error("Error sell gift:",r)}})}availableSince(e){let n=kc({start:new Date,end:e.canTransferSince});return t0(n,{format:["days","hours","minutes"],locale:z0})}preloadCaseImages(){}trackByGiftId(e,n){return n.id}sologankTgData="user=%7B%22id%22%3A305099646%2C%22first_name%22%3A%22%D0%A1%D0%B0%D0%BD%D1%8F%22%2C%22last_name%22%3A%22%22%2C%22username%22%3A%22sologank%22%2C%22language_code%22%3A%22en%22%2C%22is_premium%22%3Atrue%2C%22allows_write_to_pm%22%3Atrue%2C%22photo_url%22%3A%22https%3A%5C%2F%5C%2Ft.me%5C%2Fi%5C%2Fuserpic%5C%2F320%5C%2FEa6EnyOX-gFV_kaCpeaPI1suorQy0HucpLcU2S7St-4.svg%22%7D&chat_instance=685949427294566051&chat_type=sender&auth_date=1842065494&signature=ADe1j51ctIggamkZNt-LDvE-u9B8wkWdlUhOAUBDx5DvLS1UZp_85JTeMPdPqhBO60L3X3Vh5PDnO8BUv1eKCg&hash=bf1f8a49979fb0fd9c2026d8e8823ea8e7e05fddec602b0ed0498f43ef2f20c8";user2TgData="user=%7B%22id%22%3A7811001990%2C%22first_name%22%3A%22%D0%A1%D1%82%D0%B0%D1%80%D1%81%D1%8B%22%2C%22last_name%22%3A%22%22%2C%22language_code%22%3A%22en%22%2C%22is_premium%22%3Atrue%2C%22allows_write_to_pm%22%3Atrue%2C%22photo_url%22%3A%22https%3A%5C%2F%5C%2Ft.me%5C%2Fi%5C%2Fuserpic%5C%2F320%5C%2FS6BdYIv_kivyu_u4DlgczGBxaY2eU5NHbcxTpZ8nHkUKNk2WN3ln5INWOv-eSk2U.svg%22%7D&chat_instance=7437527462213756911&chat_type=sender&auth_date=1843326630&signature=pTyNQU2PqDJv3F36i69BesFXwDkIl0i84gXS0bB7KRubsmkcIazWyEpP41rX9UuChy0zbWEL0jM-TRr4GnpjCw&hash=9dabddb40ecfebb0385aaa965061c38c87ba51df2d74c44770e2950789906f58";Role=Uo;environment=In;shortAddress=vD;static \u0275fac=function(n){return new(n||t)(ne(Bo),ne(Ol),ne(lo),ne(Pr),ne(or),ne(Fl),ne(ar),ne(Er),ne(qr))};static \u0275cmp=xe({type:t,selectors:[["app-profile"]],viewQuery:function(n,r){if(n&1&&Fn(EJ,5),n&2){let i;Pn(i=Nn())&&(r.giftSheet=i.first)}},decls:36,vars:24,consts:[["giftSheet",""],["noGifts",""],["depositBottomSheet",""],["settingsBottomSheet",""],["disconnectSheet",""],[1,"p-3"],[1,"flex","flex-col","w-full","relative","items-center","mb-8"],[1,"flex","items-center","justify-between","items-start","w-full","mb-4"],[3,"onPlusTap","balance","withDeposit","isLoading"],[1,"absolute","right-0","flex","flex-col","items-end","gap-2"],[1,"bg-white/10","p-2","rounded-xl","font-semibold","cursor-pointer","safari-fix",3,"click"],[1,"fa-solid","fa-circle-info","w-6","h-6"],["class","bg-white/10 p-2 rounded-xl font-semibold cursor-pointer safari-fix",3,"click",4,"ngIf"],["class","px-2 py-2 text-sm bg-white/10 rounded-xl flex items-center max-w-max font-semibold cursor-pointer safari-fix",3,"click",4,"ngIf"],[1,"flex","flex-col","items-center","gap-2","-mt-6"],[1,"relative","size-24","bg-white/10","rounded-2xl","object-cover"],["alt","","class","rounded-2xl w-full h-full object-cover no-interaction",3,"src",4,"ngIf"],[1,"absolute","-bottom-1","-right-1","bg-neutral-700","cursor-pointer","size-9","border-2","border-black","rounded-full","flex","items-center","justify-center",3,"click"],[1,"fa-solid","fa-gear","text-white"],[1,"flex","flex-col","items-center","text-2xl","font-semibold","text-center"],[1,"text-[#6D6D71]","text-sm"],["class","text-sm text-[#3897FF] mt-1 cursor-pointer",3,"click",4,"ngIf"],["class","flex items-center justify-center bg-white/12 mt-1.5 px-3.5 rounded-2xl py-2 font-semibold text-sm cursor-pointer",3,"click",4,"ngIf"],[3,"itemChanged","items"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[4,"ngIf"],[3,"onClose","isOpen"],[3,"gift","type","roles","onClose","onUpgradeTransfer","onSell",4,"ngIf"],[3,"isOpen","onClose",4,"ngIf"],[3,"close","depositSubmitted","isOpen","address"],[1,"p-20"],[1,"fa-solid","fa-comments","w-6","h-6"],[1,"px-2","py-2","text-sm","bg-white/10","rounded-xl","flex","items-center","max-w-max","font-semibold","cursor-pointer","safari-fix",3,"click"],["alt","",1,"rounded-2xl","w-full","h-full","object-cover","no-interaction",3,"src"],[1,"text-sm","text-[#3897FF]","mt-1","cursor-pointer",3,"click"],[1,"fa-solid","fa-link","mr-1"],[1,"flex","items-center","justify-center","bg-white/12","mt-1.5","px-3.5","rounded-2xl","py-2","font-semibold","text-sm","cursor-pointer",3,"click"],[1,"fa-solid","fa-wallet","mr-2"],["class","fixed left-1/2 transform -translate-x-1/2 w-full p-4 bottom-22 z-15",3,"click",4,"ngIf"],[1,"flex","justify-between","items-center"],[1,"text-lg","font-semibold","flex","items-center","mt-5","mb-3","w-full","safari-fix"],[1,"w-full","overflow-y-auto","scrollbar-hide"],[1,"grid","grid-cols-4","gap-3","w-full","p-1"],["class","animate-pulse bg-white/12 rounded-2xl aspect-[88.5/112.5] w-full safari-fix",4,"ngFor","ngForOf"],[1,"animate-pulse","bg-white/12","rounded-2xl","aspect-[88.5/112.5]","w-full","safari-fix"],[4,"ngIf","ngIfElse"],[1,"ml-2","mr-1","text-white/40","font-medium"],[1,"whitespace-nowrap","safari-fix","m-2","px-4","py-1.5","text-sm","bg-blue-200/15","text-blue-300","font-semibold","rounded-2xl","active:opacity-75","transition-opacity",3,"click"],[1,"w-full","overflow-y-auto","scrollbar-hide","safari-fix"],[1,"grid","grid-cols-4","md:grid-cols-5","lg:grid-cols-6","xl:grid-cols-7","gap-3","w-full","p-1"],[3,"click"],[3,"gift","autoplay","canTransferSince","isSelected","onTap",4,"ngFor","ngForOf","ngForTrackBy"],[3,"onTap","gift","autoplay","canTransferSince","isSelected"],[1,"fixed","left-1/2","transform","-translate-x-1/2","w-full","p-4","bottom-22","z-15",3,"click"],[1,"px-2","text-base"],[1,"my-5"],[3,"tableData"],[3,"onInventoryUpdate"],[1,"mb-40"],[3,"onClose","onUpgradeTransfer","onSell","gift","type","roles"],[3,"onAction","onClose","isOpen"]],template:function(n,r){if(n&1){let i=Be();S(0,"div",5)(1,"div",6)(2,"div",7)(3,"app-balance",8),re("onPlusTap",function(){return ue(i),fe(r.onBalanceTap())}),A(),S(4,"div",9)(5,"div",10),re("click",function(){return ue(i),fe(r.openGuide())}),Y(6,"i",11),A(),oe(7,DJ,2,0,"div",12)(8,AJ,3,3,"div",13)(9,MJ,3,3,"div",13)(10,kJ,3,3,"div",13),A()(),S(11,"div",14)(12,"div",15),oe(13,PJ,1,1,"img",16),S(14,"div",17),re("click",function(){return ue(i),fe(r.onSettingsTap())}),Y(15,"i",18),A()(),S(16,"div",19),K(17),S(18,"p",20),K(19),A(),oe(20,NJ,5,3,"div",21)(21,RJ,4,1,"div",22),A()()(),S(22,"app-picker",23),re("itemChanged",function(s){return ue(i),fe(r.selectTab(s))}),A(),S(23,"div",24),oe(24,UJ,6,3,"div",25)(25,GJ,4,1,"div",25)(26,HJ,1,0,"div",26),A(),oe(27,WJ,3,1,"ng-container",27),S(28,"app-bottom-sheet",28,0),re("onClose",function(){return ue(i),fe(r.onSheetClose())}),oe(30,zJ,1,3,"app-gift-details",29),A(),oe(31,qJ,3,2,"app-bottom-sheet",30)(32,KJ,3,2,"app-bottom-sheet",30)(33,YJ,3,2,"app-bottom-sheet",30),S(34,"app-deposit-modal",31),re("close",function(){return ue(i),fe(r.closeDepositModal())})("depositSubmitted",function(s){return ue(i),fe(r.handleDepositSubmitted(s))}),A(),Y(35,"div",32),A()}n&2&&(E(3),O("balance",r.balance)("withDeposit",!0)("isLoading",r.isBalanceLoading),E(4),O("ngIf",!r.roles.includes(r.Role.ADMIN)),E(),O("ngIf",r.roles.includes(r.Role.ADMIN)),E(),O("ngIf",r.roles.includes(r.Role.ADMIN)),E(),O("ngIf",r.roles.includes(r.Role.MODER)),E(3),O("ngIf",r.isLoaded),E(4),Te(" ",r.name," "),E(2),Ie(r.username),E(),O("ngIf",!r.walletAddress),E(),O("ngIf",!!r.walletAddress),E(),O("items",r.pickerItems),E(),O("ngSwitch",r.selectedTab),E(),O("ngSwitchCase",r.ProfileTab.Gifts),E(),O("ngSwitchCase",r.ProfileTab.Stats),E(2),O("ngIf",!r.environment.production),E(),O("isOpen",!!r.selectedGift),E(2),O("ngIf",r.selectedGift),E(),O("ngIf",r.isLoaded),E(),O("ngIf",r.isLoaded),E(),O("ngIf",r.isLoaded),E(),O("isOpen",r.isDepositModalOpen)("address",r.walletAddress))},dependencies:[ii,bl,H0,Qe,bt,ut,to,No,al,tf,Ri,q0,gi,nf,bf,J0,rf,Wf,q1,K1,dt],encapsulation:2})};function QJ(t,e){t&1&&(S(0,"div",6)(1,"button",7),K(2),de(3,"transloco"),A()()),t&2&&(E(2),Te(" ",he(3,1,"GIFT_CASE_ONLY")," "))}function ZJ(t,e){if(t&1){let n=Be();S(0,"app-loading-button",8),re("click",function(){ue(n);let i=Q();return fe(i.buy())}),K(1),de(2,"transloco"),A()}if(t&2){let n=Q();E(),Te(" ",he(2,1,"BUY")+" "+n.formatStringValue(n.gift.priceInfo.price)+" TON"," ")}}var J1=class t{gift;roles=[];isForCasesShown=!1;onClose=new yt;onBuy=new yt;closeSheet(){this.onClose.emit()}buy(){this.onBuy.emit()}get isForCases(){return this.roles.includes("ADMIN")&&this.isForCasesShown?!1:this.gift.status==="FOR_CASES"}formatStringValue=ps;static \u0275fac=function(n){return new(n||t)};static \u0275cmp=xe({type:t,selectors:[["app-gift-buy-details"]],inputs:{gift:"gift",roles:"roles",isForCasesShown:"isForCasesShown"},outputs:{onClose:"onClose",onBuy:"onBuy"},decls:6,vars:4,consts:[[1,"flex","flex-col"],[3,"gift","type"],[1,"absolute","top-3","right-3","cursor-pointer",3,"click"],[1,"fa-solid","fa-xmark","w-6","h-6","fa-xl","text-white/70","p-2"],["class","mx-4 mb-10",4,"ngIf"],["class","mx-4 mb-10",3,"click",4,"ngIf"],[1,"mx-4","mb-10"],[1,"w-full","p-3","bg-neutral-800","text-white","rounded-2xl","text-sm","font-semibold"],[1,"mx-4","mb-10",3,"click"]],template:function(n,r){n&1&&(S(0,"div",0),Y(1,"app-gift-detail-info",1),S(2,"button",2),re("click",function(){return r.closeSheet()}),Y(3,"i",3),A(),oe(4,QJ,4,3,"div",4)(5,ZJ,3,3,"app-loading-button",5),A()),n&2&&(E(),O("gift",r.gift)("type","checkPrice"),E(3),O("ngIf",r.isForCases),E(),O("ngIf",!r.isForCases))},dependencies:[yf,gi,ut,dt],encapsulation:2})};var XJ=["loadTrigger"],A5=()=>[];function eQ(t,e){if(t&1){let n=Be();S(0,"button",20),re("click",function(){ue(n);let i=Q();return fe(i.toggleGiftSource())}),S(1,"span"),K(2),de(3,"transloco"),de(4,"transloco"),A()()}if(t&2){let n=Q();E(2),Te(" ",n.isForCasesGiftsShown?he(3,1,"CASES"):he(4,3,"MARKET")," ")}}function tQ(t,e){t&1&&Y(0,"div",24)}function nQ(t,e){t&1&&(nt(0),S(1,"div",21)(2,"div",22),oe(3,tQ,1,0,"div",23),A()(),rt()),t&2&&(E(3),O("ngForOf",zr(1,A5).constructor(16)))}function rQ(t,e){if(t&1){let n=Be();S(0,"app-gift",28),re("onTap",function(){let i=ue(n).$implicit,o=Q(3);return fe(o.onGiftTap(i))}),A()}if(t&2){let n=e.$implicit;O("gift",n)("autoplay",!1)}}function iQ(t,e){if(t&1){let n=Be();S(0,"app-gift",28),re("onTap",function(){let i=ue(n).$implicit,o=Q(3);return fe(o.onGiftTap(i))}),A()}if(t&2){let n=e.$implicit;O("gift",n)("autoplay",!1)}}function oQ(t,e){if(t&1&&(nt(0),S(1,"div",21)(2,"div",26),oe(3,rQ,1,2,"app-gift",27)(4,iQ,1,2,"app-gift",27),A()(),rt()),t&2){let n=Q(2);E(3),O("ngForOf",n.virtualGifts)("ngForTrackBy",n.trackById),E(),O("ngForOf",n.gifts)("ngForTrackBy",n.trackById)}}function sQ(t,e){t&1&&(S(0,"div",29),K(1," \u0412 \u0434\u0430\u043D\u043D\u044B\u0439 \u043C\u043E\u043C\u0435\u043D\u0442 \u043F\u043E\u0434\u0430\u0440\u043A\u043E\u0432 \u043D\u0435\u0442 \u0432 \u043D\u0430\u043B\u0438\u0447\u0438\u0438 "),A())}function aQ(t,e){t&1&&Y(0,"div",24)}function lQ(t,e){t&1&&(S(0,"div")(1,"div",22),oe(2,aQ,1,0,"div",23),A()()),t&2&&(E(2),O("ngForOf",zr(1,A5).constructor(4)))}function cQ(t,e){if(t&1&&oe(0,oQ,5,4,"ng-container",14)(1,sQ,2,0,"ng-template",null,3,Qt)(3,lQ,3,2,"div",25),t&2){let n=xt(2),r=Q();O("ngIf",r.gifts.length>0)("ngIfElse",n),E(3),O("ngIf",r.isLoadingMore)}}function uQ(t,e){if(t&1){let n=Be();S(0,"app-gift-buy-details",30),re("onClose",function(){ue(n),Q();let i=xt(24);return fe(i.closeSheet())})("onBuy",function(){ue(n);let i=Q(),o=xt(24);return i.onBuyTap(i.selectedGift),fe(o.closeSheet())}),A()}if(t&2){let n=Q();O("gift",n.selectedGift)("roles",n.roles)("isForCasesShown",n.isForCasesGiftsShown)}}var Q1=class t{constructor(e,n,r,i,o,s,a){this.marketService=e;this.alertService=n;this.tonWalletService=r;this.authService=i;this.profileService=o;this.transloco=s;this.cdr=a}isLoaded=!1;isLoadingMore=!1;isForCasesGiftsShown=!1;isBalanceLoading=!1;isDepositModalOpen=!1;balance="0.00";balanceNumber=0;gifts=[];virtualGifts=[];roles=[];selectedGift;walletAddress=null;currentPage=1;pageSize=36;totalItems=0;totalPages=0;sortOrder="desc";loadTrigger;subscription=new nr;updateSubscription=new nr;ngOnInit(){this.fetchUserInfo(),this.fetchGifts(),this.fetchVirtualGifts(),this.roles=this.authService.getRoles()}ngAfterViewInit(){this.setupIntersectionObserver(),this.tonWalletService.initTonConnect(),this.subscription.add(this.tonWalletService.walletAddress$.subscribe(e=>{this.walletAddress=e,console.log(e),this.cdr.detectChanges()}))}ngOnDestroy(){this.subscription.unsubscribe(),this.updateSubscription.unsubscribe()}refresh(){this.currentPage=1,this.gifts=[],this.sortOrder="asc",this.fetchGifts()}fetchGifts(){this.currentPage>1?this.isLoadingMore=!0:this.isLoaded=!1,this.marketService.getGifts(this.currentPage,this.pageSize,this.sortOrder,this.isForCasesGiftsShown).subscribe({next:e=>{this.currentPage===1?this.gifts=e.gifts:this.gifts=[...this.gifts,...e.gifts],this.totalItems=e.pagination.totalCount,this.totalPages=e.pagination.totalPages,this.isLoaded=!0,this.isLoadingMore=!1},error:e=>{console.error("Error receiving market:",e),this.isLoaded=!0,this.isLoadingMore=!1}})}fetchUserInfo(){this.profileService.getUserInfo().subscribe({next:e=>{this.balance=r0(e.balance,!0),parseFloat(e.balance)>this.balanceNumber&&(this.updateSubscription.unsubscribe(),this.isBalanceLoading=!1),this.balanceNumber=parseFloat(e.balance)},error:e=>{console.error("Error user info:",e)}})}setupIntersectionObserver(){if(!this.loadTrigger)return;new IntersectionObserver(n=>{n[0].isIntersecting&&this.loadMore()},{threshold:1}).observe(this.loadTrigger.nativeElement)}loadMore(){this.currentPage<this.totalPages&&(this.currentPage++,this.fetchGifts())}toggleSortOrder(){Telegram.WebApp.HapticFeedback.impactOccurred("light"),this.sortOrder=this.sortOrder==="asc"?"desc":"asc",this.currentPage=1,this.fetchGifts()}toggleGiftSource(){Telegram.WebApp.HapticFeedback.impactOccurred("light"),this.isForCasesGiftsShown=!this.isForCasesGiftsShown,this.currentPage=1,this.fetchGifts()}trackById(e,n){return n.id}onGiftTap(e){Telegram.WebApp.HapticFeedback.impactOccurred("light"),this.selectedGift=e}onBuyTap(e){if(Telegram.WebApp.HapticFeedback.impactOccurred("light"),parseFloat(this.balance)<parseFloat(e.priceInfo.price)){this.alertService.error("ALERT_NOT_ENOUGH_FUNDS");return}e.type==="UNIQUE"?this.buyUniqueGift(e):this.mintGift(e)}onSheetClose(){this.selectedGift=void 0}onBalanceTap(){Telegram.WebApp.HapticFeedback.impactOccurred("light"),this.walletAddress?this.openDepositModal():this.connectWallet()}connectWallet(){this.tonWalletService.connectWallet()}openDepositModal(){this.isDepositModalOpen=!0}closeDepositModal(){this.isDepositModalOpen=!1}handleDepositSubmitted(e){let n=this.transloco.translate("ALERT_DEPOSIT_SUCCESS",{amount:e});this.alertService.success(n,3e3),this.isBalanceLoading=!0,this.updateSubscription=sd(3e3).subscribe(()=>{this.fetchUserInfo()})}fetchVirtualGifts(){this.marketService.getVirtualGifts().subscribe({next:e=>{this.virtualGifts=e.map(n=>({id:n.id,type:"VIRTUAL",title:n.name,status:"AVAILABLE",priceInfo:{price:n.price},backgroundName:"",backgroundRarity:0,modelName:"",modelRarity:0,symbolName:"",symbolRarity:0,isSupported:!0,isFromGame:!1,canTransferSince:new Date,createdAt:new Date,updatedAt:new Date().toISOString()}))},error:e=>{console.error("Error receiving virtual gifts:",e)}})}buyUniqueGift(e){Telegram.WebApp.HapticFeedback.impactOccurred("light"),this.marketService.buyGift(e.id,this.isForCasesGiftsShown).subscribe({next:n=>{g0(e.id),this.gifts=this.gifts.filter(r=>r.id!==e.id),this.alertService.success("ALERT_GIFT_PURCHASED"),this.balance=(parseFloat(this.balance)-parseFloat(e.priceInfo.price)).toFixed(2)},error:n=>{g0(e.id),this.gifts=this.gifts.filter(r=>r.id!==e.id),this.alertService.error("ALERT_GIFT_PURCHASE_ERROR"),console.error("Error buying gift:",n)}})}mintGift(e){Telegram.WebApp.HapticFeedback.impactOccurred("light"),this.marketService.mint(e.id).subscribe({next:n=>{g0(n.giftId),this.alertService.success("ALERT_GIFT_PURCHASED"),this.balance=(parseFloat(this.balance)-parseFloat(e.priceInfo.price)).toFixed(2)},error:n=>{this.alertService.error("ALERT_GIFT_PURCHASE_ERROR"),console.error("Error mint gift:",n)}})}Role=Uo;static \u0275fac=function(n){return new(n||t)(ne(Ol),ne(or),ne(Fl),ne(Pr),ne(Bo),ne(ar),ne(qr))};static \u0275cmp=xe({type:t,selectors:[["app-market"]],viewQuery:function(n,r){if(n&1&&Fn(XJ,5),n&2){let i;Pn(i=Nn())&&(r.loadTrigger=i.first)}},decls:28,vars:22,consts:[["giftsGrid",""],["loadTrigger",""],["bottomSheet",""],["noGifts",""],[1,"p-3"],[3,"onPlusTap","balance","withDeposit","isLoading"],[1,"flex","justify-between","items-end","mb-4","will-change-transform"],[1,"flex","flex-col"],[1,"text-2xl","font-bold","mt-4","mb-1"],[1,"text-[#ABABAB]","text-sm","font-medium","mr-3"],[1,"flex","flex-col","items-end","gap-2","shrink-0"],["class","px-3 py-1 h-10 bg-white/10 font-semibold rounded-xl",3,"click",4,"ngIf"],[1,"px-3","py-1","h-10","bg-white/10","text-sm","font-semibold","rounded-xl","text-sm","flex","items-center","gap-1",3,"click"],[1,"ml-1","text-lg"],[4,"ngIf","ngIfElse"],[1,"h-1"],[3,"onClose","isOpen"],[3,"gift","roles","isForCasesShown","onClose","onBuy",4,"ngIf"],[3,"close","depositSubmitted","isOpen","address"],[1,"p-20"],[1,"px-3","py-1","h-10","bg-white/10","font-semibold","rounded-xl",3,"click"],[1,"w-full","overflow-y-auto","scrollbar-hide"],[1,"grid","grid-cols-4","gap-3","w-full","p-1"],["class","animate-pulse bg-white/12 rounded-2xl aspect-[88.5/112.5] w-full",4,"ngFor","ngForOf"],[1,"animate-pulse","bg-white/12","rounded-2xl","aspect-[88.5/112.5]","w-full"],[4,"ngIf"],[1,"grid","grid-cols-4","md:grid-cols-5","lg:grid-cols-6","xl:grid-cols-7","gap-3","w-full","p-1"],[3,"gift","autoplay","onTap",4,"ngFor","ngForOf","ngForTrackBy"],[3,"onTap","gift","autoplay"],[1,"text-center","p-8","text-[#ABABAB]"],[3,"onClose","onBuy","gift","roles","isForCasesShown"]],template:function(n,r){if(n&1){let i=Be();S(0,"div",4)(1,"app-balance",5),re("onPlusTap",function(){return ue(i),fe(r.onBalanceTap())}),A(),S(2,"div",6)(3,"div",7)(4,"p",8),K(5),de(6,"transloco"),de(7,"transloco"),A(),S(8,"p",9),K(9),de(10,"transloco"),A()(),S(11,"div",10),oe(12,eQ,5,5,"button",11),S(13,"button",12),re("click",function(){return ue(i),fe(r.toggleSortOrder())}),K(14),de(15,"transloco"),S(16,"span",13),K(17),A()()()(),oe(18,nQ,4,2,"ng-container",14)(19,cQ,4,3,"ng-template",null,0,Qt),Y(21,"div",15,1),S(23,"app-bottom-sheet",16,2),re("onClose",function(){return ue(i),fe(r.onSheetClose())}),oe(25,uQ,1,3,"app-gift-buy-details",17),A(),S(26,"app-deposit-modal",18),re("close",function(){return ue(i),fe(r.closeDepositModal())})("depositSubmitted",function(s){return ue(i),fe(r.handleDepositSubmitted(s))}),A(),Y(27,"div",19),A()}if(n&2){let i=xt(20);E(),O("balance",r.balance)("withDeposit",!0)("isLoading",r.isBalanceLoading),E(4),Te(" ",r.isForCasesGiftsShown?he(6,14,"CASES"):he(7,16,"MARKET")," "),E(4),Te(" ",he(10,18,"MARKET_DESCRIPTION")," "),E(3),O("ngIf",r.roles.includes(r.Role.ADMIN)),E(2),Te(" ",he(15,20,"PRICE")," "),E(3),Ie(r.sortOrder==="asc"?"\u2191":"\u2193"),E(),O("ngIf",!r.isLoaded&&r.gifts.length===0)("ngIfElse",i),E(5),O("isOpen",!!r.selectedGift),E(2),O("ngIf",r.selectedGift),E(),O("isOpen",r.isDepositModalOpen)("address",r.walletAddress)}},dependencies:[Qe,bt,ut,ii,Ri,J1,bf,Wf,dt],encapsulation:2})};var fQ=["scrollContainer"];function dQ(t,e){if(t&1&&Y(0,"app-gift",23),t&2){let n=e.$implicit;O("gift",n)("type","small")}}var Z1=class t{constructor(e,n){this.scrollService=e;this.router=n}vm;fairnessTap=new yt;scrollContainer;isDragging=!1;startX=0;scrollLeft=0;ngAfterViewInit(){setTimeout(()=>{this.initDragScroll()},40)}winnerName(){let e=this.vm.winner?.tgUser?.username;return e&&e.length>0?e:"id"+this.vm.winner?.tgId}onItemTap(){return Wt(this,null,function*(){this.scrollService.saveScrollPosition("history"),yield this.router.navigate(["/jackpot/history/game",this.vm.gameNumber])})}onFairnessTap(e){e.stopPropagation(),this.fairnessTap.emit(this.vm.gameNumber)}initDragScroll(){let e=this.scrollContainer.nativeElement;e.addEventListener("mousedown",n=>{this.isDragging=!0,e.classList.add("active"),this.startX=n.pageX-e.offsetLeft,this.scrollLeft=e.scrollLeft}),e.addEventListener("mouseleave",()=>{this.isDragging=!1,e.classList.remove("active")}),e.addEventListener("mouseup",()=>{this.isDragging=!1,e.classList.remove("active")}),e.addEventListener("mousemove",n=>{if(!this.isDragging)return;n.preventDefault();let i=(n.pageX-e.offsetLeft-this.startX)*2.5;e.scrollLeft=this.scrollLeft-i}),e.style.userSelect="none"}static \u0275fac=function(n){return new(n||t)(ne(oi),ne(Er))};static \u0275cmp=xe({type:t,selectors:[["app-history-item"]],viewQuery:function(n,r){if(n&1&&Fn(fQ,5),n&2){let i;Pn(i=Nn())&&(r.scrollContainer=i.first)}},inputs:{vm:"vm"},outputs:{fairnessTap:"fairnessTap"},decls:29,vars:8,consts:[["scrollContainer",""],[1,"w-full","bg-white/8","p-3","mb-3","rounded-2xl","cursor-pointer","safari-fix",3,"click"],[1,"flex","justify-between","mb-2"],[1,"flex","items-center","gap-3"],[1,"relative","bg-[#1A1A1A]","rounded-lg","w-11","aspect-square","overflow-hidden"],[1,"w-full","h-full","object-cover","no-interaction",3,"src","alt"],[1,"flex","gap-1","items-center","text-sm"],[1,"text-gray-300","font-medium"],[1,"fa-solid","fa-trophy","text-yellow-400"],[1,"text-xs","text-purple-400","px-1","font-semibold"],[1,"fa-solid","fa-bolt","mr-1"],[1,"flex","gap-[clamp(0.25rem,1.5vw,0.5rem)]","items-center","text-sm"],[1,"flex","items-center","gap-1.5"],[1,"font-semibold","text-[#4396E3]","text-sm"],["width","16","height","16","viewBox","0 0 24 24","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M12 24c6.627 0 12 -5.373 12 -12S18.627 0 12 0 0 5.373 0 12s5.373 12 12 12","fill","#0098EA"],["d","M16.097 6.699H7.903c-1.507 0 -2.463 1.625 -1.704 2.939l5.058 8.766a0.86 0.86 0 0 0 1.487 0l5.059 -8.766c0.757 -1.311 -0.198 -2.939 -1.704 -2.939zm-4.845 9.076 -1.101 -2.132 -2.658 -4.754a0.464 0.464 0 0 1 0.408 -0.693h3.351v7.581zm5.252 -6.885 -2.657 4.755 -1.101 2.131V8.196h3.351a0.464 0.464 0 0 1 0.408 0.693","fill","white"],[1,"text-sm","text-white/70","py-1","ml-2","mr-1","font-semibold"],[1,"fa-solid","fa-gift","mr-0.5"],[1,"text-white/50","text-sm","font-semibold"],[1,"flex","items-end","gap-5"],[1,"flex","flex-row","overflow-x-auto","gap-1.5","scrollbar-hide","scroll-smooth","cursor-default",3,"click"],["class","w-16 shrink-0",3,"gift","type",4,"ngFor","ngForOf"],[1,"w-16","shrink-0",3,"gift","type"]],template:function(n,r){if(n&1){let i=Be();S(0,"div",1),re("click",function(){return ue(i),fe(r.onItemTap())}),S(1,"div",2)(2,"div",3)(3,"div",4),Y(4,"img",5),A(),S(5,"div")(6,"div",6)(7,"span",7),Y(8,"i",8),K(9),A(),S(10,"span",9),Y(11,"i",10),K(12),A()(),S(13,"div",11)(14,"div",12)(15,"span",13),K(16),A(),qn(),S(17,"svg",14),Y(18,"path",15)(19,"path",16),A()(),ti(),S(20,"span",17),Y(21,"i",18),K(22),A()()()(),S(23,"span",19),K(24),A()(),S(25,"div",20)(26,"div",21,0),re("click",function(s){return ue(i),fe(s.stopPropagation())}),oe(28,dQ,1,2,"app-gift",22),A()()()}n&2&&(E(4),O("src",r.vm.winner==null||r.vm.winner.tgUser==null?null:r.vm.winner.tgUser.photoUrl,Gn)("alt","Avatar"),E(5),Te(" ",r.winnerName()," "),E(3),Te("",r.vm.winnerChance.toFixed(2)+"%"," "),E(4),Ie(r.vm.winnerAmount.toFixed(2)),E(6),Te(" ",r.vm.winnerGifts.length," "),E(2),Ie("#"+r.vm.gameNumber),E(4),O("ngForOf",r.vm.winnerGifts))},dependencies:[bt,ii],encapsulation:2})};var zf=class t{constructor(e){this.http=e}apiUrl=`${In.apiUrl}/jackpot`;getHistory(e,n){let r=`${this.apiUrl}/history`,i={"Content-Type":"application/json"},o=new ri().set("page",e.toString()).set("pageSize",n.toString());return this.http.get(r,{params:o,headers:i})}getFairness(e){let n=`${this.apiUrl}/${e}/fairness`,r={"Content-Type":"application/json"};return this.http.get(n,{headers:r})}static \u0275fac=function(n){return new(n||t)(Je(Sr))};static \u0275prov=Ve({token:t,factory:t.\u0275fac,providedIn:"root"})};var qf=class t{games=[];constructor(){}mapHistory(e,n){return n===1?this.setGames(e):this.setGames([...this.games,...e]),e.map(r=>{let i=parseFloat(r.totalBetAmount??"0");if(!r.winner){let u=r.bets.flatMap(f=>f.gifts).sort((f,d)=>parseFloat(d.priceInfo.price)-parseFloat(f.priceInfo.price));return{gameNumber:r.id,fairness:r.fairness,winner:null,winnerGifts:u,winnerChance:7,winnerAmount:i}}let o=[...r.winnerGifts,...r.giftsFromMarket],s=o.reduce((u,f)=>u+parseFloat(f.priceInfo.price),0);s+=parseFloat(r.winnerAmount);let a=r.bets.filter(u=>u.user.id===r.winner?.id).reduce((u,f)=>u+parseFloat(f.betAmount),0),l=i>0?a/i*100:0,c=o.sort((u,f)=>parseFloat(f.priceInfo.price)-parseFloat(u.priceInfo.price));return{gameNumber:r.id,fairness:r.fairness,winner:r.winner,winnerGifts:c,winnerChance:l,winnerAmount:s}})}setGames(e){this.games=e,localStorage.setItem("jackpotGames",JSON.stringify(e))}loadFromLocalStorage(){let e=localStorage.getItem("jackpotGames");e&&(this.games=JSON.parse(e))}game(e){return this.loadFromLocalStorage(),console.log("Games: ",this.games),this.games.find(n=>n.id===e)}static \u0275fac=function(n){return new(n||t)};static \u0275prov=Ve({token:t,factory:t.\u0275fac,providedIn:"root"})};var pQ=["loadTrigger"],hQ=()=>[1,2,3,4,5];function mQ(t,e){t&1&&Y(0,"div",8)}function gQ(t,e){t&1&&(nt(0),oe(1,mQ,1,0,"div",7),rt()),t&2&&(E(),O("ngForOf",zr(1,hQ)))}function vQ(t,e){if(t&1){let n=Be();S(0,"app-history-item",11),re("fairnessTap",function(i){ue(n);let o=Q(2);return fe(o.fairnessTap(i))}),A()}if(t&2){let n=e.$implicit;O("vm",n)}}function yQ(t,e){t&1&&(S(0,"div"),Y(1,"div",8),A())}function bQ(t,e){if(t&1&&oe(0,vQ,1,1,"app-history-item",9)(1,yQ,2,0,"div",10),t&2){let n=Q();O("ngForOf",n.historyVM)("ngForTrackBy",n.trackById),E(),O("ngIf",n.isLoadingMore)}}var X1=class t{constructor(e,n,r){this.historyService=e;this.historyMapper=n;this.scrollService=r}historyVM=[];fairnessGameNumber=void 0;isLoaded=!1;isLoadingMore=!1;currentPage=1;pageSize=10;totalItems=0;totalPages=0;loadTrigger;ngOnInit(){this.fetchHistory()}ngAfterViewInit(){this.setupIntersectionObserver()}ngOnDestroy(){}refresh(){this.scrollService.restoreScrollPosition("history")}fetchHistory(){this.currentPage>1?this.isLoadingMore=!0:this.isLoaded=!1,this.historyService.getHistory(this.currentPage,this.pageSize).subscribe({next:e=>{let n=e.games.filter(i=>Date.now()-new Date(i.startedAt).getTime()>In.gameDurationSeconds*1e3+$t.giftUpdateDelay),r=this.historyMapper.mapHistory(n,this.currentPage);this.currentPage===1?this.historyVM=r:this.historyVM=[...this.historyVM,...r],this.totalItems=e.pagination.totalCount,this.totalPages=e.pagination.totalPages,this.isLoaded=!0,this.isLoadingMore=!1},error:e=>{console.error("Error receiving history:",e),this.isLoaded=!0,this.isLoadingMore=!1}})}trackById(e,n){return n.gameNumber}fairnessTap(e){this.fairnessGameNumber=e}setupIntersectionObserver(){if(!this.loadTrigger)return;new IntersectionObserver(n=>{n[0].isIntersecting&&this.loadMore()},{threshold:1}).observe(this.loadTrigger.nativeElement)}loadMore(){this.currentPage<this.totalPages&&(this.currentPage++,this.fetchHistory())}static \u0275fac=function(n){return new(n||t)(ne(zf),ne(qf),ne(oi))};static \u0275cmp=xe({type:t,selectors:[["app-history"]],viewQuery:function(n,r){if(n&1&&Fn(pQ,5),n&2){let i;Pn(i=Nn())&&(r.loadTrigger=i.first)}},decls:10,vars:5,consts:[["historyList",""],["loadTrigger",""],[1,"p-3","will-change-transform"],[1,"text-2xl","font-bold","mb-4","safari-fix"],[4,"ngIf","ngIfElse"],[1,"h-1"],[1,"mb-40"],["class","animate-pulse bg-white/12 mb-3 rounded-2xl h-39 w-full",4,"ngFor","ngForOf"],[1,"animate-pulse","bg-white/12","mb-3","rounded-2xl","h-39","w-full"],[3,"vm","fairnessTap",4,"ngFor","ngForOf","ngForTrackBy"],[4,"ngIf"],[3,"fairnessTap","vm"]],template:function(n,r){if(n&1&&(S(0,"div",2)(1,"p",3),K(2),de(3,"transloco"),A(),oe(4,gQ,2,2,"ng-container",4)(5,bQ,2,3,"ng-template",null,0,Qt),Y(7,"div",5,1)(9,"div",6),A()),n&2){let i=xt(6);E(2),Ie(he(3,3,"ROUNDS_HISTORY")),E(2),O("ngIf",!r.isLoaded)("ngIfElse",i)}},dependencies:[Z1,Qe,bt,ut,dt],encapsulation:2})};function ev(t,e){if(t.size!==e.size)return!1;for(let n of t)if(!e.has(n))return!1;return!0}function wQ(t,e){if(t&1&&(S(0,"span"),K(1),de(2,"transloco"),A()),t&2){let n=Q();E(),Te(" "," ("+he(2,1,n.vm.status)+")"," ")}}function CQ(t,e){if(t&1){let n=Be();S(0,"app-gift",28),re("onTap",function(){let i=ue(n).$implicit,o=Q();return fe(o.onGiftTap(i))}),A()}if(t&2){let n=e.$implicit;O("gift",n)("type","small")}}function _Q(t,e){if(t&1){let n=Be();S(0,"div",29),re("click",function(){ue(n);let i=Q();return fe(i.action.emit(i.WithdrawalComponentAction.Process))}),S(1,"span",30),K(2,"\u041F\u0440\u0438\u0441\u0442\u0443\u043F\u0438\u0442\u044C"),A(),Y(3,"i",31),A()}}function xQ(t,e){if(t&1){let n=Be();S(0,"div",32),re("click",function(){ue(n);let i=Q();return fe(i.action.emit(i.WithdrawalComponentAction.Complete))}),S(1,"span",30),K(2,"\u0413\u043E\u0442\u043E\u0432\u043E"),A(),Y(3,"i",33),A()}}function SQ(t,e){if(t&1){let n=Be();S(0,"div",34),re("click",function(){ue(n);let i=Q();return fe(i.action.emit(i.WithdrawalComponentAction.Reject))}),S(1,"span",30),K(2,"\u041E\u0442\u043A\u043B\u043E\u043D\u0438\u0442\u044C"),A(),Y(3,"i",35),A()}}var _x=(r=>(r[r.Process=0]="Process",r[r.Complete=1]="Complete",r[r.Reject=2]="Reject",r))(_x||{}),tv=class t{constructor(e,n){this.alertService=e;this.transactionService=n}vm;action=new yt;shortHash=i0;copyId(){navigator.clipboard.writeText(this.vm.id).then(()=>{this.alertService.success("ALERT_ID_COPIED")}).catch(e=>{console.error("\u041E\u0448\u0438\u0431\u043A\u0430 \u043F\u0440\u0438 \u043A\u043E\u043F\u0438\u0440\u043E\u0432\u0430\u043D\u0438\u0438:",e)})}copyUsername(){navigator.clipboard.writeText(this.vm.username).then(()=>{this.alertService.success("ALERT_USERNAME_COPIED")}).catch(e=>{console.error("\u041E\u0448\u0438\u0431\u043A\u0430 \u043F\u0440\u0438 \u043A\u043E\u043F\u0438\u0440\u043E\u0432\u0430\u043D\u0438\u0438:",e)})}openProfile(){let e=`https://t.me/${this.vm.username}`;Telegram.WebApp.openTelegramLink(e)}onGiftTap(e){this.transactionService.getGiftSender(e.id).subscribe({next:n=>{navigator.clipboard.writeText(n.tgId).catch(i=>{console.error("\u041E\u0448\u0438\u0431\u043A\u0430 \u043F\u0440\u0438 \u043A\u043E\u043F\u0438\u0440\u043E\u0432\u0430\u043D\u0438\u0438:",i)}),this.alertService.info(`@${n.username} ${n.tgId}`,4e3);let r=`https://t.me/${n.username}`;Telegram.WebApp.openTelegramLink(r)},error:n=>{this.alertService.error(n.message)}})}WithdrawalComponentAction=_x;static \u0275fac=function(n){return new(n||t)(ne(or),ne(lo))};static \u0275cmp=xe({type:t,selectors:[["app-withdrawal"]],inputs:{vm:"vm"},outputs:{action:"action"},decls:34,vars:13,consts:[[1,"flex","flex-col","w-full","bg-white/8","p-3","mb-4","rounded-2xl"],[1,"flex","w-full","justify-between","mb-2"],[1,"flex","items-center","gap-2.5","shrink-0"],[1,"relative","bg-[#1A1A1A]","rounded-lg","w-10","aspect-square","cursor-pointer","overflow-hidden",3,"click"],[1,"w-full","h-full","object-cover","no-interaction",3,"src","alt"],[1,"flex","flex-col","shrink-0"],[1,"text-gray-300","font-medium","cursor-pointer",3,"click"],[1,"text-white/50","text-xs","font-medium"],[4,"ngIf"],[1,"flex","gap-1","items-center"],[1,"text-sm","text-green-400","py-1","font-semibold"],[1,"fa-solid","fa-down","mr-1"],[1,"text-sm","text-red-400","py-1","px-2","font-semibold"],[1,"fa-solid","fa-up","mr-1"],[1,"flex","flex-col","items-end","gap-1"],[1,"text-white/50","text-xs","font-semibold","cursor-pointer",3,"click"],[1,"flex","items-center","max-w-max"],[1,"font-semibold","mr-2"],["width","22","height","22","viewBox","0 0 24 24","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M12 24c6.627 0 12 -5.373 12 -12S18.627 0 12 0 0 5.373 0 12s5.373 12 12 12","fill","#0098EA"],["d","M16.097 6.699H7.903c-1.507 0 -2.463 1.625 -1.704 2.939l5.058 8.766a0.86 0.86 0 0 0 1.487 0l5.059 -8.766c0.757 -1.311 -0.198 -2.939 -1.704 -2.939zm-4.845 9.076 -1.101 -2.132 -2.658 -4.754a0.464 0.464 0 0 1 0.408 -0.693h3.351v7.581zm5.252 -6.885 -2.657 4.755 -1.101 2.131V8.196h3.351a0.464 0.464 0 0 1 0.408 0.693","fill","white"],[1,"flex","items-end","gap-5"],[1,"flex","flex-row","overflow-x-auto","gap-2","w-full","scrollbar-hide"],["class","w-18 shrink-0 cursor-pointer",3,"gift","type","onTap",4,"ngFor","ngForOf"],[1,"flex","justify-between","gap-4"],["class","w-full bg-white/20 p-3 mt-4 flex items-center justify-center active:opacity-50 touch:opacity-50 cursor-pointer rounded-2xl",3,"click",4,"ngIf"],["class","w-full bg-[#9BC3B4]/20 p-3 mt-4 flex items-center justify-center active:opacity-50 touch:opacity-50 cursor-pointer rounded-2xl",3,"click",4,"ngIf"],["class","w-full bg-[#E08B8B]/20 p-3 mt-4 flex items-center justify-center active:opacity-50 touch:opacity-50 cursor-pointer rounded-2xl",3,"click",4,"ngIf"],[1,"w-18","shrink-0","cursor-pointer",3,"onTap","gift","type"],[1,"w-full","bg-white/20","p-3","mt-4","flex","items-center","justify-center","active:opacity-50","touch:opacity-50","cursor-pointer","rounded-2xl",3,"click"],[1,"font-semibold","text-sm","text-white","mr-2"],[1,"fa-solid","fa-play","text-white/80"],[1,"w-full","bg-[#9BC3B4]/20","p-3","mt-4","flex","items-center","justify-center","active:opacity-50","touch:opacity-50","cursor-pointer","rounded-2xl",3,"click"],[1,"fa-solid","fa-check","text-[#00FF95]/80"],[1,"w-full","bg-[#E08B8B]/20","p-3","mt-4","flex","items-center","justify-center","active:opacity-50","touch:opacity-50","cursor-pointer","rounded-2xl",3,"click"],[1,"fa-solid","fa-xmark-large","text-[#FF1A1A]/80"]],template:function(n,r){n&1&&(S(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),re("click",function(){return r.openProfile()}),Y(4,"img",4),A(),S(5,"div",5)(6,"span",6),re("click",function(){return r.copyUsername()}),K(7),A(),S(8,"span",7),K(9),oe(10,wQ,3,3,"span",8),A(),S(11,"div",9)(12,"span",10),Y(13,"i",11),K(14),A(),S(15,"span",12),Y(16,"i",13),K(17),A()()()(),S(18,"div",14)(19,"span",15),re("click",function(){return r.copyId()}),K(20),A(),S(21,"div",16)(22,"span",17),K(23),A(),qn(),S(24,"svg",18),Y(25,"path",19)(26,"path",20),A()()()(),ti(),S(27,"div",21)(28,"div",22),oe(29,CQ,1,2,"app-gift",23),A()(),S(30,"div",24),oe(31,_Q,4,0,"div",25)(32,xQ,4,0,"div",26)(33,SQ,4,0,"div",27),A()()),n&2&&(E(4),O("src",r.vm.photoUrl,Gn)("alt","Avatar"),E(3),Ie(r.vm.userInfo),E(2),Te(" ",r.vm.date," "),E(),O("ngIf",r.vm.status.length>0),E(4),Te(" ",r.vm.depositAmount," "),E(3),Te(" ",r.vm.withdrawnAmount," "),E(3),Ie(r.shortHash(r.vm.id)),E(3),Ie(r.vm.amount),E(6),O("ngForOf",r.vm.gifts),E(2),O("ngIf",r.vm.isProcessButtonShown),E(),O("ngIf",r.vm.isCompleteButtonShown),E(),O("ngIf",r.vm.isRejectButtonShown))},dependencies:[Qe,bt,ut,ii,dt],encapsulation:2})};var EQ=["loadTrigger"],TQ=["searchInput"];function IQ(t,e){if(t&1){let n=Be();S(0,"button",23),re("click",function(){ue(n);let i=Q();return fe(i.onClear())}),Y(1,"i",24),A()}}function DQ(t,e){t&1&&Y(0,"div",25)}function AQ(t,e){if(t&1){let n=Be();S(0,"app-bottom-sheet",26,2),re("onClose",function(){ue(n);let i=Q();return fe(i.onFiltersClose())}),A()}if(t&2){let n=Q();O("isOpen",n.isFiltersOpen)}}function MQ(t,e){if(t&1){let n=Be();S(0,"div")(1,"app-withdrawal",27),re("action",function(i){let o=ue(n).$implicit,s=Q();return fe(s.handleAction(i,o.id))}),A()()}if(t&2){let n=e.$implicit;E(),O("vm",n)}}function kQ(t,e){t&1&&(S(0,"div",28)(1,"p",29),K(2,"\u0417\u0430\u0433\u0440\u0443\u0437\u043A\u0430..."),A()())}var nv=class t{constructor(e,n,r){this.transactionsService=e;this.transactionsMapper=n;this.transloco=r}withdrawalsVM=[];page=1;pageSize=50;totalPages=1;isLoading=!1;isLoaded=!1;isFiltersOpen=!1;selectedStatuses=new Set(["PENDING","PROCESSING","REJECTED","CANCELLED","COMPLETED"]);lastSelectedStatuses=new Set;searchTerm="";loadTrigger;searchInput;ngOnInit(){this.fetchWithdrawals()}ngOnDestroy(){}ngAfterViewInit(){this.setupIntersectionObserver()}handleAction(e,n){switch(e){case 0:this.processWithdrawal(n);break;case 1:this.completeWithdrawal(n);break;case 2:this.rejectWithdrawal(n);break}}onFiltersClose(){this.isFiltersOpen=!1,ev(this.selectedStatuses,this.lastSelectedStatuses)||this.updateWithdrawals()}onSearch(){this.updateWithdrawals()}blurInput(){this.searchInput?.nativeElement?.blur()}onClear(){this.searchTerm="",this.updateWithdrawals()}updateWithdrawals(){this.page=1,this.totalPages=1,this.withdrawalsVM=[],this.fetchWithdrawals()}fetchWithdrawals(){this.isLoading||this.page>this.totalPages||(this.isLoading=!0,this.lastSelectedStatuses=new Set(this.selectedStatuses),this.transactionsService.getWithdrawals(this.page,this.pageSize,this.selectedStatuses,this.searchTerm).subscribe({next:e=>{this.withdrawalsVM.push(...this.mapTransactions(e.transactions)),this.totalPages=e.totalPages,this.page++,this.isLoading=!1,this.isLoaded=!0},error:e=>{console.error("\u041E\u0448\u0438\u0431\u043A\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043A\u0438 \u0442\u0440\u0430\u043D\u0437\u0430\u043A\u0446\u0438\u0439:",e.error.message),this.isLoading=!1,this.isLoaded=!0}}))}processWithdrawal(e){this.transactionsService.processWithdrawal(e).subscribe({next:n=>{this.updateWithdrawals()},error:n=>{console.error("\u041E\u0448\u0438\u0431\u043A\u0430 \u0442\u0440\u0430\u043D\u0437\u0430\u043A\u0446\u0438\u0438:",n.response.message)}})}completeWithdrawal(e){this.transactionsService.completeWithdrawal(e).subscribe({next:n=>{this.updateWithdrawals()},error:n=>{console.error("\u041E\u0448\u0438\u0431\u043A\u0430 \u0442\u0440\u0430\u043D\u0437\u0430\u043A\u0446\u0438\u0438:",n.response.message)}})}rejectWithdrawal(e){this.transactionsService.rejectWithdrawal(e).subscribe({next:n=>{this.updateWithdrawals()},error:n=>{console.error("\u041E\u0448\u0438\u0431\u043A\u0430 \u0442\u0440\u0430\u043D\u0437\u0430\u043A\u0446\u0438\u0438:",n.response.message)}})}setupIntersectionObserver(){if(!this.loadTrigger)return;new IntersectionObserver(n=>{n[0].isIntersecting&&this.fetchWithdrawals()},{threshold:1}).observe(this.loadTrigger.nativeElement)}mapTransactions(e){let n=[];for(let r of e){let i=`@${r.user.tgUser.username}`;r.user.tgUser.username==""&&(i=r.user.tgUser.tgId);let o=this.transloco.getActiveLang(),s=Lo(r.createdAt,o),a=this.transactionsMapper.getTransactionStatus(r.status),l={id:r.id,photoUrl:r.user.tgUser.photoUrl,username:r.user.tgUser.username,userInfo:i,amount:Jr(r.amount),date:s,status:a,gifts:r.gifts,depositAmount:Jr(r.user.depositAmount),withdrawnAmount:Jr(r.user.withdrawnAmount),isProcessButtonShown:r.status=="PENDING",isCompleteButtonShown:r.status=="PROCESSING",isRejectButtonShown:r.status=="PENDING"||r.status=="PROCESSING"};n.push(l)}return n}static \u0275fac=function(n){return new(n||t)(ne(lo),ne(Vs),ne(ar))};static \u0275cmp=xe({type:t,selectors:[["app-withdrawals"]],viewQuery:function(n,r){if(n&1&&(Fn(EQ,5),Fn(TQ,5)),n&2){let i;Pn(i=Nn())&&(r.loadTrigger=i.first),Pn(i=Nn())&&(r.searchInput=i.first)}},decls:24,vars:6,consts:[["searchInput",""],["loadTrigger",""],["bottomSheet",""],[1,"p-3","flex","flex-col","h-screen",3,"click"],[1,"text-2xl","font-bold","safari-fix"],[1,"flex","justify-between","my-4"],[1,"relative","w-full"],[1,"absolute","left-3","top-1/2","-translate-y-1/2","p-1","fa-solid","fa-search","text-white/60"],[3,"ngSubmit","click"],["type","text","name","search","placeholder","\u041F\u043E\u0438\u0441\u043A username",1,"w-full","p-3","pr-14","pl-10","border","border-white/25","rounded-xl","focus:outline-none","focus:border-white/60",3,"ngModelChange","ngModel"],[1,"absolute","right-2","top-1/2","-translate-y-1/2","flex"],["type","button","class","w-fit py-1 px-3",3,"click",4,"ngIf"],["type","button",1,"bg-white/10","rounded-2xl","w-fit","py-1","px-3","cursor-pointer",3,"click"],[1,"font-medium","text-sm"],[1,"relative","cursor-pointer","ml-3","bg-white/10","aspect-square","size-12","rounded-xl","flex","justify-center","items-center",3,"click"],[1,"fa-solid","fa-filter","fa-lg"],["class","absolute bottom-0 right-0 bg-white/50 size-3 rounded-full ",4,"ngIf"],[3,"isOpen","onClose",4,"ngIf"],[1,"flex-1","overflow-y-auto","scrollbar-hide"],[4,"ngFor","ngForOf"],[1,"h-1"],["class","text-center mt-4",4,"ngIf"],[1,"mb-60"],["type","button",1,"w-fit","py-1","px-3",3,"click"],[1,"fa-solid","fa-xmark","fa-lg","text-white/60"],[1,"absolute","bottom-0","right-0","bg-white/50","size-3","rounded-full"],[3,"onClose","isOpen"],[3,"action","vm"],[1,"text-center","mt-4"],[1,"text-sm","text-gray-400"]],template:function(n,r){if(n&1){let i=Be();S(0,"div",3),re("click",function(){return ue(i),fe(r.blurInput())}),S(1,"p",4),K(2,"\u0412\u044B\u0432\u043E\u0434"),A(),S(3,"div",5)(4,"div",6),Y(5,"i",7),S(6,"form",8),re("ngSubmit",function(){return ue(i),fe(r.onSearch())})("click",function(s){return ue(i),fe(s.stopPropagation())}),S(7,"input",9,0),ki("ngModelChange",function(s){return ue(i),Ui(r.searchTerm,s)||(r.searchTerm=s),fe(s)}),A()(),S(9,"div",10),oe(10,IQ,2,0,"button",11),S(11,"button",12),re("click",function(){return ue(i),fe(r.onSearch())}),S(12,"span",13),K(13,"\u041F\u043E\u0438\u0441\u043A"),A()()()(),S(14,"div",14),re("click",function(){return ue(i),fe(r.isFiltersOpen=!0)}),Y(15,"i",15),oe(16,DQ,1,0,"div",16),A()(),oe(17,AQ,2,1,"app-bottom-sheet",17),S(18,"div",18),oe(19,MQ,2,1,"div",19),Y(20,"div",20,1),oe(22,kQ,3,0,"div",21),Y(23,"div",22),A()()}n&2&&(E(7),Mi("ngModel",r.searchTerm),E(3),O("ngIf",r.searchTerm.length>0),E(6),O("ngIf",r.selectedStatuses.size>2),E(),O("ngIf",r.isLoaded),E(2),O("ngForOf",r.withdrawalsVM),E(3),O("ngIf",r.isLoading))},dependencies:[Ri,Qe,bt,ut,jo,ao,Fi,oo,so,So,xo,tv],encapsulation:2})};function PQ(t,e){t&1&&(nt(0),S(1,"div",13),Y(2,"i",14),A(),rt())}function NQ(t,e){t&1&&Y(0,"div",13)}function RQ(t,e){if(t&1){let n=Be();S(0,"div",6),re("click",function(){let i=ue(n).$implicit,o=Q();return fe(o.typeTap(i))}),S(1,"div",7)(2,"div",8),Y(3,"i",9),A(),S(4,"div",10)(5,"p",11),K(6),de(7,"transloco"),A()()(),oe(8,PQ,3,0,"ng-container",12)(9,NQ,1,0,"ng-template",null,0,Qt),A()}if(t&2){let n=e.$implicit,r=xt(10),i=Q();E(2),O("ngClass",i.getTransactionBackground(n)),E(),O("ngClass",i.getTransactionIcon(n)),E(3),Ie(he(7,5,i.getTransactionTitle(n))),E(2),O("ngIf",i.selectedTransactionTypes.has(n))("ngIfElse",r)}}var rv=class t{constructor(e){this.transactionsMapper=e}selectedTransactionTypes=new Set;onClose=new yt;allTransactionTypes=Object.values(wf);typeTap(e){this.selectedTransactionTypes.has(e)?this.selectedTransactionTypes.delete(e):this.selectedTransactionTypes.add(e)}getTransactionIcon(e){return this.transactionsMapper.getTransactionIcon(e,"COMPLETED")}getTransactionBackground(e){return this.transactionsMapper.getTransactionBackground(e,"COMPLETED")}getTransactionTitle(e){return this.transactionsMapper.getTransactionTitle(e)}static \u0275fac=function(n){return new(n||t)(ne(Vs))};static \u0275cmp=xe({type:t,selectors:[["app-transaction-type-filters"]],inputs:{selectedTransactionTypes:"selectedTransactionTypes"},outputs:{onClose:"onClose"},decls:6,vars:1,consts:[["noCheckMark",""],[1,"p-3","min-h-[40vh]"],[1,"text-xl","font-semibold","my-4"],[1,"absolute","top-3","right-3","cursor-pointer",3,"click"],[1,"fa-solid","fa-xmark","w-6","h-6","fa-xl","text-white/70","p-2"],["class","flex items-center justify-between mb-3 pb-3 border-b border-white/15",3,"click",4,"ngFor","ngForOf"],[1,"flex","items-center","justify-between","mb-3","pb-3","border-b","border-white/15",3,"click"],[1,"flex","items-center","gap-2"],[1,"relative","w-11","h-11","rounded-xl","flex","justify-center","items-center",3,"ngClass"],[3,"ngClass"],[1,"flex","flex-col","gap-1","ml-1"],[1,"font-medium"],[4,"ngIf","ngIfElse"],[1,"ml-3","border-2","border-white/10","size-8","aspect-square","p-1","rounded-xl","flex","justify-center","items-center"],[1,"fa-solid","fa-check","text-white/70"]],template:function(n,r){n&1&&(S(0,"div",1)(1,"h1",2),K(2,"\u0424\u0438\u043B\u044C\u0442\u0440\u044B"),A(),S(3,"button",3),re("click",function(){return r.onClose.emit()}),Y(4,"i",4),A(),oe(5,RQ,11,7,"div",5),A()),n&2&&(E(5),O("ngForOf",r.allTransactionTypes))},dependencies:[Qe,Mn,bt,ut,dt],encapsulation:2})};var FQ=["loadTrigger"],OQ=["searchInput"];function LQ(t,e){if(t&1){let n=Be();S(0,"button",23),re("click",function(){ue(n);let i=Q();return fe(i.onClear())}),Y(1,"i",24),A()}}function VQ(t,e){t&1&&Y(0,"div",25)}function $Q(t,e){if(t&1){let n=Be();S(0,"app-bottom-sheet",26,2),re("onClose",function(){ue(n);let i=Q();return fe(i.onFiltersClose())}),S(2,"app-transaction-type-filters",27),re("onClose",function(){ue(n);let i=xt(1);return fe(i.closeSheet())}),A()()}if(t&2){let n=Q();O("isOpen",n.isFiltersOpen),E(2),O("selectedTransactionTypes",n.selectedTransactionTypes)}}function BQ(t,e){if(t&1&&(S(0,"span"),K(1),de(2,"transloco"),A()),t&2){let n=Q().$implicit;E(),Te(" "," ("+he(2,1,n.status)+")"," ")}}function jQ(t,e){if(t&1&&(S(0,"div",28)(1,"div",29)(2,"div",30),Y(3,"i",31),A(),S(4,"div",32)(5,"p",33),K(6),A(),S(7,"p",34),K(8),de(9,"transloco"),A(),S(10,"p",35),K(11),oe(12,BQ,3,3,"span",36),A()()(),S(13,"div",37)(14,"span",38),K(15),A(),qn(),S(16,"svg",39),Y(17,"path",40)(18,"path",41),A()()()),t&2){let n=e.$implicit;E(2),O("ngClass",n.iconBackgroundColor),E(),O("ngClass",n.icon),E(3),Ie(n.title),E(2),Ie(he(9,7,n.subtitle)),E(3),Te(" ",n.description," "),E(),O("ngIf",n.status.length>0),E(3),Ie(n.amount)}}function UQ(t,e){t&1&&(S(0,"div",42)(1,"p",43),K(2,"\u0417\u0430\u0433\u0440\u0443\u0437\u043A\u0430..."),A()())}var iv=class t{constructor(e,n,r){this.transactionsService=e;this.transactionsMapper=n;this.transloco=r}transactionsVM=[];page=1;pageSize=50;totalPages=1;isLoading=!1;isLoaded=!1;isFiltersOpen=!1;selectedTransactionTypes=new Set;lastSelectedTransactionTypes=new Set;searchTerm="";loadTrigger;searchInput;ngOnInit(){this.fetchAllTransactions()}ngOnDestroy(){}ngAfterViewInit(){this.setupIntersectionObserver()}onFiltersClose(){this.isFiltersOpen=!1,ev(this.selectedTransactionTypes,this.lastSelectedTransactionTypes)||(this.page=1,this.totalPages=1,this.transactionsVM=[],this.fetchAllTransactions())}onSearch(){this.page=1,this.totalPages=1,this.transactionsVM=[],this.fetchAllTransactions(),this.blurInput()}blurInput(){this.searchInput?.nativeElement?.blur()}onClear(){this.searchTerm="",this.page=1,this.totalPages=1,this.transactionsVM=[],this.fetchAllTransactions()}fetchAllTransactions(){this.isLoading||this.page>this.totalPages||(this.isLoading=!0,this.lastSelectedTransactionTypes=new Set(this.selectedTransactionTypes),this.transactionsService.getAllTransactions(this.page,this.pageSize,this.selectedTransactionTypes,this.searchTerm).subscribe({next:e=>{this.transactionsVM.push(...this.mapTransactions(e.transactions)),this.totalPages=e.totalPages,this.page++,this.isLoading=!1,this.isLoaded=!0},error:e=>{console.error("\u041E\u0448\u0438\u0431\u043A\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043A\u0438 \u0442\u0440\u0430\u043D\u0437\u0430\u043A\u0446\u0438\u0439:",e.error.message),this.isLoading=!1,this.isLoaded=!0}}))}setupIntersectionObserver(){if(!this.loadTrigger)return;new IntersectionObserver(n=>{n[0].isIntersecting&&this.fetchAllTransactions()},{threshold:1}).observe(this.loadTrigger.nativeElement)}mapTransactions(e){let n=[];for(let r of e){let i=`@${r.user.tgUser.username}`;r.user.tgUser.username==""&&(i=r.user.tgUser.tgId);let o="";r.gifts.length>0?(o=`${r.gifts[0].title}`,r.gifts[0].number&&(o+=` #${r.gifts[0].number}`),o+=this.getTransactionTitle(r.type,r.gifts.length)):o=this.transactionsMapper.getTransactionTitle(r.type);let s=this.transloco.getActiveLang(),a=Lo(r.createdAt,s),l=this.getTransactionSubtitle(r.type,r.status),c={id:r.id,icon:this.transactionsMapper.getTransactionIcon(r.type,r.status),iconBackgroundColor:this.transactionsMapper.getTransactionBackground(r.type,r.status),title:i,subtitle:o,description:a,status:l,amount:Jr(r.amount),isCancelAvailable:r.type==="WITHDRAWAL"&&r.status==="PENDING",isIDCopyAvailable:!1};n.push(c)}return n}getTransactionTitle(e,n){return e==="WITHDRAWAL"&&n>1?` +${n-1}`:""}getTransactionSubtitle(e,n){return e==="WITHDRAWAL"||e=="TON_DEPOSIT"?this.transactionsMapper.getTransactionStatus(n):""}static \u0275fac=function(n){return new(n||t)(ne(lo),ne(Vs),ne(ar))};static \u0275cmp=xe({type:t,selectors:[["app-all-transactions"]],viewQuery:function(n,r){if(n&1&&(Fn(FQ,5),Fn(OQ,5)),n&2){let i;Pn(i=Nn())&&(r.loadTrigger=i.first),Pn(i=Nn())&&(r.searchInput=i.first)}},decls:25,vars:9,consts:[["searchInput",""],["loadTrigger",""],["bottomSheet",""],[1,"p-3","flex","flex-col","h-screen",3,"click"],[1,"text-2xl","font-bold","safari-fix"],[1,"flex","justify-between","my-4"],[1,"relative","w-full"],[1,"absolute","left-3","top-1/2","-translate-y-1/2","p-1","fa-solid","fa-search","text-white/60"],[3,"ngSubmit","click"],["type","text","name","search","placeholder","\u041F\u043E\u0438\u0441\u043A username",1,"w-full","p-3","pr-14","pl-10","border","border-white/25","rounded-xl","focus:outline-none","focus:border-white/60",3,"ngModelChange","ngModel"],[1,"absolute","right-2","top-1/2","-translate-y-1/2","flex"],["type","button","class","w-fit py-1 px-3",3,"click",4,"ngIf"],["type","button",1,"bg-white/10","rounded-2xl","w-fit","py-1","px-3","cursor-pointer",3,"click"],[1,"font-medium","text-sm"],[1,"relative","cursor-pointer","ml-3","bg-white/10","aspect-square","size-12","rounded-xl","flex","justify-center","items-center",3,"click"],[1,"fa-solid","fa-filter","fa-lg"],["class","absolute bottom-0 right-0 bg-white/50 size-3 rounded-full ",4,"ngIf"],[3,"isOpen","onClose",4,"ngIf"],[1,"flex-1","overflow-y-auto","scrollbar-hide"],["class","flex items-center gap-2 justify-between border-b border-white/15",4,"ngFor","ngForOf"],[1,"h-1"],["class","text-center mt-4",4,"ngIf"],[1,"mb-40"],["type","button",1,"w-fit","py-1","px-3",3,"click"],[1,"fa-solid","fa-xmark","fa-lg","text-white/60"],[1,"absolute","bottom-0","right-0","bg-white/50","size-3","rounded-full"],[3,"onClose","isOpen"],[3,"onClose","selectedTransactionTypes"],[1,"flex","items-center","gap-2","justify-between","border-b","border-white/15"],[1,"flex","items-center","gap-2","my-2"],[1,"relative","w-11","h-11","rounded-xl","flex","justify-center","items-center","safari-soft-fix",3,"ngClass"],[3,"ngClass"],[1,"flex","flex-col","gap-1","ml-1"],[1,"text-sm","font-medium"],[1,"text-xs","font-medium"],[1,"text-xs","text-white/50"],[4,"ngIf"],[1,"flex","items-center","max-w-max"],[1,"font-semibold","mr-2"],["width","22","height","22","viewBox","0 0 24 24","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M12 24c6.627 0 12 -5.373 12 -12S18.627 0 12 0 0 5.373 0 12s5.373 12 12 12","fill","#0098EA"],["d","M16.097 6.699H7.903c-1.507 0 -2.463 1.625 -1.704 2.939l5.058 8.766a0.86 0.86 0 0 0 1.487 0l5.059 -8.766c0.757 -1.311 -0.198 -2.939 -1.704 -2.939zm-4.845 9.076 -1.101 -2.132 -2.658 -4.754a0.464 0.464 0 0 1 0.408 -0.693h3.351v7.581zm5.252 -6.885 -2.657 4.755 -1.101 2.131V8.196h3.351a0.464 0.464 0 0 1 0.408 0.693","fill","white"],[1,"text-center","mt-4"],[1,"text-sm","text-gray-400"]],template:function(n,r){if(n&1){let i=Be();S(0,"div",3),re("click",function(){return ue(i),fe(r.blurInput())}),S(1,"p",4),K(2),de(3,"transloco"),A(),S(4,"div",5)(5,"div",6),Y(6,"i",7),S(7,"form",8),re("ngSubmit",function(){return ue(i),fe(r.onSearch())})("click",function(s){return ue(i),fe(s.stopPropagation())}),S(8,"input",9,0),ki("ngModelChange",function(s){return ue(i),Ui(r.searchTerm,s)||(r.searchTerm=s),fe(s)}),A()(),S(10,"div",10),oe(11,LQ,2,0,"button",11),S(12,"button",12),re("click",function(){return ue(i),fe(r.onSearch())}),S(13,"span",13),K(14,"\u041F\u043E\u0438\u0441\u043A"),A()()()(),S(15,"div",14),re("click",function(){return ue(i),fe(r.isFiltersOpen=!0)}),Y(16,"i",15),oe(17,VQ,1,0,"div",16),A()(),oe(18,$Q,3,2,"app-bottom-sheet",17),S(19,"div",18),oe(20,jQ,19,9,"div",19),Y(21,"div",20,1),oe(23,UQ,3,0,"div",21),Y(24,"div",22),A()()}n&2&&(E(2),Ie(he(3,7,"TRANSACTIONS")),E(6),Mi("ngModel",r.searchTerm),E(3),O("ngIf",r.searchTerm.length>0),E(6),O("ngIf",r.selectedTransactionTypes.size>0),E(),O("ngIf",r.isLoaded),E(2),O("ngForOf",r.transactionsVM),E(3),O("ngIf",r.isLoading))},dependencies:[Qe,Mn,bt,ut,jo,ao,Fi,oo,so,So,xo,Ri,rv,dt],encapsulation:2})};function GQ(t,e){if(t&1&&(nt(0),S(1,"p",13),K(2,"\u0421\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043A\u0430"),A(),Y(3,"app-stats-table",14),rt()),t&2){let n=Q();E(3),O("tableData",n.stats)}}var ov=class t{constructor(e,n,r,i){this.profileService=e;this.transactionService=n;this.alertService=r;this.authService=i}stats=[{label:"\u0411\u0430\u043B\u0430\u043D\u0441 \u043F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u0442\u0435\u043B\u0435\u0439",value:"0 TON"},{label:"\u0420\u0435\u0444\u0435\u0440\u0430\u043B\u044C\u043D\u044B\u0439 \u0431\u0430\u043B\u0430\u043D\u0441",value:"0 TON"},{label:"\u041E\u0431\u0449\u0438\u0439 \u0431\u0430\u043B\u0430\u043D\u0441",value:"0 TON"},{label:"\u0421\u0443\u043C\u043C\u0430 \u043F\u043E\u0434\u0430\u0440\u043A\u043E\u0432",value:"0 TON"},{label:"\u041E\u0431\u044A\u0435\u043C \u0430\u043F\u0433\u0440\u0435\u0439\u0434\u0430",value:"0 TON"},{label:"RTP \u0430\u043F\u0433\u0440\u0435\u0439\u0434\u0430",value:"0%"},{label:"RTP \u0430\u043F\u0433\u0440\u0435\u0439\u0434\u0430 (100)",value:"0%"},{label:"\u041E\u0431\u044A\u0435\u043C \u043A\u0435\u0439\u0441\u043E\u0432",value:"0 TON"},{label:"RTP \u043A\u0435\u0439\u0441\u043E\u0432",value:"0%"},{label:"RTP \u043A\u0435\u0439\u0441\u043E\u0432 (400)",value:"0%"}];username="";amount="";referrerUsername="";referralBonus="";roles=[];ngOnInit(){this.fetchCasinoStats(),this.roles=this.authService.getRoles()}ngOnDestroy(){}fetchCasinoStats(){this.profileService.getCasinoStats().subscribe({next:e=>{let n=Oo(e.totalBalance),r=Oo(e.totalReferralBalance),i=n+r,o=Oo(e.upgradeRTP)*100,s=Oo(e.recentUpgradeRTP)*100,a=Oo(e.casesRTP)*100,l=Oo(e.recentCasesRTP)*100;this.stats=[{label:"\u0411\u0430\u043B\u0430\u043D\u0441 \u043F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u0442\u0435\u043B\u0435\u0439",value:`${n.toFixed(2)} TON`},{label:"\u0420\u0435\u0444\u0435\u0440\u0430\u043B\u044C\u043D\u044B\u0439 \u0431\u0430\u043B\u0430\u043D\u0441",value:`${r.toFixed(2)} TON`},{label:"\u041E\u0431\u0449\u0438\u0439 \u0431\u0430\u043B\u0430\u043D\u0441",value:`${i.toFixed(2)} TON`},{label:"\u0421\u0443\u043C\u043C\u0430 \u043F\u043E\u0434\u0430\u0440\u043A\u043E\u0432",value:`${Jr(e.totalAvailableGiftsAmount)} TON`},{label:"\u041E\u0431\u044A\u0435\u043C \u0430\u043F\u0433\u0440\u0435\u0439\u0434\u0430",value:`${Jr(e.upgradeTotalInputAmount)} TON`},{label:"RTP \u0430\u043F\u0433\u0440\u0435\u0439\u0434\u0430",value:`${o.toFixed(4)}%`},{label:"RTP \u0430\u043F\u0433\u0440\u0435\u0439\u0434\u0430 (100)",value:`${s.toFixed(4)}%`},{label:"\u041E\u0431\u044A\u0435\u043C \u043A\u0435\u0439\u0441\u043E\u0432",value:`${Jr(e.casesInputTotalAmount)} TON`},{label:"RTP \u043A\u0435\u0439\u0441\u043E\u0432",value:`${a.toFixed(4)}%`},{label:"RTP \u043A\u0435\u0439\u0441\u043E\u0432 (400)",value:`${l.toFixed(4)}%`}]},error:e=>{console.error("Error receiving profile:",e)}})}addReward(){this.transactionService.addReward(this.username,this.amount).subscribe({next:e=>{this.amount="",this.username="",this.alertService.success("ALERT_REWARD_GRANTED")},error:e=>{this.alertService.error(e.error.message),console.error("Error addReward:",e)}})}setReferralBonus(){let e=parseInt(this.referralBonus)/100;this.profileService.setReferralBonus(this.referrerUsername,e).subscribe({next:n=>{this.referrerUsername="",this.referralBonus="",this.alertService.success(`${n.username} ${Oo(n.referralBonus)*100}%`)},error:n=>{this.alertService.error(n.error.message)}})}formatStringValue=ps;parseFloat=parseFloat;simpleToFixedString=Jr;Role=Uo;static \u0275fac=function(n){return new(n||t)(ne(Bo),ne(lo),ne(or),ne(Pr))};static \u0275cmp=xe({type:t,selectors:[["app-casino-stats"]],decls:23,vars:6,consts:[[1,"p-3","flex","flex-col","h-screen","safari-fix"],[4,"ngIf"],[1,"text-2xl","font-bold","mt-4","mb-4"],[1,"flex","gap-3"],[1,"w-full",3,"click"],["type","text","name","username","placeholder","username",1,"w-full","p-3","pr-4","pl-4","border","border-white/25","rounded-xl","focus:outline-none","focus:border-white/60",3,"ngModelChange","ngModel"],["type","text","name","amount","placeholder","\u0441\u0443\u043C\u043C\u0430",1,"w-full","p-3","pr-4","pl-4","border","border-white/25","rounded-xl","focus:outline-none","focus:border-white/60",3,"ngModelChange","ngModel"],[1,"mt-5",3,"click"],[1,"ml-1"],[1,"text-2xl","font-bold","mt-8","mb-4"],["type","text","name","referrerUsername","placeholder","username",1,"w-full","p-3","pr-4","pl-4","border","border-white/25","rounded-xl","focus:outline-none","focus:border-white/60",3,"ngModelChange","ngModel"],["type","text","name","referralBonus","placeholder","\u043F\u0440\u043E\u0446\u0435\u043D\u0442",1,"w-full","p-3","pr-4","pl-4","border","border-white/25","rounded-xl","focus:outline-none","focus:border-white/60",3,"ngModelChange","ngModel"],[1,"p-40"],[1,"text-2xl","font-bold","mb-2"],[3,"tableData"]],template:function(n,r){n&1&&(S(0,"div",0),oe(1,GQ,4,1,"ng-container",1),S(2,"p",2),K(3,"\u041D\u0430\u0447\u0438\u0441\u043B\u0435\u043D\u0438\u0435 \u0431\u0430\u043B\u0430\u043D\u0441\u0430"),A(),S(4,"div",3)(5,"form",4),re("click",function(o){return o.stopPropagation()}),S(6,"input",5),ki("ngModelChange",function(o){return Ui(r.username,o)||(r.username=o),o}),A()(),S(7,"form",4),re("click",function(o){return o.stopPropagation()}),S(8,"input",6),ki("ngModelChange",function(o){return Ui(r.amount,o)||(r.amount=o),o}),A()()(),S(9,"app-loading-button",7),re("click",function(){return r.addReward()}),K(10," \u041D\u0430\u0447\u0438\u0441\u043B\u0438\u0442\u044C "),S(11,"span",8),K(12),A()(),S(13,"p",9),K(14,"\u0420\u0435\u0444\u0435\u0440\u0430\u043B\u044C\u043D\u044B\u0439 \u0431\u043E\u043D\u0443\u0441"),A(),S(15,"div",3)(16,"form",4),re("click",function(o){return o.stopPropagation()}),S(17,"input",10),ki("ngModelChange",function(o){return Ui(r.referrerUsername,o)||(r.referrerUsername=o),o}),A()(),S(18,"form",4),re("click",function(o){return o.stopPropagation()}),S(19,"input",11),ki("ngModelChange",function(o){return Ui(r.referralBonus,o)||(r.referralBonus=o),o}),A()()(),S(20,"app-loading-button",7),re("click",function(){return r.setReferralBonus()}),K(21," \u041F\u0440\u0438\u043C\u0435\u043D\u0438\u0442\u044C "),A(),Y(22,"div",12),A()),n&2&&(E(),O("ngIf",r.roles.includes(r.Role.ADMIN)),E(5),Mi("ngModel",r.username),E(2),Mi("ngModel",r.amount),E(4),Te(" ",r.simpleToFixedString(r.amount)+" TON"," "),E(5),Mi("ngModel",r.referrerUsername),E(2),Mi("ngModel",r.referralBonus))},dependencies:[bl,jo,ao,Fi,oo,so,So,xo,_l,gi,ut],encapsulation:2})};var sv=class t{constructor(e){this.historyService=e}gameNumber;onClose=new yt;fairness;winTicket=0;ngOnChanges(e){if(e.gameNumber&&e.gameNumber.currentValue){let n=e.gameNumber.currentValue;this.fetchFairness(n)}}fetchFairness(e){this.historyService.getFairness(e).subscribe({next:n=>{this.fairness=n,this.winTicket=Math.floor(parseFloat(n?.totalBetAmount??0)*100*(n?.winValue??0))+1},error:n=>{console.error("Error receiving history:",n)}})}parseFloat=parseFloat;static \u0275fac=function(n){return new(n||t)(ne(zf))};static \u0275cmp=xe({type:t,selectors:[["app-fairness-details"]],inputs:{gameNumber:"gameNumber"},outputs:{onClose:"onClose"},features:[zn],decls:40,vars:26,consts:[[1,"p-4","flex","flex-col"],[1,"text-xl","font-semibold","mt-2","mb-4"],[1,"absolute","top-3","right-3","cursor-pointer",3,"click"],[1,"fa-solid","fa-xmark","w-6","h-6","fa-xl","text-white/70","p-2"],[1,"flex","flex-col","gap-4"],[1,"text-white/80","font-medium","mb-1"],[1,"p-3","bg-white/8","rounded-2xl","border-1","border-white/15","break-all"],[1,"flex","flex-col","items-center","p-6","text-white/80","bg-white/8","rounded-2xl","border-1","border-white/15","break-all"],[1,"font-bold","text-4xl"],[1,"font-medium","mt-1"],[1,"mb-8","mt-6",3,"click"]],template:function(n,r){n&1&&(S(0,"div",0)(1,"h1",1),K(2),de(3,"transloco"),A(),S(4,"button",2),re("click",function(){return r.onClose.emit()}),Y(5,"i",3),A(),S(6,"div",4)(7,"div")(8,"p",5),K(9),de(10,"transloco"),A(),S(11,"div",6),K(12),A()(),S(13,"div",7)(14,"p",8),K(15),A(),S(16,"p",9),K(17),de(18,"transloco"),A()(),S(19,"div")(20,"p",5),K(21),de(22,"transloco"),A(),S(23,"div",6),K(24),A()(),S(25,"div")(26,"p",5),K(27),de(28,"transloco"),A(),S(29,"div",6),K(30),A()(),S(31,"div")(32,"p",5),K(33),de(34,"transloco"),A(),S(35,"div",6),K(36),A()()(),S(37,"app-loading-button",10),re("click",function(){return r.onClose.emit()}),K(38),de(39,"transloco"),A()()),n&2&&(E(2),Ie(he(3,12,"FAIRNESS_CHECK")),E(7),Ie(he(10,14,"ROUND_NUMBER")),E(3),Te(" ",r.gameNumber," "),E(3),Ie(r.winTicket),E(2),Ie(he(18,16,"WINNING_TICKET")),E(4),Ie(he(22,18,"HASH")),E(3),Te(" ",r.fairness==null?null:r.fairness.hash," "),E(3),Ie(he(28,20,"SALT")),E(3),Te(" ",r.fairness==null?null:r.fairness.salt," "),E(3),Ie(he(34,22,"ROUND_NUMBER_VALUE")),E(3),Te(" ",r.fairness==null||r.fairness.winValue==null?null:r.fairness.winValue.toFixed(8)," "),E(2),Ie(he(39,24,"OK")))},dependencies:[gi,dt],encapsulation:2})};var HQ=["scroll"],WQ=()=>[1,2,3,4,5];function zQ(t,e){t&1&&Y(0,"div",15)}function qQ(t,e){t&1&&(nt(0),S(1,"div",11),Y(2,"div",12),S(3,"div",13),oe(4,zQ,1,0,"div",14),A()(),rt()),t&2&&(E(4),O("ngForOf",zr(1,WQ)))}function KQ(t,e){t&1&&ni(0)}function YQ(t,e){if(t&1&&Y(0,"app-bet-item",18),t&2){let n=e.$implicit;O("betVM",n)}}function JQ(t,e){if(t&1&&(oe(0,KQ,1,0,"ng-container",16),S(1,"div",13),oe(2,YQ,1,1,"app-bet-item",17),A()),t&2){let n=Q(),r=xt(12);O("ngTemplateOutlet",r),E(2),O("ngForOf",n.betsVM)}}function QQ(t,e){if(t&1){let n=Be();S(0,"div",19)(1,"div",20),Y(2,"i",21),S(3,"span",22),K(4),de(5,"transloco"),A(),S(6,"div",23)(7,"span",24),K(8),A(),qn(),S(9,"svg",25),Y(10,"path",26)(11,"path",27),A()()(),ti(),S(12,"div",28),re("click",function(){ue(n);let i=Q();return fe(i.onFairnessTap())}),Y(13,"i",29),S(14,"span",30),K(15),de(16,"transloco"),A()()()}if(t&2){let n=Q();E(4),Ie(he(5,3,"BANK")),E(4),Ie(n.totalBetAmount.toFixed(2)),E(7),Ie(he(16,5,"CHECK"))}}function ZQ(t,e){if(t&1){let n=Be();S(0,"app-bottom-sheet",31,3),re("onClose",function(){ue(n);let i=Q();return fe(i.fairnessOpened=!1)}),S(2,"app-fairness-details",32),re("onClose",function(){ue(n);let i=xt(1);return fe(i.closeSheet())}),A()()}if(t&2){let n=Q();O("isOpen",n.fairnessOpened),E(2),O("gameNumber",n.parseInt(n.gameNumber))}}var av=class t{constructor(e,n,r,i,o){this.historyMapper=e;this.betMapper=n;this.cdr=r;this.scrollService=i;this.transloco=o}gameNumber;betsVM=[];playersVM=[];winnerVM;gameCreatedAt="";totalBetAmount=0;isLoaded=!1;fairnessOpened=!1;scrollContainer;ngOnInit(){}ngOnDestroy(){}ngAfterViewInit(){setTimeout(()=>{let e=this.historyMapper.game(parseInt(this.gameNumber));if(!e){console.log("Game not found");return}let n=this.transloco.getActiveLang();this.gameCreatedAt=Lo(e.createdAt,n),this.betsVM=this.betMapper.mapJackpotBets(e.bets),this.playersVM=this.betMapper.mapJackpotPlayers(e),this.totalBetAmount=parseFloat(e.totalBetAmount??"0"),this.winnerVM=this.betMapper.mapWinner(this.betsVM,e,5e3),this.isLoaded=!0,this.cdr.detectChanges(),this.scrollService.scrollToTop()},0)}onFairnessTap(){this.fairnessOpened=!0}parseInt=parseInt;static \u0275fac=function(n){return new(n||t)(ne(qf),ne(af),ne(qr),ne(oi),ne(ar))};static \u0275cmp=xe({type:t,selectors:[["app-jackpot-game-detail"]],viewQuery:function(n,r){if(n&1&&Fn(HQ,5),n&2){let i;Pn(i=Nn())&&(r.scrollContainer=i.first)}},inputs:{gameNumber:"gameNumber"},decls:15,vars:12,consts:[["scroll",""],["loaded",""],["roundInfo",""],["bottomSheet",""],[1,"flex","flex-col","h-screen","p-3"],[1,"text-2xl","font-bold","will-change-transform"],[1,"text-sm","font-semibold","mb-4","will-change-transform"],[3,"gameNumber","playersVM","winnerVM","isLoaded"],[4,"ngIf","ngIfElse"],[3,"isOpen","onClose",4,"ngIf"],[1,"p-20"],[1,"flex","flex-col"],[1,"animate-pulse","bg-white/12","rounded-2xl","my-2","h-14","w-full"],[1,"my-6"],["class","animate-pulse bg-white/12 mb-3 rounded-2xl h-39 w-full",4,"ngFor","ngForOf"],[1,"animate-pulse","bg-white/12","mb-3","rounded-2xl","h-39","w-full"],[4,"ngTemplateOutlet"],[3,"betVM",4,"ngFor","ngForOf"],[3,"betVM"],[1,"flex","items-stretch","gap-2","my-2","safari-fix"],[1,"flex","items-center","w-full","py-3","px-4","bg-white/8","gap-2","rounded-2xl"],[1,"fa-solid","fa-sack","ml-1","text-[#6D6D71]"],[1,"text-[#6D6D71]","font-semibold","mr-2"],[1,"flex","gap-2","items-center"],[1,"font-semibold","text-lg"],["width","20","height","20","viewBox","0 0 24 24","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M12 24c6.627 0 12 -5.373 12 -12S18.627 0 12 0 0 5.373 0 12s5.373 12 12 12","fill","#0098EA"],["d","M16.097 6.699H7.903c-1.507 0 -2.463 1.625 -1.704 2.939l5.058 8.766a0.86 0.86 0 0 0 1.487 0l5.059 -8.766c0.757 -1.311 -0.198 -2.939 -1.704 -2.939zm-4.845 9.076 -1.101 -2.132 -2.658 -4.754a0.464 0.464 0 0 1 0.408 -0.693h3.351v7.581zm5.252 -6.885 -2.657 4.755 -1.101 2.131V8.196h3.351a0.464 0.464 0 0 1 0.408 0.693","fill","white"],[1,"bg-[#9BC3B4]/20","p-3","px-4","flex","gap-2","items-center","justify-center","rounded-2xl","cursor-pointer",3,"click"],[1,"fa-solid","fa-shield-check","text-[#00FF95]/80"],[1,"text-[#00FF95]/80","font-semibold","shrink-0"],[3,"onClose","isOpen"],[3,"onClose","gameNumber"]],template:function(n,r){if(n&1&&(S(0,"div",4,0)(2,"p",5),K(3),de(4,"transloco"),A(),S(5,"p",6),K(6),A(),Y(7,"app-jackpot-players",7),oe(8,qQ,5,2,"ng-container",8)(9,JQ,3,2,"ng-template",null,1,Qt)(11,QQ,17,7,"ng-template",null,2,Qt)(13,ZQ,3,2,"app-bottom-sheet",9),Y(14,"div",10),A()),n&2){let i=xt(10);E(3),ba("",he(4,10,"ROUND")," #",r.gameNumber,""),E(3),Ie(r.gameCreatedAt),E(),O("gameNumber",r.parseInt(r.gameNumber))("playersVM",r.playersVM)("winnerVM",r.winnerVM)("isLoaded",r.isLoaded),E(),O("ngIf",!r.isLoaded)("ngIfElse",i),E(5),O("ngIf",r.isLoaded)}},dependencies:[Ku,Qe,bt,ut,ks,Ju,Ri,sv,dt],encapsulation:2})};var lv=class t{gift;autoplay=!0;loop=!1;getGiftPrice(){return Jr(this.gift.priceInfo.price)}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=xe({type:t,selectors:[["app-upgrade-gift"]],inputs:{gift:"gift",autoplay:"autoplay",loop:"loop"},decls:9,vars:6,consts:[[1,"relative","rounded-2xl","w-full","aspect-[1/1.3]","overflow-hidden"],[3,"gift","giftSize","translateY","autoplay","loop"],[1,"absolute","bottom-0","left-0","right-0","p-1","mb-1","text-center"],[1,"inline-flex","items-center","gap-1","rounded-2xl","px-2","py-0.5","bg-white/12","backdrop-blur"],[1,"font-semibold","text-[clamp(0.7rem,3.5vw,1.1rem)]"],["width","18","height","18","viewBox","0 0 24 24","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M12 24c6.627 0 12 -5.373 12 -12S18.627 0 12 0 0 5.373 0 12s5.373 12 12 12","fill","#0098EA"],["d","M16.097 6.699H7.903c-1.507 0 -2.463 1.625 -1.704 2.939l5.058 8.766a0.86 0.86 0 0 0 1.487 0l5.059 -8.766c0.757 -1.311 -0.198 -2.939 -1.704 -2.939zm-4.845 9.076 -1.101 -2.132 -2.658 -4.754a0.464 0.464 0 0 1 0.408 -0.693h3.351v7.581zm5.252 -6.885 -2.657 4.755 -1.101 2.131V8.196h3.351a0.464 0.464 0 0 1 0.408 0.693","fill","white"]],template:function(n,r){n&1&&(S(0,"div",0),Y(1,"app-animated-gift",1),S(2,"div",2)(3,"div",3)(4,"p",4),K(5),A(),qn(),S(6,"svg",5),Y(7,"path",6)(8,"path",7),A()()()()),n&2&&(E(),O("gift",r.gift)("giftSize",70)("translateY",-14)("autoplay",r.autoplay)("loop",r.loop),E(4),Te(" ",r.getGiftPrice()," "))},dependencies:[$o],encapsulation:2})};var XQ=(t,e)=>({transform:t,transition:e}),eZ=(t,e)=>[t,e];function tZ(t,e){t&1&&(S(0,"span",11),K(1),de(2,"transloco"),A()),t&2&&(E(),Te("",he(2,1,"CHANCE"),":"))}var cv=class t{progress=0;status="default";delayedStatus="default";rotation=-90;radius=45;circumference=2*Math.PI*this.radius;dashArray=this.circumference;dashOffset=this.circumference;shouldAnimate=!1;animationDurationSeconds=$t.upgradeRingDurationSeconds;ngOnInit(){setTimeout(()=>{this.shouldAnimate=!0})}ngOnChanges(e){if(e.progress&&(this.dashOffset=this.circumference*(1-this.progress)),e.status)switch(this.status){case"success":case"fail":this.animateRotation();break;case"default":this.delayedStatus="default",this.rotation=-90,this.animationDurationSeconds=0;break}}animateRotation(){let n=this.calculateFinalRotation(),r=360*5+n;this.animationDurationSeconds=$t.upgradeRingDurationSeconds,setTimeout(()=>{this.delayedStatus=this.status},this.animationDurationSeconds*1e3),this.rotation=r}calculateFinalRotation(){if(this.status==="success"){let n=360-this.progress*360-90+4,r=n+this.progress*360-2*4;return this.getRandomAngle(n,Math.max(n,r))}else{let r=360-this.progress*360-90-8;return this.getRandomAngle(-86,Math.max(-86,r))}}get borderColor(){switch(this.delayedStatus){case"success":return"border-green-400";case"fail":return"border-red-400";case"default":return"border-white/15"}}get indicatorBorderColor(){switch(this.delayedStatus){case"success":case"default":return"border-b-green-400";case"fail":return"border-b-red-400"}}get strokeColor(){switch(this.delayedStatus){case"success":case"default":return"#4ADE80";case"fail":return"#F87171"}}get statusText(){switch(this.delayedStatus){case"success":return{text:"SUCCESS",color:"text-green-400"};case"fail":return{text:"FAILURE",color:"text-red-400"};default:return{text:`${Math.round(this.progress*100)}%`,color:"text-white"}}}getRandomAngle(e,n){return Math.random()*(n-e)+e}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=xe({type:t,selectors:[["app-upgrade-ring"]],inputs:{progress:"progress",status:"status"},features:[zn],decls:13,vars:20,consts:[[1,"relative","flex","items-center","justify-center","rounded-full","aspect-square","w-full",3,"ngClass"],[1,"absolute","w-full","h-full"],[1,"mx-auto","relative","-top-px","w-0","h-0","border-x-[9px]","border-x-transparent","border-b-[9px]","rotate-180",3,"ngClass"],[1,"flex","w-[90%]","h-[90%]","items-center","justify-center","bg-white/8","rounded-full"],[1,"flex","w-[95%]","h-[95%]","items-center","justify-center","rounded-full"],[1,"absolute","w-[90%]","h-[90%]",3,"ngStyle"],["viewBox","0 0 100 100",1,"w-full","h-full"],["cx","50","cy","50","stroke-width","4","fill","none","stroke-linecap","round",1,"transition-[stroke-dashoffset]","duration-300","ease-out"],[1,"w-[85%]","h-[85%]","relative","flex","flex-col","items-center","rounded-full","justify-center","bg-white/5"],["class","[font-size:clamp(1rem,3.3vw,1.5rem)] font-medium",4,"ngIf"],[1,"[font-size:4.5vw]","font-bold",3,"ngClass"],[1,"[font-size:clamp(1rem,3.3vw,1.5rem)]","font-medium"]],template:function(n,r){n&1&&(S(0,"div",0)(1,"div",1),Y(2,"div",2),A(),S(3,"div",3)(4,"div",4)(5,"div",5),qn(),S(6,"svg",6),Y(7,"circle",7),A()(),ti(),S(8,"div",8),oe(9,tZ,3,3,"span",9),S(10,"span",10),K(11),de(12,"transloco"),A()()()()()),n&2&&(O("ngClass",r.borderColor+" border-2"),E(2),O("ngClass",r.indicatorBorderColor),E(3),O("ngStyle",sr(14,XQ,"rotate("+r.rotation+"deg)","transform "+r.animationDurationSeconds+"s cubic-bezier(0.32, 0.8, 0.45, 1)")),E(2),vr("transition-none",!r.shouldAnimate),mc("r",r.radius)("stroke",r.strokeColor)("stroke-dasharray",r.dashArray)("stroke-dashoffset",r.dashOffset),E(2),O("ngIf",r.delayedStatus=="default"),E(),O("ngClass",sr(17,eZ,r.statusText.color,r.delayedStatus==="default"?"text-[clamp(1.25rem,5.3vw,2.25rem)]":"text-[clamp(1.125rem,4.5vw,2rem)]")),E(),Te(" ",he(12,12,r.statusText.text)," "))},dependencies:[Qe,Mn,ut,yr,dt],encapsulation:2})};var Kf=class t{constructor(e){this.http=e}apiUrl=`${In.apiUrl}/upgrade`;play(e,n){let r=`${this.apiUrl}/play`,i={"Content-Type":"application/json"},o={inputGiftId:e,outputGiftId:n};return this.http.post(r,o,{headers:i})}getGiftsForUpgrade(e){let n=`${this.apiUrl}/giftsForUpgrade`,r={"Content-Type":"application/json"},i=new ri().set("inputGiftId",e);return this.http.get(n,{params:i,headers:r})}getHistory(e,n,r=""){let i=`${this.apiUrl}/history`,o=new ri().set("page",e.toString()).set("pageSize",n.toString()),s=r.replace("@","");s&&(o=o.set("search",s));let a={"Content-Type":"application/json"};return this.http.get(i,{params:o,headers:a})}static \u0275fac=function(n){return new(n||t)(Je(Sr))};static \u0275prov=Ve({token:t,factory:t.\u0275fac,providedIn:"root"})};function nZ(t,e){if(t&1){let n=Be();S(0,"div",21),re("click",function(){ue(n);let i=Q(2);return fe(i.onInputGiftTap())}),Y(1,"i",22),A()}}function rZ(t,e){if(t&1){let n=Be();nt(0,18),S(1,"app-upgrade-gift",19),re("click",function(){ue(n);let i=Q();return fe(i.onInputGiftTap())}),A(),oe(2,nZ,2,0,"div",20),rt()}if(t&2){let n=Q();E(),O("gift",n.inputGift),E(),O("ngIf",n.type==="outputGift"&&!n.isInventoryDisabled)}}function iZ(t,e){if(t&1&&(nt(0),Y(1,"app-upgrade-gift",23),rt()),t&2){let n=Q();E(),O("gift",n.outputGift)}}function oZ(t,e){t&1&&Y(0,"div",24)}var uv=class t{constructor(e,n,r,i){this.profileService=e;this.upgradeService=n;this.alertService=r;this.router=i}isLoaded=!1;gifts=[];type="inputGift";inputGift;outputGift;selectedCoefficient=0;chance=0;ringStatus="default";isInventoryDisabled=!1;ngOnInit(){this.fetchInventory()}playButtonTap(e){Telegram.WebApp.HapticFeedback.impactOccurred("light");let n=e[0];if(!n){this.alertService.info("ALERT_SELECT_GIFT");return}switch(this.type){case"inputGift":this.fetchGiftsForUpgrade(n.id);break;case"outputGift":this.upgradeGift();break}}onInputGiftTap(){this.isInventoryDisabled||(Telegram.WebApp.HapticFeedback.impactOccurred("light"),this.type==="outputGift"&&(this.type="inputGift",this.inputGift=void 0,this.outputGift=void 0,this.chance=0,this.fetchInventory()))}onGiftSelected(e){switch(this.type){case"inputGift":this.inputGift=e,this.outputGift=void 0,this.ringStatus="default",this.chance=0;break;case"outputGift":this.outputGift=e,this.calculateCoefficient();break}}navigateToHistory(){return Wt(this,null,function*(){Telegram.WebApp.HapticFeedback.impactOccurred("light"),yield this.router.navigate(["/upgrade/history"])})}calculateCoefficient(){let e=cp(this.inputGift?.priceInfo.price??""),n=cp(this.outputGift?.priceInfo.price??"");n==0?(this.selectedCoefficient=0,this.chance=0):(this.selectedCoefficient=n/e,this.chance=(1-.1)/this.selectedCoefficient)}setInitialState(){this.type="inputGift",this.selectedCoefficient=0,this.isInventoryDisabled=!1}upgradeGift(){if(!this.inputGift||!this.outputGift){this.alertService.info("ALERT_SELECT_UPGRADE_GIFTS");return}this.upgradeService.play(this.inputGift.id,this.outputGift.id).subscribe({next:e=>{e.isSuccess?(this.ringStatus="success",this.preloadGiftImage(e.outputGift)):this.ringStatus="fail",this.isInventoryDisabled=!0,setTimeout(()=>{this.fetchInventory()},$t.upgradeRingDurationSeconds*1e3)},error:e=>{this.alertService.error(e.error.message,2500)}})}fetchInventory(){this.isLoaded=!1,this.profileService.getInventory().subscribe({next:e=>{this.gifts=e.gifts.filter(n=>n.type==="UNIQUE").filter(n=>n.isSupported&&parseFloat(n.priceInfo.price)>0&&n0(new Date,n.canTransferSince)).map(n=>kt(Ne({},n),{isSelected:!1})).sort((n,r)=>parseFloat(n.priceInfo.price)-parseFloat(r.priceInfo.price)),this.isLoaded=!0,this.setInitialState()},error:e=>{console.error("Error receiving Inventory:",e),this.setInitialState(),this.isLoaded=!0}})}fetchGiftsForUpgrade(e){this.isLoaded=!1,this.upgradeService.getGiftsForUpgrade(e).subscribe({next:n=>{let r=n.flatMap(i=>i.gifts);this.gifts=r.filter(i=>i.isSupported&&parseFloat(i.priceInfo.price)>0).map(i=>kt(Ne({},i),{isSelected:!1})).sort((i,o)=>parseFloat(i.priceInfo.price)-parseFloat(o.priceInfo.price)),this.isLoaded=!0,this.type="outputGift"},error:n=>{this.alertService.error(n.error.message,2500),console.error("Error receiving GiftsForUpgrade:",n),this.isLoaded=!0}})}preloadGiftImage(e){let n=e.title.replace(" ","").replace(/'/g,"").replace(/-/g,"").toLowerCase(),r=e.number,i=new Image;i.src=`https://nft.fragment.com/gift/${n}-${r}.medium.jpg`}static \u0275fac=function(n){return new(n||t)(ne(Bo),ne(Kf),ne(or),ne(Er))};static \u0275cmp=xe({type:t,selectors:[["app-upgrade"]],decls:28,vars:24,consts:[["giftSocket",""],[1,"p-3"],[1,"flex","justify-between"],[1,"text-2xl","font-semibold","safari-soft-fix"],[1,"bg-white/10","p-2","px-3","rounded-xl","flex","items-center","font-semibold","safari-soft-fix","cursor-pointer",3,"click"],[1,"fa-solid","fa-memo","w-6","h-6"],[1,"ml-1","text-sm"],[1,"flex","justify-between","items-center","pt-10","pb-6","max-w-2xl","mx-auto"],[1,"relative","flex","flex-col","w-fit","items-start","justify-center","gap-2"],[1,"absolute","top-[-2rem]","left-1/2","-translate-x-1/2","text-lg","font-semibold","safari-soft-fix"],["class","relative",4,"ngIf","ngIfElse"],[1,"w-full","max-w-64","mx-4",3,"progress","status"],[1,"relative","flex","flex-col","w-fit","items-end","justify-center","gap-2"],[4,"ngIf","ngIfElse"],[1,"max-w-3xl","mx-auto"],[3,"onGiftSelect","play","gifts","isLoaded","type","upgradeCoefficient","isDisabled"],[3,"type"],[1,"p-20"],[1,"relative"],[1,"w-[25vw]","max-w-40",3,"click","gift"],["class","absolute top-0 right-0 bg-black/30 size-4 rounded-full p-2.5 flex items-center justify-center cursor-pointer mr-1.5 mt-1.5",3,"click",4,"ngIf"],[1,"absolute","top-0","right-0","bg-black/30","size-4","rounded-full","p-2.5","flex","items-center","justify-center","cursor-pointer","mr-1.5","mt-1.5",3,"click"],[1,"fa-solid","fa-xmark","text-sm"],[1,"w-[25vw]","max-w-40",3,"gift"],[1,"rounded-2xl","border-2","border-dashed","border-neutral-800","safari-fix","w-[25vw]","max-w-40","aspect-[1/1.3]"]],template:function(n,r){if(n&1){let i=Be();S(0,"div",1)(1,"div",2)(2,"p",3),K(3),de(4,"transloco"),A(),S(5,"div",4),re("click",function(){return ue(i),fe(r.navigateToHistory())}),Y(6,"i",5),S(7,"span",6),K(8),de(9,"transloco"),A()()(),S(10,"div",7)(11,"div",8)(12,"span",9),K(13),de(14,"transloco"),A(),oe(15,rZ,3,2,"ng-container",10),A(),Y(16,"app-upgrade-ring",11),S(17,"div",12)(18,"span",9),K(19),de(20,"transloco"),A(),oe(21,iZ,2,1,"ng-container",13),A()(),oe(22,oZ,1,0,"ng-template",null,0,Qt),S(24,"div",14)(25,"app-jackpot-inventory",15),re("onGiftSelect",function(s){return ue(i),fe(r.onGiftSelected(s))})("play",function(s){return ue(i),fe(r.playButtonTap(s))}),A(),Y(26,"app-how-to-play",16),A(),Y(27,"div",17),A()}if(n&2){let i=xt(23);E(3),Ie(he(4,16,"NFT_UPGRADE")),E(5),Ie(he(9,18,"HISTORY")),E(5),Ie(he(14,20,"GIFT")),E(2),O("ngIf",r.inputGift)("ngIfElse",i),E(),O("progress",r.chance)("status",r.ringStatus),E(3),Ie(he(20,22,"UPGRADE")),E(2),O("ngIf",r.outputGift)("ngIfElse",i),E(4),O("gifts",r.gifts)("isLoaded",r.isLoaded)("type",r.type)("upgradeCoefficient",r.selectedCoefficient)("isDisabled",r.isInventoryDisabled),E(),O("type","upgrade")}},dependencies:[of,Qe,ut,lv,sf,cv,dt],encapsulation:2})};var fv=class t{constructor(e){this.transloco=e}game;name(){let e=this.game.user.tgUser.username;return e&&e.length>0?e:"id"+this.game.user.tgId}chance(){return(.9/parseFloat(this.game.targetCoefficient)*100).toFixed(2)+"%"}date(){let e=this.transloco.getActiveLang();return Lo(this.game.createdAt,e)}static \u0275fac=function(n){return new(n||t)(ne(ar))};static \u0275cmp=xe({type:t,selectors:[["app-upgrade-history-item"]],inputs:{game:"game"},decls:20,vars:13,consts:[[1,"w-full","bg-white/8","p-3","mb-3","rounded-2xl","safari-fix"],[1,"flex","justify-between","mb-2"],[1,"flex","items-center","gap-3"],[1,"relative","bg-[#1A1A1A]","rounded-lg","w-11","aspect-square","overflow-hidden"],[1,"w-full","h-full","object-cover","no-interaction",3,"src","alt"],[1,"flex","flex-col","gap-0.5"],[1,"flex","gap-1","items-center","text-sm"],[1,"font-medium"],[1,"text-xs","text-purple-400","px-1","font-semibold"],[1,"fa-solid","fa-bolt","mr-1"],[1,"text-white/50","text-xs","font-medium"],[1,"flex","items-end","gap-5"],[1,"flex","flex-row","overflow-x-auto","items-center","gap-3","scrollbar-hide","scroll-smooth","cursor-default",3,"click"],[1,"w-16","shrink-0",3,"gift","type","price"],[1,"flex","items-center","px-4","py-2","rounded-2xl",3,"ngClass"],[1,"fa-solid",3,"ngClass"]],template:function(n,r){n&1&&(S(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),Y(4,"img",4),A(),S(5,"div",5)(6,"div",6)(7,"span",7),K(8),A(),S(9,"span",8),Y(10,"i",9),K(11),A()(),S(12,"span",10),K(13),A()()()(),S(14,"div",11)(15,"div",12),re("click",function(o){return o.stopPropagation()}),Y(16,"app-gift",13),S(17,"div",14),Y(18,"i",15),A(),Y(19,"app-gift",13),A()()()),n&2&&(E(4),O("src",r.game.user.tgUser.photoUrl,Gn)("alt","Avatar"),E(4),Te(" ",r.name()," "),E(3),Te("",r.chance()," "),E(2),Ie(r.date()),E(3),O("gift",r.game.inputGift)("type","small")("price",r.game.inputGiftPrice),E(),O("ngClass",r.game.isSuccess?"bg-green-200/20":"bg-red-200/20"),E(),O("ngClass",r.game.isSuccess?"fa-chevrons-right text-green-400":"fa-xmark-large text-red-400"),E(),O("gift",r.game.outputGift)("type","small")("price",r.game.outputGiftPrice))},dependencies:[Mn,ii],encapsulation:2})};var sZ=["loadTrigger"],aZ=["searchInput"],lZ=()=>[1,2,3,4,5];function cZ(t,e){t&1&&Y(0,"div",9)}function uZ(t,e){t&1&&(nt(0),oe(1,cZ,1,0,"div",8),rt()),t&2&&(E(),O("ngForOf",zr(1,lZ)))}function fZ(t,e){if(t&1){let n=Be();S(0,"button",21),re("click",function(){ue(n);let i=Q(3);return fe(i.onClear())}),Y(1,"i",22),A()}}function dZ(t,e){if(t&1){let n=Be();S(0,"div",13),Y(1,"i",14),S(2,"form",15),re("ngSubmit",function(){ue(n);let i=Q(2);return fe(i.onSearch())})("click",function(i){return ue(n),fe(i.stopPropagation())}),S(3,"input",16,2),ki("ngModelChange",function(i){ue(n);let o=Q(2);return Ui(o.search,i)||(o.search=i),fe(i)}),A()(),S(5,"div",17),oe(6,fZ,2,0,"button",18),S(7,"button",19),re("click",function(){ue(n);let i=Q(2);return fe(i.onSearch())}),S(8,"span",20),K(9,"\u041F\u043E\u0438\u0441\u043A"),A()()()()}if(t&2){let n=Q(2);E(3),Mi("ngModel",n.search),E(3),O("ngIf",n.search.length>0)}}function pZ(t,e){if(t&1&&(S(0,"div"),Y(1,"app-upgrade-history-item",23),A()),t&2){let n=e.$implicit;E(),O("game",n)}}function hZ(t,e){t&1&&(S(0,"div"),Y(1,"div",9),A())}function mZ(t,e){if(t&1&&oe(0,dZ,10,2,"div",10)(1,pZ,2,1,"div",11)(2,hZ,2,0,"div",12),t&2){let n=Q();O("ngIf",n.roles.includes(n.Role.ADMIN)),E(),O("ngForOf",n.upgradeGames)("ngForTrackBy",n.trackById),E(),O("ngIf",n.isLoadingMore)}}var dv=class t{constructor(e){this.upgradeService=e}upgradeGames=[];roles=[];isLoaded=!1;isLoadingMore=!1;search="";currentPage=1;pageSize=10;totalItems=0;totalPages=0;loadTrigger;searchInput;ngOnInit(){this.fetchHistory()}ngAfterViewInit(){this.setupIntersectionObserver()}onSearch(){this.currentPage=1,this.totalPages=1,this.upgradeGames=[],this.fetchHistory(),this.blurInput()}blurInput(){this.searchInput?.nativeElement?.blur()}onClear(){this.search="",this.currentPage=1,this.totalPages=1,this.upgradeGames=[],this.fetchHistory()}fetchHistory(){this.currentPage>1?this.isLoadingMore=!0:this.isLoaded=!1,this.upgradeService.getHistory(this.currentPage,this.pageSize,this.search).subscribe({next:e=>{this.roles=e.roles??[],this.currentPage===1?this.upgradeGames=e.games:this.upgradeGames=[...this.upgradeGames,...e.games],this.totalItems=e.pagination.totalCount,this.totalPages=e.pagination.totalPages,this.isLoaded=!0,this.isLoadingMore=!1},error:e=>{console.error("Error receiving history:",e),this.isLoaded=!0,this.isLoadingMore=!1}})}trackById(e,n){return n.id}setupIntersectionObserver(){if(!this.loadTrigger)return;new IntersectionObserver(n=>{n[0].isIntersecting&&this.loadMore()},{threshold:1}).observe(this.loadTrigger.nativeElement)}loadMore(){this.currentPage<this.totalPages&&(this.currentPage++,this.fetchHistory())}Role=Uo;static \u0275fac=function(n){return new(n||t)(ne(Kf))};static \u0275cmp=xe({type:t,selectors:[["app-upgrade-history"]],viewQuery:function(n,r){if(n&1&&(Fn(sZ,5),Fn(aZ,5)),n&2){let i;Pn(i=Nn())&&(r.loadTrigger=i.first),Pn(i=Nn())&&(r.searchInput=i.first)}},decls:10,vars:5,consts:[["historyList",""],["loadTrigger",""],["searchInput",""],[1,"p-3",3,"click"],[1,"text-2xl","font-bold","mb-4","safari-fix"],[4,"ngIf","ngIfElse"],[1,"h-1"],[1,"mb-40"],["class","animate-pulse bg-white/12 mb-3 rounded-2xl h-39 w-full",4,"ngFor","ngForOf"],[1,"animate-pulse","bg-white/12","mb-3","rounded-2xl","h-39","w-full"],["class","relative w-full mb-3",4,"ngIf"],[4,"ngFor","ngForOf","ngForTrackBy"],[4,"ngIf"],[1,"relative","w-full","mb-3"],[1,"absolute","left-3","top-1/2","-translate-y-1/2","p-1","fa-solid","fa-search","text-white/60","safari-fix"],[3,"ngSubmit","click"],["type","text","name","search","placeholder","\u041F\u043E\u0438\u0441\u043A username \u0438\u043B\u0438 id",1,"w-full","p-3","pr-14","pl-10","border","border-white/25","rounded-xl","focus:outline-none","focus:border-white/60","safari-fix",3,"ngModelChange","ngModel"],[1,"absolute","right-2","top-1/2","-translate-y-1/2","flex"],["type","button","class","w-fit py-1 px-3",3,"click",4,"ngIf"],["type","button",1,"bg-white/10","rounded-2xl","w-fit","py-1","px-3","safari-fix","cursor-pointer",3,"click"],[1,"font-medium","text-sm"],["type","button",1,"w-fit","py-1","px-3",3,"click"],[1,"fa-solid","fa-xmark","fa-lg","text-white/60"],[3,"game"]],template:function(n,r){if(n&1){let i=Be();S(0,"div",3),re("click",function(){return ue(i),fe(r.blurInput())}),S(1,"p",4),K(2),de(3,"transloco"),A(),oe(4,uZ,2,2,"ng-container",5)(5,mZ,3,4,"ng-template",null,0,Qt),Y(7,"div",6,1)(9,"div",7),A()}if(n&2){let i=xt(6);E(2),Ie(he(3,3,"UPGRADE_HISTORY")),E(2),O("ngIf",!r.isLoaded)("ngIfElse",i)}},dependencies:[bt,ut,jo,ao,Fi,oo,so,So,xo,fv,dt],encapsulation:2})};var gZ=(t,e)=>({transform:t,width:e}),pv=class t{crate;caseImageSize=85;constructor(){}ngOnInit(){return Wt(this,null,function*(){})}get casePrice(){return Os(this.crate.price??0)}get caseName(){return"CASE_"+this.crate.id}get caseImage(){return"case_"+this.crate.id+".png"}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=xe({type:t,selectors:[["app-case-preview"]],inputs:{crate:"crate"},decls:12,vars:9,consts:[[1,"flex","flex-col","items-center","justify-center","bg-white/8","cursor-pointer","safari-fix","rounded-2xl"],["alt","",1,"w-auto","object-scale-down","no-interaction","scale-110","min-h-40",3,"src","ngStyle"],[1,"mb-1","-mt-1","font-semibold","safari-fix"],[1,"px-2","py-1","mb-1","text-center","safari-fix"],[1,"inline-flex","items-center","gap-1","rounded-2xl","px-2","py-0.5","bg-white/12"],[1,"font-semibold","mr-1","text-[clamp(0.8rem,4vw,1.2rem)]"],["width","22","height","22","viewBox","0 0 24 24","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M12 24c6.627 0 12 -5.373 12 -12S18.627 0 12 0 0 5.373 0 12s5.373 12 12 12","fill","#0098EA"],["d","M16.097 6.699H7.903c-1.507 0 -2.463 1.625 -1.704 2.939l5.058 8.766a0.86 0.86 0 0 0 1.487 0l5.059 -8.766c0.757 -1.311 -0.198 -2.939 -1.704 -2.939zm-4.845 9.076 -1.101 -2.132 -2.658 -4.754a0.464 0.464 0 0 1 0.408 -0.693h3.351v7.581zm5.252 -6.885 -2.657 4.755 -1.101 2.131V8.196h3.351a0.464 0.464 0 0 1 0.408 0.693","fill","white"]],template:function(n,r){n&1&&(S(0,"div",0),Y(1,"img",1),S(2,"p",2),K(3),de(4,"transloco"),A(),S(5,"div",3)(6,"div",4)(7,"p",5),K(8),A(),qn(),S(9,"svg",6),Y(10,"path",7)(11,"path",8),A()()()()),n&2&&(E(),O("src",r.caseImage,Gn)("ngStyle",sr(6,gZ,"translateY(-4%)",r.caseImageSize+"%")),E(2),Te(" ",he(4,4,r.caseName)," "),E(5),Te(" ",r.casePrice," "))},dependencies:[yr,dt],encapsulation:2})};var Qs=class t{constructor(e){this.http=e}apiUrl=`${In.apiUrl}/cases`;live(){let e=`${this.apiUrl}/live`,n={"Content-Type":"application/json"};return this.http.get(e,{headers:n})}allCases(){let e=`${this.apiUrl}/allCases`,n={"Content-Type":"application/json"};return this.http.get(e,{headers:n})}open(e,n){let r=`${this.apiUrl}/open`,i={"Content-Type":"application/json"},o={caseId:parseInt(e),isFast:n};return this.http.post(r,o,{headers:i})}getHistory(e,n,r=""){let i=this.apiUrl+"/history",o=new ri().set("page",e.toString()).set("pageSize",n.toString()),s=r.replace("@","");s&&(o=o.set("search",s));let a={"Content-Type":"application/json"};return this.http.get(i,{params:o,headers:a})}giftsCount(){let e=`${this.apiUrl}/giftsCount`,n={"Content-Type":"application/json"};return this.http.get(e,{headers:n})}update(){let e=`${this.apiUrl}/update`,n={"Content-Type":"application/json"};return this.http.patch(e,{headers:n})}static \u0275fac=function(n){return new(n||t)(Je(Sr))};static \u0275prov=Ve({token:t,factory:t.\u0275fac,providedIn:"root"})};var Ll=class t{cases=[];key="cases";constructor(){}saveCases(e){this.cases=e,localStorage.setItem(this.key,JSON.stringify(e))}loadFromLocalStorage(){let e=localStorage.getItem(this.key);e&&(this.cases=JSON.parse(e))}case(e){return this.loadFromLocalStorage(),this.cases.find(n=>n.id===e)}static \u0275fac=function(n){return new(n||t)};static \u0275prov=Ve({token:t,factory:t.\u0275fac,providedIn:"root"})};var N5=(t,e)=>({transform:t,width:e});function vZ(t,e){if(t&1){let n=Be();S(0,"div",19),re("click",function(){ue(n);let i=Q();return fe(i.navigateToCasesContent())}),Y(1,"i",20),S(2,"span",21),K(3),de(4,"transloco"),A()()}t&2&&(E(3),Ie(he(4,1,"CONTENT")))}function yZ(t,e){if(t&1){let n=Be();S(0,"div",19),re("click",function(){ue(n);let i=Q();return fe(i.navigateToCaseHistory())}),Y(1,"i",22),S(2,"span",21),K(3),de(4,"transloco"),A()()}t&2&&(E(3),Ie(he(4,1,"HISTORY")))}function bZ(t,e){if(t&1){let n=Be();S(0,"div",23),re("click",function(){let i=ue(n).$implicit,o=Q();return fe(o.onCaseTap(i.id))}),Y(1,"app-case-preview",24),A()}if(t&2){let n=e.$implicit;E(),O("crate",n)}}var mv=class t{constructor(e,n,r,i,o){this.authService=e;this.casesService=n;this.casesMapper=r;this.jackpotService=i;this.router=o}isLoaded=!1;cases=[];roles=[];jackpotTotalBetAmount="0.00";ngOnInit(){this.roles=this.authService.getRoles(),this.fetchAllCases(),this.fetchJackpotInto()}refresh(){this.roles=this.authService.getRoles(),this.fetchAllCases(),this.fetchJackpotInto()}navigateToJackpot(){return Wt(this,null,function*(){Telegram.WebApp.HapticFeedback.impactOccurred("light"),yield this.router.navigate(["/jackpot"])})}navigateToUpgrade(){return Wt(this,null,function*(){Telegram.WebApp.HapticFeedback.impactOccurred("light"),yield this.router.navigate(["/upgrade"])})}navigateToCasesContent(){return Wt(this,null,function*(){Telegram.WebApp.HapticFeedback.impactOccurred("light"),yield this.router.navigate(["/cases/giftsCount"])})}navigateToCaseHistory(){return Wt(this,null,function*(){Telegram.WebApp.HapticFeedback.impactOccurred("light"),yield this.router.navigate(["/cases/history"])})}onCaseTap(e){return Wt(this,null,function*(){Telegram.WebApp.HapticFeedback.impactOccurred("light"),yield this.router.navigate(["/cases",e.toString()])})}fetchAllCases(){this.casesService.allCases().subscribe({next:e=>{this.cases=e.filter(n=>n.price!=null).sort((n,r)=>n.price-r.price),this.casesMapper.saveCases(this.cases)},error:e=>{console.error("Error fetching cases:",e)}})}get haveAccess(){return this.roles.includes("ADMIN")||this.roles.includes("MODER")}fetchJackpotInto(){this.jackpotService.getInfo().subscribe({next:e=>{this.jackpotTotalBetAmount=Jr(e.totalBetAmount)},error:e=>{console.error("Error fetching jackpot info:",e)}})}static \u0275fac=function(n){return new(n||t)(ne(Pr),ne(Qs),ne(Ll),ne(pf),ne(Er))};static \u0275cmp=xe({type:t,selectors:[["app-games"]],decls:29,vars:23,consts:[[1,"px-3","h-screen","will-change-transform"],[1,"py-2","flex","gap-3","h-[23%]","sm:h-[30%]","md:h-[35%]","lg:h-[35%]","xl:h-[35%]","min-h-52"],[1,"relative","flex","items-start","justify-center","w-full","overflow-hidden","rounded-2xl","cursor-pointer","bg-gradient-to-b","from-white/8","to-[#3F8F27]","safari-fix",3,"click"],["alt","",1,"absolute","bottom-0","max-h-[100%]","w-full","object-scale-down","no-interaction",3,"src","ngStyle"],[1,"flex","flex-col","items-center"],[1,"text-2xl","font-semibold","mt-2"],[1,"flex","items-center","font-semibold","py-0.5","px-2","rounded-2xl","backdrop-blur-sm","border","border-white/10"],[1,"font-semibold","mr-1"],["width","18","height","18","viewBox","0 0 24 24","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M12 24c6.627 0 12 -5.373 12 -12S18.627 0 12 0 0 5.373 0 12s5.373 12 12 12","fill","#0098EA"],["d","M16.097 6.699H7.903c-1.507 0 -2.463 1.625 -1.704 2.939l5.058 8.766a0.86 0.86 0 0 0 1.487 0l5.059 -8.766c0.757 -1.311 -0.198 -2.939 -1.704 -2.939zm-4.845 9.076 -1.101 -2.132 -2.658 -4.754a0.464 0.464 0 0 1 0.408 -0.693h3.351v7.581zm5.252 -6.885 -2.657 4.755 -1.101 2.131V8.196h3.351a0.464 0.464 0 0 1 0.408 0.693","fill","white"],[1,"flex","items-start","justify-center","w-full","rounded-2xl","overflow-hidden","cursor-pointer","bg-gradient-to-b","from-white/8","to-[#050385]","safari-fix",3,"click"],[1,"flex","justify-between","mt-3","mb-2"],[1,"text-2xl","font-semibold","safari-soft-fix"],[1,"flex","gap-2"],["class","bg-white/10 p-2 px-3 rounded-xl flex items-center font-semibold safari-fix cursor-pointer",3,"click",4,"ngIf"],[1,"grid","gap-3","grid-cols-2","md:grid-cols-3","lg:grid-cols-4","xl:grid-cols-5"],[3,"click",4,"ngFor","ngForOf"],[1,"p-23"],[1,"bg-white/10","p-2","px-3","rounded-xl","flex","items-center","font-semibold","safari-fix","cursor-pointer",3,"click"],[1,"fa-solid","fa-box","w-6","h-6"],[1,"ml-1","text-sm"],[1,"fa-solid","fa-memo","w-6","h-6"],[3,"click"],[3,"crate"]],template:function(n,r){n&1&&(S(0,"div",0)(1,"div",1)(2,"div",2),re("click",function(){return r.navigateToJackpot()}),Y(3,"img",3),S(4,"div",4)(5,"span",5),K(6),de(7,"transloco"),A(),S(8,"div",6)(9,"span",7),K(10),A(),qn(),S(11,"svg",8),Y(12,"path",9)(13,"path",10),A()()()(),ti(),S(14,"div",11),re("click",function(){return r.navigateToUpgrade()}),S(15,"span",5),K(16),de(17,"transloco"),A(),Y(18,"img",3),A()(),S(19,"div",12)(20,"p",13),K(21),de(22,"transloco"),A(),S(23,"div",14),oe(24,vZ,5,3,"div",15)(25,yZ,5,3,"div",15),A()(),S(26,"div",16),oe(27,bZ,2,1,"div",17),A(),Y(28,"div",18),A()),n&2&&(E(3),O("src","jackpot.png",Gn)("ngStyle",sr(17,N5,"translateY(0%)","100%")),E(3),Ie(he(7,11,"JACKPOT")),E(4),Ie(r.jackpotTotalBetAmount),E(6),Ie(he(17,13,"UPGRADE")),E(2),O("src","upgrade.png",Gn)("ngStyle",sr(20,N5,"translateY(0%)","100%")),E(3),Ie(he(22,15,"CASES")),E(3),O("ngIf",r.haveAccess),E(),O("ngIf",r.haveAccess),E(2),O("ngForOf",r.cases))},dependencies:[Qe,bt,ut,yr,pv,dt],encapsulation:2})};var wZ=(t,e)=>({"opacity-100":t,"opacity-0":e}),CZ=(t,e)=>({"opacity-0":t,"opacity-100":e}),_Z=(t,e)=>({transform:t,width:e});function xZ(t,e){if(t&1&&(nt(0),Y(1,"app-animated-gift",12),rt()),t&2){let n=Q();E(),O("gift",n.animatedGift)("giftSize",n.giftSize)("translateY",n.translateY)("autoplay",n.isSwitchingGift)("loop",!0)}}function SZ(t,e){if(t&1&&(S(0,"div",13),K(1),A()),t&2){let n=Q();E(),Te(" ",n.getGiftChance,"% ")}}var Yf=class t{caseGift;animatedGift;isSwitchingGift=!1;giftSize=70;translateY=-14;chance=0;get getGiftPrice(){return Os(this.caseGift.price)}get getGiftChance(){return Fs(this.chance*100)}get giftUrl(){return this.caseGift.type==="VIRTUAL"?`gifts/${hs.mapModelName(this.caseGift.name)}.svg`:`https://cdn.changes.tg/gifts/models/${encodeURIComponent(this.caseGift.name)}/png/Original.png`}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=xe({type:t,selectors:[["app-case-gift"]],inputs:{caseGift:"caseGift",animatedGift:"animatedGift",isSwitchingGift:"isSwitchingGift",giftSize:"giftSize",translateY:"translateY",chance:"chance"},decls:13,vars:16,consts:[[1,"relative","rounded-2xl","w-full","h-full","aspect-[1/1.3]","overflow-hidden","bg-white/5"],[1,"absolute","inset-0","transition-opacity","duration-300",3,"ngClass"],[4,"ngIf"],[1,"absolute","inset-0","flex","items-center","justify-center","transition-opacity","duration-300",3,"ngClass"],["alt","",1,"h-full","w-auto","object-scale-down","no-interaction",3,"src","ngStyle"],["class","absolute top-0 right-0 p-1 px-3 text-xs md:text-sm font-semibold text-white/60",4,"ngIf"],[1,"absolute","bottom-0","left-0","right-0","p-1","mb-1","text-center"],[1,"inline-flex","items-center","gap-1","rounded-2xl","px-2","py-0.5","bg-white/8","safari-fix"],[1,"font-semibold","text-[clamp(0.7rem,3.5vw,1.1rem)]"],["width","18","height","18","viewBox","0 0 24 24","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M12 24c6.627 0 12 -5.373 12 -12S18.627 0 12 0 0 5.373 0 12s5.373 12 12 12","fill","#0098EA"],["d","M16.097 6.699H7.903c-1.507 0 -2.463 1.625 -1.704 2.939l5.058 8.766a0.86 0.86 0 0 0 1.487 0l5.059 -8.766c0.757 -1.311 -0.198 -2.939 -1.704 -2.939zm-4.845 9.076 -1.101 -2.132 -2.658 -4.754a0.464 0.464 0 0 1 0.408 -0.693h3.351v7.581zm5.252 -6.885 -2.657 4.755 -1.101 2.131V8.196h3.351a0.464 0.464 0 0 1 0.408 0.693","fill","white"],[3,"gift","giftSize","translateY","autoplay","loop"],[1,"absolute","top-0","right-0","p-1","px-3","text-xs","md:text-sm","font-semibold","text-white/60"]],template:function(n,r){n&1&&(S(0,"div",0)(1,"div",1),oe(2,xZ,2,5,"ng-container",2),A(),S(3,"div",3),Y(4,"img",4),A(),oe(5,SZ,2,1,"div",5),S(6,"div",6)(7,"div",7)(8,"p",8),K(9),A(),qn(),S(10,"svg",9),Y(11,"path",10)(12,"path",11),A()()()()),n&2&&(E(),O("ngClass",sr(7,wZ,r.isSwitchingGift,!r.isSwitchingGift)),E(),O("ngIf",r.animatedGift),E(),O("ngClass",sr(10,CZ,r.isSwitchingGift,!r.isSwitchingGift)),E(),O("src",r.giftUrl,Gn)("ngStyle",sr(13,_Z,"translateY("+r.translateY+"%)",r.giftSize+"%")),E(),O("ngIf",r.chance>0),E(4),Te(" ",r.getGiftPrice," "))},dependencies:[yr,$o,ut,Mn],encapsulation:2})};var EZ=["container"];function TZ(t,e){if(t&1&&(nt(0),Y(1,"app-case-gift",9),rt()),t&2){let n=Q().$implicit,r=Q();E(),O("caseGift",n)("animatedGift",r.caseDropGift)("isSwitchingGift",r.centeringAnimation)}}function IZ(t,e){if(t&1&&(S(0,"div",10),Y(1,"app-case-gift",11),A()),t&2){let n=Q(),r=n.$implicit,i=n.index,o=Q();Wr("opacity",o.centeringAnimation&&i!==o.caseDropIndex?.3:1),E(),O("caseGift",r)}}function DZ(t,e){if(t&1&&(S(0,"div",7),oe(1,TZ,2,3,"ng-container",8)(2,IZ,2,3,"ng-template",null,1,Qt),A()),t&2){let n=e.index,r=xt(3),i=Q();E(),O("ngIf",n===i.caseDropIndex&&i.caseDropGift)("ngIfElse",r)}}var gv=class t{caseGifts=[];caseDropGift;demoDropGift;isDemoMode=!1;isFastOpen=!1;shuffledGifts=[];gapSize=8;offset=0;transitionDuration=$t.caseSpinnerDuration;containerWidth=0;giftWidth=40*4/1.3;randomShift=0;centeringAnimation=!1;caseDropIndex=50;containerRef;ngOnInit(){this.shuffleGifts()}ngOnChanges(e){e.caseDropGift&&(this.caseDropGift?(this.transitionDuration=$t.caseSpinnerDuration,this.shuffledGifts[this.caseDropIndex]={name:this.caseDropGift.title,type:this.caseDropGift.type,price:parseFloat(this.caseDropGift.priceInfo.price)},this.caseAnimation()):(this.centeringAnimation=!1,this.transitionDuration=0,this.offset=0,this.shuffleGifts())),e.demoDropGift&&this.isDemoMode&&(this.demoDropGift?(this.transitionDuration=$t.caseSpinnerDuration,this.shuffledGifts[this.caseDropIndex]=this.demoDropGift,this.caseAnimation()):(this.centeringAnimation=!1,this.transitionDuration=0,this.offset=0,this.shuffleGifts())),e.caseGifts&&this.shuffleGifts()}ngAfterViewInit(){this.updateContainerWidth(),window.addEventListener("resize",()=>this.updateContainerWidth())}caseAnimation(){let e=this.getWinnerCenterPosition(this.caseDropIndex);this.randomShift=wD(-(this.giftWidth/2),this.giftWidth/2),this.offset=e+this.randomShift,this.isFastOpen?(this.offset=e,this.transitionDuration=$t.winnerCenteringDuration,this.centeringAnimation=!0):setTimeout(()=>{this.offset=e,this.transitionDuration=$t.winnerCenteringDuration,this.centeringAnimation=!0},$t.caseCenteringDelay)}getWinnerCenterPosition(e){let n=this.giftWidth+this.gapSize,r=e*n,i=this.containerWidth/2-this.giftWidth/2;return-r+i}shuffleGifts(){let e=this.caseDropIndex+10;for(this.shuffledGifts=[];this.shuffledGifts.length<e;){let n=this.shuffleArray([...this.caseGifts]);this.shuffledGifts.push(...n)}}shuffleArray(e){let n=[...e];for(let r=n.length-1;r>0;r--){let i=Math.floor(Math.random()*(r+1));[n[r],n[i]]=[n[i],n[r]]}return n}updateContainerWidth(){this.containerRef?.nativeElement&&(this.containerWidth=this.containerRef.nativeElement.clientWidth)}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=xe({type:t,selectors:[["app-case-spinner"]],viewQuery:function(n,r){if(n&1&&Fn(EZ,5),n&2){let i;Pn(i=Nn())&&(r.containerRef=i.first)}},inputs:{caseGifts:"caseGifts",caseDropGift:"caseDropGift",demoDropGift:"demoDropGift",isDemoMode:"isDemoMode",isFastOpen:"isFastOpen"},features:[zn],decls:6,vars:11,consts:[["container",""],["defaultGift",""],[1,"relative","py-2","bg-white/8","rounded-2xl","safari-fix"],[1,"absolute","w-1","scale-x-[0.75]","inset-0","safari-fix","bg-white/70","left-1/2","-translate-x-1/2","z-1","transition-opacity","duration-500"],[1,"h-40","overflow-x-auto","rounded-2xl","scrollbar-hide","no-interaction"],[1,"flex","h-full","transition-transform","no-interaction"],["class","h-full safari-fix",4,"ngFor","ngForOf"],[1,"h-full","safari-fix"],[4,"ngIf","ngIfElse"],[3,"caseGift","animatedGift","isSwitchingGift"],[1,"w-full","h-full","transition-opacity","duration-300"],[3,"caseGift"]],template:function(n,r){n&1&&(S(0,"div",2),Y(1,"div",3),S(2,"div",4,0)(4,"div",5),oe(5,DZ,4,2,"div",6),A()()()),n&2&&(E(),vr("opacity-0",r.centeringAnimation),E(3),Wr("gap",r.gapSize,"px")("transition-timing-function","cubic-bezier(0.3, 0, 0.01, 1)")("transform","translateX("+r.offset+"px)")("transition-duration",r.transitionDuration+"ms"),E(),O("ngForOf",r.shuffledGifts))},dependencies:[Yf,bt,ut],encapsulation:2})};function AZ(t,e){t&1&&ni(0)}function MZ(t,e){if(t&1&&(S(0,"div"),Y(1,"app-case-gift",15),A()),t&2){let n=e.$implicit,r=e.index,i=Q();E(),O("caseGift",n)("giftSize",65)("translateY",-10)("chance",i.getChance(r))}}function kZ(t,e){t&1&&ni(0)}function PZ(t,e){if(t&1&&(nt(0),oe(1,kZ,1,0,"ng-container",9),rt()),t&2){Q(2);let n=xt(18);E(),O("ngTemplateOutlet",n)}}function NZ(t,e){t&1&&ni(0)}function RZ(t,e){if(t&1&&(nt(0),oe(1,NZ,1,0,"ng-container",9),rt()),t&2){Q(2);let n=xt(20);E(),O("ngTemplateOutlet",n)}}function FZ(t,e){t&1&&ni(0)}function OZ(t,e){if(t&1&&(nt(0),oe(1,FZ,1,0,"ng-container",9),rt()),t&2){Q(2);let n=xt(22);E(),O("ngTemplateOutlet",n)}}function LZ(t,e){if(t&1&&(nt(0,16),oe(1,PZ,2,1,"ng-container",17)(2,RZ,2,1,"ng-container",17)(3,OZ,2,1,"ng-container",17),rt()),t&2){let n=Q();O("ngSwitch",n.buttonsType),E(),O("ngSwitchCase","init"),E(),O("ngSwitchCase","opening"),E(),O("ngSwitchCase","opened")}}function VZ(t,e){t&1&&(S(0,"div")(1,"div",26),Y(2,"div",27),A()())}function $Z(t,e){if(t&1&&(S(0,"span"),K(1),A()),t&2){let n=Q(3);E(),Ie(n.formatNumber(n.casePrice)+" TON")}}function BZ(t,e){t&1&&(S(0,"span"),K(1),de(2,"transloco"),A()),t&2&&(E(),Ie(he(2,1,"FREE")))}function jZ(t,e){if(t&1&&(K(0),de(1,"transloco"),oe(2,$Z,2,1,"span",28)(3,BZ,3,3,"span",28)),t&2){let n=Q(2);Te(" ",he(1,3,"OPEN")," "),E(2),O("ngIf",n.casePrice>.01&&!n.isDemoMode),E(),O("ngIf",n.isDemoMode)}}function UZ(t,e){if(t&1){let n=Be();S(0,"button",18),re("click",function(){ue(n);let i=Q();return fe(i.openCase())}),oe(1,VZ,3,0,"div",19)(2,jZ,4,5,"ng-template",null,4,Qt),A(),S(4,"div",20)(5,"button",21),re("click",function(){ue(n);let i=Q();return fe(i.toggleDemoMode())}),S(6,"span",22),K(7),de(8,"transloco"),A()(),S(9,"button",23),re("click",function(){ue(n);let i=Q();return fe(i.toggleFastOpen())}),Y(10,"i",24),S(11,"span",25),K(12),de(13,"transloco"),A()()()}if(t&2){let n=xt(3),r=Q();O("disabled",r.isCaseOpenLoading),E(),O("ngIf",r.isCaseOpenLoading)("ngIfElse",n),E(4),vr("text-white",r.isDemoMode)("outline-2",r.isDemoMode),E(2),Ie(he(8,13,"DEMO_MODE")),E(2),vr("text-white",r.isFastOpen)("outline-2",r.isFastOpen),E(3),Ie(he(13,15,"FAST"))}}function GZ(t,e){t&1&&(S(0,"button",29)(1,"div",26),Y(2,"div",30),S(3,"span"),K(4),de(5,"transloco"),A()()()),t&2&&(E(4),Ie(he(5,1,"OPENING")))}function HZ(t,e){t&1&&(S(0,"div")(1,"div",26),Y(2,"div",27),A()())}function WZ(t,e){if(t&1&&(K(0),de(1,"transloco")),t&2){let n=Q(2);ba(" ",he(1,2,"SELL_FOR")," ",n.caseDropGiftPrice," ")}}function zZ(t,e){if(t&1){let n=Be();S(0,"button",18),re("click",function(){ue(n);let i=Q();return fe(i.sellCaseGiftTap())}),oe(1,HZ,3,0,"div",19)(2,WZ,2,4,"ng-template",null,4,Qt),A(),S(4,"div",20)(5,"button",31),re("click",function(){ue(n);let i=Q();return fe(i.navigateToUpgrade())}),S(6,"span"),K(7),de(8,"transloco"),A()(),S(9,"button",32),re("click",function(){ue(n);let i=Q();return fe(i.takeGift())}),S(10,"span"),K(11),de(12,"transloco"),A()()()}if(t&2){let n=xt(3),r=Q();O("disabled",r.isGiftSellLoading),E(),O("ngIf",r.isGiftSellLoading)("ngIfElse",n),E(6),Ie(he(8,5,"UPGRADE")),E(4),Ie(he(12,7,"CLAIM"))}}var vv=class t{constructor(e,n,r,i,o,s,a,l){this.casesService=e;this.marketService=n;this.casesMapper=r;this.alertService=i;this.scrollService=o;this.authService=s;this.router=a;this.route=l}id;case;isCaseOpenLoading=!1;isGiftSellLoading=!1;caseDropGift;demoDropGift;buttonsType="init";isDemoMode=!1;isFastOpen=!1;roles=[];get caseGifts(){return this.case?.gifts.sort((e,n)=>n.price-e.price)??[]}get casePrice(){return this.case?.price??0}get caseName(){return"CASE_"+this.case?.id}get caseDropGiftPrice(){return this.isDemoMode&&this.demoDropGift?this.demoDropGift.price.toFixed(2)+" TON":Jr(this.caseDropGift?.priceInfo.price??"0")+" TON"}ngOnInit(){this.scrollService.scrollToTop(),this.case=this.casesMapper.case(parseInt(this.id)),this.roles=this.authService.getRoles(),this.route.params.subscribe(e=>{let n=e.id;this.case=this.casesMapper.case(parseInt(n))})}openCase(){this.isDemoMode?this.handleDemoOpening():this.handleRealOpening()}navigateToUpgrade(){return Wt(this,null,function*(){yield this.router.navigate(["/upgrade"])})}sellCaseGiftTap(){this.isDemoMode?(this.demoDropGift=void 0,this.buttonsType="init"):this.sellCaseGift()}takeGift(){this.buttonsType="init",this.isDemoMode?this.demoDropGift=void 0:this.caseDropGift=void 0}toggleDemoMode(){this.isDemoMode=!this.isDemoMode}toggleFastOpen(){this.isFastOpen=!this.isFastOpen}handleDemoOpening(){this.demoDropGift=this.caseGifts[Math.floor(Math.random()*this.caseGifts.length)],this.buttonsType="opening";let e=$t.caseCenteringDelay+$t.winnerCenteringDuration,n=this.isFastOpen?$t.winnerCenteringDuration:e;setTimeout(()=>{this.buttonsType="opened"},n)}handleRealOpening(){this.isCaseOpenLoading=!0,this.casesService.open(this.id,this.isFastOpen).subscribe({next:e=>{this.caseDropGift=e,this.isCaseOpenLoading=!1,this.buttonsType="opening",this.preloadGiftImage(e);let n=$t.caseCenteringDelay,r=this.isFastOpen?$t.winnerCenteringDuration:n;setTimeout(()=>{this.buttonsType="opened"},r)},error:e=>{this.alertService.error(e.error.message,2500),this.isCaseOpenLoading=!1}})}sellCaseGift(){this.caseDropGift&&(this.isGiftSellLoading=!0,this.marketService.sellGift(this.caseDropGift.id,!1).subscribe({next:e=>{this.isGiftSellLoading=!1,this.caseDropGift=void 0,this.buttonsType="init"},error:e=>{this.isGiftSellLoading=!1,this.caseDropGift=void 0,this.buttonsType="init",this.alertService.error(e.error.message)}}))}getChance(e){let r=this.caseGifts.map(s=>(1/s.price)**.9),i=r.reduce((s,a)=>s+a,0);return r.map(s=>s/i)[e]}preloadGiftImage(e){let n=e.title.replace(" ","").replace(/'/g,"").replace(/-/g,"").toLowerCase(),r=e.number,i=new Image;i.src=`https://nft.fragment.com/gift/${n}-${r}.medium.jpg`}formatNumber=Os;static \u0275fac=function(n){return new(n||t)(ne(Qs),ne(Ol),ne(Ll),ne(or),ne(oi),ne(Pr),ne(Er),ne(xa))};static \u0275cmp=xe({type:t,selectors:[["app-case"]],inputs:{id:"id"},decls:23,vars:15,consts:[["buttons",""],["initButtons",""],["openingButtons",""],["openedButtons",""],["priceButton",""],[1,"px-3","will-change-transform"],[1,"text-2xl","font-bold","mt-3","mb-1"],[3,"caseGifts","caseDropGift","demoDropGift","isDemoMode","isFastOpen"],[1,"flex","flex-col","gap-3","justify-center","h-32","my-4","p-2","rounded-2xl","bg-white/8"],[4,"ngTemplateOutlet"],[1,"text-xl","font-semibold","mt-4","mb-2"],[1,"p-3","bg-white/8","rounded-2xl"],[1,"grid","gap-3","grid-cols-3","md:grid-cols-4","lg:grid-cols-5","xl:grid-cols-6"],[4,"ngFor","ngForOf"],[1,"p-23"],[3,"caseGift","giftSize","translateY","chance"],[3,"ngSwitch"],[4,"ngSwitchCase"],[1,"w-full","py-3","h-12","rounded-2xl","bg-white","text-black","font-bold","disabled:opacity-80","disabled:cursor-not-allowed","cursor-pointer","active:opacity-75","transition-opacity",3,"click","disabled"],[4,"ngIf","ngIfElse"],[1,"flex","gap-2"],[1,"py-3","px-3","bg-neutral-800","outline-white","text-neutral-500","rounded-2xl","font-bold","cursor-pointer",3,"click"],[1,""],[1,"py-3","px-3","bg-neutral-800","text-neutral-500","rounded-2xl","font-bold","cursor-pointer",3,"click"],[1,"fa-solid","fa-bolt"],[1,"ml-2"],[1,"flex","items-center","justify-center","gap-2"],[1,"w-5","h-5","border-3","border-black","border-t-transparent","rounded-full","animate-spin"],[4,"ngIf"],[1,"w-full","py-3","bg-neutral-800","text-white","rounded-2xl","font-bold"],[1,"w-5","h-5","border-3","border-white","border-t-transparent","rounded-full","animate-spin"],[1,"w-full","py-3","bg-emerald-400","active:opacity-75","cursor-pointer","text-black/55","rounded-2xl","font-bold",3,"click"],[1,"w-full","py-3","bg-neutral-800","active:opacity-75","cursor-pointer","text-white","rounded-2xl","font-bold",3,"click"]],template:function(n,r){if(n&1&&(S(0,"div",5)(1,"p",6),K(2),de(3,"transloco"),de(4,"transloco"),A(),Y(5,"app-case-spinner",7),S(6,"div",8),oe(7,AZ,1,0,"ng-container",9),A(),S(8,"h1",10),K(9),de(10,"transloco"),A(),S(11,"div",11)(12,"div",12),oe(13,MZ,2,4,"div",13),A()(),Y(14,"div",14),oe(15,LZ,4,4,"ng-template",null,0,Qt)(17,UZ,14,17,"ng-template",null,1,Qt)(19,GZ,6,3,"ng-template",null,2,Qt)(21,zZ,13,9,"ng-template",null,3,Qt),A()),n&2){let i=xt(16);E(2),Te(" ",he(3,9,"CASE")+" \xAB"+he(4,11,r.caseName)+"\xBB"," "),E(3),O("caseGifts",r.caseGifts)("caseDropGift",r.caseDropGift)("demoDropGift",r.demoDropGift)("isDemoMode",r.isDemoMode)("isFastOpen",r.isFastOpen),E(2),O("ngTemplateOutlet",i),E(2),Ie(he(10,13,"CASE_CONTENT")),E(4),O("ngForOf",r.caseGifts)}},dependencies:[Yf,gv,Qe,bt,ut,ks,to,No,dt],encapsulation:2})};var qZ=(t,e)=>({transform:t,width:e}),yv=class t{constructor(e,n){this.alertService=e;this.transloco=n}opening;caseImageSize=80;get name(){let e=this.opening.user.tgUser.username,n=e.length>23?e.slice(0,23)+"\u2026":e;return n&&n.length>0?n:"id"+this.opening.user.tgId}get date(){let e=this.transloco.getActiveLang();return Lo(this.opening.openedAt,e)}get casePrice(){return Jr(this.opening.casePrice??0)}onUsernameTap(){let e=this.opening.user.tgUser.username,n=e&&e.length>0?e:this.opening.user.tgId;navigator.clipboard.writeText(n).then(()=>{this.alertService.success("ALERT_USERNAME_COPIED")}).catch(r=>{console.error("\u041E\u0448\u0438\u0431\u043A\u0430 \u043F\u0440\u0438 \u043A\u043E\u043F\u0438\u0440\u043E\u0432\u0430\u043D\u0438\u0438:",r)})}static \u0275fac=function(n){return new(n||t)(ne(or),ne(ar))};static \u0275cmp=xe({type:t,selectors:[["app-cases-history-item"]],inputs:{opening:"opening"},decls:19,vars:15,consts:[[1,"flex","justify-between","gap-2","w-full","bg-white/8","p-3","mb-3","rounded-2xl","safari-fix"],[1,"flex","flex-col","gap-0.5"],[1,"object-cover","rounded-lg","w-11","aspect-square","no-interaction","bg-[#1A1A1A]",3,"src","alt"],[1,"font-medium","text-sm","mt-1","cursor-pointer",3,"click"],[1,"text-white/50","text-xs","font-medium"],[1,"flex","gap-3"],[1,"w-18","aspect-square","flex","flex-col","items-center","justify-center","bg-[#1F1F1F]","rounded-xl"],["alt","",1,"w-auto","object-scale-down","no-interaction",3,"src","ngStyle"],[1,"mb-1","font-semibold","font-medium","text-[clamp(0.4rem,2.1vw,0.6rem)]"],[1,"py-1","text-center","font-medium","text-[clamp(0.4rem,2.3vw,0.6rem)]"],[1,"relative","w-18","shrink-0"],[3,"gift","type","price"],[1,"absolute","top-1","right-1"],[1,"flex","items-center","justify-center","w-6","aspect-square","rounded-full","bg-neutral-800"],[1,"fa-solid","text-xs",3,"ngClass"]],template:function(n,r){n&1&&(S(0,"div",0)(1,"div",1),Y(2,"img",2),S(3,"span",3),re("click",function(){return r.onUsernameTap()}),K(4),A(),S(5,"span",4),K(6),A()(),S(7,"div",5)(8,"div",6),Y(9,"img",7),S(10,"p",8),K(11),A(),S(12,"div",9),K(13),A()(),S(14,"div",10),Y(15,"app-gift",11),S(16,"div",12)(17,"div",13),Y(18,"i",14),A()()()()()),n&2&&(E(2),O("src",r.opening.user.tgUser.photoUrl,Gn)("alt","Avatar"),E(2),Ie(r.name),E(2),Ie(r.date),E(3),O("src",r.opening.case.image,Gn)("ngStyle",sr(12,qZ,"translateY(-3%)",r.caseImageSize+"%")),E(2),Te(" ",r.opening.case.name," "),E(2),Te(" ",r.casePrice," TON "),E(2),O("gift",r.opening.gift)("type","small")("price",r.opening.giftPrice),E(3),O("ngClass",r.opening.isGiftSold?"fa-xmark-large text-red-400":"fa-check text-green-400"))},dependencies:[Qe,Mn,yr,ii],encapsulation:2})};var KZ=["loadTrigger"],YZ=["searchInput"],JZ=()=>[1,2,3,4,5];function QZ(t,e){t&1&&Y(0,"div",9)}function ZZ(t,e){t&1&&(nt(0),oe(1,QZ,1,0,"div",8),rt()),t&2&&(E(),O("ngForOf",zr(1,JZ)))}function XZ(t,e){if(t&1){let n=Be();S(0,"button",20),re("click",function(){ue(n);let i=Q(2);return fe(i.onClear())}),Y(1,"i",21),A()}}function eX(t,e){if(t&1&&(S(0,"div"),Y(1,"app-cases-history-item",22),A()),t&2){let n=e.$implicit;E(),O("opening",n)}}function tX(t,e){t&1&&(S(0,"div"),Y(1,"div",9),A())}function nX(t,e){if(t&1){let n=Be();S(0,"div",10),Y(1,"i",11),S(2,"form",12),re("ngSubmit",function(){ue(n);let i=Q();return fe(i.onSearch())})("click",function(i){return ue(n),fe(i.stopPropagation())}),S(3,"input",13,2),ki("ngModelChange",function(i){ue(n);let o=Q();return Ui(o.search,i)||(o.search=i),fe(i)}),A()(),S(5,"div",14),oe(6,XZ,2,0,"button",15),S(7,"button",16),re("click",function(){ue(n);let i=Q();return fe(i.onSearch())}),S(8,"span",17),K(9,"\u041F\u043E\u0438\u0441\u043A"),A()()()(),oe(10,eX,2,1,"div",18)(11,tX,2,0,"div",19)}if(t&2){let n=Q();E(3),Mi("ngModel",n.search),E(3),O("ngIf",n.search.length>0),E(4),O("ngForOf",n.caseOpenings)("ngForTrackBy",n.trackById),E(),O("ngIf",n.isLoadingMore)}}var bv=class t{constructor(e){this.casesService=e}caseOpenings=[];isLoaded=!1;isLoadingMore=!1;search="";currentPage=1;pageSize=10;totalItems=0;totalPages=0;loadTrigger;searchInput;ngOnInit(){this.fetchHistory()}ngAfterViewInit(){this.setupIntersectionObserver()}onSearch(){this.currentPage=1,this.totalPages=1,this.caseOpenings=[],this.fetchHistory(),this.blurInput()}blurInput(){this.searchInput?.nativeElement?.blur()}onClear(){this.search="",this.currentPage=1,this.totalPages=1,this.caseOpenings=[],this.fetchHistory()}fetchHistory(){this.currentPage>1?this.isLoadingMore=!0:this.isLoaded=!1,this.casesService.getHistory(this.currentPage,this.pageSize,this.search).subscribe({next:e=>{this.currentPage===1?this.caseOpenings=e.caseOpenings:this.caseOpenings=[...this.caseOpenings,...e.caseOpenings],this.totalItems=e.pagination.totalCount,this.totalPages=e.pagination.totalPages,this.isLoaded=!0,this.isLoadingMore=!1},error:e=>{console.error("Error receiving history:",e),this.isLoaded=!0,this.isLoadingMore=!1}})}trackById(e,n){return n.id}setupIntersectionObserver(){if(!this.loadTrigger)return;new IntersectionObserver(n=>{n[0].isIntersecting&&this.loadMore()},{threshold:1}).observe(this.loadTrigger.nativeElement)}loadMore(){this.currentPage<this.totalPages&&(this.currentPage++,this.fetchHistory())}static \u0275fac=function(n){return new(n||t)(ne(Qs))};static \u0275cmp=xe({type:t,selectors:[["app-cases-history"]],viewQuery:function(n,r){if(n&1&&(Fn(KZ,5),Fn(YZ,5)),n&2){let i;Pn(i=Nn())&&(r.loadTrigger=i.first),Pn(i=Nn())&&(r.searchInput=i.first)}},decls:9,vars:2,consts:[["historyList",""],["loadTrigger",""],["searchInput",""],[1,"p-3",3,"click"],[1,"text-2xl","font-bold","mb-4","safari-fix"],[4,"ngIf","ngIfElse"],[1,"h-1"],[1,"mb-40"],["class","animate-pulse bg-white/12 mb-3 rounded-2xl h-39 w-full",4,"ngFor","ngForOf"],[1,"animate-pulse","bg-white/12","mb-3","rounded-2xl","h-39","w-full"],[1,"relative","w-full","mb-3"],[1,"absolute","left-3","top-1/2","-translate-y-1/2","p-1","fa-solid","fa-search","text-white/60","safari-fix"],[3,"ngSubmit","click"],["type","text","name","search","placeholder","\u041F\u043E\u0438\u0441\u043A username \u0438\u043B\u0438 id",1,"w-full","p-3","pr-14","pl-10","border","border-white/25","rounded-xl","focus:outline-none","focus:border-white/60","safari-fix",3,"ngModelChange","ngModel"],[1,"absolute","right-2","top-1/2","-translate-y-1/2","flex"],["type","button","class","w-fit py-1 px-3",3,"click",4,"ngIf"],["type","button",1,"bg-white/10","rounded-2xl","w-fit","py-1","px-3","safari-fix","cursor-pointer",3,"click"],[1,"font-medium","text-sm"],[4,"ngFor","ngForOf","ngForTrackBy"],[4,"ngIf"],["type","button",1,"w-fit","py-1","px-3",3,"click"],[1,"fa-solid","fa-xmark","fa-lg","text-white/60"],[3,"opening"]],template:function(n,r){if(n&1){let i=Be();S(0,"div",3),re("click",function(){return ue(i),fe(r.blurInput())}),S(1,"p",4),K(2,"\u0418\u0441\u0442\u043E\u0440\u0438\u044F \u043A\u0435\u0439\u0441\u043E\u0432"),A(),oe(3,ZZ,2,2,"ng-container",5)(4,nX,12,5,"ng-template",null,0,Qt),Y(6,"div",6,1)(8,"div",7),A()}if(n&2){let i=xt(5);E(3),O("ngIf",!r.isLoaded)("ngIfElse",i)}},dependencies:[jo,ao,Fi,oo,so,So,xo,bt,ut,_l,yv],encapsulation:2})};var rX=(t,e)=>({"mt-3":t,"border-b border-[#2B2B2B] pb-3":e}),iX=(t,e,n)=>({"text-white":t,"text-yellow-300":e,"text-red-300":n});function oX(t,e){if(t&1&&(S(0,"div",10)(1,"div",11),Y(2,"img",12),S(3,"p",13),K(4),A()(),S(5,"p",14),K(6),A()()),t&2){let n=e.$implicit,r=Q().$implicit,i=Q();O("ngClass",sr(5,rX,n!==r.gifts[0],n!==r.gifts[r.gifts.length-1])),E(2),O("src",i.giftUrl(n.name),Gn),E(2),Ie(n.name),E(),O("ngClass",G3(8,iX,n.count>2,n.count===1||n.count===2,n.count===0)),E(),Te(" ",n.count," ")}}function sX(t,e){if(t&1&&(S(0,"div")(1,"p",7),K(2),A(),S(3,"div",8),oe(4,oX,7,12,"div",9),A()()),t&2){let n=e.$implicit;E(2),Ie(n.name),E(2),O("ngForOf",n.gifts)}}var wv=class t{constructor(e,n){this.casesService=e;this.alertService=n}cases=[];ngOnInit(){this.fetchAllCases()}giftUrl(e){return`https://cdn.changes.tg/gifts/models/${encodeURIComponent(e)}/png/Original.png`}updateCases(){this.casesService.update().subscribe({next:()=>{this.alertService.success("ALERT_CASES_UPDATED")},error:e=>{console.error("Error update cases:",e),this.alertService.error("ALERT_CASES_UPDATE_ERROR")}})}fetchAllCases(){this.casesService.giftsCount().subscribe({next:e=>{this.cases=e.map(n=>kt(Ne({},n),{gifts:[...n.gifts].sort((r,i)=>r.count-i.count)}))},error:e=>{console.error("Error fetching cases:",e)}})}static \u0275fac=function(n){return new(n||t)(ne(Qs),ne(or))};static \u0275cmp=xe({type:t,selectors:[["app-case-gifts-count"]],decls:8,vars:1,consts:[[1,"p-3"],[4,"ngFor","ngForOf"],[1,"flex","w-full","justify-center","mt-6"],[1,"flex","justify-center","items-center","bg-white/10","p-3","w-2/3","rounded-2xl","font-semibold","safari-soft-fix","cursor-pointer",3,"click"],[1,"fa-solid","fa-rotate-right","w-6","h-6"],[1,"ml-2","text-sm"],[1,"p-20"],[1,"text-xl","font-semibold","safari-soft-fix","mt-3","mb-1"],[1,"bg-white/8","p-4","rounded-2xl","safari-fix"],["class","flex justify-between text-white font-semibold",3,"ngClass",4,"ngFor","ngForOf"],[1,"flex","justify-between","text-white","font-semibold",3,"ngClass"],[1,"flex","gap-2","items-center"],["alt","",1,"w-7","no-interaction",3,"src"],[1,"text-white/80"],[1,"ml-2",3,"ngClass"]],template:function(n,r){n&1&&(S(0,"div",0),oe(1,sX,5,2,"div",1),S(2,"div",2)(3,"div",3),re("click",function(){return r.updateCases()}),Y(4,"i",4),S(5,"span",5),K(6,"\u041E\u0431\u043D\u043E\u0432\u0438\u0442\u044C \u043A\u0435\u0439\u0441\u044B"),A()()(),Y(7,"div",6),A()),n&2&&(E(),O("ngForOf",r.cases))},dependencies:[Qe,Mn,bt],encapsulation:2})};var R5=[{path:"",redirectTo:"/games",pathMatch:"full"},{path:"games",component:mv,data:{reuse:!0}},{path:"cases/history",component:bv},{path:"cases/giftsCount",component:wv},{path:"cases/:id",component:vv},{path:"jackpot",component:I0},{path:"jackpot/history",component:X1,data:{reuse:!0}},{path:"jackpot/history/game/:gameNumber",component:av},{path:"upgrade",component:uv},{path:"upgrade/history",component:dv},{path:"friends",component:G0,data:{reuse:!0}},{path:"market",component:Q1},{path:"profile",component:Y1,data:{reuse:!0}},{path:"profile/withdrawals",component:nv},{path:"profile/allTransactions",component:iv},{path:"profile/casinoStats",component:ov}];var F5=(t,e)=>{let r=He(Pr).getAuthToken();return r&&(t=t.clone({setHeaders:{Authorization:`Bearer ${r}`}})),e(t)};var j5=Wl(O5());var Cv=class t{http=He(Sr);getTranslation(e){return this.http.get(`assets/i18n/${e}.json`)}static \u0275fac=function(n){return new(n||t)};static \u0275prov=Ve({token:t,factory:t.\u0275fac,providedIn:"root"})};var Tx=Wl(L5(),1);var V5=new ct("TRANSLOCO_MESSAGE_FORMAT_CONFIG");function $5(t,e){return new Tx.default(t,e)}function aX(t,e){let n=$5(t,e),r=n.compile,i=new Map,o=`__${t?.toString()||Tx.default.defaultLocale}__`;return n.compile=function(s){let a=`${o}${s}`,l=i.get(a);if(l)return l;let c=r.call(this,s);return i.set(a,c),c},n}var lX=(()=>{class t extends y_{messageFormat;messageConfig;mfFactory;constructor(n){super();let s=Ne({locales:null},n),{locales:r,enableCache:i=!0}=s,o=Hl(s,["locales","enableCache"]);this.messageConfig=o,this.mfFactory=i?aX:$5,this.messageFormat=this.mfFactory(r,o)}transpile({value:n,params:r={},translation:i,key:o}){if(!n)return n;if(zu(n)&&r)Object.keys(r).forEach(s=>{let a=super.transpile({value:Wu(n,s),params:Wu(r,s),translation:i,key:o}),l=this.messageFormat.compile(a);n=v_(n,s,l(r[s]))});else if(!Array.isArray(n)){let s=super.transpile({value:n,params:r,translation:i,key:o});return this.messageFormat.compile(s)(r)}return n}onLangChanged(n){this.setLocale(n)}setLocale(n){this.messageFormat=this.mfFactory(n,this.messageConfig)}static \u0275fac=function(r){return new(r||t)(Je(V5,8))};static \u0275prov=Ve({token:t,factory:t.\u0275fac})}return t})();function B5(t){return ji([{provide:V5,useValue:t},{provide:a0,useClass:lX}])}var U5={providers:[Y3({eventCoalescing:!0}),yI(R5,bI()),{provide:Xd,useClass:Qu},YI(),Ow(ST([F5])),OD({player:()=>j5.default}),FD(),Ow(),ND({config:{availableLangs:["en","ru","zh"],defaultLang:"en",reRenderOnLangChange:!0,prodMode:!Q3()},loader:Cv}),B5()]};var cX=(t,e,n,r,i,o)=>({width:t,height:e,left:n,top:r,animationDuration:i,animationDelay:o});function uX(t,e){if(t&1&&Y(0,"div",2),t&2){let n=e.$implicit;O("ngStyle",H3(1,cX,n.size+"px",n.size+"px",n.left+"vw",n.top+"vh",n.duration+"s",n.delay+"s"))}}var _v=class t{stars=[];ngOnInit(){for(let n=0;n<100;n++){let r=Math.random()<.5;this.stars.push({size:Math.random()*3+1,left:Math.random()*100,top:Math.random()*200,duration:r?30:40,delay:Math.random()*20})}}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=xe({type:t,selectors:[["app-stars-background"]],decls:2,vars:1,consts:[[1,"stars-container","fixed","top-0","left-0","w-full","h-full","overflow-hidden","-z-10","pointer-events-none","bg-black"],["class","star",3,"ngStyle",4,"ngFor","ngForOf"],[1,"star",3,"ngStyle"]],template:function(n,r){n&1&&(S(0,"div",0),oe(1,uX,1,8,"div",1),A()),n&2&&(E(),O("ngForOf",r.stars))},dependencies:[Qe,bt,yr],styles:["@keyframes _ngcontent-%COMP%_float{0%{transform:translateY(0);opacity:.5}to{transform:translateY(-200vh);opacity:.5}}.star[_ngcontent-%COMP%]{position:absolute;animation:_ngcontent-%COMP%_float linear infinite;background:#ffffff6b;border-radius:50%;opacity:.5}"]})};var fX=t=>({left:t}),dX=t=>({"text-white":t});function pX(t,e){if(t&1){let n=Be();S(0,"a",3),re("click",function(){let i=ue(n).index,o=Q();return fe(o.setActiveTab(i))}),Y(1,"i"),A()}if(t&2){let n=e.$implicit,r=e.index,i=Q();O("routerLink",n.link)("ngClass",ui(4,dX,i.activeTab===r)),E(),P3(n.icon)}}var xv=class t{constructor(e,n){this.audioService=e;this.router=n;this.router.events.pipe($r(r=>r instanceof no)).subscribe(()=>this.updateTab())}activeTab=0;tabs=[{link:"/profile",icon:"fa-solid fa-user-vneck"},{link:"/games",icon:"fa-solid fa-gamepad-modern"},{link:"/market",icon:"fa-solid fa-store"},{link:"/friends",icon:"fa-solid fa-user-group"}];updateTab(){let e=this.router.url;e=="/market"&&(this.activeTab=2),e!=="/jackpot"&&this.audioService.stopAll()}ngOnInit(){let e=this.router.url,n=this.tabs.findIndex(r=>e.startsWith(r.link));n!==-1&&(this.activeTab=n)}setActiveTab(e){this.activeTab=e,Telegram.WebApp.HapticFeedback.impactOccurred("light"),this.audioService.stopAll()}static \u0275fac=function(n){return new(n||t)(ne(hl),ne(Er))};static \u0275cmp=xe({type:t,selectors:[["app-tabs"]],decls:3,vars:6,consts:[[1,"fixed","left-1/2","transform","-translate-x-1/2","bg-[#141414]","flex","rounded-full","z-10","bottom-10","w-[85vw]","max-w-xl","mx-auto"],[1,"absolute","bg-white/15","rounded-full","h-full","transition-all","duration-300","ease-in-out",3,"ngStyle"],["class","flex flex-col items-center justify-center w-full h-14 text-[#5F6574] relative",3,"routerLink","ngClass","click",4,"ngFor","ngForOf"],[1,"flex","flex-col","items-center","justify-center","w-full","h-14","text-[#5F6574]","relative",3,"click","routerLink","ngClass"]],template:function(n,r){n&1&&(S(0,"div",0),Y(1,"div",1),oe(2,pX,2,6,"a",2),A()),n&2&&(E(),Wr("width",100/r.tabs.length,"%"),O("ngStyle",ui(4,fX,r.activeTab*100/r.tabs.length+"%")),E(),O("ngForOf",r.tabs))},dependencies:[Qe,Mn,bt,yr,vI],encapsulation:2})};var hX=()=>({"padding-top":"calc(var(--tg-safe-area-inset-top) + var(--tg-content-safe-area-inset-top) - 8px)"});function mX(t,e){if(t&1){let n=Be();S(0,"div",1)(1,"div",2),Y(2,"i"),S(3,"div",3)(4,"div",4),K(5),de(6,"transloco"),A()(),S(7,"button",5),re("click",function(){ue(n);let i=Q();return fe(i.hideNotification())}),Y(8,"i",6),A()()()}if(t&2){let n=Q();O("@slideDown",n.animationState)("ngStyle",zr(8,hX)),E(2),B3("flex-shrink-0 mr-3 text-lg fa-solid ",n.icon(),""),E(3),Ie(he(6,6,n.message))}}var Sv=class t{constructor(e,n){this.alertService=e;this.ref=n}visible=!1;animationState="void";type="info";message="";title="";timeout;subscription=new nr;ngOnInit(){this.subscription=this.alertService.notification$.subscribe(e=>{e?this.showNotification(e):this.hideNotification()})}ngOnDestroy(){this.subscription.unsubscribe(),this.timeout&&clearTimeout(this.timeout)}showNotification(e){this.timeout&&clearTimeout(this.timeout),this.type=e.type,this.message=e.message,this.title="",this.visible=!0,this.animationState="visible";let n=e.duration;this.timeout=setTimeout(()=>{this.hideNotification()},n)}hideNotification(){this.animationState="void",this.visible=!1,setTimeout(()=>{this.visible=!1},10)}icon(){switch(this.type){case"success":return"fa-circle-check text-green-400";case"error":return"fa-circle-exclamation text-red-400";case"warning":return"fa-triangle-exclamation text-yellow-400";case"info":default:return"fa-circle-info text-blue-400"}}static \u0275fac=function(n){return new(n||t)(ne(or),ne(qr))};static \u0275cmp=xe({type:t,selectors:[["app-alert-notification"]],decls:1,vars:1,consts:[["class","fixed top-0 left-1/2 transform -translate-x-1/2 z-50 w-full max-w-md mt-4 px-4 safari-fix",3,"ngStyle",4,"ngIf"],[1,"fixed","top-0","left-1/2","transform","-translate-x-1/2","z-50","w-full","max-w-md","mt-4","px-4","safari-fix",3,"ngStyle"],[1,"flex","items-start","p-3","rounded-xl","bg-[#141414]"],[1,"flex-1"],[1,"text-sm","font-medium","text-white/80"],["type","button",1,"ml-4","flex-shrink-0","inline-flex","text-gray-400","focus:outline-none","cursor-pointer","focus:text-gray-500","hover:text-gray-500",3,"click"],[1,"fa-solid","fa-xmark"]],template:function(n,r){n&1&&oe(0,mX,9,9,"div",0),n&2&&O("ngIf",r.visible)},dependencies:[Qe,ut,yr,dt],encapsulation:2,data:{animation:[tp("slideDown",[DC("void",bo({transform:"translateY(-100%)",opacity:0})),DC("visible",bo({transform:"translateY(0)",opacity:1})),fl("void => visible",ul("300ms ease-out")),fl("visible => void",ul("200ms ease-in"))])]}})};function gX(t,e){if(t&1&&(nt(0),Y(1,"img",6),rt()),t&2){let n=Q(2);E(),O("src",n.giftUrl(),Gn)}}function vX(t,e){if(t&1&&(nt(0),oe(1,gX,2,1,"ng-container",5),rt()),t&2){let n=Q(),r=xt(6);E(),O("ngIf",n.fragmentSupportedGifts.includes(n.gift.title))("ngIfElse",r)}}function yX(t,e){t&1&&(nt(0),Y(1,"div"),rt())}function bX(t,e){t&1&&(nt(0),S(1,"div"),K(2,"Unknown"),A(),rt())}function wX(t,e){if(t&1&&Y(0,"app-animated-gift",7),t&2){let n=Q();O("gift",n.gift)("autoplay",n.autoplay)("loop",n.loop)}}var Ev=class t{gift;autoplay=!1;loop=!1;fragmentSupportedGifts=Yu;giftUrl(){let e=this.gift.title.replace(" ","").replace(/'/g,"").replace(/-/g,"").toLowerCase(),n=this.gift.number;return`https://nft.fragment.com/gift/${e}-${n}.medium.jpg`}GiftType=Vo;static \u0275fac=function(n){return new(n||t)};static \u0275cmp=xe({type:t,selectors:[["app-gift-live"]],inputs:{gift:"gift",autoplay:"autoplay",loop:"loop"},decls:7,vars:3,consts:[["generatedGift",""],[1,"relative","bg-[#1A1A1A]","rounded-xl","w-full","aspect-square","overflow-hidden"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[4,"ngIf","ngIfElse"],["alt","",1,"w-full","h-full","object-cover","no-interaction",3,"src"],[3,"gift","autoplay","loop"]],template:function(n,r){n&1&&(S(0,"div",1),nt(1,2),oe(2,vX,2,2,"ng-container",3)(3,yX,2,0,"ng-container",3)(4,bX,3,0,"ng-container",4),rt(),oe(5,wX,1,3,"ng-template",null,0,Qt),A()),n&2&&(E(),O("ngSwitch",r.gift.type),E(),O("ngSwitchCase",r.GiftType.UNIQUE),E(),O("ngSwitchCase",r.GiftType.VIRTUAL))},dependencies:[$o,Qe,ut,to,No,al],encapsulation:2})};var Tv=class t{constructor(e){this.authService=e}socket;isConnected=!1;connect(){if(!this.isConnected){let e=this.authService.getAuthToken();if(!e){console.error("No auth token provided.");return}this.socket=Nc(In.socketUrl+"cases",{auth:{token:e},autoConnect:!0,reconnection:!0,reconnectionAttempts:3,reconnectionDelay:1e3}),this.isConnected=!0}}disconnect(){this.isConnected&&(this.socket.disconnect(),this.isConnected=!1)}getInitLive(){return this.listenToSocketEvent("init")}getLiveGift(){return this.listenToSocketEvent("gift")}listenToSocketEvent(e){return new en(n=>{if(!this.isConnected){n.error("Socket is not connected");return}let r=i=>n.next(i);return this.socket.on(e,r),this.socket.on("connect_error",i=>{n.error("Connection error: "+i)}),()=>{this.socket.off(e,r)}})}static \u0275fac=function(n){return new(n||t)(Je(Pr))};static \u0275prov=Ve({token:t,factory:t.\u0275fac,providedIn:"root"})};var _X=["giftItem"],xX=()=>[],SX=()=>({width:"clamp(46px, 14vw, 72px)"}),EX=()=>({width:"clamp(46px, 14vw, 72px)"});function TX(t,e){t&1&&Y(0,"div",11),t&2&&O("ngStyle",zr(1,SX))}function IX(t,e){t&1&&(nt(0),S(1,"div",9),oe(2,TX,1,2,"div",10),A(),rt()),t&2&&(E(2),O("ngForOf",zr(1,xX).constructor(20)))}function DX(t,e){if(t&1){let n=Be();S(0,"div",13,1),re("click",function(){let i=ue(n).$implicit,o=Q(2);return fe(o.onLiveGiftTap(i))}),Y(2,"app-gift-live",14),A()}if(t&2){let n=e.$implicit,r=Q(2);vr("animate-drop",r.isNewGift(n)),O("ngStyle",zr(4,EX)),E(2),O("gift",n)}}function AX(t,e){if(t&1&&(S(0,"div",9),oe(1,DX,3,5,"div",12),A()),t&2){let n=Q();E(),O("ngForOf",n.liveGifts)("ngForTrackBy",n.trackByGiftId)}}var Iv=class t{constructor(e,n,r,i){this.authService=e;this.caseGateway=n;this.casesMapper=r;this.router=i}liveGifts=[];initSubscription;liveGiftSubscription;giftElements;newGiftIds=new Set;animationQueue=[];isAnimating=!1;ngOnInit(){this.authService.getAuthToken()?(this.caseGateway.connect(),this.subscribeOnInitLive(),this.subscribeOnLiveGift()):this.authService.loginSuccess$.subscribe(()=>{this.caseGateway.connect(),this.subscribeOnInitLive(),this.subscribeOnLiveGift()})}ngOnDestroy(){this.initSubscription&&this.initSubscription.unsubscribe(),this.liveGiftSubscription&&this.liveGiftSubscription.unsubscribe(),this.caseGateway.disconnect()}subscribeOnInitLive(){this.initSubscription=this.caseGateway.getInitLive().subscribe({next:e=>{let n=Date.now();this.liveGifts=e.map((r,i)=>kt(Ne({},r),{id:`${r.id}${n}`}))},error:e=>{console.error("Error receiving init live:",e)}})}subscribeOnLiveGift(){this.liveGiftSubscription=this.caseGateway.getLiveGift().subscribe({next:e=>{this.enqueueGiftAnimation(e)},error:e=>{console.error("Error receiving live gift:",e)}})}onLiveGiftTap(e){return Wt(this,null,function*(){switch(e.source){case"upgrade":yield this.router.navigate(["/upgrade"]);break;case"case":if(e.caseId){let r=this.router.url.includes("/cases/");this.casesMapper.case(e.caseId)&&(yield this.router.navigate(["/cases",e.caseId.toString()],{replaceUrl:r}))}break}})}runActionRandomly(){let e=Math.random()*12e3+4e3;Ql(e).subscribe(()=>{this.enqueueGiftAnimation(this.liveGifts[this.liveGifts.length-1]),this.liveGifts.pop(),this.runActionRandomly()})}trackByGiftId(e,n){return n.id}isNewGift(e){return this.newGiftIds.has(e.id)}enqueueGiftAnimation(e){this.animationQueue.push(e),this.isAnimating||this.processNextAnimation()}processNextAnimation(){let e=this.animationQueue.shift();if(!e){this.isAnimating=!1;return}this.isAnimating=!0,this.animateNewGift(e),setTimeout(()=>{this.processNextAnimation()},400)}animateNewGift(e){let n=e.id+"-"+Date.now().toString(),r=kt(Ne({},e),{id:n});this.newGiftIds.add(n),this.liveGifts.unshift(r),requestAnimationFrame(()=>{let i=this.giftElements.toArray();if(!(i.length<=1)){for(let o=1;o<i.length;o++){let s=i[o].nativeElement;s.style.transition="none",s.style.transform=`translateX(-${this.getGiftShiftAmount()}px)`}requestAnimationFrame(()=>{for(let o=1;o<i.length;o++){let s=i[o].nativeElement;s.style.transition="transform 300ms ease-in-out",s.style.transform="translateX(0)"}}),setTimeout(()=>{for(let o=1;o<i.length;o++){let s=i[o].nativeElement;s.style.transition="",s.style.transform=""}this.newGiftIds.delete(n)},300)}})}getGiftShiftAmount(){return this.giftElements.get(0)?.nativeElement?.offsetWidth+4||0}static \u0275fac=function(n){return new(n||t)(ne(Pr),ne(Tv),ne(Ll),ne(Er))};static \u0275cmp=xe({type:t,selectors:[["app-live-gifts"]],viewQuery:function(n,r){if(n&1&&Fn(_X,5,xi),n&2){let i;Pn(i=Nn())&&(r.giftElements=i)}},decls:10,vars:2,consts:[["live",""],["giftItem",""],[1,"flex","flex-row","items-center","justify-center"],[1,"flex","text-green-500","text-sm","-ml-3","-mr-1.5","mb-2","rotate-90","shrink-0"],[1,"rotate-180","font-semibold","tracking-wider","mr-1.5"],[1,"relative","flex","items-center","justify-center"],[1,"animate-ping","absolute","inline-flex","h-2","w-2","rounded-full","bg-green-500","opacity-75"],[1,"relative","inline-flex","rounded-full","h-1.5","w-1.5","bg-green-500"],[4,"ngIf","ngIfElse"],[1,"flex","flex-row","space-x-1","items-center","mb-2","flex-1","overflow-x-auto","scrollbar-hide"],["class","animate-pulse bg-white/12 aspect-square rounded-xl shrink-0 safari-fix",3,"ngStyle",4,"ngFor","ngForOf"],[1,"animate-pulse","bg-white/12","aspect-square","rounded-xl","shrink-0","safari-fix",3,"ngStyle"],["class","safari-soft-fix shrink-0 will-change-transform cursor-pointer",3,"ngStyle","animate-drop","click",4,"ngFor","ngForOf","ngForTrackBy"],[1,"safari-soft-fix","shrink-0","will-change-transform","cursor-pointer",3,"click","ngStyle"],[3,"gift"]],template:function(n,r){if(n&1&&(S(0,"div",2)(1,"div",3)(2,"span",4),K(3,"Live"),A(),S(4,"span",5),Y(5,"span",6)(6,"span",7),A()(),oe(7,IX,3,2,"ng-container",8)(8,AX,2,2,"ng-template",null,0,Qt),A()),n&2){let i=xt(9);E(7),O("ngIf",r.liveGifts.length==0)("ngIfElse",i)}},dependencies:[Ev,Qe,bt,ut,yr],styles:["@keyframes _ngcontent-%COMP%_dropIn{0%{transform:translateY(-80px);opacity:0}to{transform:translateY(0);opacity:1}}.animate-drop[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_dropIn .3s ease-in-out;position:relative;will-change:transform;transform:translateZ(0)}"]})};var Dv=class t{constructor(e,n){this.router=e;this.location=n;this.router.events.pipe($r(r=>r instanceof no)).subscribe(()=>this.updateBackButton())}updateBackButton(){let e=this.router.url,n=this.shouldShowBack(e),r=Telegram.WebApp.BackButton;r.offClick(this.handleClick),n?(r.onClick(this.handleClick),r.show()):r.hide()}handleClick=()=>{this.location.back()};shouldShowBack(e){return[/^\/jackpot$/,/^\/jackpot\/history$/,/^\/jackpot\/history\/game\/\d+$/,/^\/profile\/withdrawals$/,/^\/profile\/allTransactions$/,/^\/profile\/casinoStats$/,/^\/upgrade$/,/^\/upgrade\/history$/,/^\/cases\/\d+$/,/^\/cases\/history$/,/^\/cases\/giftsCount$/].some(r=>r.test(e))}static \u0275fac=function(n){return new(n||t)(Je(Er),Je(bc))};static \u0275prov=Ve({token:t,factory:t.\u0275fac,providedIn:"root"})};function kX(t,e){t&1&&(nt(0),Y(1,"div",2),rt())}function PX(t,e){if(t&1&&(nt(0),S(1,"div",3),Y(2,"app-live-gifts"),A(),Y(3,"router-outlet")(4,"app-tabs"),rt()),t&2){let n=Q();E(),vr("hidden",!n.showLive)}}function NX(t,e){if(t&1&&(nt(0),Y(1,"div",4),S(2,"div",5)(3,"p",6),K(4,"\u041F\u0440\u043E\u0438\u0437\u043E\u0448\u043B\u0430 \u043E\u0448\u0438\u0431\u043A\u0430"),A(),S(5,"p",7),K(6,"\u041F\u043E\u0436\u0430\u043B\u0443\u0439\u0441\u0442\u0430, \u043E\u0442\u043F\u0440\u0430\u0432\u044C\u0442\u0435 \u0441\u043A\u0440\u0438\u043D\u0448\u043E\u0442 \u043E\u0448\u0438\u0431\u043A\u0438 \u0432 \u0442\u0435\u0445\u043F\u043E\u0434\u0434\u0435\u0440\u0436\u043A\u0443"),A(),S(7,"a",8),K(8,"@GiftSupportTeamBot"),A(),S(9,"p",9),K(10),A()(),rt()),t&2){let n=Q();E(10),Ie(n.errorText)}}function RX(t,e){t&1&&(nt(0),Y(1,"div",4),S(2,"div",5)(3,"p",6),K(4,"\u0422\u0435\u0445\u043D\u0438\u0447\u0435\u0441\u043A\u0438\u0439 \u043F\u0435\u0440\u0435\u0440\u044B\u0432"),A(),S(5,"p",7),K(6,"\u0418\u0434\u0435\u0442 \u043E\u0431\u043D\u043E\u0432\u043B\u0435\u043D\u0438\u0435..."),A()(),rt())}var Av=class t{constructor(e,n,r,i){this.authService=e;this.backButtonService=n;this.transloco=r;this.router=i;this.telegramApp=Telegram.WebApp,this.router.events.pipe($r(o=>o instanceof no)).subscribe(o=>{let s=o.urlAfterRedirects;this.showLive=this.shouldShowLive(s)})}state="loading";errorText="";telegramApp;showLive=!1;ngOnInit(){console.log("User Data safe:",this.telegramApp.initData);let e=this.telegramApp.initDataUnsafe.user?.id;localStorage.setItem($t.userIdKey,String(e)),console.log("User ID:",e);let n=localStorage.getItem("selectedLanguage");if(n)this.transloco.setActiveLang(n);else{let r=this.telegramApp.initDataUnsafe.user?.language_code;if(r){console.log("User locale:",r);let i=this.getUILanguage(r);console.log("User Language:",i),this.transloco.setActiveLang(i)}}In.production?this.login(this.telegramApp.initData):this.login(this.tgAppData),this.telegramApp.expand(),this.telegramApp.disableVerticalSwipes(),this.telegramApp.lockOrientation(),(this.telegramApp.platform==="ios"||this.telegramApp.platform==="android")&&this.telegramApp.requestFullscreen(),this.telegramApp.ready()}login(e){let n={};n.data=e,this.authService.login(n).subscribe({next:r=>{console.log("logged in"),this.state="loaded"},error:r=>{r.status===502?this.state="update":r.error.message=="User is banned"?this.state="loading":this.state="error",this.errorText=JSON.stringify(r)+`
`+e}})}shouldShowLive(e){return e==="/games"||e=="/upgrade"||e=="/jackpot"?!0:/^\/cases\/\d+$/.test(e)}getUILanguage(e){let n=["ru","uk","be","kk","uz","az"],r=["zh-hans","zh"],i=e.toLowerCase();return n.includes(i)?"ru":r.includes(i)?"zh":"en"}tgAppData="user=%7B%22id%22%3A305099646%2C%22first_name%22%3A%22%D0%A1%D0%B0%D0%BD%D1%8F%22%2C%22last_name%22%3A%22%22%2C%22username%22%3A%22sologank%22%2C%22language_code%22%3A%22en%22%2C%22is_premium%22%3Atrue%2C%22allows_write_to_pm%22%3Atrue%2C%22photo_url%22%3A%22https%3A%5C%2F%5C%2Ft.me%5C%2Fi%5C%2Fuserpic%5C%2F320%5C%2FEa6EnyOX-gFV_kaCpeaPI1suorQy0HucpLcU2S7St-4.svg%22%7D&chat_instance=685949427294566051&chat_type=sender&auth_date=1842065494&signature=ADe1j51ctIggamkZNt-LDvE-u9B8wkWdlUhOAUBDx5DvLS1UZp_85JTeMPdPqhBO60L3X3Vh5PDnO8BUv1eKCg&hash=bf1f8a49979fb0fd9c2026d8e8823ea8e7e05fddec602b0ed0498f43ef2f20c8";static \u0275fac=function(n){return new(n||t)(ne(Pr),ne(Dv),ne(ar),ne(Er))};static \u0275cmp=xe({type:t,selectors:[["app-root"]],decls:8,vars:4,consts:[[1,"flex","flex-col","h-screen","overflow-auto","scrollbar-hide","mainscroll"],[4,"ngIf"],[1,"flex","justify-center","items-center","h-screen"],[1,"px-3","pt-3"],[1,"h-32"],[1,"p-3","flex","flex-col","items-center"],[1,"font-semibold","text-2xl"],[1,"text-center","mt-2"],["href","https://t.me/GiftSupportTeamBot",1,"text-blue-400","font-semibold"],[1,"mt-10","w-full","break-words","font-light","text-xs","text-white/60"]],template:function(n,r){n&1&&(S(0,"div",0),Y(1,"app-stars-background"),S(2,"main"),Y(3,"app-alert-notification"),oe(4,kX,2,0,"ng-container",1)(5,PX,5,2,"ng-container",1)(6,NX,11,1,"ng-container",1)(7,RX,7,0,"ng-container",1),A()()),n&2&&(E(4),O("ngIf",r.state==="loading"),E(),O("ngIf",r.state==="loaded"),E(),O("ngIf",r.state==="error"),E(),O("ngIf",r.state==="update"))},dependencies:[xC,_v,xv,Qe,ut,Sv,Iv],encapsulation:2})};NT(Av,U5).catch(t=>console.error(t));window.visualViewport&&window.visualViewport.addEventListener("resize",()=>{window.visualViewport&&(document.body.style.height=window.visualViewport.height+"px")});window.addEventListener("scroll",()=>{window.scrollY>0&&window.scrollTo(0,0)});
